var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MindMapPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// node_modules/d3-dispatch/src/dispatch.js
var noop = { value: () => {
} };
function dispatch() {
  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _ || /[\s.]/.test(t)) throw new Error("illegal type: " + t);
    _[t] = [];
  }
  return new Dispatch(_);
}
function Dispatch(_) {
  this._ = _;
}
function parseTypenames(typenames, types) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types.hasOwnProperty(t)) throw new Error("unknown type: " + t);
    return { type: t, name };
  });
}
Dispatch.prototype = dispatch.prototype = {
  constructor: Dispatch,
  on: function(typename, callback) {
    var _ = this._, T = parseTypenames(typename + "", _), t, i = -1, n = T.length;
    if (arguments.length < 2) {
      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;
      return;
    }
    if (callback != null && typeof callback !== "function") throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);
      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);
    }
    return this;
  },
  copy: function() {
    var copy = {}, _ = this._;
    for (var t in _) copy[t] = _[t].slice();
    return new Dispatch(copy);
  },
  call: function(type2, that) {
    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type2)) throw new Error("unknown type: " + type2);
    for (t = this._[type2], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);
  },
  apply: function(type2, that, args) {
    if (!this._.hasOwnProperty(type2)) throw new Error("unknown type: " + type2);
    for (var t = this._[type2], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);
  }
};
function get(type2, name) {
  for (var i = 0, n = type2.length, c; i < n; ++i) {
    if ((c = type2[i]).name === name) {
      return c.value;
    }
  }
}
function set(type2, name, callback) {
  for (var i = 0, n = type2.length; i < n; ++i) {
    if (type2[i].name === name) {
      type2[i] = noop, type2 = type2.slice(0, i).concat(type2.slice(i + 1));
      break;
    }
  }
  if (callback != null) type2.push({ name, value: callback });
  return type2;
}
var dispatch_default = dispatch;

// node_modules/d3-selection/src/namespaces.js
var xhtml = "http://www.w3.org/1999/xhtml";
var namespaces_default = {
  svg: "http://www.w3.org/2000/svg",
  xhtml,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};

// node_modules/d3-selection/src/namespace.js
function namespace_default(name) {
  var prefix = name += "", i = prefix.indexOf(":");
  if (i >= 0 && (prefix = name.slice(0, i)) !== "xmlns") name = name.slice(i + 1);
  return namespaces_default.hasOwnProperty(prefix) ? { space: namespaces_default[prefix], local: name } : name;
}

// node_modules/d3-selection/src/creator.js
function creatorInherit(name) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);
  };
}
function creatorFixed(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator_default(name) {
  var fullname = namespace_default(name);
  return (fullname.local ? creatorFixed : creatorInherit)(fullname);
}

// node_modules/d3-selection/src/selector.js
function none() {
}
function selector_default(selector) {
  return selector == null ? none : function() {
    return this.querySelector(selector);
  };
}

// node_modules/d3-selection/src/selection/select.js
function select_default(select) {
  if (typeof select !== "function") select = selector_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {
        if ("__data__" in node) subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection(subgroups, this._parents);
}

// node_modules/d3-selection/src/array.js
function array(x) {
  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);
}

// node_modules/d3-selection/src/selectorAll.js
function empty() {
  return [];
}
function selectorAll_default(selector) {
  return selector == null ? empty : function() {
    return this.querySelectorAll(selector);
  };
}

// node_modules/d3-selection/src/selection/selectAll.js
function arrayAll(select) {
  return function() {
    return array(select.apply(this, arguments));
  };
}
function selectAll_default(select) {
  if (typeof select === "function") select = arrayAll(select);
  else select = selectorAll_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        subgroups.push(select.call(node, node.__data__, i, group));
        parents.push(node);
      }
    }
  }
  return new Selection(subgroups, parents);
}

// node_modules/d3-selection/src/matcher.js
function matcher_default(selector) {
  return function() {
    return this.matches(selector);
  };
}
function childMatcher(selector) {
  return function(node) {
    return node.matches(selector);
  };
}

// node_modules/d3-selection/src/selection/selectChild.js
var find = Array.prototype.find;
function childFind(match) {
  return function() {
    return find.call(this.children, match);
  };
}
function childFirst() {
  return this.firstElementChild;
}
function selectChild_default(match) {
  return this.select(match == null ? childFirst : childFind(typeof match === "function" ? match : childMatcher(match)));
}

// node_modules/d3-selection/src/selection/selectChildren.js
var filter = Array.prototype.filter;
function children() {
  return Array.from(this.children);
}
function childrenFilter(match) {
  return function() {
    return filter.call(this.children, match);
  };
}
function selectChildren_default(match) {
  return this.selectAll(match == null ? children : childrenFilter(typeof match === "function" ? match : childMatcher(match)));
}

// node_modules/d3-selection/src/selection/filter.js
function filter_default(match) {
  if (typeof match !== "function") match = matcher_default(match);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {
        subgroup.push(node);
      }
    }
  }
  return new Selection(subgroups, this._parents);
}

// node_modules/d3-selection/src/selection/sparse.js
function sparse_default(update) {
  return new Array(update.length);
}

// node_modules/d3-selection/src/selection/enter.js
function enter_default() {
  return new Selection(this._enter || this._groups.map(sparse_default), this._parents);
}
function EnterNode(parent, datum2) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum2;
}
EnterNode.prototype = {
  constructor: EnterNode,
  appendChild: function(child) {
    return this._parent.insertBefore(child, this._next);
  },
  insertBefore: function(child, next) {
    return this._parent.insertBefore(child, next);
  },
  querySelector: function(selector) {
    return this._parent.querySelector(selector);
  },
  querySelectorAll: function(selector) {
    return this._parent.querySelectorAll(selector);
  }
};

// node_modules/d3-selection/src/constant.js
function constant_default(x) {
  return function() {
    return x;
  };
}

// node_modules/d3-selection/src/selection/data.js
function bindIndex(parent, group, enter, update, exit, data) {
  var i = 0, node, groupLength = group.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node = group[i]) {
      node.__data__ = data[i];
      update[i] = node;
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node = group[i]) {
      exit[i] = node;
    }
  }
}
function bindKey(parent, group, enter, update, exit, data, key) {
  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node = group[i]) {
      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + "";
      if (nodeByKeyValue.has(keyValue)) {
        exit[i] = node;
      } else {
        nodeByKeyValue.set(keyValue, node);
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = key.call(parent, data[i], i, data) + "";
    if (node = nodeByKeyValue.get(keyValue)) {
      update[i] = node;
      node.__data__ = data[i];
      nodeByKeyValue.delete(keyValue);
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {
      exit[i] = node;
    }
  }
}
function datum(node) {
  return node.__data__;
}
function data_default(value, key) {
  if (!arguments.length) return Array.from(this, datum);
  var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;
  if (typeof value !== "function") value = constant_default(value);
  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents[j], group = groups[j], groupLength = group.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1) i1 = i0 + 1;
        while (!(next = updateGroup[i1]) && ++i1 < dataLength) ;
        previous._next = next || null;
      }
    }
  }
  update = new Selection(update, parents);
  update._enter = enter;
  update._exit = exit;
  return update;
}
function arraylike(data) {
  return typeof data === "object" && "length" in data ? data : Array.from(data);
}

// node_modules/d3-selection/src/selection/exit.js
function exit_default() {
  return new Selection(this._exit || this._groups.map(sparse_default), this._parents);
}

// node_modules/d3-selection/src/selection/join.js
function join_default(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  if (typeof onenter === "function") {
    enter = onenter(enter);
    if (enter) enter = enter.selection();
  } else {
    enter = enter.append(onenter + "");
  }
  if (onupdate != null) {
    update = onupdate(update);
    if (update) update = update.selection();
  }
  if (onexit == null) exit.remove();
  else onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}

// node_modules/d3-selection/src/selection/merge.js
function merge_default(context) {
  var selection2 = context.selection ? context.selection() : context;
  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection(merges, this._parents);
}

// node_modules/d3-selection/src/selection/order.js
function order_default() {
  for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {
    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {
      if (node = group[i]) {
        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);
        next = node;
      }
    }
  }
  return this;
}

// node_modules/d3-selection/src/selection/sort.js
function sort_default(compare) {
  if (!compare) compare = ascending;
  function compareNode(a, b) {
    return a && b ? compare(a.__data__, b.__data__) : !a - !b;
  }
  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        sortgroup[i] = node;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection(sortgroups, this._parents).order();
}
function ascending(a, b) {
  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;
}

// node_modules/d3-selection/src/selection/call.js
function call_default() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}

// node_modules/d3-selection/src/selection/nodes.js
function nodes_default() {
  return Array.from(this);
}

// node_modules/d3-selection/src/selection/node.js
function node_default() {
  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {
      var node = group[i];
      if (node) return node;
    }
  }
  return null;
}

// node_modules/d3-selection/src/selection/size.js
function size_default() {
  let size = 0;
  for (const node of this) ++size;
  return size;
}

// node_modules/d3-selection/src/selection/empty.js
function empty_default() {
  return !this.node();
}

// node_modules/d3-selection/src/selection/each.js
function each_default(callback) {
  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {
      if (node = group[i]) callback.call(node, node.__data__, i, group);
    }
  }
  return this;
}

// node_modules/d3-selection/src/selection/attr.js
function attrRemove(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant(name, value) {
  return function() {
    this.setAttribute(name, value);
  };
}
function attrConstantNS(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) this.removeAttribute(name);
    else this.setAttribute(name, v);
  };
}
function attrFunctionNS(fullname, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);
    else this.setAttributeNS(fullname.space, fullname.local, v);
  };
}
function attr_default(name, value) {
  var fullname = namespace_default(name);
  if (arguments.length < 2) {
    var node = this.node();
    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === "function" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));
}

// node_modules/d3-selection/src/window.js
function window_default(node) {
  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;
}

// node_modules/d3-selection/src/selection/style.js
function styleRemove(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant(name, value, priority) {
  return function() {
    this.style.setProperty(name, value, priority);
  };
}
function styleFunction(name, value, priority) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) this.style.removeProperty(name);
    else this.style.setProperty(name, v, priority);
  };
}
function style_default(name, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === "function" ? styleFunction : styleConstant)(name, value, priority == null ? "" : priority)) : styleValue(this.node(), name);
}
function styleValue(node, name) {
  return node.style.getPropertyValue(name) || window_default(node).getComputedStyle(node, null).getPropertyValue(name);
}

// node_modules/d3-selection/src/selection/property.js
function propertyRemove(name) {
  return function() {
    delete this[name];
  };
}
function propertyConstant(name, value) {
  return function() {
    this[name] = value;
  };
}
function propertyFunction(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null) delete this[name];
    else this[name] = v;
  };
}
function property_default(name, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === "function" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];
}

// node_modules/d3-selection/src/selection/classed.js
function classArray(string) {
  return string.trim().split(/^|\s+/);
}
function classList(node) {
  return node.classList || new ClassList(node);
}
function ClassList(node) {
  this._node = node;
  this._names = classArray(node.getAttribute("class") || "");
}
ClassList.prototype = {
  add: function(name) {
    var i = this._names.indexOf(name);
    if (i < 0) {
      this._names.push(name);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name) {
    var i = this._names.indexOf(name);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name) {
    return this._names.indexOf(name) >= 0;
  }
};
function classedAdd(node, names) {
  var list = classList(node), i = -1, n = names.length;
  while (++i < n) list.add(names[i]);
}
function classedRemove(node, names) {
  var list = classList(node), i = -1, n = names.length;
  while (++i < n) list.remove(names[i]);
}
function classedTrue(names) {
  return function() {
    classedAdd(this, names);
  };
}
function classedFalse(names) {
  return function() {
    classedRemove(this, names);
  };
}
function classedFunction(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);
  };
}
function classed_default(name, value) {
  var names = classArray(name + "");
  if (arguments.length < 2) {
    var list = classList(this.node()), i = -1, n = names.length;
    while (++i < n) if (!list.contains(names[i])) return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction : value ? classedTrue : classedFalse)(names, value));
}

// node_modules/d3-selection/src/selection/text.js
function textRemove() {
  this.textContent = "";
}
function textConstant(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.textContent = v == null ? "" : v;
  };
}
function text_default(value) {
  return arguments.length ? this.each(value == null ? textRemove : (typeof value === "function" ? textFunction : textConstant)(value)) : this.node().textContent;
}

// node_modules/d3-selection/src/selection/html.js
function htmlRemove() {
  this.innerHTML = "";
}
function htmlConstant(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.innerHTML = v == null ? "" : v;
  };
}
function html_default(value) {
  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === "function" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;
}

// node_modules/d3-selection/src/selection/raise.js
function raise() {
  if (this.nextSibling) this.parentNode.appendChild(this);
}
function raise_default() {
  return this.each(raise);
}

// node_modules/d3-selection/src/selection/lower.js
function lower() {
  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function lower_default() {
  return this.each(lower);
}

// node_modules/d3-selection/src/selection/append.js
function append_default(name) {
  var create2 = typeof name === "function" ? name : creator_default(name);
  return this.select(function() {
    return this.appendChild(create2.apply(this, arguments));
  });
}

// node_modules/d3-selection/src/selection/insert.js
function constantNull() {
  return null;
}
function insert_default(name, before) {
  var create2 = typeof name === "function" ? name : creator_default(name), select = before == null ? constantNull : typeof before === "function" ? before : selector_default(before);
  return this.select(function() {
    return this.insertBefore(create2.apply(this, arguments), select.apply(this, arguments) || null);
  });
}

// node_modules/d3-selection/src/selection/remove.js
function remove() {
  var parent = this.parentNode;
  if (parent) parent.removeChild(this);
}
function remove_default() {
  return this.each(remove);
}

// node_modules/d3-selection/src/selection/clone.js
function selection_cloneShallow() {
  var clone = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function selection_cloneDeep() {
  var clone = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function clone_default(deep) {
  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);
}

// node_modules/d3-selection/src/selection/datum.js
function datum_default(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}

// node_modules/d3-selection/src/selection/on.js
function contextListener(listener) {
  return function(event) {
    listener.call(this, event, this.__data__);
  };
}
function parseTypenames2(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name };
  });
}
function onRemove(typename) {
  return function() {
    var on = this.__on;
    if (!on) return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.options);
      } else {
        on[++i] = o;
      }
    }
    if (++i) on.length = i;
    else delete this.__on;
  };
}
function onAdd(typename, value, options) {
  return function() {
    var on = this.__on, o, listener = contextListener(value);
    if (on) for (var j = 0, m = on.length; j < m; ++j) {
      if ((o = on[j]).type === typename.type && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.options);
        this.addEventListener(o.type, o.listener = listener, o.options = options);
        o.value = value;
        return;
      }
    }
    this.addEventListener(typename.type, listener, options);
    o = { type: typename.type, name: typename.name, value, listener, options };
    if (!on) this.__on = [o];
    else on.push(o);
  };
}
function on_default(typename, value, options) {
  var typenames = parseTypenames2(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {
      for (i = 0, o = on[j]; i < n; ++i) {
        if ((t = typenames[i]).type === o.type && t.name === o.name) {
          return o.value;
        }
      }
    }
    return;
  }
  on = value ? onAdd : onRemove;
  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));
  return this;
}

// node_modules/d3-selection/src/selection/dispatch.js
function dispatchEvent(node, type2, params) {
  var window2 = window_default(node), event = window2.CustomEvent;
  if (typeof event === "function") {
    event = new event(type2, params);
  } else {
    event = window2.document.createEvent("Event");
    if (params) event.initEvent(type2, params.bubbles, params.cancelable), event.detail = params.detail;
    else event.initEvent(type2, false, false);
  }
  node.dispatchEvent(event);
}
function dispatchConstant(type2, params) {
  return function() {
    return dispatchEvent(this, type2, params);
  };
}
function dispatchFunction(type2, params) {
  return function() {
    return dispatchEvent(this, type2, params.apply(this, arguments));
  };
}
function dispatch_default2(type2, params) {
  return this.each((typeof params === "function" ? dispatchFunction : dispatchConstant)(type2, params));
}

// node_modules/d3-selection/src/selection/iterator.js
function* iterator_default() {
  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {
    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {
      if (node = group[i]) yield node;
    }
  }
}

// node_modules/d3-selection/src/selection/index.js
var root = [null];
function Selection(groups, parents) {
  this._groups = groups;
  this._parents = parents;
}
function selection() {
  return new Selection([[document.documentElement]], root);
}
function selection_selection() {
  return this;
}
Selection.prototype = selection.prototype = {
  constructor: Selection,
  select: select_default,
  selectAll: selectAll_default,
  selectChild: selectChild_default,
  selectChildren: selectChildren_default,
  filter: filter_default,
  data: data_default,
  enter: enter_default,
  exit: exit_default,
  join: join_default,
  merge: merge_default,
  selection: selection_selection,
  order: order_default,
  sort: sort_default,
  call: call_default,
  nodes: nodes_default,
  node: node_default,
  size: size_default,
  empty: empty_default,
  each: each_default,
  attr: attr_default,
  style: style_default,
  property: property_default,
  classed: classed_default,
  text: text_default,
  html: html_default,
  raise: raise_default,
  lower: lower_default,
  append: append_default,
  insert: insert_default,
  remove: remove_default,
  clone: clone_default,
  datum: datum_default,
  on: on_default,
  dispatch: dispatch_default2,
  [Symbol.iterator]: iterator_default
};
var selection_default = selection;

// node_modules/d3-selection/src/select.js
function select_default2(selector) {
  return typeof selector === "string" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);
}

// node_modules/d3-selection/src/sourceEvent.js
function sourceEvent_default(event) {
  let sourceEvent;
  while (sourceEvent = event.sourceEvent) event = sourceEvent;
  return event;
}

// node_modules/d3-selection/src/pointer.js
function pointer_default(event, node) {
  event = sourceEvent_default(event);
  if (node === void 0) node = event.currentTarget;
  if (node) {
    var svg = node.ownerSVGElement || node;
    if (svg.createSVGPoint) {
      var point = svg.createSVGPoint();
      point.x = event.clientX, point.y = event.clientY;
      point = point.matrixTransform(node.getScreenCTM().inverse());
      return [point.x, point.y];
    }
    if (node.getBoundingClientRect) {
      var rect = node.getBoundingClientRect();
      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];
    }
  }
  return [event.pageX, event.pageY];
}

// node_modules/d3-selection/src/selectAll.js
function selectAll_default2(selector) {
  return typeof selector === "string" ? new Selection([document.querySelectorAll(selector)], [document.documentElement]) : new Selection([array(selector)], root);
}

// node_modules/d3-drag/src/noevent.js
var nonpassivecapture = { capture: true, passive: false };
function noevent_default(event) {
  event.preventDefault();
  event.stopImmediatePropagation();
}

// node_modules/d3-drag/src/nodrag.js
function nodrag_default(view) {
  var root2 = view.document.documentElement, selection2 = select_default2(view).on("dragstart.drag", noevent_default, nonpassivecapture);
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", noevent_default, nonpassivecapture);
  } else {
    root2.__noselect = root2.style.MozUserSelect;
    root2.style.MozUserSelect = "none";
  }
}
function yesdrag(view, noclick) {
  var root2 = view.document.documentElement, selection2 = select_default2(view).on("dragstart.drag", null);
  if (noclick) {
    selection2.on("click.drag", noevent_default, nonpassivecapture);
    setTimeout(function() {
      selection2.on("click.drag", null);
    }, 0);
  }
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", null);
  } else {
    root2.style.MozUserSelect = root2.__noselect;
    delete root2.__noselect;
  }
}

// node_modules/d3-color/src/define.js
function define_default(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition) prototype[key] = definition[key];
  return prototype;
}

// node_modules/d3-color/src/color.js
function Color() {
}
var darker = 0.7;
var brighter = 1 / darker;
var reI = "\\s*([+-]?\\d+)\\s*";
var reN = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var reP = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var reHex = /^#([0-9a-f]{3,8})$/;
var reRgbInteger = new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`);
var reRgbPercent = new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`);
var reRgbaInteger = new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`);
var reRgbaPercent = new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`);
var reHslPercent = new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`);
var reHslaPercent = new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`);
var named = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define_default(Color, color, {
  copy(channels) {
    return Object.assign(new this.constructor(), this, channels);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: color_formatHex,
  // Deprecated! Use color.formatHex.
  formatHex: color_formatHex,
  formatHex8: color_formatHex8,
  formatHsl: color_formatHsl,
  formatRgb: color_formatRgb,
  toString: color_formatRgb
});
function color_formatHex() {
  return this.rgb().formatHex();
}
function color_formatHex8() {
  return this.rgb().formatHex8();
}
function color_formatHsl() {
  return hslConvert(this).formatHsl();
}
function color_formatRgb() {
  return this.rgb().formatRgb();
}
function color(format) {
  var m, l;
  format = (format + "").trim().toLowerCase();
  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === "transparent" ? new Rgb(NaN, NaN, NaN, 0) : null;
}
function rgbn(n) {
  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba(r, g, b, a) {
  if (a <= 0) r = g = b = NaN;
  return new Rgb(r, g, b, a);
}
function rgbConvert(o) {
  if (!(o instanceof Color)) o = color(o);
  if (!o) return new Rgb();
  o = o.rgb();
  return new Rgb(o.r, o.g, o.b, o.opacity);
}
function rgb(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define_default(Rgb, rgb, extend(Color, {
  brighter(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  darker(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);
  },
  rgb() {
    return this;
  },
  clamp() {
    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));
  },
  displayable() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex,
  // Deprecated! Use color.formatHex.
  formatHex: rgb_formatHex,
  formatHex8: rgb_formatHex8,
  formatRgb: rgb_formatRgb,
  toString: rgb_formatRgb
}));
function rgb_formatHex() {
  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;
}
function rgb_formatHex8() {
  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function rgb_formatRgb() {
  const a = clampa(this.opacity);
  return `${a === 1 ? "rgb(" : "rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? ")" : `, ${a})`}`;
}
function clampa(opacity) {
  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));
}
function clampi(value) {
  return Math.max(0, Math.min(255, Math.round(value) || 0));
}
function hex(value) {
  value = clampi(value);
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla(h, s, l, a) {
  if (a <= 0) h = s = l = NaN;
  else if (l <= 0 || l >= 1) h = s = NaN;
  else if (s <= 0) h = NaN;
  return new Hsl(h, s, l, a);
}
function hslConvert(o) {
  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color)) o = color(o);
  if (!o) return new Hsl();
  if (o instanceof Hsl) return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min2 = Math.min(r, g, b), max2 = Math.max(r, g, b), h = NaN, s = max2 - min2, l = (max2 + min2) / 2;
  if (s) {
    if (r === max2) h = (g - b) / s + (g < b) * 6;
    else if (g === max2) h = (b - r) / s + 2;
    else h = (r - g) / s + 4;
    s /= l < 0.5 ? max2 + min2 : 2 - max2 - min2;
    h *= 60;
  } else {
    s = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl(h, s, l, o.opacity);
}
function hsl(h, s, l, opacity) {
  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);
}
function Hsl(h, s, l, opacity) {
  this.h = +h;
  this.s = +s;
  this.l = +l;
  this.opacity = +opacity;
}
define_default(Hsl, hsl, extend(Color, {
  brighter(k) {
    k = k == null ? brighter : Math.pow(brighter, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  darker(k) {
    k = k == null ? darker : Math.pow(darker, k);
    return new Hsl(this.h, this.s, this.l * k, this.opacity);
  },
  rgb() {
    var h = this.h % 360 + (this.h < 0) * 360, s = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;
    return new Rgb(
      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb(h, m1, m2),
      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  clamp() {
    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));
  },
  displayable() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl() {
    const a = clampa(this.opacity);
    return `${a === 1 ? "hsl(" : "hsla("}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? ")" : `, ${a})`}`;
  }
}));
function clamph(value) {
  value = (value || 0) % 360;
  return value < 0 ? value + 360 : value;
}
function clampt(value) {
  return Math.max(0, Math.min(1, value || 0));
}
function hsl2rgb(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}

// node_modules/d3-interpolate/src/basis.js
function basis(t1, v0, v1, v2, v3) {
  var t2 = t1 * t1, t3 = t2 * t1;
  return ((1 - 3 * t1 + 3 * t2 - t3) * v0 + (4 - 6 * t2 + 3 * t3) * v1 + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2 + t3 * v3) / 6;
}
function basis_default(values) {
  var n = values.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values[i], v2 = values[i + 1], v0 = i > 0 ? values[i - 1] : 2 * v1 - v2, v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;
    return basis((t - i / n) * n, v0, v1, v2, v3);
  };
}

// node_modules/d3-interpolate/src/basisClosed.js
function basisClosed_default(values) {
  var n = values.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values[(i + n - 1) % n], v1 = values[i % n], v2 = values[(i + 1) % n], v3 = values[(i + 2) % n];
    return basis((t - i / n) * n, v0, v1, v2, v3);
  };
}

// node_modules/d3-interpolate/src/constant.js
var constant_default2 = (x) => () => x;

// node_modules/d3-interpolate/src/color.js
function linear(a, d) {
  return function(t) {
    return a + t * d;
  };
}
function exponential(a, b, y) {
  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {
    return Math.pow(a + t * b, y);
  };
}
function gamma(y) {
  return (y = +y) === 1 ? nogamma : function(a, b) {
    return b - a ? exponential(a, b, y) : constant_default2(isNaN(a) ? b : a);
  };
}
function nogamma(a, b) {
  var d = b - a;
  return d ? linear(a, d) : constant_default2(isNaN(a) ? b : a);
}

// node_modules/d3-interpolate/src/rgb.js
var rgb_default = (function rgbGamma(y) {
  var color2 = gamma(y);
  function rgb2(start2, end) {
    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);
    return function(t) {
      start2.r = r(t);
      start2.g = g(t);
      start2.b = b(t);
      start2.opacity = opacity(t);
      return start2 + "";
    };
  }
  rgb2.gamma = rgbGamma;
  return rgb2;
})(1);
function rgbSpline(spline) {
  return function(colors) {
    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color2;
    for (i = 0; i < n; ++i) {
      color2 = rgb(colors[i]);
      r[i] = color2.r || 0;
      g[i] = color2.g || 0;
      b[i] = color2.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color2.opacity = 1;
    return function(t) {
      color2.r = r(t);
      color2.g = g(t);
      color2.b = b(t);
      return color2 + "";
    };
  };
}
var rgbBasis = rgbSpline(basis_default);
var rgbBasisClosed = rgbSpline(basisClosed_default);

// node_modules/d3-interpolate/src/number.js
function number_default(a, b) {
  return a = +a, b = +b, function(t) {
    return a * (1 - t) + b * t;
  };
}

// node_modules/d3-interpolate/src/string.js
var reA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var reB = new RegExp(reA.source, "g");
function zero(b) {
  return function() {
    return b;
  };
}
function one(b) {
  return function(t) {
    return b(t) + "";
  };
}
function string_default(a, b) {
  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];
  a = a + "", b = b + "";
  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s[i]) s[i] += bs;
      else s[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s[i]) s[i] += bm;
      else s[++i] = bm;
    } else {
      s[++i] = null;
      q.push({ i, x: number_default(am, bm) });
    }
    bi = reB.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s[i]) s[i] += bs;
    else s[++i] = bs;
  }
  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2) s[(o = q[i2]).i] = o.x(t);
    return s.join("");
  });
}

// node_modules/d3-interpolate/src/transform/decompose.js
var degrees = 180 / Math.PI;
var identity = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose_default(a, b, c, d, e, f) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;
  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f,
    rotate: Math.atan2(b, a) * degrees,
    skewX: Math.atan(skewX) * degrees,
    scaleX,
    scaleY
  };
}

// node_modules/d3-interpolate/src/transform/parse.js
var svgNode;
function parseCss(value) {
  const m = new (typeof DOMMatrix === "function" ? DOMMatrix : WebKitCSSMatrix)(value + "");
  return m.isIdentity ? identity : decompose_default(m.a, m.b, m.c, m.d, m.e, m.f);
}
function parseSvg(value) {
  if (value == null) return identity;
  if (!svgNode) svgNode = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode.setAttribute("transform", value);
  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;
  value = value.matrix;
  return decompose_default(value.a, value.b, value.c, value.d, value.e, value.f);
}

// node_modules/d3-interpolate/src/transform/index.js
function interpolateTransform(parse, pxComma, pxParen, degParen) {
  function pop(s) {
    return s.length ? s.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s, q) {
    if (xa !== xb || ya !== yb) {
      var i = s.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });
    } else if (xb || yb) {
      s.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a, b, s, q) {
    if (a !== b) {
      if (a - b > 180) b += 360;
      else if (b - a > 180) a += 360;
      q.push({ i: s.push(pop(s) + "rotate(", null, degParen) - 2, x: number_default(a, b) });
    } else if (b) {
      s.push(pop(s) + "rotate(" + b + degParen);
    }
  }
  function skewX(a, b, s, q) {
    if (a !== b) {
      q.push({ i: s.push(pop(s) + "skewX(", null, degParen) - 2, x: number_default(a, b) });
    } else if (b) {
      s.push(pop(s) + "skewX(" + b + degParen);
    }
  }
  function scale(xa, ya, xb, yb, s, q) {
    if (xa !== xb || ya !== yb) {
      var i = s.push(pop(s) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s.push(pop(s) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a, b) {
    var s = [], q = [];
    a = parse(a), b = parse(b);
    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);
    rotate(a.rotate, b.rotate, s, q);
    skewX(a.skewX, b.skewX, s, q);
    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);
    a = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n) s[(o = q[i]).i] = o.x(t);
      return s.join("");
    };
  };
}
var interpolateTransformCss = interpolateTransform(parseCss, "px, ", "px)", "deg)");
var interpolateTransformSvg = interpolateTransform(parseSvg, ", ", ")", ")");

// node_modules/d3-interpolate/src/zoom.js
var epsilon2 = 1e-12;
function cosh(x) {
  return ((x = Math.exp(x)) + 1 / x) / 2;
}
function sinh(x) {
  return ((x = Math.exp(x)) - 1 / x) / 2;
}
function tanh(x) {
  return ((x = Math.exp(2 * x)) - 1) / (x + 1);
}
var zoom_default = (function zoomRho(rho, rho2, rho4) {
  function zoom(p0, p1) {
    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
    if (d2 < epsilon2) {
      S = Math.log(w1 / w0) / rho;
      i = function(t) {
        return [
          ux0 + t * dx,
          uy0 + t * dy,
          w0 * Math.exp(rho * t * S)
        ];
      };
    } else {
      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);
      S = (r1 - r0) / rho;
      i = function(t) {
        var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));
        return [
          ux0 + u * dx,
          uy0 + u * dy,
          w0 * coshr0 / cosh(rho * s + r0)
        ];
      };
    }
    i.duration = S * 1e3 * rho / Math.SQRT2;
    return i;
  }
  zoom.rho = function(_) {
    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;
    return zoomRho(_1, _2, _4);
  };
  return zoom;
})(Math.SQRT2, 2, 4);

// node_modules/d3-timer/src/timer.js
var frame = 0;
var timeout = 0;
var interval = 0;
var pokeDelay = 1e3;
var taskHead;
var taskTail;
var clockLast = 0;
var clockNow = 0;
var clockSkew = 0;
var clock = typeof performance === "object" && performance.now ? performance : Date;
var setFrame = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {
  setTimeout(f, 17);
};
function now() {
  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);
}
function clearNow() {
  clockNow = 0;
}
function Timer() {
  this._call = this._time = this._next = null;
}
Timer.prototype = timer.prototype = {
  constructor: Timer,
  restart: function(callback, delay, time) {
    if (typeof callback !== "function") throw new TypeError("callback is not a function");
    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail !== this) {
      if (taskTail) taskTail._next = this;
      else taskHead = this;
      taskTail = this;
    }
    this._call = callback;
    this._time = time;
    sleep();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep();
    }
  }
};
function timer(callback, delay, time) {
  var t = new Timer();
  t.restart(callback, delay, time);
  return t;
}
function timerFlush() {
  now();
  ++frame;
  var t = taskHead, e;
  while (t) {
    if ((e = clockNow - t._time) >= 0) t._call.call(void 0, e);
    t = t._next;
  }
  --frame;
}
function wake() {
  clockNow = (clockLast = clock.now()) + clockSkew;
  frame = timeout = 0;
  try {
    timerFlush();
  } finally {
    frame = 0;
    nap();
    clockNow = 0;
  }
}
function poke() {
  var now2 = clock.now(), delay = now2 - clockLast;
  if (delay > pokeDelay) clockSkew -= delay, clockLast = now2;
}
function nap() {
  var t0, t1 = taskHead, t2, time = Infinity;
  while (t1) {
    if (t1._call) {
      if (time > t1._time) time = t1._time;
      t0 = t1, t1 = t1._next;
    } else {
      t2 = t1._next, t1._next = null;
      t1 = t0 ? t0._next = t2 : taskHead = t2;
    }
  }
  taskTail = t0;
  sleep(time);
}
function sleep(time) {
  if (frame) return;
  if (timeout) timeout = clearTimeout(timeout);
  var delay = time - clockNow;
  if (delay > 24) {
    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);
    if (interval) interval = clearInterval(interval);
  } else {
    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);
    frame = 1, setFrame(wake);
  }
}

// node_modules/d3-timer/src/timeout.js
function timeout_default(callback, delay, time) {
  var t = new Timer();
  delay = delay == null ? 0 : +delay;
  t.restart((elapsed) => {
    t.stop();
    callback(elapsed + delay);
  }, delay, time);
  return t;
}

// node_modules/d3-transition/src/transition/schedule.js
var emptyOn = dispatch_default("start", "end", "cancel", "interrupt");
var emptyTween = [];
var CREATED = 0;
var SCHEDULED = 1;
var STARTING = 2;
var STARTED = 3;
var RUNNING = 4;
var ENDING = 5;
var ENDED = 6;
function schedule_default(node, name, id2, index, group, timing) {
  var schedules = node.__transition;
  if (!schedules) node.__transition = {};
  else if (id2 in schedules) return;
  create(node, id2, {
    name,
    index,
    // For context during callback.
    group,
    // For context during callback.
    on: emptyOn,
    tween: emptyTween,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED
  });
}
function init(node, id2) {
  var schedule = get2(node, id2);
  if (schedule.state > CREATED) throw new Error("too late; already scheduled");
  return schedule;
}
function set2(node, id2) {
  var schedule = get2(node, id2);
  if (schedule.state > STARTED) throw new Error("too late; already running");
  return schedule;
}
function get2(node, id2) {
  var schedule = node.__transition;
  if (!schedule || !(schedule = schedule[id2])) throw new Error("transition not found");
  return schedule;
}
function create(node, id2, self) {
  var schedules = node.__transition, tween;
  schedules[id2] = self;
  self.timer = timer(schedule, 0, self.time);
  function schedule(elapsed) {
    self.state = SCHEDULED;
    self.timer.restart(start2, self.delay, self.time);
    if (self.delay <= elapsed) start2(elapsed - self.delay);
  }
  function start2(elapsed) {
    var i, j, n, o;
    if (self.state !== SCHEDULED) return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self.name) continue;
      if (o.state === STARTED) return timeout_default(start2);
      if (o.state === RUNNING) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("interrupt", node, node.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id2) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("cancel", node, node.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout_default(function() {
      if (self.state === STARTED) {
        self.state = RUNNING;
        self.timer.restart(tick, self.delay, self.time);
        tick(elapsed);
      }
    });
    self.state = STARTING;
    self.on.call("start", node, node.__data__, self.index, self.group);
    if (self.state !== STARTING) return;
    self.state = STARTED;
    tween = new Array(n = self.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node, t);
    }
    if (self.state === ENDING) {
      self.on.call("end", node, node.__data__, self.index, self.group);
      stop();
    }
  }
  function stop() {
    self.state = ENDED;
    self.timer.stop();
    delete schedules[id2];
    for (var i in schedules) return;
    delete node.__transition;
  }
}

// node_modules/d3-transition/src/interrupt.js
function interrupt_default(node, name) {
  var schedules = node.__transition, schedule, active, empty2 = true, i;
  if (!schedules) return;
  name = name == null ? null : name + "";
  for (i in schedules) {
    if ((schedule = schedules[i]).name !== name) {
      empty2 = false;
      continue;
    }
    active = schedule.state > STARTING && schedule.state < ENDING;
    schedule.state = ENDED;
    schedule.timer.stop();
    schedule.on.call(active ? "interrupt" : "cancel", node, node.__data__, schedule.index, schedule.group);
    delete schedules[i];
  }
  if (empty2) delete node.__transition;
}

// node_modules/d3-transition/src/selection/interrupt.js
function interrupt_default2(name) {
  return this.each(function() {
    interrupt_default(this, name);
  });
}

// node_modules/d3-transition/src/transition/tween.js
function tweenRemove(id2, name) {
  var tween0, tween1;
  return function() {
    var schedule = set2(this, id2), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule.tween = tween1;
  };
}
function tweenFunction(id2, name, value) {
  var tween0, tween1;
  if (typeof value !== "function") throw new Error();
  return function() {
    var schedule = set2(this, id2), tween = schedule.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n) tween1.push(t);
    }
    schedule.tween = tween1;
  };
}
function tween_default(name, value) {
  var id2 = this._id;
  name += "";
  if (arguments.length < 2) {
    var tween = get2(this.node(), id2).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));
}
function tweenValue(transition2, name, value) {
  var id2 = transition2._id;
  transition2.each(function() {
    var schedule = set2(this, id2);
    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);
  });
  return function(node) {
    return get2(node, id2).value[name];
  };
}

// node_modules/d3-transition/src/transition/interpolate.js
function interpolate_default(a, b) {
  var c;
  return (typeof b === "number" ? number_default : b instanceof color ? rgb_default : (c = color(b)) ? (b = c, rgb_default) : string_default)(a, b);
}

// node_modules/d3-transition/src/transition/attr.js
function attrRemove2(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS2(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant2(name, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrConstantNS2(fullname, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function attrFunction2(name, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null) return void this.removeAttribute(name);
    string0 = this.getAttribute(name);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attrFunctionNS2(fullname, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function attr_default2(name, value) {
  var fullname = namespace_default(name), i = fullname === "transform" ? interpolateTransformSvg : interpolate_default;
  return this.attrTween(name, typeof value === "function" ? (fullname.local ? attrFunctionNS2 : attrFunction2)(fullname, i, tweenValue(this, "attr." + name, value)) : value == null ? (fullname.local ? attrRemoveNS2 : attrRemove2)(fullname) : (fullname.local ? attrConstantNS2 : attrConstant2)(fullname, i, value));
}

// node_modules/d3-transition/src/transition/attrTween.js
function attrInterpolate(name, i) {
  return function(t) {
    this.setAttribute(name, i.call(this, t));
  };
}
function attrInterpolateNS(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS(fullname, value) {
  var t0, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);
    return t0;
  }
  tween._value = value;
  return tween;
}
function attrTween(name, value) {
  var t0, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);
    return t0;
  }
  tween._value = value;
  return tween;
}
function attrTween_default(name, value) {
  var key = "attr." + name;
  if (arguments.length < 2) return (key = this.tween(key)) && key._value;
  if (value == null) return this.tween(key, null);
  if (typeof value !== "function") throw new Error();
  var fullname = namespace_default(name);
  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));
}

// node_modules/d3-transition/src/transition/delay.js
function delayFunction(id2, value) {
  return function() {
    init(this, id2).delay = +value.apply(this, arguments);
  };
}
function delayConstant(id2, value) {
  return value = +value, function() {
    init(this, id2).delay = value;
  };
}
function delay_default(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction : delayConstant)(id2, value)) : get2(this.node(), id2).delay;
}

// node_modules/d3-transition/src/transition/duration.js
function durationFunction(id2, value) {
  return function() {
    set2(this, id2).duration = +value.apply(this, arguments);
  };
}
function durationConstant(id2, value) {
  return value = +value, function() {
    set2(this, id2).duration = value;
  };
}
function duration_default(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction : durationConstant)(id2, value)) : get2(this.node(), id2).duration;
}

// node_modules/d3-transition/src/transition/ease.js
function easeConstant(id2, value) {
  if (typeof value !== "function") throw new Error();
  return function() {
    set2(this, id2).ease = value;
  };
}
function ease_default(value) {
  var id2 = this._id;
  return arguments.length ? this.each(easeConstant(id2, value)) : get2(this.node(), id2).ease;
}

// node_modules/d3-transition/src/transition/easeVarying.js
function easeVarying(id2, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (typeof v !== "function") throw new Error();
    set2(this, id2).ease = v;
  };
}
function easeVarying_default(value) {
  if (typeof value !== "function") throw new Error();
  return this.each(easeVarying(this._id, value));
}

// node_modules/d3-transition/src/transition/filter.js
function filter_default2(match) {
  if (typeof match !== "function") match = matcher_default(match);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {
        subgroup.push(node);
      }
    }
  }
  return new Transition(subgroups, this._parents, this._name, this._id);
}

// node_modules/d3-transition/src/transition/merge.js
function merge_default2(transition2) {
  if (transition2._id !== this._id) throw new Error();
  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition(merges, this._parents, this._name, this._id);
}

// node_modules/d3-transition/src/transition/on.js
function start(name) {
  return (name + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0) t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction(id2, name, listener) {
  var on0, on1, sit = start(name) ? init : set2;
  return function() {
    var schedule = sit(this, id2), on = schedule.on;
    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);
    schedule.on = on1;
  };
}
function on_default2(name, listener) {
  var id2 = this._id;
  return arguments.length < 2 ? get2(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));
}

// node_modules/d3-transition/src/transition/remove.js
function removeFunction(id2) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition) if (+i !== id2) return;
    if (parent) parent.removeChild(this);
  };
}
function remove_default2() {
  return this.on("end.remove", removeFunction(this._id));
}

// node_modules/d3-transition/src/transition/select.js
function select_default3(select) {
  var name = this._name, id2 = this._id;
  if (typeof select !== "function") select = selector_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {
        if ("__data__" in node) subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
        schedule_default(subgroup[i], name, id2, i, subgroup, get2(node, id2));
      }
    }
  }
  return new Transition(subgroups, this._parents, name, id2);
}

// node_modules/d3-transition/src/transition/selectAll.js
function selectAll_default3(select) {
  var name = this._name, id2 = this._id;
  if (typeof select !== "function") select = selectorAll_default(select);
  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        for (var children2 = select.call(node, node.__data__, i, group), child, inherit2 = get2(node, id2), k = 0, l = children2.length; k < l; ++k) {
          if (child = children2[k]) {
            schedule_default(child, name, id2, k, children2, inherit2);
          }
        }
        subgroups.push(children2);
        parents.push(node);
      }
    }
  }
  return new Transition(subgroups, parents, name, id2);
}

// node_modules/d3-transition/src/transition/selection.js
var Selection2 = selection_default.prototype.constructor;
function selection_default2() {
  return new Selection2(this._groups, this._parents);
}

// node_modules/d3-transition/src/transition/style.js
function styleNull(name, interpolate) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);
  };
}
function styleRemove2(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant2(name, interpolate, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue(this, name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);
  };
}
function styleFunction2(name, interpolate, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + "";
    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));
  };
}
function styleMaybeRemove(id2, name) {
  var on0, on1, listener0, key = "style." + name, event = "end." + key, remove2;
  return function() {
    var schedule = set2(this, id2), on = schedule.on, listener = schedule.value[key] == null ? remove2 || (remove2 = styleRemove2(name)) : void 0;
    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);
    schedule.on = on1;
  };
}
function style_default2(name, value, priority) {
  var i = (name += "") === "transform" ? interpolateTransformCss : interpolate_default;
  return value == null ? this.styleTween(name, styleNull(name, i)).on("end.style." + name, styleRemove2(name)) : typeof value === "function" ? this.styleTween(name, styleFunction2(name, i, tweenValue(this, "style." + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant2(name, i, value), priority).on("end.style." + name, null);
}

// node_modules/d3-transition/src/transition/styleTween.js
function styleInterpolate(name, i, priority) {
  return function(t) {
    this.style.setProperty(name, i.call(this, t), priority);
  };
}
function styleTween(name, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function styleTween_default(name, value, priority) {
  var key = "style." + (name += "");
  if (arguments.length < 2) return (key = this.tween(key)) && key._value;
  if (value == null) return this.tween(key, null);
  if (typeof value !== "function") throw new Error();
  return this.tween(key, styleTween(name, value, priority == null ? "" : priority));
}

// node_modules/d3-transition/src/transition/text.js
function textConstant2(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction2(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function text_default2(value) {
  return this.tween("text", typeof value === "function" ? textFunction2(tweenValue(this, "text", value)) : textConstant2(value == null ? "" : value + ""));
}

// node_modules/d3-transition/src/transition/textTween.js
function textInterpolate(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween(value) {
  var t0, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);
    return t0;
  }
  tween._value = value;
  return tween;
}
function textTween_default(value) {
  var key = "text";
  if (arguments.length < 1) return (key = this.tween(key)) && key._value;
  if (value == null) return this.tween(key, null);
  if (typeof value !== "function") throw new Error();
  return this.tween(key, textTween(value));
}

// node_modules/d3-transition/src/transition/transition.js
function transition_default() {
  var name = this._name, id0 = this._id, id1 = newId();
  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        var inherit2 = get2(node, id0);
        schedule_default(node, name, id1, i, group, {
          time: inherit2.time + inherit2.delay + inherit2.duration,
          delay: 0,
          duration: inherit2.duration,
          ease: inherit2.ease
        });
      }
    }
  }
  return new Transition(groups, this._parents, name, id1);
}

// node_modules/d3-transition/src/transition/end.js
function end_default() {
  var on0, on1, that = this, id2 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end = { value: function() {
      if (--size === 0) resolve();
    } };
    that.each(function() {
      var schedule = set2(this, id2), on = schedule.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end);
      }
      schedule.on = on1;
    });
    if (size === 0) resolve();
  });
}

// node_modules/d3-transition/src/transition/index.js
var id = 0;
function Transition(groups, parents, name, id2) {
  this._groups = groups;
  this._parents = parents;
  this._name = name;
  this._id = id2;
}
function transition(name) {
  return selection_default().transition(name);
}
function newId() {
  return ++id;
}
var selection_prototype = selection_default.prototype;
Transition.prototype = transition.prototype = {
  constructor: Transition,
  select: select_default3,
  selectAll: selectAll_default3,
  selectChild: selection_prototype.selectChild,
  selectChildren: selection_prototype.selectChildren,
  filter: filter_default2,
  merge: merge_default2,
  selection: selection_default2,
  transition: transition_default,
  call: selection_prototype.call,
  nodes: selection_prototype.nodes,
  node: selection_prototype.node,
  size: selection_prototype.size,
  empty: selection_prototype.empty,
  each: selection_prototype.each,
  on: on_default2,
  attr: attr_default2,
  attrTween: attrTween_default,
  style: style_default2,
  styleTween: styleTween_default,
  text: text_default2,
  textTween: textTween_default,
  remove: remove_default2,
  tween: tween_default,
  delay: delay_default,
  duration: duration_default,
  ease: ease_default,
  easeVarying: easeVarying_default,
  end: end_default,
  [Symbol.iterator]: selection_prototype[Symbol.iterator]
};

// node_modules/d3-ease/src/cubic.js
function cubicInOut(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}

// node_modules/d3-transition/src/selection/transition.js
var defaultTiming = {
  time: null,
  // Set on use.
  delay: 0,
  duration: 250,
  ease: cubicInOut
};
function inherit(node, id2) {
  var timing;
  while (!(timing = node.__transition) || !(timing = timing[id2])) {
    if (!(node = node.parentNode)) {
      throw new Error(`transition ${id2} not found`);
    }
  }
  return timing;
}
function transition_default2(name) {
  var id2, timing;
  if (name instanceof Transition) {
    id2 = name._id, name = name._name;
  } else {
    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + "";
  }
  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {
    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {
      if (node = group[i]) {
        schedule_default(node, name, id2, i, group, timing || inherit(node, id2));
      }
    }
  }
  return new Transition(groups, this._parents, name, id2);
}

// node_modules/d3-transition/src/selection/index.js
selection_default.prototype.interrupt = interrupt_default2;
selection_default.prototype.transition = transition_default2;

// node_modules/d3-brush/src/brush.js
var { abs, max, min } = Math;
function number1(e) {
  return [+e[0], +e[1]];
}
function number2(e) {
  return [number1(e[0]), number1(e[1])];
}
var X = {
  name: "x",
  handles: ["w", "e"].map(type),
  input: function(x, e) {
    return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]];
  },
  output: function(xy) {
    return xy && [xy[0][0], xy[1][0]];
  }
};
var Y = {
  name: "y",
  handles: ["n", "s"].map(type),
  input: function(y, e) {
    return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]];
  },
  output: function(xy) {
    return xy && [xy[0][1], xy[1][1]];
  }
};
var XY = {
  name: "xy",
  handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(type),
  input: function(xy) {
    return xy == null ? null : number2(xy);
  },
  output: function(xy) {
    return xy;
  }
};
function type(t) {
  return { type: t };
}

// node_modules/d3-hierarchy/src/hierarchy/count.js
function count(node) {
  var sum = 0, children2 = node.children, i = children2 && children2.length;
  if (!i) sum = 1;
  else while (--i >= 0) sum += children2[i].value;
  node.value = sum;
}
function count_default() {
  return this.eachAfter(count);
}

// node_modules/d3-hierarchy/src/hierarchy/each.js
function each_default2(callback, that) {
  let index = -1;
  for (const node of this) {
    callback.call(that, node, ++index, this);
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/eachBefore.js
function eachBefore_default(callback, that) {
  var node = this, nodes = [node], children2, i, index = -1;
  while (node = nodes.pop()) {
    callback.call(that, node, ++index, this);
    if (children2 = node.children) {
      for (i = children2.length - 1; i >= 0; --i) {
        nodes.push(children2[i]);
      }
    }
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/eachAfter.js
function eachAfter_default(callback, that) {
  var node = this, nodes = [node], next = [], children2, i, n, index = -1;
  while (node = nodes.pop()) {
    next.push(node);
    if (children2 = node.children) {
      for (i = 0, n = children2.length; i < n; ++i) {
        nodes.push(children2[i]);
      }
    }
  }
  while (node = next.pop()) {
    callback.call(that, node, ++index, this);
  }
  return this;
}

// node_modules/d3-hierarchy/src/hierarchy/find.js
function find_default(callback, that) {
  let index = -1;
  for (const node of this) {
    if (callback.call(that, node, ++index, this)) {
      return node;
    }
  }
}

// node_modules/d3-hierarchy/src/hierarchy/sum.js
function sum_default(value) {
  return this.eachAfter(function(node) {
    var sum = +value(node.data) || 0, children2 = node.children, i = children2 && children2.length;
    while (--i >= 0) sum += children2[i].value;
    node.value = sum;
  });
}

// node_modules/d3-hierarchy/src/hierarchy/sort.js
function sort_default2(compare) {
  return this.eachBefore(function(node) {
    if (node.children) {
      node.children.sort(compare);
    }
  });
}

// node_modules/d3-hierarchy/src/hierarchy/path.js
function path_default(end) {
  var start2 = this, ancestor = leastCommonAncestor(start2, end), nodes = [start2];
  while (start2 !== ancestor) {
    start2 = start2.parent;
    nodes.push(start2);
  }
  var k = nodes.length;
  while (end !== ancestor) {
    nodes.splice(k, 0, end);
    end = end.parent;
  }
  return nodes;
}
function leastCommonAncestor(a, b) {
  if (a === b) return a;
  var aNodes = a.ancestors(), bNodes = b.ancestors(), c = null;
  a = aNodes.pop();
  b = bNodes.pop();
  while (a === b) {
    c = a;
    a = aNodes.pop();
    b = bNodes.pop();
  }
  return c;
}

// node_modules/d3-hierarchy/src/hierarchy/ancestors.js
function ancestors_default() {
  var node = this, nodes = [node];
  while (node = node.parent) {
    nodes.push(node);
  }
  return nodes;
}

// node_modules/d3-hierarchy/src/hierarchy/descendants.js
function descendants_default() {
  return Array.from(this);
}

// node_modules/d3-hierarchy/src/hierarchy/leaves.js
function leaves_default() {
  var leaves = [];
  this.eachBefore(function(node) {
    if (!node.children) {
      leaves.push(node);
    }
  });
  return leaves;
}

// node_modules/d3-hierarchy/src/hierarchy/links.js
function links_default() {
  var root2 = this, links = [];
  root2.each(function(node) {
    if (node !== root2) {
      links.push({ source: node.parent, target: node });
    }
  });
  return links;
}

// node_modules/d3-hierarchy/src/hierarchy/iterator.js
function* iterator_default2() {
  var node = this, current, next = [node], children2, i, n;
  do {
    current = next.reverse(), next = [];
    while (node = current.pop()) {
      yield node;
      if (children2 = node.children) {
        for (i = 0, n = children2.length; i < n; ++i) {
          next.push(children2[i]);
        }
      }
    }
  } while (next.length);
}

// node_modules/d3-hierarchy/src/hierarchy/index.js
function hierarchy(data, children2) {
  if (data instanceof Map) {
    data = [void 0, data];
    if (children2 === void 0) children2 = mapChildren;
  } else if (children2 === void 0) {
    children2 = objectChildren;
  }
  var root2 = new Node2(data), node, nodes = [root2], child, childs, i, n;
  while (node = nodes.pop()) {
    if ((childs = children2(node.data)) && (n = (childs = Array.from(childs)).length)) {
      node.children = childs;
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = childs[i] = new Node2(childs[i]));
        child.parent = node;
        child.depth = node.depth + 1;
      }
    }
  }
  return root2.eachBefore(computeHeight);
}
function node_copy() {
  return hierarchy(this).eachBefore(copyData);
}
function objectChildren(d) {
  return d.children;
}
function mapChildren(d) {
  return Array.isArray(d) ? d[1] : null;
}
function copyData(node) {
  if (node.data.value !== void 0) node.value = node.data.value;
  node.data = node.data.data;
}
function computeHeight(node) {
  var height = 0;
  do
    node.height = height;
  while ((node = node.parent) && node.height < ++height);
}
function Node2(data) {
  this.data = data;
  this.depth = this.height = 0;
  this.parent = null;
}
Node2.prototype = hierarchy.prototype = {
  constructor: Node2,
  count: count_default,
  each: each_default2,
  eachAfter: eachAfter_default,
  eachBefore: eachBefore_default,
  find: find_default,
  sum: sum_default,
  sort: sort_default2,
  path: path_default,
  ancestors: ancestors_default,
  descendants: descendants_default,
  leaves: leaves_default,
  links: links_default,
  copy: node_copy,
  [Symbol.iterator]: iterator_default2
};

// node_modules/d3-hierarchy/src/tree.js
function defaultSeparation(a, b) {
  return a.parent === b.parent ? 1 : 2;
}
function nextLeft(v) {
  var children2 = v.children;
  return children2 ? children2[0] : v.t;
}
function nextRight(v) {
  var children2 = v.children;
  return children2 ? children2[children2.length - 1] : v.t;
}
function moveSubtree(wm, wp, shift) {
  var change = shift / (wp.i - wm.i);
  wp.c -= change;
  wp.s += shift;
  wm.c += change;
  wp.z += shift;
  wp.m += shift;
}
function executeShifts(v) {
  var shift = 0, change = 0, children2 = v.children, i = children2.length, w;
  while (--i >= 0) {
    w = children2[i];
    w.z += shift;
    w.m += shift;
    shift += w.s + (change += w.c);
  }
}
function nextAncestor(vim, v, ancestor) {
  return vim.a.parent === v.parent ? vim.a : ancestor;
}
function TreeNode(node, i) {
  this._ = node;
  this.parent = null;
  this.children = null;
  this.A = null;
  this.a = this;
  this.z = 0;
  this.m = 0;
  this.c = 0;
  this.s = 0;
  this.t = null;
  this.i = i;
}
TreeNode.prototype = Object.create(Node2.prototype);
function treeRoot(root2) {
  var tree = new TreeNode(root2, 0), node, nodes = [tree], child, children2, i, n;
  while (node = nodes.pop()) {
    if (children2 = node._.children) {
      node.children = new Array(n = children2.length);
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = node.children[i] = new TreeNode(children2[i], i));
        child.parent = node;
      }
    }
  }
  (tree.parent = new TreeNode(null, 0)).children = [tree];
  return tree;
}
function tree_default() {
  var separation = defaultSeparation, dx = 1, dy = 1, nodeSize = null;
  function tree(root2) {
    var t = treeRoot(root2);
    t.eachAfter(firstWalk), t.parent.m = -t.z;
    t.eachBefore(secondWalk);
    if (nodeSize) root2.eachBefore(sizeNode);
    else {
      var left = root2, right = root2, bottom = root2;
      root2.eachBefore(function(node) {
        if (node.x < left.x) left = node;
        if (node.x > right.x) right = node;
        if (node.depth > bottom.depth) bottom = node;
      });
      var s = left === right ? 1 : separation(left, right) / 2, tx = s - left.x, kx = dx / (right.x + s + tx), ky = dy / (bottom.depth || 1);
      root2.eachBefore(function(node) {
        node.x = (node.x + tx) * kx;
        node.y = node.depth * ky;
      });
    }
    return root2;
  }
  function firstWalk(v) {
    var children2 = v.children, siblings = v.parent.children, w = v.i ? siblings[v.i - 1] : null;
    if (children2) {
      executeShifts(v);
      var midpoint = (children2[0].z + children2[children2.length - 1].z) / 2;
      if (w) {
        v.z = w.z + separation(v._, w._);
        v.m = v.z - midpoint;
      } else {
        v.z = midpoint;
      }
    } else if (w) {
      v.z = w.z + separation(v._, w._);
    }
    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);
  }
  function secondWalk(v) {
    v._.x = v.z + v.parent.m;
    v.m += v.parent.m;
  }
  function apportion(v, w, ancestor) {
    if (w) {
      var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;
      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {
        vom = nextLeft(vom);
        vop = nextRight(vop);
        vop.a = v;
        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);
        if (shift > 0) {
          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);
          sip += shift;
          sop += shift;
        }
        sim += vim.m;
        sip += vip.m;
        som += vom.m;
        sop += vop.m;
      }
      if (vim && !nextRight(vop)) {
        vop.t = vim;
        vop.m += sim - sop;
      }
      if (vip && !nextLeft(vom)) {
        vom.t = vip;
        vom.m += sip - som;
        ancestor = v;
      }
    }
    return ancestor;
  }
  function sizeNode(node) {
    node.x *= dx;
    node.y = node.depth * dy;
  }
  tree.separation = function(x) {
    return arguments.length ? (separation = x, tree) : separation;
  };
  tree.size = function(x) {
    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : nodeSize ? null : [dx, dy];
  };
  tree.nodeSize = function(x) {
    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : nodeSize ? [dx, dy] : null;
  };
  return tree;
}

// node_modules/d3-zoom/src/constant.js
var constant_default4 = (x) => () => x;

// node_modules/d3-zoom/src/event.js
function ZoomEvent(type2, {
  sourceEvent,
  target,
  transform: transform2,
  dispatch: dispatch2
}) {
  Object.defineProperties(this, {
    type: { value: type2, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    transform: { value: transform2, enumerable: true, configurable: true },
    _: { value: dispatch2 }
  });
}

// node_modules/d3-zoom/src/transform.js
function Transform(k, x, y) {
  this.k = k;
  this.x = x;
  this.y = y;
}
Transform.prototype = {
  constructor: Transform,
  scale: function(k) {
    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);
  },
  translate: function(x, y) {
    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);
  },
  apply: function(point) {
    return [point[0] * this.k + this.x, point[1] * this.k + this.y];
  },
  applyX: function(x) {
    return x * this.k + this.x;
  },
  applyY: function(y) {
    return y * this.k + this.y;
  },
  invert: function(location) {
    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];
  },
  invertX: function(x) {
    return (x - this.x) / this.k;
  },
  invertY: function(y) {
    return (y - this.y) / this.k;
  },
  rescaleX: function(x) {
    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));
  },
  rescaleY: function(y) {
    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};
var identity2 = new Transform(1, 0, 0);
transform.prototype = Transform.prototype;
function transform(node) {
  while (!node.__zoom) if (!(node = node.parentNode)) return identity2;
  return node.__zoom;
}

// node_modules/d3-zoom/src/noevent.js
function nopropagation2(event) {
  event.stopImmediatePropagation();
}
function noevent_default3(event) {
  event.preventDefault();
  event.stopImmediatePropagation();
}

// node_modules/d3-zoom/src/zoom.js
function defaultFilter(event) {
  return (!event.ctrlKey || event.type === "wheel") && !event.button;
}
function defaultExtent() {
  var e = this;
  if (e instanceof SVGElement) {
    e = e.ownerSVGElement || e;
    if (e.hasAttribute("viewBox")) {
      e = e.viewBox.baseVal;
      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];
    }
    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];
  }
  return [[0, 0], [e.clientWidth, e.clientHeight]];
}
function defaultTransform() {
  return this.__zoom || identity2;
}
function defaultWheelDelta(event) {
  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);
}
function defaultTouchable() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function defaultConstrain(transform2, extent, translateExtent) {
  var dx0 = transform2.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform2.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform2.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform2.invertY(extent[1][1]) - translateExtent[1][1];
  return transform2.translate(
    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),
    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)
  );
}
function zoom_default2() {
  var filter2 = defaultFilter, extent = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate = zoom_default, listeners = dispatch_default("start", "zoom", "end"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;
  function zoom(selection2) {
    selection2.property("__zoom", defaultTransform).on("wheel.zoom", wheeled, { passive: false }).on("mousedown.zoom", mousedowned).on("dblclick.zoom", dblclicked).filter(touchable).on("touchstart.zoom", touchstarted).on("touchmove.zoom", touchmoved).on("touchend.zoom touchcancel.zoom", touchended).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  zoom.transform = function(collection, transform2, point, event) {
    var selection2 = collection.selection ? collection.selection() : collection;
    selection2.property("__zoom", defaultTransform);
    if (collection !== selection2) {
      schedule(collection, transform2, point, event);
    } else {
      selection2.interrupt().each(function() {
        gesture(this, arguments).event(event).start().zoom(null, typeof transform2 === "function" ? transform2.apply(this, arguments) : transform2).end();
      });
    }
  };
  zoom.scaleBy = function(selection2, k, p, event) {
    zoom.scaleTo(selection2, function() {
      var k0 = this.__zoom.k, k1 = typeof k === "function" ? k.apply(this, arguments) : k;
      return k0 * k1;
    }, p, event);
  };
  zoom.scaleTo = function(selection2, k, p, event) {
    zoom.transform(selection2, function() {
      var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === "function" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === "function" ? k.apply(this, arguments) : k;
      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);
    }, p, event);
  };
  zoom.translateBy = function(selection2, x, y, event) {
    zoom.transform(selection2, function() {
      return constrain(this.__zoom.translate(
        typeof x === "function" ? x.apply(this, arguments) : x,
        typeof y === "function" ? y.apply(this, arguments) : y
      ), extent.apply(this, arguments), translateExtent);
    }, null, event);
  };
  zoom.translateTo = function(selection2, x, y, p, event) {
    zoom.transform(selection2, function() {
      var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === "function" ? p.apply(this, arguments) : p;
      return constrain(identity2.translate(p0[0], p0[1]).scale(t.k).translate(
        typeof x === "function" ? -x.apply(this, arguments) : -x,
        typeof y === "function" ? -y.apply(this, arguments) : -y
      ), e, translateExtent);
    }, p, event);
  };
  function scale(transform2, k) {
    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));
    return k === transform2.k ? transform2 : new Transform(k, transform2.x, transform2.y);
  }
  function translate(transform2, p0, p1) {
    var x = p0[0] - p1[0] * transform2.k, y = p0[1] - p1[1] * transform2.k;
    return x === transform2.x && y === transform2.y ? transform2 : new Transform(transform2.k, x, y);
  }
  function centroid(extent2) {
    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];
  }
  function schedule(transition2, transform2, point, event) {
    transition2.on("start.zoom", function() {
      gesture(this, arguments).event(event).start();
    }).on("interrupt.zoom end.zoom", function() {
      gesture(this, arguments).event(event).end();
    }).tween("zoom", function() {
      var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === "function" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform2 === "function" ? transform2.apply(that, args) : transform2, i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));
      return function(t) {
        if (t === 1) t = b;
        else {
          var l = i(t), k = w / l[2];
          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);
        }
        g.zoom(null, t);
      };
    });
  }
  function gesture(that, args, clean) {
    return !clean && that.__zooming || new Gesture(that, args);
  }
  function Gesture(that, args) {
    this.that = that;
    this.args = args;
    this.active = 0;
    this.sourceEvent = null;
    this.extent = extent.apply(that, args);
    this.taps = 0;
  }
  Gesture.prototype = {
    event: function(event) {
      if (event) this.sourceEvent = event;
      return this;
    },
    start: function() {
      if (++this.active === 1) {
        this.that.__zooming = this;
        this.emit("start");
      }
      return this;
    },
    zoom: function(key, transform2) {
      if (this.mouse && key !== "mouse") this.mouse[1] = transform2.invert(this.mouse[0]);
      if (this.touch0 && key !== "touch") this.touch0[1] = transform2.invert(this.touch0[0]);
      if (this.touch1 && key !== "touch") this.touch1[1] = transform2.invert(this.touch1[0]);
      this.that.__zoom = transform2;
      this.emit("zoom");
      return this;
    },
    end: function() {
      if (--this.active === 0) {
        delete this.that.__zooming;
        this.emit("end");
      }
      return this;
    },
    emit: function(type2) {
      var d = select_default2(this.that).datum();
      listeners.call(
        type2,
        this.that,
        new ZoomEvent(type2, {
          sourceEvent: this.sourceEvent,
          target: zoom,
          type: type2,
          transform: this.that.__zoom,
          dispatch: listeners
        }),
        d
      );
    }
  };
  function wheeled(event, ...args) {
    if (!filter2.apply(this, arguments)) return;
    var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = pointer_default(event);
    if (g.wheel) {
      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {
        g.mouse[1] = t.invert(g.mouse[0] = p);
      }
      clearTimeout(g.wheel);
    } else if (t.k === k) return;
    else {
      g.mouse = [p, t.invert(p)];
      interrupt_default(this);
      g.start();
    }
    noevent_default3(event);
    g.wheel = setTimeout(wheelidled, wheelDelay);
    g.zoom("mouse", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));
    function wheelidled() {
      g.wheel = null;
      g.end();
    }
  }
  function mousedowned(event, ...args) {
    if (touchending || !filter2.apply(this, arguments)) return;
    var currentTarget = event.currentTarget, g = gesture(this, args, true).event(event), v = select_default2(event.view).on("mousemove.zoom", mousemoved, true).on("mouseup.zoom", mouseupped, true), p = pointer_default(event, currentTarget), x0 = event.clientX, y0 = event.clientY;
    nodrag_default(event.view);
    nopropagation2(event);
    g.mouse = [p, this.__zoom.invert(p)];
    interrupt_default(this);
    g.start();
    function mousemoved(event2) {
      noevent_default3(event2);
      if (!g.moved) {
        var dx = event2.clientX - x0, dy = event2.clientY - y0;
        g.moved = dx * dx + dy * dy > clickDistance2;
      }
      g.event(event2).zoom("mouse", constrain(translate(g.that.__zoom, g.mouse[0] = pointer_default(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));
    }
    function mouseupped(event2) {
      v.on("mousemove.zoom mouseup.zoom", null);
      yesdrag(event2.view, g.moved);
      noevent_default3(event2);
      g.event(event2).end();
    }
  }
  function dblclicked(event, ...args) {
    if (!filter2.apply(this, arguments)) return;
    var t0 = this.__zoom, p0 = pointer_default(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);
    noevent_default3(event);
    if (duration > 0) select_default2(this).transition().duration(duration).call(schedule, t1, p0, event);
    else select_default2(this).call(zoom.transform, t1, p0, event);
  }
  function touchstarted(event, ...args) {
    if (!filter2.apply(this, arguments)) return;
    var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i, t, p;
    nopropagation2(event);
    for (i = 0; i < n; ++i) {
      t = touches[i], p = pointer_default(t, this);
      p = [p, this.__zoom.invert(p), t.identifier];
      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;
      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;
    }
    if (touchstarting) touchstarting = clearTimeout(touchstarting);
    if (started) {
      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() {
        touchstarting = null;
      }, touchDelay);
      interrupt_default(this);
      g.start();
    }
  }
  function touchmoved(event, ...args) {
    if (!this.__zooming) return;
    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t, p, l;
    noevent_default3(event);
    for (i = 0; i < n; ++i) {
      t = touches[i], p = pointer_default(t, this);
      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;
      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;
    }
    t = g.that.__zoom;
    if (g.touch1) {
      var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;
      t = scale(t, Math.sqrt(dp / dl));
      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];
      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];
    } else if (g.touch0) p = g.touch0[0], l = g.touch0[1];
    else return;
    g.zoom("touch", constrain(translate(t, p, l), g.extent, translateExtent));
  }
  function touchended(event, ...args) {
    if (!this.__zooming) return;
    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t;
    nopropagation2(event);
    if (touchending) clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, touchDelay);
    for (i = 0; i < n; ++i) {
      t = touches[i];
      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;
      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;
    }
    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;
    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);
    else {
      g.end();
      if (g.taps === 2) {
        t = pointer_default(t, this);
        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {
          var p = select_default2(this).on("dblclick.zoom");
          if (p) p.apply(this, arguments);
        }
      }
    }
  }
  zoom.wheelDelta = function(_) {
    return arguments.length ? (wheelDelta = typeof _ === "function" ? _ : constant_default4(+_), zoom) : wheelDelta;
  };
  zoom.filter = function(_) {
    return arguments.length ? (filter2 = typeof _ === "function" ? _ : constant_default4(!!_), zoom) : filter2;
  };
  zoom.touchable = function(_) {
    return arguments.length ? (touchable = typeof _ === "function" ? _ : constant_default4(!!_), zoom) : touchable;
  };
  zoom.extent = function(_) {
    return arguments.length ? (extent = typeof _ === "function" ? _ : constant_default4([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;
  };
  zoom.scaleExtent = function(_) {
    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];
  };
  zoom.translateExtent = function(_) {
    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];
  };
  zoom.constrain = function(_) {
    return arguments.length ? (constrain = _, zoom) : constrain;
  };
  zoom.duration = function(_) {
    return arguments.length ? (duration = +_, zoom) : duration;
  };
  zoom.interpolate = function(_) {
    return arguments.length ? (interpolate = _, zoom) : interpolate;
  };
  zoom.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? zoom : value;
  };
  zoom.clickDistance = function(_) {
    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);
  };
  zoom.tapDistance = function(_) {
    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;
  };
  return zoom;
}

// src/managers/UndoManager.ts
var UndoManager = class {
  constructor() {
    this.undoStack = [];
    this.redoStack = [];
    this.MAX_STACK_SIZE = 5;
  }
  /**
   * Save current state as a snapshot before modification
   */
  saveSnapshot(data) {
    const snapshot = {
      rootNode: data.rootNode ? this.deepCloneNode(data.rootNode) : null,
      allNodes: data.allNodes.map((node) => this.deepCloneNode(node)),
      maxLevel: data.maxLevel
    };
    if (snapshot.rootNode) {
      this.rebuildParentReferences(snapshot.rootNode);
    }
    this.undoStack.push(snapshot);
    if (this.undoStack.length > this.MAX_STACK_SIZE) {
      this.undoStack.shift();
    }
    this.redoStack = [];
  }
  /**
   * Undo to previous state
   * @param currentState The current state to save before undoing
   * @returns The previous state, or null if nothing to undo
   */
  undo(currentState) {
    if (this.undoStack.length === 0) {
      return null;
    }
    const snapshot = {
      rootNode: currentState.rootNode ? this.deepCloneNode(currentState.rootNode) : null,
      allNodes: currentState.allNodes.map((node) => this.deepCloneNode(node)),
      maxLevel: currentState.maxLevel
    };
    if (snapshot.rootNode) {
      this.rebuildParentReferences(snapshot.rootNode);
    }
    this.redoStack.push(snapshot);
    return this.undoStack.pop() || null;
  }
  /**
   * Redo to next state
   * @param currentState The current state to save before redoing
   * @returns The next state, or null if nothing to redo
   */
  redo(currentState) {
    if (this.redoStack.length === 0) {
      return null;
    }
    const snapshot = {
      rootNode: currentState.rootNode ? this.deepCloneNode(currentState.rootNode) : null,
      allNodes: currentState.allNodes.map((node) => this.deepCloneNode(node)),
      maxLevel: currentState.maxLevel
    };
    if (snapshot.rootNode) {
      this.rebuildParentReferences(snapshot.rootNode);
    }
    this.undoStack.push(snapshot);
    return this.redoStack.pop() || null;
  }
  /**
   * Check if undo is available
   */
  canUndo() {
    return this.undoStack.length > 0;
  }
  /**
   * Check if redo is available
   */
  canRedo() {
    return this.redoStack.length > 0;
  }
  /**
   * Get undo stack size (for debugging/UI display)
   */
  getUndoCount() {
    return this.undoStack.length;
  }
  /**
   * Get redo stack size (for debugging/UI display)
   */
  getRedoCount() {
    return this.redoStack.length;
  }
  /**
   * Clear all history (called when loading new file)
   */
  clearHistory() {
    this.undoStack = [];
    this.redoStack = [];
  }
  /**
   * Deep clone a MindMapNode recursively
   */
  deepCloneNode(node) {
    const clone = { ...node };
    if (node.children && Array.isArray(node.children)) {
      clone.children = node.children.map((child) => this.deepCloneNode(child));
    }
    clone.parent = null;
    return clone;
  }
  /**
   * Rebuild parent references for all nodes in the tree
   * This must be called after deep cloning to restore parent links
   */
  rebuildParentReferences(node) {
    if (!node || !node.children || !Array.isArray(node.children)) {
      return;
    }
    for (const child of node.children) {
      child.parent = node;
      this.rebuildParentReferences(child);
    }
  }
};

// src/constants/mindmap-constants.ts
var MINDMAP_IDENTIFIER = "#mindmap";
var MARKDOWN_EXTENSION = "md";
var LAYOUT_CONSTANTS = {
  // Spacing constants
  MIN_NODE_GAP: 25,
  // 
  HORIZONTAL_SPACING: 220,
  // 
  VERTICAL_SPACING: 110,
  // 
  MIN_VERTICAL_GAP: 25,
  // 
  // 
  ADAPTIVE_HORIZONTAL_SPACING: {
    MIN_SPACING: 80,
    // 
    MAX_SPACING: 300,
    // 
    SOURCE_NODE_RATIO: 0.15,
    // 
    TARGET_NODE_RATIO: 0.1,
    // 
    BASE_SPACING: 60,
    // 
    SAFETY_MARGIN: 10
    // 
  },
  // Canvas dimensions (will become dynamic)
  TREE_HEIGHT: 800,
  // 
  TREE_WIDTH: 1400,
  // 
  CANVAS_WIDTH: 1600,
  // 
  CANVAS_HEIGHT: 1e3,
  // 
  // Node spacing
  NODE_HEIGHT_BUFFER: 15,
  // 
  // Centering calculations
  CENTER_OFFSET_X: (1600 - 1600) / 2,
  // 
  CENTER_OFFSET_Y: (1e3 - 1e3) / 2
  // 
};
var STYLE_CONSTANTS = {
  // Font sizes by node level
  ROOT_FONT_SIZE: "20px",
  // 
  LEVEL_1_FONT_SIZE: "18px",
  // 
  DEFAULT_FONT_SIZE: "15px",
  // 13px15px
  // Additional font sizes for UI components
  TEXT_MEASUREMENT_FONT_SIZE: "14px",
  // 
  INTERACTION_UI_FONT_SIZE: "14px",
  // UI
  // Node dimensions
  ROOT_NODE_MIN_WIDTH: 120,
  // 
  NODE_MIN_WIDTH: 100,
  // 
  // Text calculations
  CHAR_WIDTH_RATIO: 0.62,
  // 
  // Timing constants
  RENDER_FRAME_DELAY: 16
  // 
};
var getFontSizeByDepth = (depth) => {
  switch (depth) {
    case 0:
      return STYLE_CONSTANTS.ROOT_FONT_SIZE;
    case 1:
      return STYLE_CONSTANTS.LEVEL_1_FONT_SIZE;
    default:
      return STYLE_CONSTANTS.DEFAULT_FONT_SIZE;
  }
};
var getNumericFontSizeByDepth = (depth) => {
  return parseInt(getFontSizeByDepth(depth).replace("px", ""));
};
var COLOR_CONSTANTS = {
  // Default node colors by level
  ROOT_NODE_COLOR: "#4CAF50",
  // 
  LEVEL_1_COLOR: "#2196F3",
  // 
  DEFAULT_NODE_COLOR: "#666666",
  // 
  // Selection colors
  SELECTED_NODE_COLOR: "#FF9800",
  // 
  HOVER_NODE_COLOR: "#FFC107",
  // 
  // Link colors
  LINK_COLOR: "#999999",
  // 
  LINK_WIDTH: 2
  // 
};
var ANIMATION_CONSTANTS = {
  // Transition durations (in milliseconds)
  FAST_TRANSITION: 150,
  // 
  NORMAL_TRANSITION: 300,
  // 
  SLOW_TRANSITION: 500,
  // 
  // Easing functions
  EASING_DEFAULT: "ease-in-out",
  // 
  EASING_ELASTIC: "elastic"
  // 
};
var PERFORMANCE_CONSTANTS = {
  // Rendering thresholds
  MAX_NODES_BEFORE_VIRTUALIZATION: 500,
  // 
  // Debounce delays (in milliseconds)
  RENDER_DEBOUNCE_DELAY: 100,
  // 
  INPUT_DEBOUNCE_DELAY: 300,
  // 
  // Cache settings
  MAX_CACHE_SIZE: 1e3,
  // 
  CACHE_EXPIRY_TIME: 3e5
  // 5
};
var VALIDATION_CONSTANTS = {
  // Text validation
  MAX_TEXT_LENGTH: 500,
  // 
  INVALID_CHARACTERS: ["	"],
  // 
  // File validation
  MAX_FILE_SIZE: 1024 * 1024
  // 1MB
};

// src/utils/mindmap-utils.ts
function cleanTextContent(text) {
  if (!text) return "";
  return text.replace(/\[([a-zA-Z_][a-zA-Z0-9_]*:[^\]]+)\]/g, "").trim();
}
function getFileNameWithoutExtension(filePath) {
  if (!filePath) return "Untitled";
  const fileName = filePath.replace(/^.*[\\/]/, "");
  return fileName.replace(/\.md$/, "");
}
function isListItem(line) {
  return /^[ \t]*[*\-+]\s+\S/.test(line) || /^[ \t]*\d+\.\s+\S/.test(line);
}
function parseListItem(line) {
  const match = line.match(/^(\s*)([*\-+]?\d*\.?)\s+(.+)$/);
  if (!match) return null;
  const [, indent, , content] = match;
  const level = Math.floor(indent.length / 4);
  return {
    level,
    content: cleanTextContent(content),
    indent
  };
}
function generateMarkdownFromNodes(rootNode) {
  let markdown = MINDMAP_IDENTIFIER + "\n\n";
  const generateNodeMarkdown = (node, indentLevel) => {
    if (node.level === 0) return;
    const indent = "    ".repeat(indentLevel - 1);
    const listPrefix = "*";
    const lines = node.text.split("\n");
    markdown += `${indent}${listPrefix} ${lines[0]}
`;
    const continuationIndent = indent + "  ";
    for (let i = 1; i < lines.length; i++) {
      markdown += `${continuationIndent}${lines[i]}
`;
    }
    for (const child of node.children) {
      generateNodeMarkdown(child, indentLevel + 1);
    }
  };
  for (const child of rootNode.children) {
    generateNodeMarkdown(child, child.level);
  }
  return markdown;
}
function parseMarkdownContent(content, filePath) {
  const lines = content.replace(/^#mindmap\s*\n?/, "").split("\n");
  const allNodes = [];
  const nodeStack = [];
  let maxLevel = 0;
  let rootNode = null;
  let lastNode = null;
  let lastIndentLength = 0;
  const fileName = getFileNameWithoutExtension(filePath);
  rootNode = {
    text: fileName,
    level: 0,
    parent: null,
    children: [],
    expanded: true
  };
  allNodes.push(rootNode);
  nodeStack.push(rootNode);
  for (const line of lines) {
    if (!line.trim()) continue;
    if (isListItem(line)) {
      const parsed = parseListItem(line);
      if (!parsed) continue;
      const { level, content: content2, indent } = parsed;
      const newNode = {
        text: content2,
        level: level + 1,
        // +1  level 0
        parent: null,
        children: [],
        expanded: true
      };
      while (nodeStack.length > level + 1) {
        nodeStack.pop();
      }
      const parentNode = nodeStack[nodeStack.length - 1];
      if (parentNode) {
        newNode.parent = parentNode;
        parentNode.children.push(newNode);
      }
      allNodes.push(newNode);
      nodeStack.push(newNode);
      lastNode = newNode;
      lastIndentLength = indent.length;
      maxLevel = Math.max(maxLevel, newNode.level);
    } else {
      const currentIndent = line.match(/^\s*/)?.[0].length || 0;
      if (lastNode && currentIndent > lastIndentLength) {
        const lineContent = line.trim();
        if (lineContent) {
          lastNode.text = lastNode.text + "\n" + lineContent;
        }
        continue;
      }
    }
  }
  return {
    rootNode,
    allNodes,
    maxLevel
  };
}
function isMindMapFile(content, extension) {
  return extension === MARKDOWN_EXTENSION && content.trim().startsWith(MINDMAP_IDENTIFIER);
}

// src/utils/TextMeasurer.ts
function setCssProps(element, props) {
  Object.assign(element.style, props);
}
var TextMeasurer = class {
  constructor() {
    // Text measurement element (hidden DOM element for accurate measurement)
    this.textMeasurementElement = null;
    // Text measurement cache
    this.textMeasurementCache = /* @__PURE__ */ new Map();
    // Node dimension cache
    this.nodeDimensionsCache = /* @__PURE__ */ new Map();
  }
  /**
   * Accurately measure text dimensions
   *
   * Use hidden DOM elements to accurately measure text width and height, with cache support
   *
   * @param text Text to measure
   * @param fontSize Font size (pixels)
   * @param fontWeight Font weight (normal/bold, etc.)
   * @returns Text width and height dimensions
   */
  measureTextAccurately(text, fontSize, fontWeight = "normal") {
    const cacheKey = `${text}-${fontSize}-${fontWeight}`;
    if (this.textMeasurementCache.has(cacheKey)) {
      const cached = this.textMeasurementCache.get(cacheKey);
      if (cached) {
        return cached;
      }
    }
    this.initializeTextMeasurementElement();
    if (this.textMeasurementElement) {
      setCssProps(this.textMeasurementElement, {
        fontSize: `${fontSize}px`,
        fontWeight
      });
      this.textMeasurementElement.textContent = text;
      const rect = this.textMeasurementElement.getBoundingClientRect();
      const result = {
        width: rect.width,
        height: rect.height
      };
      this.textMeasurementCache.set(cacheKey, result);
      return result;
    }
    const charWidth = fontSize * 0.62;
    const lineHeight = fontSize * 1.2;
    return {
      width: text.length * charWidth,
      height: lineHeight
    };
  }
  /**
   * Smart text wrapping
   *
   * Automatically wrap based on max width, or keep single line display
   *
   * @param text Original text
   * @param maxWidth Maximum width (null means no width limit)
   * @param fontSize Font size
   * @returns Wrapped text array
   */
  wrapText(text, maxWidth, fontSize) {
    if (!text || text.length === 0) return [""];
    if (maxWidth === null) {
      if (text.includes("\n")) {
        const lines2 = text.split("\n");
        return lines2;
      }
      return [text];
    }
    const charWidth = fontSize * 0.62;
    const maxChars = Math.floor(maxWidth / charWidth);
    if (text.length <= maxChars) {
      return [text];
    }
    const words = text.split(" ");
    const lines = [];
    let currentLine = "";
    for (const word of words) {
      const testLine = currentLine ? `${currentLine} ${word}` : word;
      if (testLine.length <= maxChars) {
        currentLine = testLine;
      } else {
        if (currentLine) {
          lines.push(currentLine);
        }
        currentLine = word;
      }
    }
    if (currentLine) {
      lines.push(currentLine);
    }
    return lines.length > 0 ? lines : [text.substring(0, maxChars)];
  }
  /**
   * Measure multi-line text dimensions (improved version)
   *
   * @param lines Text line array
   * @param fontSize Font size
   * @param fontWeight Font weight
   * @returns Total text width and height
   */
  measureTextSize(lines, fontSize, fontWeight = "normal") {
    if (lines.length === 0) {
      return { width: 40, height: fontSize * 1.3 };
    }
    const lineHeight = fontSize * 1.3;
    let maxWidth = 0;
    for (const line of lines) {
      const measurement = this.measureTextAccurately(line, fontSize, fontWeight);
      if (measurement.width > maxWidth) {
        maxWidth = measurement.width;
      }
    }
    const height = lines.length * lineHeight;
    const width = Math.max(maxWidth, 35);
    const result = { width: Math.ceil(width), height: Math.ceil(height) };
    return result;
  }
  /**
   * Get node dimension configuration (adaptive version)
   *
   * Calculate complete node dimension configuration based on node depth and text content
   * Including width, height, text position, font style, etc.
   *
   * @param depth Node depth (0=root, 1=first level, 2+=other levels)
   * @param text Node text content
   * @returns Node dimension configuration object
   */
  getNodeDimensions(depth, text) {
    const cacheKey = `${depth}-${text}-${text.length}`;
    if (this.nodeDimensionsCache.has(cacheKey)) {
      const cached = this.nodeDimensionsCache.get(cacheKey);
      if (cached) {
        return cached;
      }
    }
    const cleanedText = cleanTextContent(text);
    let fontSize;
    let fontWeight;
    let maxWidth;
    let minWidth;
    let padding;
    if (depth === 0) {
      fontSize = getFontSizeByDepth(0);
      fontWeight = "bold";
      maxWidth = null;
      minWidth = 40;
      padding = 18;
    } else if (depth === 1) {
      fontSize = getFontSizeByDepth(1);
      fontWeight = "bold";
      maxWidth = null;
      minWidth = 38;
      padding = 16;
    } else {
      fontSize = getFontSizeByDepth(depth);
      fontWeight = "normal";
      maxWidth = null;
      minWidth = 20;
      padding = 10;
    }
    const fontSizeNum = parseInt(fontSize);
    const effectiveMaxWidth = maxWidth !== null ? maxWidth - padding * 2 : null;
    const lines = this.wrapText(cleanedText, effectiveMaxWidth, fontSizeNum);
    const textSize = this.measureTextSize(lines, fontSizeNum, fontWeight);
    const safetyBuffer = Math.max(8, textSize.width * 0.05);
    const width = Math.max(textSize.width + padding * 2 + safetyBuffer, minWidth);
    const height = Math.max(textSize.height + padding * 2, fontSizeNum * 2);
    const textX = width / 2;
    const textY = textSize.height / 2 + padding / 2;
    const result = {
      width,
      height,
      textX,
      textY,
      fontSize,
      fontWeight,
      lines,
      padding,
      minWidth,
      maxWidth
    };
    this.nodeDimensionsCache.set(cacheKey, result);
    return result;
  }
  /**
   * Clear cache for specific text
   *
   * Clear related cache when text content is modified to avoid using stale data
   *
   * @param text Text to clear cache for
   */
  clearNodeDimensionsCacheForText(text) {
    const keysToDelete = [];
    for (const key of this.nodeDimensionsCache.keys()) {
      if (key.includes(text)) {
        keysToDelete.push(key);
      }
    }
    keysToDelete.forEach((key) => this.nodeDimensionsCache.delete(key));
    const textKeysToDelete = [];
    for (const key of this.textMeasurementCache.keys()) {
      if (key.includes(text)) {
        textKeysToDelete.push(key);
      }
    }
    textKeysToDelete.forEach((key) => this.textMeasurementCache.delete(key));
  }
  /**
   * Initialize text measurement element (private method)
   *
   * Create a hidden DOM element for accurately measuring text dimensions
   */
  initializeTextMeasurementElement() {
    if (!this.textMeasurementElement) {
      this.textMeasurementElement = document.createElement("div");
      this.textMeasurementElement.addClass("mindmap-text-measurer");
      document.body.appendChild(this.textMeasurementElement);
    }
  }
  /**
   * Destroy measurer, clean up resources
   *
   * Clean up hidden DOM elements and all caches
   */
  destroy() {
    if (this.textMeasurementElement && this.textMeasurementElement.parentNode) {
      this.textMeasurementElement.parentNode.removeChild(this.textMeasurementElement);
      this.textMeasurementElement = null;
    }
    this.textMeasurementCache.clear();
    this.nodeDimensionsCache.clear();
  }
};

// src/renderers/layout-calculator.ts
var LayoutCalculator = class {
  constructor(config = {}) {
    this.config = {
      minNodeGap: LAYOUT_CONSTANTS.MIN_NODE_GAP,
      horizontalSpacing: LAYOUT_CONSTANTS.HORIZONTAL_SPACING,
      verticalSpacing: LAYOUT_CONSTANTS.VERTICAL_SPACING,
      minVerticalGap: LAYOUT_CONSTANTS.MIN_VERTICAL_GAP,
      treeHeight: LAYOUT_CONSTANTS.TREE_HEIGHT,
      treeWidth: LAYOUT_CONSTANTS.TREE_WIDTH,
      nodeHeightBuffer: LAYOUT_CONSTANTS.NODE_HEIGHT_BUFFER,
      ...config
    };
  }
  /**
   * Create D3 tree layout
   */
  createTreeLayout() {
    return tree_default().nodeSize([this.config.minNodeGap, this.config.minNodeGap]).separation((a, b) => this.calculateDynamicSeparation(a, b));
  }
  /**
   * Calculate dynamic separation between nodes
   */
  calculateDynamicSeparation(a, b) {
    return (a.parent === b.parent ? 1 : 2) / a.depth;
  }
  /**
   * 
   * 
   * @param sourceWidth 
   * @param targetWidth 
   * @returns 
   */
  calculateAdaptiveHorizontalSpacing(sourceWidth, targetWidth) {
    const { ADAPTIVE_HORIZONTAL_SPACING } = LAYOUT_CONSTANTS;
    const sourceBasedSpacing = sourceWidth * ADAPTIVE_HORIZONTAL_SPACING.SOURCE_NODE_RATIO;
    const targetBasedSpacing = targetWidth * ADAPTIVE_HORIZONTAL_SPACING.TARGET_NODE_RATIO;
    const calculatedSpacing = Math.max(sourceBasedSpacing, targetBasedSpacing) + ADAPTIVE_HORIZONTAL_SPACING.BASE_SPACING;
    const finalSpacing = Math.max(
      ADAPTIVE_HORIZONTAL_SPACING.MIN_SPACING,
      Math.min(ADAPTIVE_HORIZONTAL_SPACING.MAX_SPACING, calculatedSpacing)
    );
    return finalSpacing + ADAPTIVE_HORIZONTAL_SPACING.SAFETY_MARGIN;
  }
  /**
   * 
   * @param node 
   * @returns 
   */
  estimateNodeDimensions(node) {
    const fontSize = 14;
    const charWidth = fontSize * 0.6;
    const padding = 15;
    const width = Math.max(100, node.text.length * charWidth + padding * 2);
    const height = fontSize + padding * 2;
    return {
      width,
      height,
      fontSize: `${fontSize}px`,
      padding
    };
  }
  /**
   * 
   * @param parentNode 
   * @param childNodes 
   * @returns 
   */
  calculateHorizontalSpacingForFamily(parentNode, childNodes) {
    const parentDimensions = this.estimateNodeDimensions(parentNode);
    if (!childNodes || childNodes.length === 0) {
      return this.calculateAdaptiveHorizontalSpacing(parentDimensions.width, 100);
    }
    let maxChildWidth = 0;
    for (const childNode of childNodes) {
      const childDimensions = this.estimateNodeDimensions(childNode);
      maxChildWidth = Math.max(maxChildWidth, childDimensions.width);
    }
    return this.calculateAdaptiveHorizontalSpacing(parentDimensions.width, maxChildWidth);
  }
  /**
   * 
   * @param root D3
   * @param nodeDimensionsCallback 
   */
  createCustomTreeLayout(root2, nodeDimensionsCallback) {
    this.createRecursiveTreeLayout(root2, nodeDimensionsCallback);
  }
  /**
   * 
   *
   * 
   *
   * 
   *
   * 
   *   Markdown 
   *    D3                
   * 
   *
   *
   * 
   *
   * 1 D3.hierarchy() 
   *   - { text: "root", children: [...] }
   *   -  parent, children, depth 
   *
   * 21 - calculateAllSubtreeDimensions
   *   
   *     from leaves to root                   
   *                                  
   *        subtreeHeight = nodeHeight   
   *                                  
   *                                         
   *                                  
   *        subtreeHeight = sum() 
   *                                  
   *   
   *   -  D3.eachAfter() 
   *   - 
   *   -  subtreeWidth  subtreeHeight
   *
   * 32 - setNodePositionsTopDown
   *   
   *     from root to leaves                   
   *                                  
   *       x=100, y=100                
   *                                  
   *                                        
   *                             
   *     1  2    y    
   *     x=50 x=150  x  
   *                             
   *   
   *   - 
   *   -  (x, y) 
   *   - 
   *   -  y 
   *
   *
   *  
   *
   * 
   *   - node.x: 
   *   - node.y: 
   *
   * 
   *   - startX = 100: 
   *   - startY = 100: 
   *
   *
   * 
   *
   * O(N) N 
   * - 1: 
   * - 2: 
   * - : 2N  = O(N)
   *
   *
   * 
   *
   * ```typescript
   * const calculator = new LayoutCalculator();
   *
   * // 
   * const flatData = {
   *     text: "Root",
   *     children: [
   *         { text: "Child 1" },
   *         { text: "Child 2" }
   *     ]
   * };
   *
   * // 
   * const root = d3.hierarchy(flatData);
   *
   * // 
   * calculator.createRecursiveTreeLayout(root, nodeDimensionsFn);
   *
   * // 
   * // root.x, root.y: 
   * // root.children[0].x, root.children[0].y: 
   * // root.data.subtreeWidth, root.data.subtreeHeight: 
   * ```
   *
   *
   * 
   *
   *   root  x, y 
   *  nodeDimensionsCallback 
   *  
   *  
   *
   *
   * @param root D3 d3.hierarchy() 
   * @param nodeDimensionsCallback 
   *                              (depth: number, text: string)
   *                              { width: number, height: number }
   * @returns void root 
   *
   * @see calculateAllSubtreeDimensions() - 1
   * @see setNodePositionsTopDown() - 2
   * @see distributeChildrenVerticalSpace() - 
   */
  createRecursiveTreeLayout(root2, nodeDimensionsCallback) {
    this.calculateAllSubtreeDimensions(root2, nodeDimensionsCallback);
    const startX = 100;
    const startY = 100;
    this.setNodePositionsTopDown(root2, startX, startY, nodeDimensionsCallback);
  }
  /**
   * 
   *  D3  eachAfter 
   * @param root 
   * @param nodeDimensionsCallback 
   */
  calculateAllSubtreeDimensions(root2, nodeDimensionsCallback) {
    root2.eachAfter((node) => {
      const dims = nodeDimensionsCallback(node.depth, node.data.text);
      node.data.nodeWidth = dims.width;
      node.data.nodeHeight = dims.height;
      if (!node.children || node.children.length === 0) {
        node.data.subtreeWidth = dims.width;
        node.data.subtreeHeight = dims.height;
      } else {
        const childSubtrees = node.children.map((c) => ({
          width: c.data.subtreeWidth || 0,
          height: c.data.subtreeHeight || 0
        }));
        const maxChildWidth = Math.max(...childSubtrees.map((s) => s.width));
        node.data.subtreeWidth = Math.max(dims.width, maxChildWidth);
        const verticalGap = 10;
        let totalHeight = 0;
        node.children.forEach((child, index) => {
          totalHeight += child.data.subtreeHeight || 0;
          if (index < node.children.length - 1) {
            totalHeight += verticalGap;
          }
        });
        node.data.subtreeHeight = Math.max(dims.height, totalHeight);
      }
    });
  }
  /**
   * 
   * @param node 
   * @param x X
   * @param y Y
   * @param nodeDimensionsCallback 
   */
  setNodePositionsTopDown(node, x, y, nodeDimensionsCallback) {
    node.x = x;
    node.y = y;
    if (!node.children || node.children.length === 0) {
      return;
    }
    this.distributeChildrenVerticalSpace(node, nodeDimensionsCallback);
  }
  /**
   * 
   * @param parentNode 
   * @param nodeDimensionsCallback 
   */
  distributeChildrenVerticalSpace(parentNode, nodeDimensionsCallback) {
    const children2 = parentNode.children;
    if (!children2 || children2.length === 0) return;
    const horizontalSpacing = parentNode.depth === 0 ? 80 : 30;
    const verticalGap = 10;
    let totalChildrenHeight = 0;
    children2.forEach((child, index) => {
      const childHeight = child.data.subtreeHeight || 0;
      totalChildrenHeight += childHeight;
      if (index < children2.length - 1) {
        totalChildrenHeight += verticalGap;
      }
    });
    let currentY = parentNode.x - totalChildrenHeight / 2;
    children2.forEach((child, index) => {
      const childX = currentY + (child.data.subtreeHeight || 0) / 2;
      const childY = parentNode.y + (parentNode.data.nodeWidth || 0) + horizontalSpacing;
      this.setNodePositionsTopDown(child, childX, childY, nodeDimensionsCallback);
      currentY += (child.data.subtreeHeight || 0) + verticalGap;
    });
  }
  /**
   * 
   * @param root 
   * @param nodeDimensionsCallback 
   */
  calculateLeftAlignedHorizontalPositions(root2, nodeDimensionsCallback) {
    const nodeGroups = this.groupNodesByParent(root2);
    root2.y = 50;
    this.processNodeGroupsByLevel(nodeGroups, nodeDimensionsCallback);
  }
  /**
   * 
   * @param root 
   * @returns ID
   */
  groupNodesByParent(root2) {
    const groups = /* @__PURE__ */ new Map();
    root2.each((node) => {
      if (node.depth > 0 && node.parent) {
        const parentId = node.parent.data.text;
        if (!groups.has(parentId)) {
          groups.set(parentId, []);
        }
        const group = groups.get(parentId);
        if (group) {
          group.push(node);
        }
      }
    });
    return groups;
  }
  /**
   * 
   * @param nodeGroups 
   * @param nodeDimensionsCallback 
   */
  processNodeGroupsByLevel(nodeGroups, nodeDimensionsCallback) {
    for (const childNodes of nodeGroups.values()) {
      if (childNodes.length === 0) continue;
      const firstChild = childNodes[0];
      if (!firstChild.parent) {
        continue;
      }
      const parentNode = firstChild.parent;
      const parentDimensions = nodeDimensionsCallback(parentNode.depth, parentNode.data.text);
      const parentRightEdge = parentNode.y + parentDimensions.width;
      let maxChildWidth = 0;
      for (const child of childNodes) {
        const childDimensions = nodeDimensionsCallback(child.depth, child.data.text);
        maxChildWidth = Math.max(maxChildWidth, childDimensions.width);
      }
      const adaptiveSpacing = this.calculateAdaptiveHorizontalSpacing(
        parentDimensions.width,
        maxChildWidth
      );
      const unifiedLeftEdge = parentRightEdge + adaptiveSpacing;
      for (const child of childNodes) {
        child.y = unifiedLeftEdge;
      }
    }
    this.processNextLevelGroups(nodeGroups, nodeDimensionsCallback);
  }
  /**
   * 
   * @param nodeGroups 
   * @param nodeDimensionsCallback 
   */
  processNextLevelGroups(nodeGroups, nodeDimensionsCallback) {
    const nextLevelGroups = /* @__PURE__ */ new Map();
    for (const childNodes of nodeGroups.values()) {
      for (const child of childNodes) {
        if (child.children && child.children.length > 0) {
          const childText = child.data.text;
          if (!nextLevelGroups.has(childText)) {
            nextLevelGroups.set(childText, []);
          }
          const group = nextLevelGroups.get(childText);
          if (group) {
            group.push(...child.children);
          }
        }
      }
    }
    if (nextLevelGroups.size > 0) {
      this.processNodeGroupsByLevel(nextLevelGroups, nodeDimensionsCallback);
    }
  }
  /**
   * Calculate tree dimensions
   */
  calculateTreeDimensions(root2) {
    let minX = Infinity, maxX = -Infinity;
    let minY = Infinity, maxY = -Infinity;
    root2.each((node) => {
      if (node.x !== void 0) {
        minX = Math.min(minX, node.x);
        maxX = Math.max(maxX, node.x);
      }
      if (node.y !== void 0) {
        minY = Math.min(minY, node.y);
        maxY = Math.max(maxY, node.y);
      }
    });
    const width = maxX - minX || this.config.treeWidth;
    const height = maxY - minY || this.config.treeHeight;
    return { width, height };
  }
  /**
   * Apply offsets to center the tree
   */
  centerTree(root2, canvasWidth, canvasHeight) {
    const { width, height } = this.calculateTreeDimensions(root2);
    const offsetX = (canvasWidth - width) / 2;
    const offsetY = (canvasHeight - height) / 2;
    root2.each((node) => {
      if (node.x !== void 0) {
        node.x += offsetX;
      }
      if (node.y !== void 0) {
        node.y += offsetY;
      }
    });
    return { offsetX, offsetY };
  }
  /**
   * Get layout configuration
   */
  getConfig() {
    return { ...this.config };
  }
  /**
   * Update layout configuration
   */
  updateConfig(newConfig) {
    this.config = { ...this.config, ...newConfig };
  }
};

// src/utils/coordinate-system.ts
var CoordinateConverter = class {
  /**
   * YX
   *
   * 
   * Y
   * X
   * 
   *
   * @param layoutY Y
   * @param offsetX X0
   * @returns X
   *
   * @example
   * ```typescript
   * const canvasX = CoordinateConverter.toCanvasX(200, 0);
   * // : 200 ()
   * ```
   */
  static toCanvasX(layoutY, offsetX = 0) {
    return layoutY + offsetX;
  }
  /**
   * XY
   *
   * 
   * X
   * Y
   * 
   *
   * 
   * SVGrect(0, 0)
   *  layoutXrecty layoutX - height/2
   *
   * @param layoutX X
   * @param nodeHeight 
   * @param offsetY Y0
   * @returns Y
   *
   * @example
   * ```typescript
   * const canvasY = CoordinateConverter.toCanvasY(100, 50, 0);
   * // : 75 (100 - 50/2)
   * // : 1005075
   * ```
   */
  static toCanvasY(layoutX, nodeHeight, offsetY = 0) {
    return layoutX + offsetY - nodeHeight / 2;
  }
  /**
   * YX
   *
   * 
   * toCanvasY 
   * 
   *
   * @param canvasY Y
   * @param nodeHeight 
   * @param offsetY Y0
   * @returns X
   *
   * @example
   * ```typescript
   * const layoutX = CoordinateConverter.toLayoutX(75, 50, 0);
   * // : 100 (75 + 50/2)
   * ```
   */
  static toLayoutX(canvasY, nodeHeight, offsetY = 0) {
    return canvasY - offsetY + nodeHeight / 2;
  }
  /**
   * X
   *
   * 
   * 
   *
   * @param layoutY Y
   * @param nodeWidth 
   * @param padding 
   * @param lineOffset 
   * @param offsetX X
   * @returns X
   *
   * @example
   * ```typescript
   * const rightEdge = CoordinateConverter.toRightEdge(200, 100, 20, 6, 0);
   * // : 286 (200 + 100 - 20 + 6)
   * ```
   */
  static toRightEdge(layoutY, nodeWidth, padding, lineOffset, offsetX = 0) {
    return layoutY + nodeWidth - padding + lineOffset + offsetX;
  }
  /**
   * Xpadding
   *
   * 
   * 
   *
   * @param layoutY Y
   * @param padding 
   * @param lineOffset 
   * @param offsetX X
   * @returns Xpadding
   *
   * @example
   * ```typescript
   * const leftEdge = CoordinateConverter.toLeftEdge(400, 20, 6, 0);
   * // : 414 (400 + 20 - 6)
   * ```
   */
  static toLeftEdge(layoutY, padding, lineOffset, offsetX = 0) {
    return layoutY + padding - lineOffset + offsetX;
  }
  /**
   * 
   *
   * 
   * 
   * 
   *
   * @param canvasX X
   * @param canvasY Y
   * @param width 
   * @param height 
   * @returns 
   *
   * @example
   * ```typescript
   * const bounds = CoordinateConverter.getNodeBounds(100, 75, 50, 50);
   * // : { x: 100, y: 75, right: 150, bottom: 125, width: 50, height: 50 }
   * ```
   */
  static getNodeBounds(canvasX, canvasY, width, height) {
    return {
      x: canvasX,
      y: canvasY,
      right: canvasX + width,
      bottom: canvasY + height,
      width,
      height
    };
  }
  /**
   * 
   *
   * 
   * 
   * 
   *
   * @param layoutX1 X
   * @param layoutX2 X
   * @returns 
   *
   * @example
   * ```typescript
   * const distance = CoordinateConverter.getVerticalDistance(75, 193);
   * // : 118 (|75 - 193|)
   * ```
   */
  static getVerticalDistance(layoutX1, layoutX2) {
    return Math.abs(layoutX1 - layoutX2);
  }
  /**
   * 
   *
   * 
   * 
   * 
   *
   * @param layoutX1 X
   * @param height1 
   * @param layoutX2 X
   * @param height2 
   * @param gap 0
   * @returns 
   *
   * @example
   * ```typescript
   * const overlaps = CoordinateConverter.isOverlapping(
   *   75, 176,  // 1: 75176
   *   193, 40,  // 2: 19340
   *   10        // 10px
   * );
   * // 
   * // 1: 75 - 88 = -13  75 + 88 = 163
   * // 2: 193 - 20 = 173  193 + 20 = 213
   * // : 173 - 163 = 10px
   * // : false
   * ```
   */
  static isOverlapping(layoutX1, height1, layoutX2, height2, gap = 0) {
    const top1 = layoutX1 - height1 / 2;
    const bottom1 = layoutX1 + height1 / 2;
    const top2 = layoutX2 - height2 / 2;
    const bottom2 = layoutX2 + height2 / 2;
    return !(bottom1 + gap <= top2 || bottom2 + gap <= top1);
  }
  /**
   * transform
   *
   * 
   * SVG transform
   *
   * @param layoutX X
   * @param layoutY Y
   * @param nodeWidth 
   * @param nodeHeight 
   * @param offsetX X
   * @param offsetY Y
   * @returns transform "translate(200, 75)"
   *
   * @example
   * ```typescript
   * const transform = CoordinateConverter.createTransform(100, 200, 100, 50, 0, 0);
   * // : "translate(200, 75)"
   * // : X=200 (), Y=75 (100 - 50/2)
   * ```
   */
  static createTransform(layoutX, layoutY, nodeWidth, nodeHeight, offsetX = 0, offsetY = 0) {
    const canvasX = this.toCanvasX(layoutY, offsetX);
    const canvasY = this.toCanvasY(layoutX, nodeHeight, offsetY);
    return `translate(${canvasX}, ${canvasY})`;
  }
  /**
   * 
   *
   * 
   * 
   * 
   *
   * @param layoutX1 X
   * @param height1 
   * @param layoutX2 X
   * @param height2 
   * @returns 
   *
   * @example
   * ```typescript
   * const gap = CoordinateConverter.calculateActualGap(
   *   75, 176,   // 1: 75, 176
   *   193, 40    // 2: 193, 40
   * );
   * // 
   * // 1: 75 + 88 = 163
   * // 2: 193 - 20 = 173
   * // : 173 - 163 = 10px
   * // : 10
   * ```
   */
  static calculateActualGap(layoutX1, height1, layoutX2, height2) {
    const bottom1 = layoutX1 + height1 / 2;
    const top2 = layoutX2 - height2 / 2;
    return top2 - bottom1;
  }
};

// src/renderers/core/NodeRenderer.ts
var NodeRenderer = class {
  constructor(textMeasurer, layoutCalculator) {
    this.textMeasurer = textMeasurer;
    this.layoutCalculator = layoutCalculator;
  }
  /**
   * 
   *
   * @param svg SVG
   * @param nodes D3
   * @param offsetX X
   * @param offsetY Y
   * @returns D3
   */
  renderNodes(svg, nodes, offsetX, offsetY) {
    const nodeGroup = svg.append("g").attr("class", "nodes");
    const nodeElements = nodeGroup.selectAll("g").data(nodes).enter().append("g").attr("transform", (d) => {
      const dims = this.textMeasurer.getNodeDimensions(d.depth, d.data.text);
      const transform2 = CoordinateConverter.createTransform(
        d.x,
        // X
        d.y,
        // Y
        dims.width,
        // 
        dims.height,
        // 
        offsetX,
        // X
        offsetY
        // Y
      );
      return transform2;
    }).attr("role", "button").attr("aria-label", (d) => `Mind map node: ${d.data.text}`).attr("tabindex", "0").attr("aria-level", (d) => d.depth + 1);
    const nodeRects = nodeElements.append("rect").attr("class", "node-rect").attr("width", (d) => {
      const dims = this.textMeasurer.getNodeDimensions(d.depth, d.data.text);
      return dims.width;
    }).attr("height", (d) => {
      const dims = this.textMeasurer.getNodeDimensions(d.depth, d.data.text);
      return dims.height;
    }).attr("x", 0).attr("y", 0).attr("rx", 6).attr("ry", 6).attr("fill", (d) => {
      if (d.depth === 0) return "#2972f4";
      return "#f3f5f7";
    }).attr("stroke", (d) => {
      if (d.depth === 0) return "#2972f4";
      return "none";
    }).attr("stroke-width", (d) => d.depth === 0 ? 2 : 0).style("cursor", "pointer");
    nodeRects.classed("selected-rect", (d) => d.data.selected || false);
    return nodeElements;
  }
  /**
   * 
   *
   * @param nodeData 
   * @param dimensions 
   * @param offsetX X
   * @param offsetY Y
   * @returns 
   */
  createNodeGroup(nodeData, dimensions, offsetX, offsetY) {
    throw new Error("Method not implemented. Use renderNodes() instead.");
  }
  /**
   * 
   *
   * @param nodeElement 
   * @param nodeData 
   * @param dimensions 
   * @returns 
   */
  createNodeRect(nodeElement, nodeData, dimensions) {
    throw new Error("Method not implemented. Rects are created in renderNodes().");
  }
  /**
   * padding
   *
   * @param depth 
   * @returns padding
   */
  getNodePadding(depth) {
    if (depth === 0) return 24;
    else if (depth === 1) return 20;
    else return 16;
  }
};

// src/renderers/core/LinkRenderer.ts
var LinkRenderer = class {
  constructor(textMeasurer, config) {
    this.textMeasurer = textMeasurer;
    this.config = {
      lineOffset: config?.lineOffset || 6
    };
  }
  /**
   * Render all links
   *
   * @param svg SVG container
   * @param links D3 hierarchy link array
   * @param offsetX X-axis offset
   * @param offsetY Y-axis offset
   */
  renderLinks(svg, links, offsetX, offsetY) {
    const linkGroup = svg.append("g").attr("class", "links");
    if (links.length === 0) return;
    const rootToFirstLevelLinks = [];
    const roundedLinks = [];
    links.forEach((link) => {
      if (link.source.depth === 0 && link.target.depth === 1) {
        rootToFirstLevelLinks.push(link);
      } else {
        roundedLinks.push(link);
      }
    });
    if (rootToFirstLevelLinks.length > 0) {
      this.renderRootToFirstLevelCubicLinks(linkGroup, rootToFirstLevelLinks, offsetX, offsetY);
    }
    if (roundedLinks.length > 0) {
      this.renderRoundedLinks(linkGroup, roundedLinks, offsetX, offsetY);
    }
  }
  /**
   * Render cubic bezier curves from root to level 1
   *
   * @param group SVG group element
   * @param links Link array
   * @param offsetX X-axis offset
   * @param offsetY Y-axis offset
   */
  renderRootToFirstLevelCubicLinks(group, links, offsetX, offsetY) {
    links.forEach((link) => {
      const connectionPoints = this.getLinkConnectionPoints(link, offsetX, offsetY);
      const sourceX = connectionPoints.sourceX;
      const sourceY = connectionPoints.sourceY;
      const targetX = connectionPoints.targetX;
      const targetY = connectionPoints.targetY;
      const deltaX = targetX - sourceX;
      const control1X = sourceX + deltaX * 0.3;
      const control1Y = sourceY;
      const control2X = targetX - deltaX * 0.3;
      const control2Y = targetY;
      const pathData = `M ${sourceX},${sourceY} C ${control1X},${control1Y} ${control2X},${control2Y} ${targetX},${targetY}`;
      group.append("path").attr("d", pathData).attr("stroke", "#b8b8b8").attr("stroke-width", 2).attr("fill", "none").attr("stroke-linecap", "round").style("opacity", 0.8).attr("class", "root-to-first-level-link");
    });
  }
  /**
   * Render rounded links (for all levels except 0-1)
   *
   * @param group SVG group element
   * @param links Link array
   * @param offsetX X-axis offset
   * @param offsetY Y-axis offset
   */
  renderRoundedLinks(group, links, offsetX, offsetY) {
    links.forEach((link) => {
      const connectionPoints = this.getLinkConnectionPoints(link, offsetX, offsetY);
      const sourceX = connectionPoints.sourceX;
      const sourceY = connectionPoints.sourceY;
      const targetX = connectionPoints.targetX;
      const targetY = connectionPoints.targetY;
      const pathData = this.generateRoundedPath(sourceX, sourceY, targetX, targetY, 8);
      group.append("path").attr("d", pathData).attr("stroke", "#b8b8b8").attr("stroke-width", 2).attr("fill", "none").attr("stroke-linecap", "round").attr("stroke-linejoin", "round").style("opacity", 0.8).attr("class", "rounded-link");
    });
  }
  /**
   * Generate rounded link path
   *
   * @param sourceX Source node X coordinate
   * @param sourceY Source node Y coordinate
   * @param targetX Target node X coordinate
   * @param targetY Target node Y coordinate
   * @param cornerRadius Corner radius
   * @returns SVG path d attribute string
   */
  generateRoundedPath(sourceX, sourceY, targetX, targetY, cornerRadius = 8) {
    const horizontalDistance = targetX - sourceX;
    const turn1X = sourceX + horizontalDistance * 0.45;
    const radius = Math.min(
      cornerRadius,
      Math.abs(targetX - turn1X) * 0.4,
      Math.abs(targetY - sourceY) * 0.4
    );
    const verticalEndY = targetY + (sourceY < targetY ? -radius : radius);
    const cornerStartX = turn1X;
    const cornerStartY = verticalEndY;
    const cornerEndX = turn1X + (targetX > turn1X ? radius : -radius);
    const cornerEndY = targetY;
    return `M ${sourceX},${sourceY}
			L ${turn1X},${sourceY}
			L ${cornerStartX},${cornerStartY}
			Q ${cornerStartX},${targetY} ${cornerEndX},${cornerEndY}
			L ${targetX},${targetY}`;
  }
  /**
   * Calculate link connection point coordinates
   *
   * [Coordinate System] Mixed coordinate system
   * - Source node: link.source.y (left edge X), link.source.x (center Y)
   * - Target node: link.target.y (left edge X), link.target.x (center Y)
   *
   * @param link D3 hierarchy link object
   * @param offsetX X-axis offset
   * @param offsetY Y-axis offset
   * @returns Connection point coordinates
   */
  getLinkConnectionPoints(link, offsetX, offsetY) {
    const sourceDimensions = this.textMeasurer.getNodeDimensions(
      link.source.depth,
      link.source.data.text
    );
    const sourcePadding = this.getNodePadding(link.source.depth);
    const targetPadding = this.getNodePadding(link.target.depth);
    const sourceX = CoordinateConverter.toRightEdge(
      link.source.y,
      // Layout Y (left edge)
      sourceDimensions.width,
      // Node width
      sourcePadding,
      // padding
      this.config.lineOffset,
      // Link offset
      offsetX
    );
    const targetX = CoordinateConverter.toLeftEdge(
      link.target.y,
      // Layout Y (left edge)
      targetPadding,
      // padding
      this.config.lineOffset,
      // Link offset
      offsetX
    );
    const sourceY = CoordinateConverter.toCanvasY(link.source.x, 0, offsetY);
    const targetY = CoordinateConverter.toCanvasY(link.target.x, 0, offsetY);
    return { sourceX, sourceY, targetX, targetY };
  }
  /**
   * Get node padding value
   *
   * @param depth Node depth
   * @returns Padding value (pixels)
   */
  getNodePadding(depth) {
    if (depth === 0) return 24;
    else if (depth === 1) return 20;
    else return 16;
  }
};

// src/renderers/core/TextRenderer.ts
var TextRenderer = class _TextRenderer {
  constructor(textMeasurer, config, editingState, onTextEdit) {
    this.textMeasurer = textMeasurer;
    this.config = config;
    this.editingState = editingState;
    this.onTextEdit = onTextEdit;
  }
  /**
   * 
   *
   * @param nodeElements 
   * @param onEditCallback 
   * @param parentContext saveNodeText
   */
  renderText(nodeElements, onEditCallback, parentContext) {
    const self = parentContext || this;
    nodeElements.each(function(d) {
      const dimensions = self.textMeasurer.getNodeDimensions(d.depth, d.data.text);
      const nodeElement = select_default2(this);
      const isCenterAligned = d.depth === 0 || d.depth === 1;
      const textForeignObject = nodeElement.append("foreignObject").attr("class", "node-text-layer").attr("width", dimensions.width).attr("height", dimensions.height).attr("x", 0).attr("y", 0);
      const textDiv = textForeignObject.append("xhtml:div").attr("contenteditable", "false").attr("class", "node-unified-text").style("width", "100%").style("height", "100%").style("padding", `${dimensions.padding}px`).style("font-size", dimensions.fontSize).style("font-weight", dimensions.fontWeight).style("color", d.depth === 0 ? "#ffffff" : "#000000").style("text-align", isCenterAligned ? "center" : "left").style("outline", "none").style("border", "none").style("background", "transparent").style("word-wrap", "normal").style("white-space", "pre").style("overflow", "visible").style("box-sizing", "border-box").style("font-family", "var(--font-text)").style("line-height", "1.3").style("cursor", "pointer");
      const textDivNode = textDiv.node();
      if (textDivNode) {
        textDivNode.textContent = d.data.text;
        const nodeTextClass = `node-${d.data.text.replace(/\s+/g, "-")}`;
        nodeElement.classed(nodeTextClass, true);
        if (parentContext && parentContext instanceof Object) {
          _TextRenderer.attachTextEditHandlersToNode(textDivNode, d, onEditCallback, self);
        }
      }
    });
  }
  /**
   * 
   *
   * @param textDivNode div
   * @param nodeData 
   * @param onEditCallback 
   * @param parentContext D3TreeRenderer
   */
  static attachTextEditHandlersToNode(textDivNode, nodeData, onEditCallback, parentContext) {
    if (!parentContext) {
      return;
    }
    const config = parentContext.config;
    const editingState = parentContext.editingState;
    textDivNode.addEventListener("keydown", (event) => {
      if (textDivNode.contentEditable === "true") {
        if (event.key === "Enter") {
          if (config?.isMobile) {
            event.preventDefault();
            event.stopPropagation();
            const selection2 = window.getSelection();
            if (selection2 && selection2.rangeCount > 0) {
              const range = selection2.getRangeAt(0);
              range.deleteContents();
              const textNode = document.createTextNode("\n");
              range.insertNode(textNode);
              range.setStartAfter(textNode);
              range.setEndAfter(textNode);
              selection2.removeAllRanges();
              selection2.addRange(range);
            }
            return;
          }
          if (event.altKey) {
            event.preventDefault();
            event.stopPropagation();
          } else {
            event.preventDefault();
            event.stopPropagation();
            parentContext.saveNodeText?.();
          }
        } else if (event.key === "Escape") {
          event.preventDefault();
          event.stopPropagation();
          parentContext.cancelEditMode?.();
        } else if (event.key === "Backspace") {
          const selection2 = window.getSelection();
          if (selection2 && selection2.rangeCount > 0) {
            const range = selection2.getRangeAt(0);
            const node = range.startContainer;
            if (node.nodeType === Node.TEXT_NODE) {
              const textContent = node.textContent || "";
              if (range.startOffset > 0 && textContent[range.startOffset - 1] === "\n") {
                event.preventDefault();
                event.stopPropagation();
                range.setStart(node, range.startOffset - 1);
                range.deleteContents();
              }
            }
          }
        }
        if (onEditCallback) {
          onEditCallback(event, textDivNode);
        }
      }
    });
    textDivNode.addEventListener("keyup", (event) => {
      if (textDivNode.contentEditable === "true") {
        if (event.key === "Enter" && event.altKey) {
          const selection2 = window.getSelection();
          if (selection2 && selection2.rangeCount > 0) {
            const range = selection2.getRangeAt(0);
            range.deleteContents();
            const textNode = document.createTextNode("\n");
            range.insertNode(textNode);
            range.setStartAfter(textNode);
            range.setEndAfter(textNode);
            selection2.removeAllRanges();
            selection2.addRange(range);
          }
        }
      }
    });
    textDivNode.addEventListener("blur", () => {
      if (textDivNode.contentEditable === "true" && editingState?.editElement === textDivNode) {
        setTimeout(() => {
          if (editingState?.editElement === textDivNode) {
            parentContext.saveNodeText?.();
          }
        }, 150);
      }
    });
  }
  /**
   * 
   *
   * @param editingState 
   */
  updateEditingState(editingState) {
    this.editingState = editingState;
  }
  /**
   * 
   *
   * @param parentContext 
   */
  updateParentContext(parentContext) {
    this.onTextEdit = ((event, textDivNode) => {
    });
  }
};

// src/interactions/MouseInteraction.ts
var MouseInteraction = class {
  // ==========  ==========
  constructor(callbacks) {
    this.callbacks = callbacks;
    // ==========  ==========
    /**  */
    this.selectedNode = null;
    /**  */
    this.hoveredNode = null;
    // 
    this.clickTimeout = null;
    this.lastClickTime = 0;
    this.clickNode = null;
    this.options = {
      doubleClickTimeout: 300,
      enableCanvasDrag: true,
      ...callbacks
    };
  }
  // ==========  API ==========
  /**
   * 
   *
   * @param nodeElements D3 
   */
  attachNodeClickHandlers(nodeElements) {
    nodeElements.each((d, i, nodes) => {
      const nodeElement = select_default2(nodes[i]);
      const nodeRect = nodeElement.select(".node-rect");
      nodeElement.on("click", (event) => {
        this.handleNodeClick(event, d, nodeRect);
      });
    });
  }
  /**
   * 
   *
   * @param nodeElements D3 
   */
  attachNodeHoverHandlers(nodeElements) {
    nodeElements.each((d, i, nodes) => {
      const nodeElement = select_default2(nodes[i]);
      const nodeRect = nodeElement.select(".node-rect");
      nodeElement.on("mouseenter", (event) => {
        this.handleNodeHover(event, d, nodeRect);
      });
      nodeElement.on("mouseleave", (event) => {
        this.handleNodeLeave(event, d, nodeRect);
      });
    });
  }
  /**
   * 
   *
   * @param svg SVG 
   */
  attachCanvasDragHandlers(svg) {
    if (!this.options.enableCanvasDrag) {
      return;
    }
    let isDragging = false;
    let dragStartX = 0;
    let dragStartY = 0;
    svg.on("mousedown", (event) => {
      const target = event.target;
      if (target.contentEditable === "true" || target.closest('[contenteditable="true"]')) {
        return;
      }
      if (event.button === 0 && this.isCanvasInteractionEnabled()) {
        isDragging = true;
        dragStartX = event.clientX;
        dragStartY = event.clientY;
        svg.style("cursor", "grabbing");
      }
    });
    svg.on("mousemove", (event) => {
      const target = event.target;
      const isContentEditable = target.contentEditable === "true" || target.closest('[contenteditable="true"]');
      const canvasEnabled = this.isCanvasInteractionEnabled();
      if (isContentEditable) {
        return;
      }
      if (isDragging && canvasEnabled) {
        console.warn("[MouseInteraction] \u{1F6A8} CANVAS DRAG EXECUTED!", {
          target: target.tagName,
          isDragging,
          canvasEnabled,
          isContentEditable
        });
        const dx = event.clientX - dragStartX;
        const dy = event.clientY - dragStartY;
        this.callbacks.onCanvasDrag?.(dx, dy);
      }
    });
    svg.on("mouseup", () => {
      if (this.isCanvasInteractionEnabled()) {
        isDragging = false;
        svg.style("cursor", "grab");
      }
    });
    svg.on("mouseleave", () => {
      if (this.isCanvasInteractionEnabled()) {
        isDragging = false;
        svg.style("cursor", "grab");
      }
    });
  }
  /**
   * 
   *
   * @param svg SVG 
   */
  attachCanvasClickHandler(svg) {
    const svgNode2 = svg.node();
    svgNode2.addEventListener("click", (event) => {
      const target = event.target;
      const isNodeElement = this.isNodeElement(target);
      if (!isNodeElement) {
        this.clearSelection();
        this.callbacks.onCanvasClick?.();
      }
      if (!isNodeElement) {
        this.clearSelection();
        this.callbacks.onCanvasClick?.();
      }
    }, true);
  }
  /**
   * 
   */
  clearSelection() {
    if (this.selectedNode) {
      this.selectedNode.data.selected = false;
      selectAll_default2(".node-rect").classed("selected-rect", false);
      const selectedNodeElement = selectAll_default2(".nodes g").filter((d) => d === this.selectedNode);
      selectedNodeElement.select(".plus-button-group").remove();
      selectedNodeElement.select(".ai-suggest-button-group").remove();
      this.selectedNode = null;
    }
  }
  /**
   * 
   */
  getSelectedNode() {
    return this.selectedNode;
  }
  /**
   * 
   */
  destroy() {
    if (this.clickTimeout) {
      clearTimeout(this.clickTimeout);
      this.clickTimeout = null;
    }
    this.selectedNode = null;
    this.hoveredNode = null;
    this.clickNode = null;
  }
  // ==========  -  ==========
  /**
   * 
   */
  handleNodeClick(event, node, nodeRect) {
    const currentTime = Date.now();
    const timeDiff = currentTime - this.lastClickTime;
    const isDoubleClick = timeDiff < this.options.doubleClickTimeout && this.clickNode === node;
    if (isDoubleClick) {
      this.lastClickTime = 0;
      this.clickNode = null;
      if (this.clickTimeout) {
        clearTimeout(this.clickTimeout);
        this.clickTimeout = null;
      }
      event.stopPropagation();
      this.callbacks.onNodeDoubleClick?.(node, event);
      return;
    }
    this.lastClickTime = currentTime;
    this.clickNode = node;
    if (this.clickTimeout) {
      clearTimeout(this.clickTimeout);
    }
    this.performNodeSelection(node, nodeRect);
    this.clickTimeout = setTimeout(() => {
      this.lastClickTime = 0;
      this.clickNode = null;
      this.clickTimeout = null;
    }, this.options.doubleClickTimeout);
    event.stopPropagation();
  }
  /**
   * 
   */
  performNodeSelection(node, nodeRect) {
    if (this.callbacks.isEditing?.()) {
      const editingNode = this.callbacks.getEditingNode?.();
      if (editingNode === node) {
        return;
      }
    }
    if (this.selectedNode && this.selectedNode !== node) {
      this.selectedNode.data.selected = false;
      selectAll_default2(".node-rect").filter((d) => d === this.selectedNode).classed("selected-rect", false);
      const previousNodeElement = selectAll_default2(".nodes g").filter((d) => d === this.selectedNode);
      previousNodeElement.select(".plus-button-group").remove();
      previousNodeElement.select(".ai-suggest-button-group").remove();
    }
    if (node.data.hovered) {
      this.clearNodeHoverState(node, nodeRect);
    }
    node.data.selected = true;
    this.selectedNode = node;
    nodeRect.classed("selected-rect", true);
    this.callbacks.onNodeSelect?.(node);
  }
  /**
   * 
   */
  handleNodeHover(event, node, nodeRect) {
    if (node.data.selected) {
      return;
    }
    if (this.hoveredNode && this.hoveredNode !== node) {
      this.clearHoverState();
    }
    this.hoveredNode = node;
    node.data.hovered = true;
    nodeRect.classed("hovered-rect", true);
    this.callbacks.onNodeHover?.(node);
  }
  /**
   * 
   */
  handleNodeLeave(event, node, nodeRect) {
    if (node.data.selected) {
      return;
    }
    this.clearNodeHoverState(node, nodeRect);
    this.callbacks.onNodeLeave?.(node);
  }
  /**
   * 
   */
  clearNodeHoverState(node, nodeRect) {
    node.data.hovered = false;
    nodeRect.classed("hovered-rect", false);
    if (this.hoveredNode === node) {
      this.hoveredNode = null;
    }
  }
  /**
   * 
   */
  clearHoverState() {
    if (this.hoveredNode) {
      this.hoveredNode.data.hovered = false;
      selectAll_default2(".node-rect").classed("hovered-rect", false);
      this.hoveredNode = null;
    }
  }
  // ==========  ==========
  /**
   * 
   */
  isCanvasInteractionEnabled() {
    return this.callbacks.isCanvasInteractionEnabled?.() ?? true;
  }
  /**
   *  SVG 
   */
  isNodeElement(target) {
    const targetTagName = target.tagName.toLowerCase();
    const targetClasses = target.classList;
    return targetTagName === "g" && targetClasses.contains("node") || // 
    targetClasses.contains("node-rect") || // 
    targetClasses.contains("node-text-layer") || // 
    targetTagName === "foreignobject" || //  foreignObject
    targetTagName === "div" || //  div
    targetTagName === "g" && targetClasses.contains("node-group");
  }
};

// src/interactions/KeyboardManager.ts
var KeyboardManager = class {
  // ==========  ==========
  constructor(config, handlers) {
    this.config = config;
    this.handlers = handlers;
    // 
    this.keyboardListener = null;
    this.options = {
      enableShortcuts: true,
      disableMobileShortcuts: true,
      ...handlers
    };
  }
  // ==========  API ==========
  /**
   * 
   */
  attachGlobalListener() {
    this.removeGlobalKeyboardListener();
    this.keyboardListener = (event) => {
      this.handleKeyDown(event);
    };
    document.addEventListener("keydown", this.keyboardListener);
  }
  /**
   * 
   */
  removeGlobalKeyboardListener() {
    if (this.keyboardListener) {
      document.removeEventListener("keydown", this.keyboardListener);
      this.keyboardListener = null;
    }
  }
  /**
   * 
   */
  destroy() {
    this.removeGlobalKeyboardListener();
  }
  // ==========  -  ==========
  /**
   * 
   */
  handleKeyDown(event) {
    if (this.config.isActiveView && !this.config.isActiveView()) {
      return;
    }
    if (this.config.isEditing()) {
      if ((event.ctrlKey || event.metaKey) && (event.key === "c" || event.key === "x" || event.key === "v")) {
        return;
      }
      return;
    }
    if (event.key === "Tab") {
      event.preventDefault();
      this.handleTabKey();
    } else if (event.key === "Delete" || event.key === "Del") {
      event.preventDefault();
      this.handleDeleteKey();
    } else if (event.key === "Enter") {
      event.preventDefault();
      this.handleEnterKey();
    } else if (!this.isMobile() && (event.ctrlKey || event.metaKey) && event.key === "c") {
      event.preventDefault();
      this.handleCopyShortcut();
    } else if (!this.isMobile() && (event.ctrlKey || event.metaKey) && event.key === "x") {
      event.preventDefault();
      this.handleCutShortcut();
    } else if (!this.isMobile() && (event.ctrlKey || event.metaKey) && event.key === "v") {
      event.preventDefault();
      this.handlePasteShortcut();
    } else if (!this.isMobile() && (event.ctrlKey || event.metaKey) && event.key === "z" && !event.shiftKey) {
      event.preventDefault();
      this.handleUndoShortcut();
    } else if (!this.isMobile() && (event.ctrlKey || event.metaKey) && (event.key === "y" || event.key === "z" && event.shiftKey)) {
      event.preventDefault();
      this.handleRedoShortcut();
    }
  }
  /**
   * Tab - 
   */
  handleTabKey() {
    const selectedNode = this.config.getSelectedNode();
    if (!selectedNode) {
      return;
    }
    this.handlers.onTab?.(selectedNode);
  }
  /**
   * Delete - 
   */
  handleDeleteKey() {
    const selectedNode = this.config.getSelectedNode();
    if (!selectedNode) {
      return;
    }
    this.handlers.onDelete?.(selectedNode);
  }
  /**
   * Enter - 
   */
  handleEnterKey() {
    const selectedNode = this.config.getSelectedNode();
    if (!selectedNode) {
      return;
    }
    if (selectedNode.data.level === 0) {
      return;
    }
    this.handlers.onEnter?.(selectedNode);
  }
  /**
   *  Ctrl+C / Cmd+C  - 
   */
  handleCopyShortcut() {
    const selectedNode = this.config.getSelectedNode();
    if (!selectedNode) {
      return;
    }
    void this.handlers.onCopy?.(selectedNode);
  }
  /**
   *  Ctrl+X / Cmd+X  - 
   */
  handleCutShortcut() {
    const selectedNode = this.config.getSelectedNode();
    if (!selectedNode) {
      return;
    }
    void this.handlers.onCut?.(selectedNode);
  }
  /**
   *  Ctrl+V / Cmd+V  - 
   */
  handlePasteShortcut() {
    const selectedNode = this.config.getSelectedNode();
    if (!selectedNode) {
      return;
    }
    void this.handlers.onPaste?.(selectedNode);
  }
  /**
   *  Ctrl+Z / Cmd+Z  - 
   */
  handleUndoShortcut() {
    this.handlers.onUndo?.();
  }
  /**
   *  Ctrl+Shift+Z / Cmd+Shift+Z / Ctrl+Y / Cmd+Y  - 
   */
  handleRedoShortcut() {
    this.handlers.onRedo?.();
  }
  // ==========  ==========
  /**
   * 
   */
  isMobile() {
    return this.config.config?.isMobile || false;
  }
};

// src/interactions/interaction-manager.ts
var InteractionManager = class {
  constructor(config, renderCallbacks = {}, isActiveView) {
    this.config = config;
    this.renderCallbacks = renderCallbacks;
    this.isActiveView = isActiveView;
    // 
    this.state = {
      selectedNode: null,
      hoveredNode: null,
      editingState: {
        isEditing: false,
        currentNode: null,
        originalText: "",
        editElement: null
      }
    };
    const mouseCallbacks = {
      onNodeSelect: this.handleNodeSelect.bind(this),
      onNodeDoubleClick: this.handleNodeDoubleClick.bind(this),
      onNodeHover: this.handleNodeHover.bind(this),
      onNodeLeave: this.handleNodeLeave.bind(this),
      onCanvasClick: this.handleCanvasClick.bind(this),
      onCanvasDrag: this.handleCanvasDrag.bind(this),
      isCanvasInteractionEnabled: this.isCanvasInteractionEnabled.bind(this),
      isEditing: () => this.state.editingState.isEditing,
      getEditingNode: () => this.state.editingState.currentNode
    };
    this.mouseInteraction = new MouseInteraction(mouseCallbacks);
    const keyboardConfig = {
      config: this.config,
      isEditing: () => this.state.editingState.isEditing,
      getSelectedNode: () => this.state.selectedNode,
      isActiveView: this.isActiveView
    };
    const keyboardHandlers = {
      onTab: this.handleTabKey.bind(this),
      onDelete: this.handleDeleteKey.bind(this),
      onEnter: this.handleEnterKey.bind(this),
      onCopy: this.handleCopyShortcut.bind(this),
      onCut: this.handleCutShortcut.bind(this),
      onPaste: this.handlePasteShortcut.bind(this),
      onUndo: this.handleUndoShortcut.bind(this),
      onRedo: this.handleRedoShortcut.bind(this)
    };
    this.keyboardManager = new KeyboardManager(keyboardConfig, keyboardHandlers);
  }
  /**
   * 
   *
   * @param svg SVG 
   * @param nodeElements 
   */
  attachHandlers(svg, nodeElements) {
    this.mouseInteraction.attachNodeClickHandlers(nodeElements);
    this.mouseInteraction.attachNodeHoverHandlers(nodeElements);
    this.mouseInteraction.attachCanvasDragHandlers(svg);
    this.mouseInteraction.attachCanvasClickHandler(svg);
    this.keyboardManager.attachGlobalListener();
  }
  /**
   * 
   * @deprecated  getMouseInteraction()  getKeyboardManager() 
   */
  getHandler() {
    return {
      mouseInteraction: this.mouseInteraction,
      keyboardManager: this.keyboardManager
    };
  }
  /**
   * 
   */
  getMouseInteraction() {
    return this.mouseInteraction;
  }
  /**
   * 
   */
  getKeyboardManager() {
    return this.keyboardManager;
  }
  /**
   * 
   * @returns true if mobile interaction handler is active, false if desktop
   */
  isMobile() {
    return this.config.isMobile;
  }
  /**
   * 
   */
  getState() {
    return { ...this.state };
  }
  /**
   * 
   */
  selectNode(node) {
    this.state.selectedNode = node;
    this.renderCallbacks.onNodeSelected?.(node);
  }
  /**
   * 
   */
  hoverNode(node) {
    this.state.hoveredNode = node;
    this.renderCallbacks.onNodeHovered?.(node);
  }
  /**
   * 
   */
  clearSelection() {
    this.state.selectedNode = null;
    this.mouseInteraction.clearSelection();
    this.renderCallbacks.onSelectionCleared?.();
  }
  /**
   * 
   */
  enterEditing(node, element) {
    this.state.editingState = {
      isEditing: true,
      currentNode: node,
      originalText: node.data.text,
      editElement: element
    };
  }
  /**
   * 
   */
  exitEditing() {
    this.state.editingState = {
      isEditing: false,
      currentNode: null,
      originalText: "",
      editElement: null
    };
  }
  /**
   * 
   */
  isCanvasInteractionEnabled() {
    return !this.state.editingState.isEditing;
  }
  /**
   * 
   */
  destroy() {
    this.keyboardManager.destroy();
    this.mouseInteraction.destroy();
    this.state.selectedNode = null;
    this.state.hoveredNode = null;
    this.state.editingState = {
      isEditing: false,
      currentNode: null,
      originalText: "",
      editElement: null
    };
  }
  /**
   * 
   *  NodeEditor  InteractionManager
   *
   * RendererCoordinator  editingState 
   * InteractionManager 
   *
   * @param isEditing 
   */
  syncEditingState(isEditing) {
    this.state.editingState.isEditing = isEditing;
    if (!isEditing) {
      this.state.editingState.currentNode = null;
      this.state.editingState.originalText = "";
      this.state.editingState.editElement = null;
    }
  }
  // ==========  ==========
  /**
   * 
   */
  handleNodeSelect(node) {
    this.selectNode(node);
  }
  /**
   * 
   */
  handleNodeDoubleClick(node, event) {
    this.renderCallbacks.onNodeDoubleClicked?.(node, event);
  }
  /**
   * 
   */
  handleNodeHover(node) {
    this.hoverNode(node);
  }
  /**
   * 
   */
  handleNodeLeave(node) {
    this.state.hoveredNode = null;
    this.renderCallbacks.onNodeLeft?.(node);
  }
  /**
   * 
   */
  handleCanvasClick() {
    if (this.state.editingState.isEditing) {
      this.renderCallbacks.onExitEditMode?.();
      return;
    }
    this.clearSelection();
  }
  /**
   * 
   */
  handleCanvasDrag(dx, dy) {
  }
  /**
   *  Tab 
   */
  handleTabKey(node) {
    this.renderCallbacks.onAddChildNode?.(node);
  }
  /**
   *  Delete 
   */
  handleDeleteKey(node) {
    this.renderCallbacks.onDeleteNode?.(node);
  }
  /**
   *  Enter 
   */
  handleEnterKey(node) {
    this.renderCallbacks.onAddSiblingNode?.(node);
  }
  /**
   * 
   */
  async handleCopyShortcut(node) {
    await this.renderCallbacks.onCopyNode?.(node);
  }
  /**
   * 
   */
  async handleCutShortcut(node) {
    await this.renderCallbacks.onCutNode?.(node);
  }
  /**
   * 
   */
  async handlePasteShortcut(node) {
    await this.renderCallbacks.onPasteToNode?.(node);
  }
  /**
   * 
   */
  handleUndoShortcut() {
    this.renderCallbacks.onUndo?.();
  }
  /**
   * 
   */
  handleRedoShortcut() {
    this.renderCallbacks.onRedo?.();
  }
};

// src/features/AIAssistant.ts
var import_obsidian = require("obsidian");
var AIAssistant = class {
  constructor() {
    // Selected suggestions tracking
    this.selectedSuggestions = /* @__PURE__ */ new Set();
    // AI suggestion loading notice
    this.loadingNotice = null;
  }
  /**
   * Render AI suggestion button
   *
   * @param nodeElement Node element selection set
   * @param node Node data
   * @param dimensions Node dimensions
   */
  renderAIButton(nodeElement, node, dimensions) {
    const existingAIButton = nodeElement.select(".ai-suggest-button-group");
    if (!existingAIButton.empty()) {
      return;
    }
    const totalButtonsHeight = 20 + 10 + 20;
    const buttonY = (dimensions.height - totalButtonsHeight) / 2 + 20 + 10;
    const buttonX = dimensions.width + 4;
    const buttonGroup = nodeElement.append("g").attr("class", "ai-suggest-button-group").attr("transform", `translate(${buttonX}, ${buttonY})`);
    buttonGroup.on("click", (event) => {
      event.stopPropagation();
      void this.triggerSuggestions(node);
    });
    buttonGroup.append("circle").attr("class", "ai-suggest-button-bg").attr("cx", 10).attr("cy", 10).attr("r", 10).attr("fill", "#9333ea").style("opacity", 0.9).style("cursor", "pointer");
    buttonGroup.append("text").attr("class", "ai-suggest-button-text").attr("x", 10).attr("y", 10).attr("text-anchor", "middle").attr("dominant-baseline", "middle").attr("fill", "white").attr("font-size", "14px").style("pointer-events", "none").text("\u2728");
    buttonGroup.append("title").text("AI Suggestions");
  }
  /**
   * Remove AI suggestion button
   *
   * @param nodeElement Node element selection set
   */
  removeAIButton(nodeElement) {
    const buttonGroup = nodeElement.select(".ai-suggest-button-group");
    if (!buttonGroup.empty()) {
      buttonGroup.remove();
    }
  }
  /**
   * Trigger AI suggestion request
   *
   * @param node Node to get suggestions for
   */
  async triggerSuggestions(node) {
    if (!this.mindMapService) {
      new import_obsidian.Notice(this.messages.errors.serviceNotAvailable);
      return;
    }
    const nodeText = node.data.text?.trim() || "";
    if (!nodeText) {
      new import_obsidian.Notice(this.messages.errors.emptyNodeError);
      return;
    }
    if (this.loadingNotice) {
      this.loadingNotice.hide();
      this.loadingNotice = null;
    }
    this.loadingNotice = new import_obsidian.Notice(this.messages.format(
      this.messages.notices.aiAnalyzing,
      { nodeText }
    ), 0);
    try {
      const suggestions = await this.mindMapService.suggestChildNodes(node.data);
      if (this.loadingNotice) {
        this.loadingNotice.hide();
        this.loadingNotice = null;
      }
      if (suggestions.length === 0) {
        new import_obsidian.Notice(this.messages.notices.aiNoSuggestions);
        return;
      }
      this.showSuggestionsPanel(node, suggestions);
    } catch (error) {
      if (this.loadingNotice) {
        this.loadingNotice.hide();
        this.loadingNotice = null;
      }
      const errorMsg = this.messages.format(
        this.messages.notices.aiFailed,
        { error: error.message }
      );
      new import_obsidian.Notice(errorMsg);
    }
  }
  /**
   * Show suggestion list panel
   *
   * @param node Parent node
   * @param suggestions Suggestion list
   */
  showSuggestionsPanel(node, suggestions) {
    this.hideSuggestionsPanel();
    const panel = document.createElement("div");
    panel.className = "ai-suggestions-panel";
    const header = document.createElement("div");
    header.className = "ai-suggestions-header";
    const title = document.createElement("h4");
    title.textContent = this.messages.ui.aiSuggestionsTitle;
    const actionButtons = document.createElement("div");
    actionButtons.className = "ai-suggestions-actions";
    const selectAllBtn = document.createElement("button");
    selectAllBtn.className = "ai-suggestions-select-all";
    selectAllBtn.textContent = this.messages.ui.aiAddAll;
    selectAllBtn.title = this.messages.ui.aiAddAllTooltip;
    selectAllBtn.onclick = () => {
      suggestions.forEach((suggestion) => {
        if (!this.selectedSuggestions.has(suggestion)) {
          const listItem = Array.from(list.children).find(
            (item) => item.textContent?.includes(suggestion)
          );
          this.createChildFromSuggestion(node, suggestion, listItem);
        }
      });
    };
    const closeBtn = document.createElement("button");
    closeBtn.className = "ai-suggestions-close";
    closeBtn.textContent = this.messages.ui.aiClose;
    closeBtn.onclick = () => this.hideSuggestionsPanel();
    actionButtons.appendChild(selectAllBtn);
    actionButtons.appendChild(closeBtn);
    header.appendChild(title);
    header.appendChild(actionButtons);
    panel.appendChild(header);
    const list = document.createElement("ul");
    list.className = "ai-suggestions-list";
    suggestions.forEach((suggestion) => {
      const item = document.createElement("li");
      item.className = "ai-suggestion-item";
      const isSelected = this.selectedSuggestions.has(suggestion);
      if (isSelected) {
        item.classList.add("ai-suggestion-item-selected");
      }
      const checkmark = document.createElement("span");
      checkmark.className = "ai-suggestion-checkmark";
      checkmark.textContent = isSelected ? "\u2713" : "";
      const text = document.createElement("span");
      text.className = "ai-suggestion-text";
      text.textContent = suggestion;
      item.appendChild(checkmark);
      item.appendChild(text);
      item.onclick = () => {
        if (!this.selectedSuggestions.has(suggestion)) {
          this.createChildFromSuggestion(node, suggestion, item);
        } else {
          new import_obsidian.Notice(this.messages.format(
            this.messages.notices.alreadyAdded || `Already added: {nodeText}`,
            { nodeText: suggestion }
          ));
        }
      };
      list.appendChild(item);
    });
    panel.appendChild(list);
    document.body.appendChild(panel);
  }
  /**
   * Close suggestion panel
   */
  hideSuggestionsPanel() {
    const panel = document.querySelector(".ai-suggestions-panel");
    if (panel) {
      panel.remove();
    }
  }
  /**
   * Create child node from suggestion
   *
   * @param parentNode Parent node
   * @param suggestion Suggestion text
   * @param listItemElement List item element (optional, for updating UI)
   */
  createChildFromSuggestion(parentNode, suggestion, listItemElement) {
    if (this.selectedSuggestions.has(suggestion)) {
      new import_obsidian.Notice(this.messages.format(
        this.messages.notices.alreadyAdded || `Already added: {nodeText}`,
        { nodeText: suggestion }
      ));
      return;
    }
    try {
      this.mindMapService.createChildNode(parentNode.data, suggestion);
      this.selectedSuggestions.add(suggestion);
      this.callbacks.onNodeCreated?.();
      if (listItemElement) {
        listItemElement.classList.add("ai-suggestion-item-selected");
        const checkmark = listItemElement.querySelector(".ai-suggestion-checkmark");
        if (checkmark) {
          checkmark.textContent = "\u2713";
        }
      }
      new import_obsidian.Notice(this.messages.format(
        this.messages.notices.nodeCreated || `Created: {nodeText}`,
        { nodeText: suggestion }
      ));
    } catch (error) {
      new import_obsidian.Notice(this.messages.format(
        this.messages.notices.nodeCreateFailed || `Failed to create node: {error}`,
        { error: error.message }
      ));
    }
  }
  /**
   * Clear selected suggestions tracking
   *
   * Called when switching to different nodes or reopening mind map
   */
  clearSelectedSuggestions() {
    this.selectedSuggestions.clear();
  }
  /**
   * Destroy AI Assistant
   *
   * Clean up resources and hide panel
   */
  destroy() {
    this.hideSuggestionsPanel();
    if (this.loadingNotice) {
      this.loadingNotice.hide();
      this.loadingNotice = null;
    }
    this.selectedSuggestions.clear();
  }
};

// src/features/NodeEditor.ts
var import_obsidian2 = require("obsidian");
var NodeEditor = class {
  constructor(config, messages, callbacks = {}, editingState) {
    this.config = config;
    this.messages = messages;
    this.callbacks = callbacks;
    // Canvas interaction state
    this.canvasInteractionEnabled = true;
    this.editingState = editingState || {
      isEditing: false,
      currentNode: null,
      originalText: "",
      editElement: null
    };
  }
  /**
   * Enable node editing mode
   *
   * @param node Node to edit
   * @param editElement Editable text element
   */
  enableEditing(node, editElement) {
    if (node.depth === 0) {
      this.showRootNodeEditWarning();
      return;
    }
    if (this.editingState.isEditing && this.editingState.currentNode !== node) {
      this.exitEditMode();
    }
    this.setCanvasInteraction(false);
    this.editingState.isEditing = true;
    this.editingState.currentNode = node;
    this.editingState.originalText = node.data.text;
    this.editingState.editElement = editElement;
    try {
      editElement.contentEditable = "true";
      editElement.classList.add("editing");
      const nodeElement = select_default2(editElement.closest("g"));
      nodeElement.classed("node-editing", true);
      setTimeout(() => {
        try {
          editElement.focus();
          const range = document.createRange();
          range.selectNodeContents(editElement);
          const selection2 = window.getSelection();
          if (selection2) {
            selection2.removeAllRanges();
            selection2.addRange(range);
          }
        } catch {
          this.showValidationError(this.messages.errors.focusSetFailed);
          this.exitEditMode();
        }
      }, 10);
      setTimeout(() => {
        this.showEditingHint();
      }, 100);
    } catch {
      this.showValidationError(this.messages.errors.enterEditModeFailed);
      this.exitEditMode();
    }
  }
  /**
   * Exit edit mode
   */
  exitEditMode() {
    if (!this.editingState.isEditing) return;
    const { editElement } = this.editingState;
    this.setCanvasInteraction(true);
    if (editElement) {
      try {
        editElement.contentEditable = "false";
        editElement.classList.remove("editing");
        const selection2 = window.getSelection();
        if (selection2) {
          selection2.removeAllRanges();
        }
        const nodeElement = select_default2(editElement.closest("g"));
        nodeElement.classed("node-editing", false);
      } catch {
      }
    }
    this.hideEditingHint();
    this.editingState.isEditing = false;
    this.editingState.currentNode = null;
    this.editingState.originalText = "";
    this.editingState.editElement = null;
  }
  /**
   * Cancel edit mode (restore original text)
   */
  cancelEdit() {
    if (!this.editingState.isEditing) return;
    const { editElement } = this.editingState;
    if (editElement && this.editingState.originalText) {
      editElement.textContent = this.editingState.originalText;
    }
    this.exitEditMode();
  }
  /**
   * Save node text
   */
  saveText() {
    if (!this.editingState.isEditing || !this.editingState.currentNode || !this.editingState.editElement) {
      return;
    }
    const { editElement, currentNode } = this.editingState;
    const newText = editElement.textContent?.trim() || "";
    try {
      if (!this.validateText(newText)) {
        this.showValidationError(this.messages.errors.nodeTextEmpty);
        return;
      }
      if (newText === this.editingState.originalText) {
        this.exitEditMode();
        return;
      }
      this.callbacks.onBeforeTextChange?.(currentNode);
      currentNode.data.text = newText;
      this.callbacks.onTextChanged?.(currentNode, newText);
    } catch {
      this.showValidationError(this.messages.errors.saveFailed);
      editElement.textContent = this.editingState.originalText;
    }
    this.exitEditMode();
  }
  /**
   * Validate node text
   *
   * @param text Text to validate
   * @returns Whether valid
   */
  validateText(text) {
    if (!text || text.trim().length === 0) {
      return false;
    }
    if (text.length > VALIDATION_CONSTANTS.MAX_TEXT_LENGTH) {
      return false;
    }
    const invalidChars = VALIDATION_CONSTANTS.INVALID_CHARACTERS;
    if (invalidChars.some((char) => text.includes(char))) {
      return false;
    }
    return true;
  }
  /**
   * Get current editing state (read-only)
   * Note: Returns real reference, used by TextRenderer and other modules to check state
   */
  getEditingState() {
    return this.editingState;
  }
  /**
   * Whether currently editing
   */
  isEditing() {
    return this.editingState.isEditing;
  }
  /**
   * Check if canvas interaction is enabled
   */
  isCanvasInteractionEnabled() {
    return this.canvasInteractionEnabled;
  }
  /**
   * Destroy
   */
  destroy() {
    this.exitEditMode();
    this.hideEditingHint();
  }
  // ========== Private Methods ==========
  /**
   * Set canvas interaction state
   */
  setCanvasInteraction(enabled) {
    this.canvasInteractionEnabled = enabled;
    this.callbacks.onCanvasInteractionChanged?.(enabled);
  }
  /**
   * Show editing hint
   */
  showEditingHint() {
    let hintElement = document.querySelector(".editing-hint");
    if (!hintElement) {
      hintElement = document.createElement("div");
      hintElement.className = "editing-hint";
      const editHint = this.config.isMobile ? this.messages.ui.editHintMobile : this.messages.ui.editHintDesktop;
      hintElement.textContent = editHint;
      document.body.appendChild(hintElement);
    }
    hintElement.classList.add("show");
  }
  /**
   * Hide editing hint
   */
  hideEditingHint() {
    const hintElement = document.querySelector(".editing-hint");
    if (hintElement) {
      hintElement.classList.remove("show");
    }
  }
  /**
   * Show root node edit warning
   */
  showRootNodeEditWarning() {
    new import_obsidian2.Notice(this.messages.validation.cannotEditRoot, 3e3);
  }
  /**
   * Show validation error
   */
  showValidationError(message) {
    const errorElement = document.createElement("div");
    errorElement.className = "mind-map-validation-error";
    errorElement.textContent = message;
    document.body.appendChild(errorElement);
    setTimeout(() => {
      errorElement.classList.add("fading-out");
      setTimeout(() => {
        if (errorElement.parentNode) {
          errorElement.parentNode.removeChild(errorElement);
        }
      }, 200);
    }, 3e3);
    if (this.editingState.isEditing) {
      try {
        this.exitEditMode();
      } catch {
      }
    }
  }
};

// src/features/ClipboardManager.ts
var import_obsidian3 = require("obsidian");
function setCssProps2(element, props) {
  Object.assign(element.style, props);
}
var ClipboardManager = class {
  constructor(mindMapService, messages, callbacks = {}) {
    this.mindMapService = mindMapService;
    this.messages = messages;
    this.callbacks = callbacks;
  }
  /**
   * Copy node to clipboard (serialize as markdown format)
   *
   * @param node Node to copy
   * @returns Promise<boolean> Whether successful
   */
  async copyNode(node) {
    try {
      const markdown = this.mindMapService.serializeSubtreeToMarkdown(node.data);
      if (navigator.clipboard && window.isSecureContext) {
        try {
          await navigator.clipboard.writeText(markdown);
          this.showSuccessNotice(this.messages.notices.nodeTextCopied);
          return true;
        } catch {
          return this.fallbackCopy(markdown);
        }
      } else {
        return this.fallbackCopy(markdown);
      }
    } catch {
      this.showErrorNotice(this.messages.notices.copyFailed);
      return false;
    }
  }
  /**
   * Cut node (copy + delete)
   *
   * @param node Node to cut
   * @returns Promise<boolean> Whether successful
   */
  async cutNode(node) {
    const copySuccess = await this.copyNode(node);
    if (copySuccess) {
      const deleteSuccess = this.mindMapService.deleteNode(node.data);
      if (deleteSuccess) {
        this.callbacks.clearSelection?.();
        this.callbacks.onDataUpdated?.();
        return true;
      }
    }
    return false;
  }
  /**
   * Paste clipboard content to node
   *
   * @param node Target node (will be used as parent node)
   * @returns Promise<boolean> Whether successful
   */
  async pasteToNode(node) {
    try {
      if (!navigator.clipboard || !window.isSecureContext) {
        return false;
      }
      const clipboardText = await navigator.clipboard.readText();
      if (!clipboardText || clipboardText.trim().length === 0) {
        return false;
      }
      const isMarkdownFormat = /^\s*[-*]/m.test(clipboardText);
      if (isMarkdownFormat) {
        return this.pasteSubtree(node, clipboardText);
      } else {
        return this.pasteText(node, clipboardText);
      }
    } catch {
      return false;
    }
  }
  /**
   * Destroy
   */
  destroy() {
  }
  // ========== Private Methods ==========
  /**
   * Fallback copy method (compatible with older browsers)
   *
   * Note: This uses the deprecated execCommand as a fallback for older browsers
   * that don't support the modern Clipboard API. The modern API is tried first
   * in copyNode(). This fallback is only used when:
   * - navigator.clipboard is not available (older browsers)
   * - window.isSecureContext is false (non-HTTPS contexts)
   * - The Clipboard API call throws an error
   */
  fallbackCopy(text) {
    const textArea = document.createElement("textarea");
    textArea.value = text;
    setCssProps2(textArea, {
      position: "fixed",
      top: "0",
      left: "0",
      width: "2em",
      height: "2em",
      padding: "0",
      border: "none",
      outline: "none",
      boxShadow: "none",
      background: "transparent",
      opacity: "0",
      pointerEvents: "none"
    });
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    try {
      const successful = document.execCommand("copy");
      if (successful) {
        this.showSuccessNotice(this.messages.notices.nodeTextCopied);
        return true;
      } else {
        this.showErrorNotice(this.messages.notices.copyFailed);
        return false;
      }
    } catch {
      this.showErrorNotice(this.messages.notices.copyFailed);
      return false;
    } finally {
      document.body.removeChild(textArea);
    }
  }
  /**
   * Paste subtree (markdown format)
   */
  pasteSubtree(node, clipboardText) {
    const subtreeRoot = this.mindMapService.createSubtreeFromMarkdown(
      clipboardText,
      node.data.level
    );
    if (subtreeRoot) {
      subtreeRoot.parent = node.data;
      node.data.children.push(subtreeRoot);
      this.callbacks.clearSelection?.();
      subtreeRoot.selected = true;
      this.callbacks.onDataUpdated?.();
      return true;
    } else {
      return this.pasteText(node, clipboardText);
    }
  }
  /**
   * Paste plain text (create single child node)
   */
  pasteText(node, clipboardText) {
    const truncatedText = clipboardText.substring(0, VALIDATION_CONSTANTS.MAX_TEXT_LENGTH);
    const childNode = this.mindMapService.createChildNode(node.data, truncatedText);
    this.callbacks.clearSelection?.();
    childNode.selected = true;
    this.callbacks.onDataUpdated?.();
    return true;
  }
  /**
   * Show success notice
   */
  showSuccessNotice(message) {
    new import_obsidian3.Notice(message, 2e3);
  }
  /**
   * Show error notice
   */
  showErrorNotice(message) {
    new import_obsidian3.Notice(message, 3e3);
  }
};

// src/features/ButtonRenderer.ts
var ButtonRenderer = class {
  constructor() {
  }
  /**
   * Batch render plus buttons (only for selected nodes)
   *
   * @param nodeElements D3 node selection set
   */
  renderButtons(nodeElements) {
    const nodes = nodeElements.nodes();
    const data = nodeElements.data();
    for (let i = 0; i < nodes.length; i++) {
      const node = nodes[i];
      const d = data[i];
      const nodeElement = select_default2(node);
      const dimensions = this.textMeasurer.getNodeDimensions(d.depth, d.data.text);
      if (d.data.selected) {
        this.renderPlusButton(nodeElement, d, dimensions);
      }
    }
  }
  /**
   * Render plus button for a single node
   *
   * @param nodeElement Node element selection set
   * @param node Node data
   * @param dimensions Node dimensions
   */
  renderPlusButton(nodeElement, node, dimensions) {
    const existingButton = nodeElement.select(".plus-button-group");
    if (!existingButton.empty()) {
      return;
    }
    const totalButtonsHeight = 20 + 10 + 20;
    const buttonY = (dimensions.height - totalButtonsHeight) / 2;
    const buttonGroup = nodeElement.append("g").attr("class", "plus-button-group").attr("transform", `translate(${dimensions.width + 4}, ${buttonY})`);
    buttonGroup.on("click", (event) => {
      this.handleButtonClick(event, node);
    });
    buttonGroup.append("circle").attr("class", "plus-button-bg").attr("cx", 10).attr("cy", 10).attr("r", 10).attr("fill", "#2972f4").style("opacity", 0.9).style("cursor", "pointer");
    buttonGroup.append("text").attr("class", "plus-button-text").attr("x", 10).attr("y", 10).attr("text-anchor", "middle").attr("dominant-baseline", "middle").attr("fill", "white").attr("font-size", "16px").attr("font-weight", "bold").style("pointer-events", "none").text("+");
  }
  /**
   * Remove plus button from node
   *
   * @param nodeElement Node element selection set
   */
  removePlusButton(nodeElement) {
    const buttonGroup = nodeElement.select(".plus-button-group");
    if (!buttonGroup.empty()) {
      buttonGroup.remove();
    }
  }
  /**
   * Destroy
   */
  destroy() {
  }
  // ========== Private Methods ==========
  /**
   * Handle plus button click event
   */
  handleButtonClick(event, node) {
    event.stopPropagation();
    this.callbacks.onAddChildNode?.(node);
  }
};

// src/features/MobileToolbar.ts
var MobileToolbar = class {
  constructor(textMeasurer, messages, callbacks = {}) {
    this.textMeasurer = textMeasurer;
    this.messages = messages;
    this.callbacks = callbacks;
    this.toolbar = null;
    this.currentNode = null;
  }
  /**
   * Create shared toolbar
   *
   * @param svg SVG selection set
   */
  create(svg) {
    if (this.toolbar) {
      this.toolbar.remove();
      this.toolbar = null;
    }
    const content = svg.select(".mindmap-content");
    if (content.empty()) {
      return;
    }
    const toolbarGroup = content.append("g").attr("class", "shared-node-toolbar").style("display", "none");
    this.createToolbarContent(toolbarGroup);
    this.toolbar = toolbarGroup;
  }
  /**
   * Update toolbar position and display state
   *
   * @param node Associated node
   * @param offsetX X-axis offset
   * @param offsetY Y-axis offset
   */
  updatePosition(node, offsetX, offsetY) {
    if (!this.toolbar) {
      return;
    }
    const dimensions = this.textMeasurer.getNodeDimensions(node.depth, node.data.text);
    const nodeCanvasX = node.y + offsetX;
    const nodeCanvasY = node.x + offsetY - dimensions.height / 2;
    const toolbarWidth = 320;
    const toolbarHeight = 44;
    const toolbarOffsetX = (dimensions.width - toolbarWidth) / 2;
    const toolbarOffsetY = -toolbarHeight - 12;
    const toolbarX = nodeCanvasX + toolbarOffsetX;
    const toolbarY = nodeCanvasY + toolbarOffsetY;
    this.toolbar.interrupt().attr("transform", `translate(${toolbarX}, ${toolbarY})`).style("display", "block").style("opacity", 0);
    this.currentNode = node;
    this.attachHandlers(node);
    requestAnimationFrame(() => {
      if (this.toolbar) {
        this.toolbar.style("transition", "opacity 0.15s ease-out").style("opacity", 1);
      }
    });
  }
  /**
   * Hide toolbar
   */
  hide() {
    if (!this.toolbar) {
      return;
    }
    this.toolbar.style("opacity", 0).transition().duration(150).on("end", () => {
      this.toolbar?.style("display", "none");
      this.currentNode = null;
    });
  }
  /**
   * Destroy
   */
  destroy() {
    if (this.toolbar) {
      this.toolbar.remove();
      this.toolbar = null;
    }
    this.currentNode = null;
  }
  // ========== Private Methods ==========
  /**
   * Create toolbar content
   */
  createToolbarContent(toolbarGroup) {
    const toolbarWidth = 400;
    const toolbarHeight = 44;
    toolbarGroup.append("rect").attr("class", "toolbar-bg").attr("width", toolbarWidth).attr("height", toolbarHeight).attr("rx", 8).attr("ry", 8).attr("fill", "#000000");
    toolbarGroup.append("path").attr("class", "toolbar-arrow").attr("d", "M 200 52 L 192 44 L 208 44 Z").attr("fill", "#000000");
    for (let i = 1; i <= 3; i++) {
      toolbarGroup.append("line").attr("class", "toolbar-separator").attr("x1", toolbarWidth / 4 * i).attr("y1", 8).attr("x2", toolbarWidth / 4 * i).attr("y2", toolbarHeight - 8).attr("stroke", "#333333").attr("stroke-width", 1);
    }
    this.createToolbarButton(toolbarGroup, 0, toolbarWidth, toolbarHeight, "edit");
    this.createToolbarButton(toolbarGroup, 1, toolbarWidth, toolbarHeight, "copy");
    this.createToolbarButton(toolbarGroup, 2, toolbarWidth, toolbarHeight, "paste");
    this.createToolbarButton(toolbarGroup, 3, toolbarWidth, toolbarHeight, "delete");
  }
  /**
   * Create toolbar button
   */
  createToolbarButton(toolbarGroup, index, toolbarWidth, toolbarHeight, type2) {
    const buttonGroup = toolbarGroup.append("g").attr("class", `toolbar-btn ${type2}-btn`).style("cursor", "pointer");
    buttonGroup.append("rect").attr("x", toolbarWidth / 4 * index).attr("width", toolbarWidth / 4).attr("height", toolbarHeight).attr("fill", "transparent").attr("rx", 8).attr("ry", 8);
    const buttonConfig = {
      edit: { icon: "\u270F\uFE0F", text: this.messages.ui.contextEdit },
      copy: { icon: "\u{1F4CB}", text: this.messages.ui.contextCopy },
      paste: { icon: "\u{1F4D1}", text: this.messages.ui.contextPaste },
      delete: { icon: "\u{1F5D1}\uFE0F", text: this.messages.ui.contextDelete }
    };
    const config = buttonConfig[type2];
    const buttonCenterX = toolbarWidth / 4 * index + toolbarWidth / 8;
    buttonGroup.append("text").attr("x", buttonCenterX - 16).attr("y", toolbarHeight / 2).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr("fill", "#ffffff").attr("font-size", "14px").style("pointer-events", "none").text(config.icon);
    buttonGroup.append("text").attr("x", buttonCenterX + 16).attr("y", toolbarHeight / 2).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr("fill", "#ffffff").attr("font-size", "14px").attr("font-weight", "500").style("pointer-events", "none").text(config.text);
  }
  /**
   * Attach toolbar button event handlers
   */
  attachHandlers(node) {
    if (!this.toolbar) return;
    this.toolbar.select(".edit-btn").on("click", (event) => {
      this.handleButtonClick(event, node, "edit");
    });
    this.toolbar.select(".copy-btn").on("click", (event) => {
      this.handleButtonClick(event, node, "copy");
    });
    this.toolbar.select(".paste-btn").on("click", (event) => {
      this.handleButtonClick(event, node, "paste");
    });
    this.toolbar.select(".delete-btn").on("click", (event) => {
      this.handleButtonClick(event, node, "delete");
    });
  }
  /**
   * Handle toolbar button click event
   */
  handleButtonClick(event, node, type2) {
    event.stopPropagation();
    if (navigator.vibrate) {
      navigator.vibrate(50);
    }
    switch (type2) {
      case "edit":
        this.callbacks.onEdit?.(node);
        break;
      case "copy":
        this.callbacks.onCopy?.(node);
        break;
      case "paste":
        this.callbacks.onPaste?.(node);
        break;
      case "delete":
        this.callbacks.onDelete?.(node);
        break;
    }
  }
};

// src/renderers/renderer-coordinator.ts
var RendererCoordinator = class {
  constructor(mindMapService, config, messages, isActiveView) {
    this.mindMapService = mindMapService;
    this.isActiveView = isActiveView;
    // ==========  ==========
    this.currentSvg = null;
    this.currentContent = null;
    this.currentZoom = null;
    this.currentZoomTransform = identity2;
    this.currentData = null;
    // 
    this.isRendering = false;
    this.pendingRenderRequest = false;
    // 
    this.selectedNode = null;
    this.hoveredNode = null;
    // 
    this.editingState = {
      isEditing: false,
      currentNode: null,
      originalText: "",
      editElement: null
    };
    // 
    this.canvasInteractionEnabled = true;
    // 
    this.layoutConfig = {
      minNodeGap: 25,
      lineOffset: 6,
      horizontalSpacing: 170,
      verticalSpacing: 110,
      minVerticalGap: 25,
      treeHeight: 800,
      treeWidth: 1200,
      nodeHeightBuffer: 15
    };
    this.config = config || { isMobile: false };
    this.messages = messages || {};
    if (!messages) {
    }
    this.undoManager = new UndoManager();
    this.initializeCoreRenderers();
    this.initializeFeatureModules();
  }
  // ==========  ==========
  initializeCoreRenderers() {
    this.textMeasurer = new TextMeasurer();
    this.layoutCalculator = new LayoutCalculator();
    this.nodeRenderer = new NodeRenderer(this.textMeasurer, this.layoutCalculator);
    this.linkRenderer = new LinkRenderer(this.textMeasurer, { lineOffset: this.layoutConfig.lineOffset });
    this.textRenderer = new TextRenderer(this.textMeasurer, this.config, this.editingState);
  }
  initializeFeatureModules() {
    const renderCallbacks = {
      onNodeSelected: (node) => this.handleNodeSelected(node),
      onNodeHovered: (node) => this.handleNodeHovered(node),
      onNodeLeft: (node) => this.handleNodeLeft(node),
      onSelectionCleared: () => this.handleSelectionCleared(),
      onNodeDoubleClicked: (node, event) => this.handleNodeDoubleClicked(node, event),
      onAddChildNode: (node) => this.handleAddChildNode(node),
      onAddSiblingNode: (node) => this.handleAddSiblingNode(node),
      onDeleteNode: (node) => this.handleDeleteNode(node),
      onCopyNode: (node) => this.handleCopyNode(node),
      onCutNode: (node) => this.handleCutNode(node),
      onPasteToNode: (node) => this.handlePasteToNode(node),
      onExitEditMode: () => this.handleExitEditMode(),
      onUndo: () => this.undo(),
      onRedo: () => this.redo()
    };
    this.interactionManager = new InteractionManager(this.config, renderCallbacks, this.isActiveView);
    const aiCallbacks = {
      onNodeCreated: () => this.triggerDataUpdate()
    };
    this.aiAssistant = new AIAssistant(this.mindMapService, this.messages, aiCallbacks);
    const editorCallbacks = {
      onBeforeTextChange: (node) => {
        if (this.currentData) {
          this.undoManager.saveSnapshot(this.currentData);
        }
      },
      onTextChanged: (node, newText) => {
        this.onTextChanged?.(node, newText);
      },
      onCanvasInteractionChanged: (enabled) => {
        this.canvasInteractionEnabled = enabled;
        this.interactionManager.syncEditingState(!enabled);
      }
    };
    this.nodeEditor = new NodeEditor(this.config, this.messages, editorCallbacks, this.editingState);
    const clipboardCallbacks = {
      onDataUpdated: () => this.triggerDataUpdate(),
      clearSelection: () => this.clearSelection()
    };
    this.clipboardManager = new ClipboardManager(this.mindMapService, this.messages, clipboardCallbacks);
    const buttonCallbacks = {
      onAddChildNode: (node) => this.handleAddChildNode(node),
      enterEditMode: (node) => this.enterEditModeForNode(node),
      clearSelection: () => this.clearSelection(),
      selectNode: (node) => this.selectNode(node),
      onDataUpdated: () => this.triggerDataUpdate()
    };
    this.buttonRenderer = new ButtonRenderer(
      this.mindMapService,
      this.textMeasurer,
      buttonCallbacks
    );
    if (this.config.isMobile) {
      const toolbarCallbacks = {
        onEdit: (node) => this.enterEditModeForNode(node),
        onCopy: async (node) => {
          await this.clipboardManager.copyNode(node);
        },
        onPaste: async (node) => {
          await this.clipboardManager.pasteToNode(node);
        },
        onDelete: (node) => this.handleDeleteNode(node)
      };
      this.mobileToolbar = new MobileToolbar(
        this.textMeasurer,
        this.messages,
        toolbarCallbacks
      );
    }
  }
  // ========== MindMapRenderer  ==========
  render(container, data) {
    if (this.isRendering) {
      this.pendingRenderRequest = true;
      return;
    }
    this.isRendering = true;
    this.currentData = data;
    this.validateSelectionState();
    let root2;
    try {
      select_default2(container).selectAll("*").remove();
      const svg = select_default2(container).append("svg").attr("width", "100%").attr("height", "100%").style("position", "relative");
      this.currentSvg = svg;
      this.currentContent = svg.append("g").attr("class", "mindmap-content");
      root2 = hierarchy(data.rootNode);
      const dynamicTreeHeight = this.calculateDynamicTreeHeight(root2);
      this.layoutCalculator.updateConfig({
        treeHeight: dynamicTreeHeight
      });
      this.layoutCalculator.createCustomTreeLayout(
        root2,
        (depth, text) => this.textMeasurer.getNodeDimensions(depth, text)
      );
      this.createGradientDefinitions(svg);
      this.setupZoom(svg, container);
      if (this.currentZoomTransform) {
        svg.call(this.currentZoom.transform, this.currentZoomTransform);
        this.currentContent.attr("transform", this.currentZoomTransform);
      }
      const offsetX = 0;
      const offsetY = 0;
      this.renderLinks(root2, offsetX, offsetY);
      this.renderNodes(root2, offsetX, offsetY);
      this.restoreViewState();
      this.applyInitialViewPosition(root2, svg, this.currentZoom, container);
    } finally {
      this.isRendering = false;
      if (this.pendingRenderRequest) {
        this.pendingRenderRequest = false;
        setTimeout(() => {
          this.render(container, data);
        }, 16);
      }
      this.syncSelectedNodeReference(root2);
      if (this.config.isMobile && this.mobileToolbar) {
        this.mobileToolbar.create(this.currentSvg);
      }
      this.restoreSelectionUI();
    }
  }
  destroy() {
    this.mobileToolbar?.destroy();
    this.buttonRenderer.destroy();
    this.clipboardManager.destroy();
    this.nodeEditor.destroy();
    this.aiAssistant.destroy();
    this.interactionManager.destroy();
    if (this.currentSvg) {
      this.currentSvg.selectAll("*").remove();
      this.currentSvg = null;
    }
    this.currentContent = null;
  }
  // ========== ==========
  /**
   * 
   *  render() 
   */
  saveViewState() {
    if (this.currentSvg && this.currentZoom) {
      const svgNode2 = this.currentSvg.node();
      if (svgNode2) {
        this.currentZoomTransform = transform(svgNode2);
      }
    }
  }
  /**
   * 
   *  NodeEditor 
   */
  exitEditMode() {
    if (this.nodeEditor.isEditing()) {
      this.nodeEditor.exitEditMode();
    }
  }
  /**
   * 
   *  TextRenderer 
   *  Enter 
   */
  saveNodeText() {
    if (this.nodeEditor.isEditing()) {
      this.nodeEditor.saveText();
    }
  }
  /**
   * 
   *  TextRenderer 
   *  Escape 
   */
  cancelEditMode() {
    if (this.nodeEditor.isEditing()) {
      this.nodeEditor.cancelEdit();
    }
  }
  // ==========  ==========
  renderLinks(root2, offsetX, offsetY) {
    this.linkRenderer.renderLinks(this.currentContent, root2.links(), offsetX, offsetY);
  }
  renderNodes(root2, offsetX, offsetY) {
    const nodeElements = this.nodeRenderer.renderNodes(this.currentContent, root2.descendants(), offsetX, offsetY);
    this.textRenderer.renderText(nodeElements, void 0, this);
    this.attachInteractionHandlers(nodeElements);
  }
  setupZoom(svg, container) {
    this.currentZoom = zoom_default2().scaleExtent([0.1, 4]).filter((event) => {
      if (!this.canvasInteractionEnabled) {
        return false;
      }
      const target = event.target;
      if (target.contentEditable === "true" || target.closest('[contenteditable="true"]')) {
        return false;
      }
      return true;
    }).on("zoom", (event) => {
      this.handleZoom(event);
    });
    svg.call(this.currentZoom);
    svg.on("dblclick.zoom", null);
  }
  applyInitialViewPosition(root2, svg, zoom, container) {
    if (this.currentZoomTransform) {
      return;
    }
    requestAnimationFrame(() => {
      const containerHeight = container.clientHeight || 1e3;
      const initialTransform = identity2.translate(20, (containerHeight - 100) / 2).scale(1);
      svg.call(zoom.transform, initialTransform);
    });
  }
  attachInteractionHandlers(nodeElements) {
    this.interactionManager.attachHandlers(this.currentSvg, nodeElements);
    if (this.config.isMobile && this.mobileToolbar) {
      this.mobileToolbar.create(this.currentSvg);
    }
  }
  // ==========  ==========
  handleZoom(event) {
    if (this.currentContent) {
      this.currentContent.attr("transform", event.transform);
    }
    this.currentZoomTransform = event.transform;
  }
  // ========== RenderCallbacks  ==========
  handleNodeSelected(node) {
    this.selectedNode = node;
    const nodeElement = selectAll_default2(".nodes g").filter((d) => d === node);
    const dimensions = this.textMeasurer.getNodeDimensions(node.depth, node.data.text);
    this.buttonRenderer.renderPlusButton(nodeElement, node, dimensions);
    this.aiAssistant.renderAIButton(nodeElement, node, dimensions);
    if (this.config.isMobile && this.mobileToolbar && !this.nodeEditor.isEditing()) {
      this.mobileToolbar.updatePosition(node, 0, 0);
    }
  }
  handleNodeHovered(node) {
    this.hoveredNode = node;
  }
  handleNodeLeft(node) {
    if (this.hoveredNode === node) {
      this.hoveredNode = null;
    }
  }
  handleSelectionCleared() {
    this.selectedNode = null;
    if (this.config.isMobile && this.mobileToolbar) {
      this.mobileToolbar.hide();
    }
  }
  handleNodeDoubleClicked(node, event) {
    const targetElement = selectAll_default2(".nodes g").filter((d) => d === node).select(".node-unified-text").node();
    if (targetElement) {
      this.nodeEditor.enableEditing(node, targetElement);
    }
  }
  handleAddChildNode(node) {
    if (this.currentData) {
      this.undoManager.saveSnapshot(this.currentData);
    }
    const newNode = this.mindMapService.createChildNode(node.data, "New Node");
    this.clearSelection();
    newNode.selected = true;
    this.selectedNode = {
      data: newNode,
      depth: newNode.level,
      parent: node,
      children: []
    };
    this.triggerDataUpdate();
    setTimeout(() => {
      this.editNewNode();
    }, 150);
  }
  handleAddSiblingNode(node) {
    if (this.currentData) {
      this.undoManager.saveSnapshot(this.currentData);
    }
    const parentNode = node.parent;
    const newNode = this.mindMapService.createSiblingNode(
      node.data,
      "New Node"
    );
    if (!newNode) return;
    this.clearSelection();
    newNode.selected = true;
    this.selectedNode = {
      data: newNode,
      depth: newNode.level,
      parent: parentNode,
      children: []
    };
    this.triggerDataUpdate();
    setTimeout(() => {
      this.editNewNode();
    }, 150);
  }
  handleDeleteNode(node) {
    if (this.currentData) {
      this.undoManager.saveSnapshot(this.currentData);
    }
    const deleteSuccess = this.mindMapService.deleteNode(node.data);
    if (deleteSuccess) {
      this.clearSelection();
      this.triggerDataUpdate();
    }
  }
  async handleCopyNode(node) {
    await this.clipboardManager.copyNode(node);
  }
  async handleCutNode(node) {
    if (this.currentData) {
      this.undoManager.saveSnapshot(this.currentData);
    }
    await this.clipboardManager.cutNode(node);
  }
  async handlePasteToNode(node) {
    if (this.currentData) {
      this.undoManager.saveSnapshot(this.currentData);
    }
    await this.clipboardManager.pasteToNode(node);
  }
  /**
   * 
   *  InteractionManager 
   */
  handleExitEditMode() {
    if (this.nodeEditor.isEditing()) {
      this.nodeEditor.saveText();
    }
  }
  // ==========  ==========
  enterEditModeForNode(node) {
    const targetElement = selectAll_default2(".nodes g").filter((d) => d.data === node.data).select(".node-unified-text").node();
    if (targetElement) {
      this.nodeEditor.enableEditing(node, targetElement);
    }
  }
  selectNode(node) {
    this.selectedNode = node;
    node.data.selected = true;
    selectAll_default2(".node-rect").filter((d) => d === node).classed("selected-rect", true);
  }
  clearSelection() {
    if (this.nodeEditor.isEditing()) {
      this.nodeEditor.saveText();
      return;
    }
    if (this.currentData && this.currentData.rootNode) {
      this.clearAllSelectionStates(this.currentData.rootNode);
    }
    selectAll_default2(".node-rect").classed("selected-rect", false).classed("hovered-rect", false);
    this.selectedNode = null;
    this.hoveredNode = null;
    selectAll_default2(".plus-button-group").remove();
    selectAll_default2(".ai-suggest-button-group").remove();
    if (this.config.isMobile && this.mobileToolbar) {
      this.mobileToolbar.hide();
    }
  }
  /**
   * 
   * 
   */
  clearAllSelectionStates(node) {
    node.selected = false;
    node.hovered = false;
    for (const child of node.children) {
      this.clearAllSelectionStates(child);
    }
  }
  /**
   * 
   * 
   */
  validateSelectionState() {
    if (!this.currentData || !this.currentData.rootNode) {
      return;
    }
    let selectedCount = 0;
    let firstSelected = null;
    this.currentData.allNodes.forEach((node) => {
      if (node.selected) {
        selectedCount++;
        if (!firstSelected) {
          firstSelected = node;
        }
      }
    });
    if (selectedCount > 1) {
      console.warn(`[Selection] Found ${selectedCount} selected nodes, clearing all except first`);
      this.currentData.allNodes.forEach((node) => {
        if (node !== firstSelected && node.selected) {
          node.selected = false;
        }
      });
    }
  }
  // ==========  ==========
  /**
   * 
   * 
   */
  calculateDynamicTreeHeight(root2) {
    let maxDepth = 0;
    const nodesAtDepth = {};
    root2.each((node) => {
      maxDepth = Math.max(maxDepth, node.depth);
      if (!nodesAtDepth[node.depth]) {
        nodesAtDepth[node.depth] = [];
      }
      nodesAtDepth[node.depth].push(node);
    });
    let totalHeight = 0;
    for (let depth = 0; depth <= maxDepth; depth++) {
      const nodes = nodesAtDepth[depth] || [];
      const layerHeight = this.calculateAdaptiveLayerHeight(nodes);
      let depthMultiplier = 1;
      if (depth === 0) {
        depthMultiplier = 0.8;
      } else if (depth === 1) {
        depthMultiplier = 1;
      } else if (depth === 2) {
        depthMultiplier = 1.3;
      } else if (depth === 3) {
        depthMultiplier = 1.8;
      } else {
        depthMultiplier = 2.2 + (depth - 4) * 0.3;
      }
      const verticalSpacing = this.layoutConfig.verticalSpacing * depthMultiplier;
      const nodeCount = nodes.length;
      if (nodeCount > 3) {
        const nodeCountMultiplier = 1 + (nodeCount - 3) * 0.1;
        totalHeight += layerHeight + verticalSpacing * nodeCountMultiplier;
      } else {
        totalHeight += layerHeight + verticalSpacing;
      }
    }
    const minHeight = Math.max(totalHeight, this.layoutConfig.treeHeight);
    const depthBuffer = Math.max(100, maxDepth * 25);
    return minHeight + depthBuffer;
  }
  /**
   * 
   * 
   */
  calculateAdaptiveLayerHeight(nodes) {
    if (nodes.length === 0) return 60;
    let maxHeight = 0;
    let totalTextLength = 0;
    nodes.forEach((node) => {
      const dimensions = this.textMeasurer.getNodeDimensions(node.depth, node.data.text);
      maxHeight = Math.max(maxHeight, dimensions.height);
      totalTextLength += node.data.text.length;
    });
    const textLengthBonus = Math.min(totalTextLength / nodes.length * 2, 50);
    const adaptiveHeight = maxHeight + textLengthBonus;
    const minHeight = nodes[0].depth === 0 ? 80 : nodes[0].depth === 1 ? 70 : 60;
    return Math.max(adaptiveHeight, minHeight);
  }
  // ==========  ==========
  /**
   *  SVG 
   * 
   */
  createGradientDefinitions(svg) {
    const defs = svg.append("defs");
    const linkGradient = defs.append("linearGradient").attr("id", "linkGradient").attr("x1", "0%").attr("y1", "0%").attr("x2", "100%").attr("y2", "0%");
    linkGradient.append("stop").attr("offset", "0%").attr("stop-color", "var(--interactive-accent)").attr("stop-opacity", 0.8);
    linkGradient.append("stop").attr("offset", "50%").attr("stop-color", "var(--interactive-accent-hover)").attr("stop-opacity", 1);
    linkGradient.append("stop").attr("offset", "100%").attr("stop-color", "var(--text-accent)").attr("stop-opacity", 0.6);
  }
  /**
   * 
   *  selectedNode  D3 
   */
  syncSelectedNodeReference(root2) {
    if (!this.selectedNode || !this.selectedNode.data) {
      return;
    }
    const targetNode = this.selectedNode.data;
    let foundNode = null;
    root2.each((d) => {
      if (d.data === targetNode) {
        foundNode = d;
      }
    });
    if (foundNode) {
      this.selectedNode = foundNode;
    } else {
      this.selectedNode = null;
    }
  }
  /**
   *  UI
   * 
   */
  restoreSelectionUI() {
    if (!this.currentSvg) return;
    this.currentSvg.selectAll(".node").each((d, i, nodes) => {
      if (d.data.selected) {
        const nodeElement = select_default2(nodes[i]);
        const dimensions = this.textMeasurer.getNodeDimensions(d.depth, d.data.text);
        this.buttonRenderer.renderPlusButton(nodeElement, d, dimensions);
        this.aiAssistant.renderAIButton(nodeElement, d, dimensions);
      }
    });
  }
  /**
   * 
   * 
   */
  restoreViewState() {
    if (this.currentZoomTransform && this.currentSvg && this.currentZoom) {
      const svgNode2 = this.currentSvg.node();
      if (!svgNode2) {
        return;
      }
      const currentTransform = transform(svgNode2);
      if (currentTransform.toString() !== this.currentZoomTransform.toString()) {
        this.currentSvg.call(this.currentZoom.transform, this.currentZoomTransform);
        if (this.currentContent) {
          this.currentContent.attr("transform", this.currentZoomTransform);
        }
      }
    }
  }
  /**
   * 
   * 
   */
  editNewNode() {
    if (!this.selectedNode || !this.currentSvg) {
      return;
    }
    const nodeElements = selectAll_default2(".nodes g");
    const targetElement = nodeElements.filter((d) => d === this.selectedNode).select(".node-unified-text").node();
    if (targetElement) {
      this.nodeEditor.enableEditing(this.selectedNode, targetElement);
    }
  }
  triggerDataUpdate() {
    this.onDataUpdated?.();
  }
  // ========== Undo/Redo  ==========
  /**
   * 
   * @returns  true false
   */
  undo() {
    if (!this.undoManager.canUndo()) {
      return false;
    }
    const previousData = this.undoManager.undo(this.currentData);
    if (previousData && this.currentData) {
      this.currentData.rootNode = previousData.rootNode;
      this.currentData.allNodes = previousData.allNodes;
      this.currentData.maxLevel = previousData.maxLevel;
      this.clearSelection();
      this.onDataRestored?.(previousData);
      this.triggerDataUpdate();
      return true;
    }
    return false;
  }
  /**
   * 
   * @returns  true false
   */
  redo() {
    if (!this.undoManager.canRedo()) {
      return false;
    }
    const nextData = this.undoManager.redo(this.currentData);
    if (nextData && this.currentData) {
      this.currentData.rootNode = nextData.rootNode;
      this.currentData.allNodes = nextData.allNodes;
      this.currentData.maxLevel = nextData.maxLevel;
      this.clearSelection();
      this.onDataRestored?.(nextData);
      this.triggerDataUpdate();
      return true;
    }
    return false;
  }
  /**
   * 
   */
  canUndo() {
    return this.undoManager.canUndo();
  }
  /**
   * 
   */
  canRedo() {
    return this.undoManager.canRedo();
  }
  /**
   * 
   */
  clearHistory() {
    this.undoManager.clearHistory();
  }
  /**
   *  UndoManager  KeyboardManager
   */
  getUndoManager() {
    return this.undoManager;
  }
};

// src/renderers/desktop-tree-renderer.ts
var DesktopTreeRenderer = class {
  /**
   * Constructor - creates the renderer coordinator
   *
   * @param app - Obsidian app instance (not used directly, available for future extensions)
   * @param config - Configuration object with desktop-specific settings
   * @param mindMapService - MindMap service instance
   * @param messages - i18n messages object
   */
  constructor(app, config, mindMapService, messages, isActiveView) {
    this.rendererCoordinator = new RendererCoordinator(
      mindMapService,
      config,
      messages,
      isActiveView
    );
  }
  /**
   * Render mind map data
   * Delegates to RendererCoordinator
   *
   * @param container - DOM element to render into
   * @param data - Mind map data structure
   */
  render(container, data) {
    this.rendererCoordinator.render(container, data);
  }
  /**
   * Destroy the renderer and clean up resources
   * Delegates to RendererCoordinator
   */
  destroy() {
    this.rendererCoordinator.destroy();
  }
  /**
   * Get the underlying renderer coordinator
   * Useful for accessing coordinator methods during transition period
   */
  getRendererCoordinator() {
    return this.rendererCoordinator;
  }
  /**
   * onTextChanged callback getter/setter
   * Exposes RendererCoordinator's callback property for external use
   */
  get onTextChanged() {
    return this.rendererCoordinator.onTextChanged;
  }
  set onTextChanged(callback) {
    this.rendererCoordinator.onTextChanged = callback;
  }
  /**
   * onDataUpdated callback getter/setter
   * Exposes RendererCoordinator's callback property for external use
   */
  get onDataUpdated() {
    return this.rendererCoordinator.onDataUpdated;
  }
  set onDataUpdated(callback) {
    this.rendererCoordinator.onDataUpdated = callback;
  }
};

// src/renderers/mobile-tree-renderer.ts
var MobileTreeRenderer = class extends DesktopTreeRenderer {
  /**
   * Constructor - initializes mobile renderer
   *
   * @param app - Obsidian app instance
   * @param config - Configuration object with mobile-specific settings (config.isMobile = true)
   * @param mindMapService - MindMap service instance
   * @param messages - i18n messages object
   */
  constructor(app, config, mindMapService, messages, isActiveView) {
    super(app, config, mindMapService, messages, isActiveView);
  }
  /**
   * Render mind map data with mobile optimizations
   *
   * @param container - DOM element to render into
   * @param data - Mind map data structure
   */
  render(container, data) {
    container.classList.add("is-mobile");
    super.render(container, data);
  }
  /**
   * Destroy the renderer and clean up resources
   */
  destroy() {
    const container = document.querySelector(".mind-map-container.is-mobile");
    if (container) {
      container.classList.remove("is-mobile");
    }
    super.destroy();
  }
};

// src/renderers/renderer-manager.ts
var RendererManager = class {
  /**
   * Constructor - performs device detection and creates renderer
   *
   * @param app - Obsidian app instance
   * @param config - Configuration object from ConfigManager
   * @param mindMapService - MindMap service instance
   * @param messages - Internationalization messages (optional)
   * @param isActiveView - Callback to check if mindmap view is active (optional)
   *
   * Early Branching Pattern:
   * The device detection happens here at initialization time based on config.isMobile.
   * This guarantees that:
   * - Desktop devices always use DesktopTreeRenderer
   * - Mobile devices always use MobileTreeRenderer
   * - No mixing of code paths during operation
   */
  constructor(app, config, mindMapService, messages, isActiveView) {
    if (config.isMobile) {
      this.renderer = new MobileTreeRenderer(app, config, mindMapService, messages, isActiveView);
    } else {
      this.renderer = new DesktopTreeRenderer(app, config, mindMapService, messages, isActiveView);
    }
  }
  /**
   * Render mind map data
   * Delegates to the device-specific renderer
   *
   * @param container - DOM element to render into
   * @param data - Mind map data structure
   */
  render(container, data) {
    this.renderer.render(container, data);
  }
  /**
   * Destroy the renderer and clean up resources
   * Delegates to the device-specific renderer
   */
  destroy() {
    this.renderer.destroy();
  }
  /**
   * Get the active renderer instance
   * Useful for debugging and testing
   */
  getActiveRenderer() {
    return this.renderer;
  }
  /**
   * Get device type
   * @returns true if mobile renderer is active, false if desktop
   */
  isMobile() {
    return this.renderer instanceof MobileTreeRenderer;
  }
  /**
   * onTextChanged callback getter/setter
   * Delegates to the internal renderer (DesktopTreeRenderer or MobileTreeRenderer)
   */
  get onTextChanged() {
    return this.renderer.onTextChanged;
  }
  set onTextChanged(callback) {
    this.renderer.onTextChanged = callback;
  }
  /**
   * onDataUpdated callback getter/setter
   * Delegates to the internal renderer (DesktopTreeRenderer or MobileTreeRenderer)
   */
  get onDataUpdated() {
    return this.renderer.onDataUpdated;
  }
  set onDataUpdated(callback) {
    this.renderer.onDataUpdated = callback;
  }
};

// src/services/mindmap-service.ts
var import_obsidian5 = require("obsidian");

// src/handlers/file-handler.ts
var import_obsidian4 = require("obsidian");
var D3FileHandler = class {
  constructor(app) {
    this.app = app;
  }
  /**
   * Check if a file should be displayed as a mind map
   */
  async isMindMapFile(file) {
    if (file.extension !== "md") {
      return false;
    }
    try {
      const content = await this.app.vault.read(file);
      return isMindMapFile(content, file.extension);
    } catch (error) {
      console.error("Failed to check if file is mind map:", file.path, error);
      return false;
    }
  }
  /**
   * Load file content
   */
  async loadFileContent(file) {
    try {
      return await this.app.vault.read(file);
    } catch {
      throw new Error(`Failed to load file: ${file.path}`);
    }
  }
  /**
   * Parse markdown content to mind map nodes
   */
  parseMarkdownToNodes(content) {
    const { allNodes } = parseMarkdownContent(content, "unknown.md");
    return allNodes;
  }
  /**
   * Parse markdown content to complete mind map data
   */
  parseMarkdownToData(content, filePath) {
    return parseMarkdownContent(content, filePath);
  }
  /**
   * Save mind map data to markdown file
   */
  async saveToMarkdownFile(filePath, rootNode) {
    try {
      const newContent = generateMarkdownFromNodes(rootNode);
      const file = this.app.vault.getAbstractFileByPath(filePath);
      if (file instanceof import_obsidian4.TFile) {
        await this.app.vault.process(file, () => {
          return newContent;
        });
      } else {
        throw new Error(`File not found: ${filePath}`);
      }
    } catch {
      throw new Error(`Failed to save file: ${filePath}`);
    }
  }
  /**
   * Create a new mind map file
   */
  async createMindMapFile(filePath, title) {
    try {
      const content = `#mindmap

* ${title}
`;
      return await this.app.vault.create(filePath, content);
    } catch {
      throw new Error(`Failed to create file: ${filePath}`);
    }
  }
  /**
   * Check if file exists
   */
  fileExists(filePath) {
    return this.app.vault.getAbstractFileByPath(filePath) !== null;
  }
};

// src/i18n/en.ts
var en = {
  // ==================== Notices () ====================
  notices: {
    // File operations
    fileCreated: "\u2705 Created new mindmap file: {fileName}",
    fileCreateFailed: "\u274C Failed to create file",
    fileCreateError: "\u274C Failed to create file: {error}",
    // Node operations
    nodeDeleted: "Node deleted successfully",
    cannotDeleteRoot: "\u26A0\uFE0F Central topic (root node) cannot be deleted",
    cannotDeleteNoParent: "\u26A0\uFE0F Node has no parent, cannot delete",
    nodeCreated: "Created: {nodeText}",
    nodeCreateFailed: "Failed to create node: {error}",
    // Editing operations
    nodeTextCopied: "Node text copied to clipboard",
    copyFailed: "Copy failed, please copy manually",
    alreadyAdded: "Already added: {nodeText}",
    // AI operations
    aiAnalyzing: '\u{1F916} AI is analyzing "{nodeText}"...',
    aiNoSuggestions: "No suggestions generated. Try rephrasing your prompt.",
    aiFailed: "\u274C AI suggestions failed: {error}",
    // Settings
    apiConnectionSuccess: "\u2705 API connection successful!",
    apiConnectionFailed: "\u274C API connection failed. Check settings for details.",
    apiTestTimeout: "Request timeout after 10 seconds. The API server is not responding. Please check your network connection and API URL.",
    promptsReset: "\u2705 Prompt templates reset to default",
    deviceTypeChanged: "Device type changed. Reload Obsidian to apply changes.",
    connectionTestFailed: "\u274C Connection test failed",
    // Language
    languageChanged: "Language changed to {language}. Reload Obsidian to apply changes.",
    // Editing
    editSuccess: "Node text updated successfully"
  },
  // ==================== Errors () ====================
  errors: {
    // File errors
    fileNotFound: "Error: File not found: {filePath}",
    fileLoadError: "Error loading file: {error}",
    noMindmapFile: "No mind map file specified or found. Make sure the file starts with #mindmap",
    // API errors
    apiKeyNotConfigured: "\u274C Error: API key is not configured. Please enter your API key in settings.",
    apiBaseUrlNotConfigured: "\u274C Error: API base URL is not configured.",
    apiError: "\u274C Error: {error}",
    networkError: "\u274C Network error: {error}. Please check your internet connection and API URL.",
    // Validation errors
    nodeTextEmpty: "Node text cannot be empty",
    nodeTextInvalid: "Node text cannot be empty or contain invalid characters",
    focusSetFailed: "Failed to set focus, please try again",
    enterEditModeFailed: "Failed to enter edit mode, please try again",
    saveFailed: "Save failed, please try again",
    editElementNotFound: "Edit element not found",
    textElementNotFound: "Text element not found",
    enterEditModeError: "Error entering edit mode",
    // AI errors
    emptyNodeError: "Node text is empty. Please add text to the node first.",
    // General errors
    serviceNotAvailable: "Mind map service not available",
    error: "Error: {message}"
  },
  // ==================== Validation () ====================
  validation: {
    cannotEditRoot: "Central topic (filename) cannot be modified",
    cannotPasteRoot: "Cannot paste to root node",
    cannotCreateSiblingRoot: "Cannot create sibling for root node"
  },
  // ==================== Settings () ====================
  settings: {
    title: "Settings for openMindMap Plugin",
    // Device settings
    deviceSection: "Device settings",
    deviceType: "Device type",
    deviceTypeDesc: "Choose how mind maps should be rendered. Auto-detects based on your device.",
    deviceAuto: "Auto-detect",
    deviceDesktop: "Desktop mode",
    deviceMobile: "Mobile mode",
    // Language settings
    languageSection: "Language settings",
    language: "Language",
    languageDesc: "Choose your preferred language for the plugin interface.",
    languageEnglish: "English",
    languageChinese: "\u4E2D\u6587",
    // AI configuration
    aiSection: "AI configuration (OpenAI-compatible API)",
    aiSectionDesc: "Configure your AI API to enable intelligent features like automatic node suggestions.",
    aiSecurity: "\u{1F512} Security: Your API key is encrypted using AES-GCM (256-bit) before storage. The encrypted key is stored in data.json and can only be decrypted on this device.",
    aiBaseUrl: "OpenAI API base URL",
    aiBaseUrlDesc: "The base URL for your OpenAI-compatible API (e.g., https://api.openai.com/v1)",
    aiBaseUrlPlaceholder: "https://api.openai.com/v1",
    aiApiKey: "OpenAI API key",
    aiApiKeyDesc: "Your OpenAI API key (starts with sk-...)",
    aiApiKeyPlaceholder: "sk-...",
    aiModel: "Model name",
    aiModelDesc: "The model name to use (e.g., gpt-3.5-turbo, gpt-4, llama2, mistral, etc.)",
    aiModelPlaceholder: "gpt-3.5-turbo",
    aiTestConnection: "Test connection",
    aiTestConnectionDesc: "Test your API configuration to ensure it works correctly",
    aiTestButton: "Test connection",
    aiTesting: "Testing...",
    // AI prompt configuration
    aiPromptSection: "AI prompt configuration",
    aiPromptSectionDesc: "Customize how the AI generates suggestions by editing the system message and prompt template.",
    aiSystemMessage: "AI system message",
    aiSystemMessageDesc: "Define the AI assistant role and behavior. This sets the context for all AI interactions.",
    aiSystemMessagePlaceholder: "You are a helpful mind map assistant...",
    aiPromptTemplate: "AI prompt template",
    aiPromptTemplateDesc: "Customize the prompt template for node suggestions. Available variables: {nodeText}, {level}, {parentContext}, {siblingsContext}, {existingChildren}, {centralTopic}",
    aiPromptTemplatePlaceholder: "Please suggest 3-5 child nodes...",
    aiPromptVariables: "Available variables:",
    aiPromptVariableNodeText: "{nodeText}: The text content of the current node",
    aiPromptVariableLevel: "{level}: The hierarchy level of the current node (0=root, 1=first level, etc.)",
    aiPromptVariableParent: "{parentContext}: Context from the parent node",
    aiPromptVariableSiblings: "{siblingsContext}: Context from sibling nodes",
    aiPromptVariableChildren: "{existingChildren}: Existing child nodes of the current node",
    aiPromptVariableCentral: "{centralTopic}: The root/central topic of the mind map",
    aiResetPrompts: "Reset prompts",
    aiResetPromptsDesc: "Reset prompt templates to default values",
    aiResetButton: "Reset to defaults"
  },
  // ==================== UI Elements () ====================
  ui: {
    // Commands
    commandOpenView: "Open mind map view",
    commandOpenAsMindmap: "Open current file as mind map",
    // Loading
    loading: "Loading openMindMap...",
    initializing: "Initializing...",
    loadingFile: "Loading file...",
    // Headers
    appHeader: "\u{1F9E0} openMindMap",
    debugInfo: "Debug Info:",
    instanceFilePath: "Instance filePath:",
    stateLoaded: "State loaded:",
    activeFile: "Active file:",
    // Context menu
    createNewFile: "New openMindMap file",
    contextEdit: "Edit",
    contextCopy: "Copy",
    contextPaste: "Paste",
    contextDelete: "Delete",
    // AI panel
    aiSuggestionsTitle: "\u2728 AI Suggestions",
    aiAddAll: "Add All",
    aiAddAllTooltip: "Create all suggestions",
    aiClose: "\u2715",
    // Edit hints (device-specific)
    editHintDesktop: "Double-click to edit | Enter: Save | Alt+Enter: New line | Escape: Cancel",
    editHintMobile: "Tap to edit | Enter: New line | Tap outside to save"
  },
  // ==================== Helper Methods ====================
  format(message, params) {
    return message.replace(/\{(\w+)\}/g, (match, key) => {
      return params[key] !== void 0 ? String(params[key]) : match;
    });
  }
};

// src/i18n/zh.ts
var zh = {
  // ==================== Notices () ====================
  notices: {
    // File operations
    fileCreated: "\u2705 \u5DF2\u521B\u5EFA\u65B0\u7684 mindmap \u6587\u4EF6\uFF1A{fileName}",
    fileCreateFailed: "\u274C \u521B\u5EFA\u6587\u4EF6\u5931\u8D25",
    fileCreateError: "\u274C \u521B\u5EFA\u6587\u4EF6\u5931\u8D25\uFF1A{error}",
    // Node operations
    nodeDeleted: "\u8282\u70B9\u5DF2\u5220\u9664",
    cannotDeleteRoot: "\u26A0\uFE0F \u4E2D\u5FC3\u4E3B\u9898\uFF08\u6839\u8282\u70B9\uFF09\u4E0D\u80FD\u5220\u9664",
    cannotDeleteNoParent: "\u26A0\uFE0F \u8282\u70B9\u6CA1\u6709\u7236\u8282\u70B9\uFF0C\u65E0\u6CD5\u5220\u9664",
    nodeCreated: "\u5DF2\u521B\u5EFA\uFF1A{nodeText}",
    nodeCreateFailed: "\u521B\u5EFA\u8282\u70B9\u5931\u8D25\uFF1A{error}",
    // Editing operations
    nodeTextCopied: "\u8282\u70B9\u6587\u672C\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",
    copyFailed: "\u590D\u5236\u5931\u8D25\uFF0C\u8BF7\u624B\u52A8\u590D\u5236",
    alreadyAdded: "\u5DF2\u6DFB\u52A0\uFF1A{nodeText}",
    // AI operations
    aiAnalyzing: '\u{1F916} AI \u6B63\u5728\u5206\u6790"{nodeText}"...',
    aiNoSuggestions: "\u672A\u751F\u6210\u5EFA\u8BAE\u3002\u5C1D\u8BD5\u91CD\u65B0\u8868\u8FF0\u60A8\u7684\u63D0\u793A\u8BCD\u3002",
    aiFailed: "\u274C AI \u5EFA\u8BAE\u5931\u8D25\uFF1A{error}",
    // Settings
    apiConnectionSuccess: "\u2705 API \u8FDE\u63A5\u6210\u529F\uFF01",
    apiConnectionFailed: "\u274C API \u8FDE\u63A5\u5931\u8D25\u3002\u8BF7\u68C0\u67E5\u8BBE\u7F6E\u8BE6\u60C5\u3002",
    apiTestTimeout: "\u8BF7\u6C42\u8D85\u65F6\uFF0810\u79D2\uFF09\u3002API \u670D\u52A1\u5668\u672A\u54CD\u5E94\u3002\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8FDE\u63A5\u548C API URL\u3002",
    promptsReset: "\u2705 \u63D0\u793A\u8BCD\u6A21\u677F\u5DF2\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u503C",
    deviceTypeChanged: "\u8BBE\u5907\u7C7B\u578B\u5DF2\u66F4\u6539\u3002\u8BF7\u91CD\u65B0\u52A0\u8F7D Obsidian \u4EE5\u5E94\u7528\u66F4\u6539\u3002",
    connectionTestFailed: "\u274C \u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25",
    // Language
    languageChanged: "\u8BED\u8A00\u5DF2\u66F4\u6539\u4E3A {language}\u3002\u91CD\u65B0\u52A0\u8F7D Obsidian \u4EE5\u5E94\u7528\u66F4\u6539\u3002",
    // Editing
    editSuccess: "\u8282\u70B9\u6587\u672C\u5DF2\u66F4\u65B0"
  },
  // ==================== Errors () ====================
  errors: {
    // File errors
    fileNotFound: "\u9519\u8BEF\uFF1A\u672A\u627E\u5230\u6587\u4EF6\uFF1A{filePath}",
    fileLoadError: "\u52A0\u8F7D\u6587\u4EF6\u65F6\u51FA\u9519\uFF1A{error}",
    noMindmapFile: "\u672A\u6307\u5B9A\u6216\u672A\u627E\u5230\u601D\u7EF4\u5BFC\u56FE\u6587\u4EF6\u3002\u8BF7\u786E\u4FDD\u6587\u4EF6\u4EE5 #mindmap \u5F00\u5934",
    // API errors
    apiKeyNotConfigured: "\u274C \u9519\u8BEF\uFF1A\u672A\u914D\u7F6E API \u5BC6\u94A5\u3002\u8BF7\u5728\u8BBE\u7F6E\u4E2D\u8F93\u5165\u60A8\u7684 API \u5BC6\u94A5\u3002",
    apiBaseUrlNotConfigured: "\u274C \u9519\u8BEF\uFF1A\u672A\u914D\u7F6E API \u57FA\u7840 URL\u3002",
    apiError: "\u274C \u9519\u8BEF\uFF1A{error}",
    networkError: "\u274C \u7F51\u7EDC\u9519\u8BEF\uFF1A{error}\u3002\u8BF7\u68C0\u67E5\u60A8\u7684\u4E92\u8054\u7F51\u8FDE\u63A5\u548C API URL\u3002",
    // Validation errors
    nodeTextEmpty: "\u8282\u70B9\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A",
    nodeTextInvalid: "\u8282\u70B9\u6587\u672C\u4E0D\u80FD\u4E3A\u7A7A\u6216\u5305\u542B\u65E0\u6548\u5B57\u7B26",
    focusSetFailed: "\u7126\u70B9\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",
    enterEditModeFailed: "\u8FDB\u5165\u7F16\u8F91\u6A21\u5F0F\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",
    saveFailed: "\u4FDD\u5B58\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",
    editElementNotFound: "\u65E0\u6CD5\u627E\u5230\u7F16\u8F91\u5143\u7D20",
    textElementNotFound: "\u65E0\u6CD5\u627E\u5230\u6587\u672C\u5143\u7D20",
    enterEditModeError: "\u8FDB\u5165\u7F16\u8F91\u6A21\u5F0F\u65F6\u53D1\u751F\u9519\u8BEF",
    // AI errors
    emptyNodeError: "\u8282\u70B9\u6587\u672C\u4E3A\u7A7A\u3002\u8BF7\u5148\u4E3A\u8282\u70B9\u6DFB\u52A0\u6587\u672C\u3002",
    // General errors
    serviceNotAvailable: "\u601D\u7EF4\u5BFC\u56FE\u670D\u52A1\u4E0D\u53EF\u7528",
    error: "\u9519\u8BEF\uFF1A{message}"
  },
  // ==================== Validation () ====================
  validation: {
    cannotEditRoot: "\u4E2D\u5FC3\u4E3B\u9898\uFF08\u6587\u4EF6\u540D\uFF09\u4E0D\u5141\u8BB8\u4FEE\u6539",
    cannotPasteRoot: "\u65E0\u6CD5\u7C98\u8D34\u5230\u6839\u8282\u70B9",
    cannotCreateSiblingRoot: "\u65E0\u6CD5\u4E3A\u6839\u8282\u70B9\u521B\u5EFA\u5144\u5F1F\u8282\u70B9"
  },
  // ==================== Settings () ====================
  settings: {
    title: "openMindMap \u63D2\u4EF6\u8BBE\u7F6E",
    // Device settings
    deviceSection: "\u8BBE\u5907\u8BBE\u7F6E",
    deviceType: "\u8BBE\u5907\u7C7B\u578B",
    deviceTypeDesc: "\u9009\u62E9\u601D\u7EF4\u5BFC\u56FE\u7684\u6E32\u67D3\u65B9\u5F0F\u3002\u5C06\u6839\u636E\u60A8\u7684\u8BBE\u5907\u81EA\u52A8\u68C0\u6D4B\u3002",
    deviceAuto: "\u81EA\u52A8\u68C0\u6D4B",
    deviceDesktop: "\u684C\u9762\u6A21\u5F0F",
    deviceMobile: "\u79FB\u52A8\u6A21\u5F0F",
    // Language settings
    languageSection: "\u8BED\u8A00\u8BBE\u7F6E",
    language: "\u8BED\u8A00",
    languageDesc: "\u9009\u62E9\u63D2\u4EF6\u754C\u9762\u7684\u9996\u9009\u8BED\u8A00\u3002",
    languageEnglish: "English",
    languageChinese: "\u4E2D\u6587",
    // AI configuration
    aiSection: "AI \u914D\u7F6E\uFF08OpenAI \u517C\u5BB9 API\uFF09",
    aiSectionDesc: "\u914D\u7F6E\u60A8\u7684 AI API \u4EE5\u542F\u7528\u667A\u80FD\u529F\u80FD\uFF0C\u5982\u81EA\u52A8\u8282\u70B9\u5EFA\u8BAE\u3002",
    aiSecurity: "\u{1F512} \u5B89\u5168\u6027\uFF1A\u60A8\u7684 API \u5BC6\u94A5\u5728\u5B58\u50A8\u524D\u4F7F\u7528 AES-GCM\uFF08256 \u4F4D\uFF09\u52A0\u5BC6\u3002\u52A0\u5BC6\u540E\u7684\u5BC6\u94A5\u5B58\u50A8\u5728 data.json \u4E2D\uFF0C\u53EA\u80FD\u5728\u6B64\u8BBE\u5907\u4E0A\u89E3\u5BC6\u3002",
    aiBaseUrl: "OpenAI API \u57FA\u7840 URL",
    aiBaseUrlDesc: "\u60A8\u7684 OpenAI \u517C\u5BB9 API \u7684\u57FA\u7840 URL\uFF08\u4F8B\u5982\uFF1Ahttps://api.openai.com/v1\uFF09",
    aiBaseUrlPlaceholder: "https://api.openai.com/v1",
    aiApiKey: "OpenAI API \u5BC6\u94A5",
    aiApiKeyDesc: "\u60A8\u7684 OpenAI API \u5BC6\u94A5\uFF08\u4EE5 sk- \u5F00\u5934\uFF09",
    aiApiKeyPlaceholder: "sk-...",
    aiModel: "\u6A21\u578B\u540D\u79F0",
    aiModelDesc: "\u8981\u4F7F\u7528\u7684\u6A21\u578B\u540D\u79F0\uFF08\u4F8B\u5982\uFF1Agpt-3.5-turbo\u3001gpt-4\u3001llama2\u3001mistral \u7B49\uFF09",
    aiModelPlaceholder: "gpt-3.5-turbo",
    aiTestConnection: "\u6D4B\u8BD5\u8FDE\u63A5",
    aiTestConnectionDesc: "\u6D4B\u8BD5\u60A8\u7684 API \u914D\u7F6E\u4EE5\u786E\u4FDD\u5176\u6B63\u5E38\u5DE5\u4F5C",
    aiTestButton: "\u6D4B\u8BD5\u8FDE\u63A5",
    aiTesting: "\u6D4B\u8BD5\u4E2D...",
    // AI prompt configuration
    aiPromptSection: "AI \u63D0\u793A\u8BCD\u914D\u7F6E",
    aiPromptSectionDesc: "\u901A\u8FC7\u7F16\u8F91\u7CFB\u7EDF\u6D88\u606F\u548C\u63D0\u793A\u8BCD\u6A21\u677F\u6765\u81EA\u5B9A\u4E49 AI \u751F\u6210\u5EFA\u8BAE\u7684\u65B9\u5F0F\u3002",
    aiSystemMessage: "AI \u7CFB\u7EDF\u6D88\u606F",
    aiSystemMessageDesc: "\u5B9A\u4E49 AI \u52A9\u624B\u7684\u89D2\u8272\u548C\u884C\u4E3A\u3002\u8FD9\u4E3A\u6240\u6709 AI \u4EA4\u4E92\u8BBE\u7F6E\u4E0A\u4E0B\u6587\u3002",
    aiSystemMessagePlaceholder: "\u4F60\u662F\u4E00\u4E2A\u6709\u7528\u7684\u601D\u7EF4\u5BFC\u56FE\u52A9\u624B...",
    aiPromptTemplate: "AI \u63D0\u793A\u8BCD\u6A21\u677F",
    aiPromptTemplateDesc: "\u81EA\u5B9A\u4E49\u8282\u70B9\u5EFA\u8BAE\u7684\u63D0\u793A\u8BCD\u6A21\u677F\u3002\u53EF\u7528\u53D8\u91CF\uFF1A{nodeText}\u3001{level}\u3001{parentContext}\u3001{siblingsContext}\u3001{existingChildren}\u3001{centralTopic}",
    aiPromptTemplatePlaceholder: "\u8BF7\u5EFA\u8BAE 3-5 \u4E2A\u5B50\u8282\u70B9...",
    aiPromptVariables: "\u53EF\u7528\u53D8\u91CF\uFF1A",
    aiPromptVariableNodeText: "{nodeText}\uFF1A\u5F53\u524D\u8282\u70B9\u7684\u6587\u672C\u5185\u5BB9",
    aiPromptVariableLevel: "{level}\uFF1A\u5F53\u524D\u8282\u70B9\u7684\u5C42\u7EA7\uFF080=\u6839\u8282\u70B9\uFF0C1=\u7B2C\u4E00\u5C42\uFF0C\u7B49\uFF09",
    aiPromptVariableParent: "{parentContext}\uFF1A\u6765\u81EA\u7236\u8282\u70B9\u7684\u4E0A\u4E0B\u6587",
    aiPromptVariableSiblings: "{siblingsContext}\uFF1A\u6765\u81EA\u5144\u5F1F\u8282\u70B9\u7684\u4E0A\u4E0B\u6587",
    aiPromptVariableChildren: "{existingChildren}\uFF1A\u5F53\u524D\u8282\u70B9\u7684\u73B0\u6709\u5B50\u8282\u70B9",
    aiPromptVariableCentral: "{centralTopic}\uFF1A\u601D\u7EF4\u5BFC\u56FE\u7684\u6839/\u4E2D\u5FC3\u4E3B\u9898",
    aiResetPrompts: "\u91CD\u7F6E\u63D0\u793A\u8BCD",
    aiResetPromptsDesc: "\u5C06\u63D0\u793A\u8BCD\u6A21\u677F\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u503C",
    aiResetButton: "\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u503C"
  },
  // ==================== UI Elements () ====================
  ui: {
    // Commands
    commandOpenView: "\u6253\u5F00\u601D\u7EF4\u5BFC\u56FE\u89C6\u56FE",
    commandOpenAsMindmap: "\u5C06\u5F53\u524D\u6587\u4EF6\u4F5C\u4E3A\u601D\u7EF4\u5BFC\u56FE\u6253\u5F00",
    // Loading
    loading: "\u6B63\u5728\u52A0\u8F7D openMindMap...",
    initializing: "\u6B63\u5728\u521D\u59CB\u5316...",
    loadingFile: "\u6B63\u5728\u52A0\u8F7D\u6587\u4EF6...",
    // Headers
    appHeader: "\u{1F9E0} openMindMap",
    debugInfo: "\u8C03\u8BD5\u4FE1\u606F\uFF1A",
    instanceFilePath: "\u5B9E\u4F8B\u6587\u4EF6\u8DEF\u5F84\uFF1A",
    stateLoaded: "\u72B6\u6001\u5DF2\u52A0\u8F7D\uFF1A",
    activeFile: "\u5F53\u524D\u6587\u4EF6\uFF1A",
    // Context menu
    createNewFile: "\u65B0\u5EFA openMindMap \u6587\u4EF6",
    contextEdit: "\u7F16\u8F91",
    contextCopy: "\u590D\u5236",
    contextPaste: "\u7C98\u8D34",
    contextDelete: "\u5220\u9664",
    // AI panel
    aiSuggestionsTitle: "\u2728 AI \u5EFA\u8BAE",
    aiAddAll: "\u5168\u90E8\u6DFB\u52A0",
    aiAddAllTooltip: "\u521B\u5EFA\u6240\u6709\u5EFA\u8BAE",
    aiClose: "\u2715",
    // Edit hints (device-specific)
    editHintDesktop: "\u53CC\u51FB\u7F16\u8F91 | Enter\uFF1A\u4FDD\u5B58 | Alt+Enter\uFF1A\u6362\u884C | Escape\uFF1A\u53D6\u6D88",
    editHintMobile: "\u70B9\u51FB\u7F16\u8F91 | Enter\uFF1A\u6362\u884C | \u70B9\u51FB\u5916\u90E8\u4FDD\u5B58"
  },
  // ==================== Helper Methods ====================
  format(message, params) {
    return message.replace(/\{(\w+)\}/g, (match, key) => {
      return params[key] !== void 0 ? String(params[key]) : match;
    });
  }
};

// src/i18n/i18n-manager.ts
var I18nManager = class {
  constructor(language = "en") {
    this.currentLanguage = language;
    this.messages = this.loadMessages(language);
  }
  /**
   * Load messages for a specific language
   */
  loadMessages(language) {
    switch (language) {
      case "zh":
        return zh;
      case "en":
      default:
        return en;
    }
  }
  /**
   * Get current language
   */
  getLanguage() {
    return this.currentLanguage;
  }
  /**
   * Set current language and reload messages
   */
  setLanguage(language) {
    if (language !== this.currentLanguage) {
      this.currentLanguage = language;
      this.messages = this.loadMessages(language);
    }
  }
  /**
   * Get messages object for current language
   */
  getMessages() {
    return this.messages;
  }
  /**
   * Format a message with parameters
   * @param key Message key in dot notation (e.g., 'notices.cannotDeleteRoot')
   * @param params Optional parameters to replace in message
   * @returns Formatted message string
   */
  format(key, params) {
    const message = this.getNestedValue(this.messages, key);
    if (!message) {
      return key;
    }
    if (params) {
      return this.replaceParams(message, params);
    }
    return message;
  }
  /**
   * Get nested value from object using dot notation
   */
  getNestedValue(obj, path) {
    const result = path.split(".").reduce((current, prop) => {
      if (current && typeof current === "object" && prop in current) {
        return current[prop];
      }
      return void 0;
    }, obj);
    return result || "";
  }
  /**
   * Replace parameters in message template
   * Supports {param} syntax
   */
  replaceParams(message, params) {
    return message.replace(/\{(\w+)\}/g, (match, key) => {
      return params[key] !== void 0 ? String(params[key]) : match;
    });
  }
};
function createI18nManager(language = "en") {
  return new I18nManager(language);
}

// src/services/mindmap-service.ts
var MindMapService = class {
  constructor(app, config, settings, aiClient) {
    this.app = app;
    this.config = config;
    this.settings = settings;
    this.aiClient = aiClient;
    const language = config.language || settings?.language || "en";
    const i18nManager = createI18nManager(language);
    this.messages = i18nManager.getMessages();
    this.fileHandler = new D3FileHandler(app);
    this.layoutCalculator = new LayoutCalculator();
  }
  /**
   * Update settings and AI client
   */
  updateSettings(settings, aiClient) {
    this.settings = settings;
    this.aiClient = aiClient;
  }
  /**
   * Update language when user changes settings
   */
  updateLanguage(language) {
    const i18nManager = createI18nManager(language);
    this.messages = i18nManager.getMessages();
  }
  /**
   * Check if a file should be displayed as a mind map
   */
  async isMindMapFile(file) {
    return this.fileHandler.isMindMapFile(file);
  }
  /**
   * Load and parse mind map data from a file
   */
  async loadMindMapData(file) {
    const content = await this.fileHandler.loadFileContent(file);
    return this.fileHandler.parseMarkdownToData(content, file.path);
  }
  /**
   * Save mind map data to a file
   */
  async saveMindMapData(filePath, rootNode) {
    await this.fileHandler.saveToMarkdownFile(filePath, rootNode);
  }
  /**
   * Save mind map data to markdown file (alias for saveMindMapData)
   */
  async saveToMarkdownFile(filePath, rootNode) {
    await this.fileHandler.saveToMarkdownFile(filePath, rootNode);
  }
  /**
   * Parse markdown content to mind map nodes
   */
  parseMarkdownToNodes(content) {
    return this.fileHandler.parseMarkdownToNodes(content);
  }
  /**
   * Parse markdown content to complete mind map data
   */
  parseMarkdownToData(content, filePath) {
    return parseMarkdownContent(content, filePath);
  }
  /**
   * Generate markdown content from nodes
   */
  generateMarkdownFromNodes(rootNode) {
    return generateMarkdownFromNodes(rootNode);
  }
  /**
   * Get layout calculator
   */
  getLayoutCalculator() {
    return this.layoutCalculator;
  }
  /**
   * Get file handler
   */
  getFileHandler() {
    return this.fileHandler;
  }
  /**
   * Create a new mind map file
   */
  async createMindMapFile(filePath, title) {
    return this.fileHandler.createMindMapFile(filePath, title);
  }
  /**
   * Check if file exists
   */
  fileExists(filePath) {
    return this.fileHandler.fileExists(filePath);
  }
  /**
   * Create a new child node for the given parent node
   */
  createChildNode(parentNode, childText = "New Node") {
    const childNode = {
      text: childText,
      level: parentNode.level + 1,
      parent: parentNode,
      children: [],
      expanded: true,
      selected: false,
      hovered: false
    };
    parentNode.children.push(childNode);
    return childNode;
  }
  /**
   * Create a new sibling node after the given node
   * (at the same level, with the same parent)
   */
  createSiblingNode(afterNode, siblingText = "New Node") {
    if (!afterNode.parent) {
      return null;
    }
    const siblingNode = {
      text: siblingText,
      level: afterNode.level,
      // Same level as sibling
      parent: afterNode.parent,
      children: [],
      expanded: true,
      selected: false,
      hovered: false
    };
    const parent = afterNode.parent;
    const childIndex = parent.children.indexOf(afterNode);
    parent.children.splice(childIndex + 1, 0, siblingNode);
    return siblingNode;
  }
  /**
   * Delete a node and all its children recursively
   */
  deleteNode(nodeToDelete) {
    if (!nodeToDelete) {
      return false;
    }
    if (nodeToDelete.level === 0) {
      new import_obsidian5.Notice(`\u26A0\uFE0F ${this.messages.notices.cannotDeleteRoot}`, 3e3);
      return false;
    }
    const parent = nodeToDelete.parent;
    if (!parent) {
      new import_obsidian5.Notice(`\u26A0\uFE0F ${this.messages.notices.cannotDeleteNoParent}`, 3e3);
      return false;
    }
    const childIndex = parent.children.indexOf(nodeToDelete);
    if (childIndex !== -1) {
      parent.children.splice(childIndex, 1);
      return true;
    }
    return false;
  }
  /**
   * Get all descendants of a node (including the node itself)
   */
  getAllDescendants(node) {
    const descendants = [node];
    const collectDescendants = (currentNode) => {
      for (const child of currentNode.children) {
        descendants.push(child);
        collectDescendants(child);
      }
    };
    collectDescendants(node);
    return descendants;
  }
  /**
   * Update the allNodes array after deletion
   */
  updateAllNodesArray(rootNode) {
    const allNodes = [];
    const buildArray = (node) => {
      allNodes.push(node);
      node.children.forEach(buildArray);
    };
    buildArray(rootNode);
    return allNodes;
  }
  /**
   * Suggest child nodes for a given node using AI
   * @param node The parent node
   * @returns Array of suggestions
   */
  async suggestChildNodes(node) {
    if (!this.aiClient || !this.settings) {
      throw new Error("AI client or settings not configured");
    }
    const context = {
      nodeText: node.text,
      level: node.level,
      parent: node.parent?.text,
      siblings: node.parent?.children.filter((c) => c !== node).map((c) => c.text),
      existingChildren: node.children.map((c) => c.text),
      centralTopic: this.getCentralTopic(node)
    };
    const promptTemplate = this.settings.aiPromptTemplate;
    const systemMessage = this.settings.aiSystemMessage;
    const suggestions = await this.aiClient.suggestChildNodes(context, promptTemplate, systemMessage);
    return suggestions;
  }
  /**
   * Get the AI client
   */
  getAIClient() {
    return this.aiClient;
  }
  /**
   * Get central topic (root node text) from any node
   * @param node Any node in the mind map
   * @returns Root node text (central topic)
   */
  getCentralTopic(node) {
    let current = node;
    while (current.parent !== null) {
      current = current.parent;
    }
    return current.text;
  }
  /**
   * markdown
   * @param rootNode 
   * @returns markdown
   */
  serializeSubtreeToMarkdown(rootNode) {
    const lines = [];
    function traverse(node, depth) {
      const indent = "    ".repeat(depth - 1);
      lines.push(`${indent}* ${node.text}`);
      node.children.forEach((child) => traverse(child, depth + 1));
    }
    traverse(rootNode, 1);
    return lines.join("\n");
  }
  /**
   * markdown
   * @param markdown markdown
   * @param parentLevel 
   * @returns ,null
   */
  createSubtreeFromMarkdown(markdown, parentLevel) {
    const lines = markdown.split("\n").filter((line) => line.trim().length > 0);
    if (lines.length === 0) return null;
    let rootNode = null;
    const stack = [];
    for (const line of lines) {
      const indent = line.search(/\S/);
      const level = Math.floor(indent / 4) + 1;
      const text = line.trim().substring(1).trim();
      const newNode = {
        text,
        level: parentLevel + level,
        parent: null,
        children: [],
        expanded: true,
        selected: false,
        hovered: false
      };
      while (stack.length > 0 && stack[stack.length - 1].level >= level) {
        stack.pop();
      }
      if (stack.length > 0) {
        const parent = stack[stack.length - 1].node;
        parent.children.push(newNode);
        newNode.parent = parent;
      } else {
        rootNode = newNode;
      }
      stack.push({ node: newNode, level });
    }
    return rootNode;
  }
};

// src/config/desktop-config.ts
var DesktopConfig = class {
  /**
   * Get the complete desktop configuration
   */
  getConfig() {
    return {
      // Device identification
      isMobile: false,
      language: "en",
      // 
      // Layout configuration
      layout: this.getLayoutConfig(),
      // Style configuration
      style: this.getStyleConfig(),
      // Color configuration
      color: this.getColorConfig(),
      // Animation configuration
      animation: this.getAnimationConfig(),
      // Performance configuration
      performance: this.getPerformanceConfig(),
      // Interaction configuration
      interaction: this.getInteractionConfig()
    };
  }
  /**
   * Get layout configuration
   * Migrated from LAYOUT_CONSTANTS
   */
  getLayoutConfig() {
    return {
      // Spacing constants
      minNodeGap: LAYOUT_CONSTANTS.MIN_NODE_GAP,
      horizontalSpacing: LAYOUT_CONSTANTS.HORIZONTAL_SPACING,
      verticalSpacing: LAYOUT_CONSTANTS.VERTICAL_SPACING,
      minVerticalGap: LAYOUT_CONSTANTS.MIN_VERTICAL_GAP,
      // Adaptive horizontal spacing configuration
      adaptiveHorizontalSpacing: {
        minSpacing: LAYOUT_CONSTANTS.ADAPTIVE_HORIZONTAL_SPACING.MIN_SPACING,
        maxSpacing: LAYOUT_CONSTANTS.ADAPTIVE_HORIZONTAL_SPACING.MAX_SPACING,
        sourceNodeRatio: LAYOUT_CONSTANTS.ADAPTIVE_HORIZONTAL_SPACING.SOURCE_NODE_RATIO,
        targetNodeRatio: LAYOUT_CONSTANTS.ADAPTIVE_HORIZONTAL_SPACING.TARGET_NODE_RATIO,
        baseSpacing: LAYOUT_CONSTANTS.ADAPTIVE_HORIZONTAL_SPACING.BASE_SPACING,
        safetyMargin: LAYOUT_CONSTANTS.ADAPTIVE_HORIZONTAL_SPACING.SAFETY_MARGIN
      },
      // Canvas dimensions
      treeHeight: LAYOUT_CONSTANTS.TREE_HEIGHT,
      treeWidth: LAYOUT_CONSTANTS.TREE_WIDTH,
      canvasWidth: LAYOUT_CONSTANTS.CANVAS_WIDTH,
      canvasHeight: LAYOUT_CONSTANTS.CANVAS_HEIGHT,
      // Node spacing
      nodeHeightBuffer: LAYOUT_CONSTANTS.NODE_HEIGHT_BUFFER,
      // Centering calculations
      centerOffsetX: LAYOUT_CONSTANTS.CENTER_OFFSET_X,
      centerOffsetY: LAYOUT_CONSTANTS.CENTER_OFFSET_Y
    };
  }
  /**
   * Get style configuration
   * Migrated from STYLE_CONSTANTS
   */
  getStyleConfig() {
    return {
      // Font sizes by node level
      rootFontSize: STYLE_CONSTANTS.ROOT_FONT_SIZE,
      level1FontSize: STYLE_CONSTANTS.LEVEL_1_FONT_SIZE,
      defaultFontSize: STYLE_CONSTANTS.DEFAULT_FONT_SIZE,
      // Additional font sizes for UI components
      textMeasurementFontSize: STYLE_CONSTANTS.TEXT_MEASUREMENT_FONT_SIZE,
      interactionUiFontSize: STYLE_CONSTANTS.INTERACTION_UI_FONT_SIZE,
      // Node dimensions
      rootNodeMinWidth: STYLE_CONSTANTS.ROOT_NODE_MIN_WIDTH,
      nodeMinWidth: STYLE_CONSTANTS.NODE_MIN_WIDTH,
      // Text calculations
      charWidthRatio: STYLE_CONSTANTS.CHAR_WIDTH_RATIO,
      // Timing constants
      renderFrameDelay: STYLE_CONSTANTS.RENDER_FRAME_DELAY
    };
  }
  /**
   * Get color configuration
   * Migrated from COLOR_CONSTANTS
   */
  getColorConfig() {
    return {
      // Default node colors by level
      root_node_color: COLOR_CONSTANTS.ROOT_NODE_COLOR,
      level_1_color: COLOR_CONSTANTS.LEVEL_1_COLOR,
      default_node_color: COLOR_CONSTANTS.DEFAULT_NODE_COLOR,
      // Selection colors
      selected_node_color: COLOR_CONSTANTS.SELECTED_NODE_COLOR,
      hover_node_color: COLOR_CONSTANTS.HOVER_NODE_COLOR,
      // Link colors
      link_color: COLOR_CONSTANTS.LINK_COLOR,
      link_width: COLOR_CONSTANTS.LINK_WIDTH
    };
  }
  /**
   * Get animation configuration
   * Migrated from ANIMATION_CONSTANTS
   */
  getAnimationConfig() {
    return {
      // Transition durations (in milliseconds)
      fastTransition: ANIMATION_CONSTANTS.FAST_TRANSITION,
      normalTransition: ANIMATION_CONSTANTS.NORMAL_TRANSITION,
      slowTransition: ANIMATION_CONSTANTS.SLOW_TRANSITION,
      // Easing functions
      easingDefault: ANIMATION_CONSTANTS.EASING_DEFAULT,
      easingElastic: ANIMATION_CONSTANTS.EASING_ELASTIC
    };
  }
  /**
   * Get performance configuration
   * Migrated from PERFORMANCE_CONSTANTS
   */
  getPerformanceConfig() {
    return {
      // Rendering thresholds
      maxNodesBeforeVirtualization: PERFORMANCE_CONSTANTS.MAX_NODES_BEFORE_VIRTUALIZATION,
      // Debounce delays (in milliseconds)
      renderDebounceDelay: PERFORMANCE_CONSTANTS.RENDER_DEBOUNCE_DELAY,
      inputDebounceDelay: PERFORMANCE_CONSTANTS.INPUT_DEBOUNCE_DELAY,
      // Cache settings
      maxCacheSize: PERFORMANCE_CONSTANTS.MAX_CACHE_SIZE,
      cacheExpiryTime: PERFORMANCE_CONSTANTS.CACHE_EXPIRY_TIME
    };
  }
  /**
   * Get interaction configuration
   * Desktop-specific interaction settings
   */
  getInteractionConfig() {
    return {
      // Enable/disable features
      enableDrag: true,
      enableZoom: true,
      // Zoom configuration (desktop mouse wheel zoom)
      zoomScaleExtent: [0.5, 3],
      // Touch configuration (not applicable for desktop)
      touchTargetSize: void 0,
      enableTouchGestures: void 0
    };
  }
  /**
   * Get font size by node depth
   * Delegates to the existing utility function
   */
  getFontSizeByDepth() {
    return getFontSizeByDepth;
  }
  /**
   * Get numeric font size by node depth
   * Delegates to the existing utility function
   */
  getNumericFontSizeByDepth() {
    return getNumericFontSizeByDepth;
  }
};

// src/config/mobile-config.ts
var MobileConfig = class {
  /**
   * Get the complete mobile configuration
   * Phase 2: Returns fully optimized mobile configuration
   */
  getConfig() {
    const desktopConfig = new DesktopConfig();
    const desktopValues = desktopConfig.getConfig();
    return {
      // Device identification
      isMobile: true,
      language: "en",
      // 
      // Layout configuration - Mobile optimized
      layout: {
        // Spacing constants - Reduced by 20-30% for compact mobile screens
        minNodeGap: 20,
        // Reduced from 25 (20% reduction)
        horizontalSpacing: 154,
        // Reduced from 220 (30% reduction)
        verticalSpacing: 88,
        // Reduced from 110 (20% reduction)
        minVerticalGap: 20,
        // Reduced from 25 (20% reduction)
        // Adaptive horizontal spacing - Mobile optimized
        adaptiveHorizontalSpacing: {
          minSpacing: 56,
          // Reduced from 80 (30% reduction)
          maxSpacing: 210,
          // Reduced from 300 (30% reduction)
          sourceNodeRatio: 0.15,
          // Same as desktop
          targetNodeRatio: 0.1,
          // Same as desktop
          baseSpacing: 42,
          // Reduced from 60 (30% reduction)
          safetyMargin: 7
          // Reduced from 10 (30% reduction)
        },
        // Canvas dimensions - Same as desktop (canvas size independent of device)
        treeHeight: desktopValues.layout.treeHeight,
        treeWidth: desktopValues.layout.treeWidth,
        canvasWidth: desktopValues.layout.canvasWidth,
        canvasHeight: desktopValues.layout.canvasHeight,
        // Node spacing
        nodeHeightBuffer: 12,
        // Reduced from 15 (20% reduction)
        // Centering calculations
        centerOffsetX: desktopValues.layout.centerOffsetX,
        centerOffsetY: desktopValues.layout.centerOffsetY
      },
      // Style configuration - Mobile optimized for readability
      style: {
        // Font sizes - Slightly larger for mobile readability
        rootFontSize: desktopValues.style.rootFontSize,
        level1FontSize: "19px",
        // Increased from 18px for better readability
        defaultFontSize: "16px",
        // Increased from 15px for mobile
        // Additional font sizes
        textMeasurementFontSize: desktopValues.style.textMeasurementFontSize,
        interactionUiFontSize: desktopValues.style.interactionUiFontSize,
        // Node dimensions
        rootNodeMinWidth: desktopValues.style.rootNodeMinWidth,
        nodeMinWidth: desktopValues.style.nodeMinWidth,
        // Text calculations
        charWidthRatio: desktopValues.style.charWidthRatio,
        // Timing constants
        renderFrameDelay: desktopValues.style.renderFrameDelay
      },
      // Color configuration - Same as desktop
      color: desktopValues.color,
      // Animation configuration - Optimized for mobile performance
      animation: {
        // Transition durations - Shorter for better mobile performance
        fastTransition: 100,
        // Reduced from 150ms
        normalTransition: 200,
        // Reduced from 300ms
        slowTransition: 300,
        // Reduced from 500ms
        // Easing functions
        easingDefault: desktopValues.animation.easingDefault,
        easingElastic: desktopValues.animation.easingElastic
      },
      // Performance configuration - Mobile optimized
      performance: {
        // Rendering thresholds
        maxNodesBeforeVirtualization: desktopValues.performance.maxNodesBeforeVirtualization,
        // Debounce delays - More aggressive for mobile touch interactions
        renderDebounceDelay: 150,
        // Increased from 100ms (reduce re-renders)
        inputDebounceDelay: 400,
        // Increased from 300ms (better for touch)
        // Cache settings
        maxCacheSize: desktopValues.performance.maxCacheSize,
        cacheExpiryTime: desktopValues.performance.cacheExpiryTime
      },
      // Interaction configuration - Mobile specific
      interaction: {
        // Enable/disable features
        enableDrag: true,
        enableZoom: true,
        // Zoom configuration
        zoomScaleExtent: [0.5, 3],
        // Same as desktop
        // Mobile-specific: Touch interaction settings
        touchTargetSize: 44,
        // iOS HIG standard (44pt minimum)
        enableTouchGestures: true
        // Enable pinch zoom, touch drag
      }
    };
  }
};

// src/config/config-manager.ts
var ConfigManager = class {
  /**
   * Constructor - performs device detection and selects configuration
   *
   * @param isMobile - Device type flag from Obsidian API (app.isMobile)
   * @param language - Language setting from user preferences (default: 'en')
   *
   * Early Branching Pattern:
   * The device detection happens here at initialization time, not during
   * runtime usage. This guarantees that:
   * - Desktop devices always use DesktopConfig
   * - Mobile devices always use MobileConfig
   * - No mixing of code paths during operation
   */
  constructor(isMobile, language = "en") {
    this.language = language;
    if (isMobile) {
      this.config = new MobileConfig().getConfig();
    } else {
      this.config = new DesktopConfig().getConfig();
    }
    this.config.language = language;
  }
  /**
   * Get the complete configuration object
   *
   * @returns Complete configuration for the detected device type
   *
   * Note: This returns a frozen configuration object. The configuration
   * is determined at construction time and never changes during runtime.
   */
  getConfig() {
    return this.config;
  }
  /**
   * Update language setting
   *
   * @param language - New language setting
   */
  updateLanguage(language) {
    this.language = language;
    this.config.language = language;
  }
  /**
   * Get device type
   *
   * @returns true if mobile device, false if desktop
   */
  isMobile() {
    return this.config.isMobile;
  }
  /**
   * Get layout configuration section
   */
  getLayoutConfig() {
    return this.config.layout;
  }
  /**
   * Get style configuration section
   */
  getStyleConfig() {
    return this.config.style;
  }
  /**
   * Get color configuration section
   */
  getColorConfig() {
    return this.config.color;
  }
  /**
   * Get animation configuration section
   */
  getAnimationConfig() {
    return this.config.animation;
  }
  /**
   * Get performance configuration section
   */
  getPerformanceConfig() {
    return this.config.performance;
  }
  /**
   * Get interaction configuration section
   */
  getInteractionConfig() {
    return this.config.interaction;
  }
};

// src/utils/ai-client.ts
var import_obsidian6 = require("obsidian");

// src/utils/ai-prompts.ts
var AIPrompts = class {
  /**
   * Build user prompt by replacing variables in template
   * @param template Prompt template with variables
   * @param context Node context information
   * @returns Formatted prompt with variables replaced
   */
  static buildUserPrompt(template, context) {
    const result = template.replace("{nodeText}", context.nodeText).replace("{level}", String(context.level)).replace("{parentContext}", this.formatParentContext(context.parent)).replace("{siblingsContext}", this.formatSiblingsContext(context.siblings)).replace("{existingChildren}", this.formatExistingChildren(context.existingChildren)).replace("{centralTopic}", this.formatCentralTopic(context.centralTopic));
    return result;
  }
  /**
   * Format central topic (root node)
   * @param centralTopic Root node text
   * @returns Formatted central topic string
   */
  static formatCentralTopic(centralTopic) {
    if (!centralTopic) return "";
    return `Central topic: ${centralTopic}
`;
  }
  /**
   * Format parent node context
   * @param parent Parent node text
   * @returns Formatted parent context string
   */
  static formatParentContext(parent) {
    if (!parent) return "";
    return `Parent node: ${parent}
`;
  }
  /**
   * Format siblings context
   * @param siblings Array of sibling node texts
   * @returns Formatted siblings context string
   */
  static formatSiblingsContext(siblings) {
    if (!siblings || siblings.length === 0) return "";
    return `Sibling nodes: ${siblings.join(", ")}
`;
  }
  /**
   * Format existing children
   * @param children Array of existing child node texts
   * @returns Formatted children string
   */
  static formatExistingChildren(children2) {
    if (!children2 || children2.length === 0) {
      return "Current children: (none)";
    }
    return `Current children: ${children2.join(", ")}`;
  }
};

// src/utils/ai-client.ts
var AIClient = class {
  constructor(config) {
    this.config = config;
  }
  /**
   * Update configuration
   */
  updateConfig(config) {
    this.config = config;
  }
  /**
   * Test API connection by sending a simple request
   */
  async testConnection() {
    if (!this.config.apiKey || this.config.apiKey.trim() === "") {
      return {
        success: false,
        message: "\u274C Error: API key is not configured. Please enter your API key in settings."
      };
    }
    if (!this.config.apiBaseUrl || this.config.apiBaseUrl.trim() === "") {
      return {
        success: false,
        message: "\u274C Error: API base URL is not configured."
      };
    }
    try {
      const apiUrl = `${this.config.apiBaseUrl}/chat/completions`;
      const response = await (0, import_obsidian6.requestUrl)({
        url: apiUrl,
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${this.config.apiKey}`
        },
        body: JSON.stringify({
          model: this.config.model,
          messages: [
            { role: "user", content: "Hi" }
          ],
          max_tokens: 10,
          temperature: 0.7
        })
      });
      if (response.status >= 200 && response.status < 300) {
        const data = response.json;
        try {
          this.validateAPIResponseStructure(data, "testConnection");
          return {
            success: true,
            message: "\u2705 Connection successful! API is working correctly."
          };
        } catch (validationError) {
          const errorMessage = validationError instanceof Error ? validationError.message : String(validationError);
          return {
            success: false,
            message: `\u274C API returned invalid response: ${errorMessage}`
          };
        }
      } else {
        let errorMessage = `HTTP ${response.status}`;
        try {
          const errorData = response.json;
          if (errorData.error?.message) {
            errorMessage = errorData.error.message;
          }
        } catch {
        }
        return {
          success: false,
          message: `\u274C Error: ${errorMessage}`
        };
      }
    } catch {
      const errorMessage = "Network error. Please check your internet connection and API URL.";
      return {
        success: false,
        message: `\u274C Network error: ${errorMessage}. Please check your internet connection and API URL.`
      };
    }
  }
  /**
   * Send a chat completion request
   * This will be used in future features for node suggestions
   */
  async chat(userMessage, systemMessage) {
    if (!this.config.apiKey || this.config.apiKey.trim() === "") {
      throw new Error("API key is not configured");
    }
    const apiUrl = `${this.config.apiBaseUrl}/chat/completions`;
    const messages = [];
    if (systemMessage) {
      messages.push({ role: "system", content: systemMessage });
    }
    messages.push({ role: "user", content: userMessage });
    const response = await (0, import_obsidian6.requestUrl)({
      url: apiUrl,
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${this.config.apiKey}`
      },
      body: JSON.stringify({
        model: this.config.model,
        messages,
        max_tokens: 3e3,
        temperature: 0.7
      })
    });
    if (response.status < 200 || response.status >= 300) {
      let errorMessage = `HTTP ${response.status}`;
      try {
        const errorData = response.json;
        if (errorData.error?.message) {
          errorMessage = errorData.error.message;
        }
      } catch {
      }
      throw new Error(errorMessage);
    }
    const data = response.json;
    const content = this.validateAPIResponseStructure(data, "chat");
    return content;
  }
  /**
   * Suggest child nodes for a given node
   * @param context Node context information
   * @param promptTemplate User-configured prompt template
   * @param systemMessage System message for AI
   * @returns Array of node suggestions
   */
  async suggestChildNodes(context, promptTemplate, systemMessage) {
    try {
      if (!context.nodeText || context.nodeText.trim() === "") {
        throw new Error("Node text is empty. Please add text to the node first.");
      }
      this.validateConfiguration();
      if (promptTemplate && promptTemplate.length > 1e4) {
        throw new Error("Prompt template is too long (max 10000 characters).");
      }
      if (systemMessage && systemMessage.length > 5e3) {
        throw new Error("System message is too long (max 5000 characters).");
      }
      const userPrompt = AIPrompts.buildUserPrompt(promptTemplate, context);
      const response = await this.chat(userPrompt, systemMessage);
      const suggestions = this.parseJSONResponse(response);
      const filtered = this.deduplicateSuggestions(suggestions, context.existingChildren);
      return filtered;
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      if (error instanceof Error) {
        throw new Error(`AI suggestion failed for node "${context.nodeText}": ${errorMessage}`);
      } else {
        throw error;
      }
    }
  }
  /**
   * Parse JSON response from AI
   * @param response AI response text
   * @returns Parsed array of suggestions
   */
  parseJSONResponse(response) {
    try {
      const jsonMatch = response.match(/\[[\s\S]*\]/);
      if (jsonMatch) {
        const parsed = JSON.parse(jsonMatch[0]);
        if (Array.isArray(parsed)) {
          return parsed.filter((item) => typeof item === "string" && item.trim().length > 0);
        }
      }
      return response.split("\n").map((line) => line.trim()).filter(
        (line) => line.length > 0 && !line.startsWith("```") && !line.startsWith("#") && !line.match(/^[0-9]+\./)
        // Remove numbered list items
      ).map((line) => line.replace(/^[-*]\s*/, ""));
    } catch {
      return [];
    }
  }
  /**
   * Deduplicate suggestions against existing children
   * @param suggestions AI-generated suggestions
   * @param existingChildren Existing child nodes
   * @returns Filtered suggestions
   */
  deduplicateSuggestions(suggestions, existingChildren = []) {
    const existing = new Set(
      existingChildren.map((c) => c.toLowerCase().trim())
    );
    return suggestions.map((s) => s.trim()).filter((s) => !existing.has(s.toLowerCase())).slice(0, 5);
  }
  /**
   * Check if the client is properly configured
   */
  isConfigured() {
    return !!(this.config.apiBaseUrl && this.config.apiBaseUrl.trim() !== "" && this.config.apiKey && this.config.apiKey.trim() !== "");
  }
  /**
   * Validate API configuration
   * @throws Error if configuration is invalid
   */
  validateConfiguration() {
    if (!this.config.apiKey || this.config.apiKey.trim() === "") {
      throw new Error("API key is not configured. Please enter your API key in settings.");
    }
    if (!this.config.apiBaseUrl || this.config.apiBaseUrl.trim() === "") {
      throw new Error("API base URL is not configured.");
    }
    try {
      const url = new URL(this.config.apiBaseUrl);
      if (url.protocol !== "https:" && url.protocol !== "http:") {
        throw new Error("Invalid URL protocol.");
      }
      if (url.protocol === "http:" && url.hostname !== "localhost" && url.hostname !== "127.0.0.1") {
        throw new Error("HTTP is not secure. Please use HTTPS.");
      }
    } catch {
      throw new Error(`Invalid API base URL format: ${this.config.apiBaseUrl}`);
    }
    if (!this.config.model || this.config.model.trim() === "") {
      throw new Error("Model name is not configured.");
    }
    if (this.config.model.length > 100) {
      throw new Error("Model name is too long (max 100 characters).");
    }
  }
  /**
   * Validate API response structure and extract content
   * @param data API response data
   * @param context Context for error messages (e.g., 'chat', 'suggestions')
   * @returns Validated content string
   * @throws Error if response structure is invalid or content is empty
   */
  validateAPIResponseStructure(data, _context) {
    if (!data) {
      throw new Error("API returned empty response (no data)");
    }
    if (!data.choices || !Array.isArray(data.choices)) {
      throw new Error('API response missing "choices" array. Please check your API configuration.');
    }
    if (data.choices.length === 0) {
      throw new Error("API returned empty choices array. The model may not be compatible or may have been rate-limited.");
    }
    const finishReason = data.choices[0].finish_reason;
    if (finishReason) {
      if (finishReason === "length") {
      }
    }
    if (data.usage) {
    }
    if (!data.choices[0].message) {
      throw new Error('API response missing "message" object in first choice.');
    }
    const message = data.choices[0].message;
    let content = message.content;
    if (!content || content.trim() === "") {
      if (message.reasoning_content && message.reasoning_content.trim() !== "") {
        content = message.reasoning_content;
      }
    }
    if (content === null || content === void 0) {
      throw new Error("API returned null or undefined content. This may indicate content filtering or API limitations.");
    }
    if (typeof content !== "string") {
      throw new Error(`API returned content with invalid type: ${typeof content}. Expected string.`);
    }
    if (content.trim() === "") {
      throw new Error("API returned empty content. This may indicate:\n- Content was filtered by safety systems\n- The model name is incorrect\n- Token limit was reached (max_tokens too low)\n- API provider issues\n\nPlease check your API configuration and try again.");
    }
    return content;
  }
};

// src/utils/encryption.ts
var EncryptionUtil = class {
  static {
    this.keyPromise = null;
  }
  static {
    this.deviceInfo = "";
  }
  /**
   * Initialize the encryption utility with device information
   * This should be called once during plugin initialization
   */
  static initialize(deviceInfo) {
    this.deviceInfo = deviceInfo;
  }
  /**
   * Generate a consistent encryption key based on device info
   * This ensures the same key is generated on the same device
   */
  static async generateKey() {
    if (this.keyPromise !== null) {
      return this.keyPromise;
    }
    const keyMaterial = await crypto.subtle.importKey(
      "raw",
      this.getKeyMaterial(),
      { name: "PBKDF2" },
      false,
      ["deriveKey"]
    );
    this.keyPromise = crypto.subtle.deriveKey(
      {
        name: "PBKDF2",
        salt: this.getSalt(),
        iterations: 1e5,
        hash: "SHA-256"
      },
      keyMaterial,
      { name: "AES-GCM", length: 256 },
      false,
      ["encrypt", "decrypt"]
    );
    return this.keyPromise;
  }
  /**
   * Get key material from device/plugin identifier
   */
  static getKeyMaterial() {
    const fallbackInfo = `obsidian-mindmap-plugin-${navigator.userAgent}-${navigator.language}`;
    const identifier = this.deviceInfo || fallbackInfo;
    return new TextEncoder().encode(identifier);
  }
  /**
   * Get salt for key derivation
   * Fixed salt ensures consistent key generation on same device
   */
  static getSalt() {
    const saltString = "mindmap-plugin-salt-2024";
    return new TextEncoder().encode(saltString);
  }
  /**
   * Encrypt text using AES-GCM
   * @param text Plain text to encrypt
   * @returns Base64 encoded encrypted data (IV + ciphertext)
   */
  static async encrypt(text) {
    if (!text) return "";
    try {
      const key = await this.generateKey();
      const iv = crypto.getRandomValues(new Uint8Array(12));
      const encodedText = new TextEncoder().encode(text);
      const encryptedData = await crypto.subtle.encrypt(
        {
          name: "AES-GCM",
          iv
        },
        key,
        encodedText
      );
      const combined = new Uint8Array(iv.length + encryptedData.byteLength);
      combined.set(iv);
      combined.set(new Uint8Array(encryptedData), iv.length);
      return this.arrayBufferToBase64(combined);
    } catch {
      throw new Error("Failed to encrypt data");
    }
  }
  /**
   * Decrypt encrypted text
   * @param encryptedData Base64 encoded encrypted data (IV + ciphertext)
   * @returns Decrypted plain text
   */
  static async decrypt(encryptedData) {
    if (!encryptedData) return "";
    try {
      const key = await this.generateKey();
      const combined = this.base64ToArrayBuffer(encryptedData);
      const iv = combined.slice(0, 12);
      const data = combined.slice(12);
      const decryptedData = await crypto.subtle.decrypt(
        {
          name: "AES-GCM",
          iv
        },
        key,
        data
      );
      return new TextDecoder().decode(decryptedData);
    } catch (error) {
      console.error("Failed to decrypt API key:", error);
      throw new Error("Failed to decrypt API key. Please re-enter your API key in settings.");
    }
  }
  /**
   * Convert ArrayBuffer to Base64
   */
  static arrayBufferToBase64(buffer) {
    const bytes = buffer instanceof Uint8Array ? buffer : new Uint8Array(buffer);
    let binary = "";
    for (let i = 0; i < bytes.byteLength; i++) {
      binary += String.fromCharCode(bytes[i]);
    }
    return btoa(binary);
  }
  /**
   * Convert Base64 to ArrayBuffer
   */
  static base64ToArrayBuffer(base64) {
    const binary = atob(base64);
    const bytes = new Uint8Array(binary.length);
    for (let i = 0; i < binary.length; i++) {
      bytes[i] = binary.charCodeAt(i);
    }
    return bytes;
  }
  /**
   * Check if a string is encrypted (heuristic check)
   * Encrypted data will be longer and contain base64 characters
   */
  static isEncrypted(text) {
    if (!text) return false;
    const base64Pattern = /^[A-Za-z0-9+/]+=*$/;
    return text.length > 50 && base64Pattern.test(text);
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  deviceType: "auto",
  language: "en",
  openaiApiBaseUrl: "https://api.openai.com/v1",
  openaiApiKey: "",
  openaiModel: "gpt-3.5-turbo",
  openaiApiKeyEncrypted: false,
  aiSystemMessage: "You are a professional mind map assistant, skilled at helping users expand and organize knowledge points. Please provide relevant child node suggestions based on the given node content.",
  aiPromptTemplate: `Please suggest 3-5 child nodes for the following mind map node:

Central topic: {centralTopic}
Node content: {nodeText}
Node level: {level}
{parentContext}{siblingsContext}Current children: {existingChildren}

Requirements:
1. Concise and clear (2-8 words)
2. Highly relevant to the central topic
3. Logically connected to the current node
4. Do not duplicate existing content

Please return directly in JSON array format, for example: ["suggestion1", "suggestion2", "suggestion3"]`
};
var MIND_MAP_VIEW_TYPE = "mind-map-view";
var MindMapPlugin = class extends import_obsidian7.Plugin {
  async onload() {
    await this.loadSettings();
    const deviceInfo = `obsidian-mindmap-plugin-${navigator.userAgent}-${navigator.language}`;
    EncryptionUtil.initialize(deviceInfo);
    let isMobileDevice;
    if (this.settings.deviceType === "auto") {
      isMobileDevice = import_obsidian7.Platform.isMobile;
    } else {
      isMobileDevice = this.settings.deviceType === "mobile";
    }
    this.configManager = new ConfigManager(isMobileDevice, this.settings.language);
    this.config = this.configManager.getConfig();
    this.mindMapService = new MindMapService(this.app, this.config, this.settings, this.aiClient);
    const i18nManager = createI18nManager(this.settings.language);
    this.messages = i18nManager.getMessages();
    await this.loadStyles();
    const ribbonIconEl = this.addRibbonIcon("brain", "openMindMap", (evt) => {
      void this.activateView();
    });
    ribbonIconEl.addClass("mind-map-ribbon-class");
    this.addCommand({
      id: "open-view",
      name: "Open Mindmap view",
      callback: () => {
        void this.activateView();
      }
    });
    this.addCommand({
      id: "open-current",
      name: "Open current file as mind map",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian7.MarkdownView);
        if (markdownView) {
          if (!checking) {
            void this.activateView();
          }
          return true;
        }
        return false;
      }
    });
    this.addCommand({
      id: "undo",
      name: "Undo",
      checkCallback: (checking) => {
        const activeView = this.app.workspace.getActiveViewOfType(MindMapView);
        if (activeView) {
          if (!checking) {
            activeView.undo();
          }
          return true;
        }
        return false;
      }
    });
    this.addCommand({
      id: "redo",
      name: "Redo",
      checkCallback: (checking) => {
        const activeView = this.app.workspace.getActiveViewOfType(MindMapView);
        if (activeView) {
          if (!checking) {
            activeView.redo();
          }
          return true;
        }
        return false;
      }
    });
    this.addSettingTab(new MindMapSettingTab(this.app, this));
    this.registerView(
      MIND_MAP_VIEW_TYPE,
      (leaf) => new MindMapView(leaf, this.mindMapService, this.config)
    );
    this.registerEvent(
      this.app.workspace.on("file-open", async (file) => {
        if (file && await this.mindMapService.isMindMapFile(file)) {
          await this.replaceWithMindMapView(file);
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        menu.addItem((item) => {
          item.setTitle(this.messages.ui.createNewFile).setIcon("brain").onClick(async () => {
            await this.createNewMindMapFile(file);
          });
        });
      })
    );
    this.app.workspace.onLayoutReady(async () => {
      const activeFile = this.app.workspace.getActiveFile();
      if (activeFile && await this.mindMapService.isMindMapFile(activeFile)) {
        void this.replaceWithMindMapView(activeFile);
      }
    });
  }
  onunload() {
    this.mindMapService = null;
    this.aiClient = null;
    this.configManager = null;
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    if (this.settings.openaiApiKey) {
      if (this.settings.openaiApiKeyEncrypted) {
        try {
          this.settings.openaiApiKey = await EncryptionUtil.decrypt(this.settings.openaiApiKey);
        } catch {
          this.settings.openaiApiKeyEncrypted = false;
        }
      } else if (EncryptionUtil.isEncrypted(this.settings.openaiApiKey)) {
        try {
          this.settings.openaiApiKey = await EncryptionUtil.decrypt(this.settings.openaiApiKey);
          this.settings.openaiApiKeyEncrypted = true;
        } catch {
        }
      }
    }
    const aiConfig = {
      apiBaseUrl: this.settings.openaiApiBaseUrl,
      apiKey: this.settings.openaiApiKey,
      model: this.settings.openaiModel
    };
    this.aiClient = new AIClient(aiConfig);
  }
  async saveSettings() {
    const settingsToSave = { ...this.settings };
    if (settingsToSave.openaiApiKey && !settingsToSave.openaiApiKeyEncrypted) {
      try {
        settingsToSave.openaiApiKey = await EncryptionUtil.encrypt(settingsToSave.openaiApiKey);
        settingsToSave.openaiApiKeyEncrypted = true;
      } catch {
        settingsToSave.openaiApiKeyEncrypted = false;
      }
    } else if (settingsToSave.openaiApiKey && settingsToSave.openaiApiKeyEncrypted) {
      try {
        settingsToSave.openaiApiKey = await EncryptionUtil.encrypt(this.settings.openaiApiKey);
      } catch {
      }
    }
    await this.saveData(settingsToSave);
    this.mindMapService.updateSettings(this.settings, this.aiClient);
  }
  async loadStyles() {
  }
  // Replace current view with mind map view
  async replaceWithMindMapView(file) {
    const activeView = this.app.workspace.getActiveViewOfType(import_obsidian7.FileView);
    if (activeView && activeView.leaf) {
      await activeView.leaf.setViewState({
        type: MIND_MAP_VIEW_TYPE,
        active: true,
        state: { file: file.path }
      });
    } else {
      const activeEditor = this.app.workspace.activeEditor;
      const editorView = activeEditor;
      const leaf = editorView?.leaf || this.app.workspace.getMostRecentLeaf();
      if (leaf) {
        await leaf.setViewState({
          type: MIND_MAP_VIEW_TYPE,
          active: true,
          state: { file: file.path }
        });
      }
    }
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(MIND_MAP_VIEW_TYPE);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      await leaf?.setViewState({ type: MIND_MAP_VIEW_TYPE, active: true });
    }
    if (leaf) {
      void workspace.revealLeaf(leaf);
    }
  }
  // Create a new mindmap file with default name
  async createNewMindMapFile(contextFile) {
    try {
      let targetFolderPath = "";
      if (contextFile) {
        if (contextFile instanceof import_obsidian7.TFile) {
          targetFolderPath = contextFile.parent?.path || "";
        } else if (contextFile instanceof import_obsidian7.TFolder) {
          targetFolderPath = contextFile.path;
        }
      }
      let fileName = "Untitled mindmap.md";
      let counter = 1;
      let fullPath = (0, import_obsidian7.normalizePath)(
        targetFolderPath ? `${targetFolderPath}/${fileName}` : fileName
      );
      while (this.app.vault.getAbstractFileByPath(fullPath)) {
        fileName = `Untitled mindmap ${counter}.md`;
        fullPath = (0, import_obsidian7.normalizePath)(
          targetFolderPath ? `${targetFolderPath}/${fileName}` : fileName
        );
        counter++;
      }
      const content = "#mindmap\n";
      await this.app.vault.create(fullPath, content);
      const newFile = this.app.vault.getAbstractFileByPath(fullPath);
      if (newFile instanceof import_obsidian7.TFile) {
        await this.app.workspace.getLeaf("tab").openFile(newFile);
        const message = this.messages.format(
          this.messages.notices.fileCreated,
          { fileName: fullPath }
        );
        new import_obsidian7.Notice(message);
      } else {
        new import_obsidian7.Notice(this.messages.notices.fileCreateFailed);
      }
    } catch (error) {
      const message = this.messages.format(
        this.messages.notices.fileCreateError,
        { error: error.message }
      );
      new import_obsidian7.Notice(message);
    }
  }
};
var MindMapView = class _MindMapView extends import_obsidian7.ItemView {
  constructor(leaf, mindMapService, config) {
    super(leaf);
    this.filePath = null;
    this.needsContentLoading = false;
    this.isStateLoaded = false;
    this.mindMapData = null;
    this.updateTimer = null;
    this.mindMapService = mindMapService;
    this.config = config;
    const i18nManager = createI18nManager(config.language);
    const messages = i18nManager.getMessages();
    this.renderer = new RendererManager(this.app, config, mindMapService, messages, () => this.isActiveView());
  }
  getViewType() {
    return MIND_MAP_VIEW_TYPE;
  }
  getDisplayText() {
    let filePath = this.filePath;
    if (!filePath) {
      try {
        const leafState = this.leaf.getViewState();
        if (leafState.state?.file) {
          filePath = leafState.state.file;
          this.filePath = filePath;
        }
      } catch {
      }
      if (!filePath) {
        const activeFile = this.app.workspace.getActiveFile();
        if (activeFile && activeFile.extension === "md") {
          filePath = activeFile.path;
          this.filePath = filePath;
        }
      }
    }
    if (filePath) {
      const file = this.app.vault.getAbstractFileByPath(filePath);
      if (file instanceof import_obsidian7.TFile) {
        return file.basename;
      }
      const fileName = filePath.split("/").pop();
      if (fileName) {
        return fileName.replace(".md", "");
      }
    }
    return "openMindMap";
  }
  getIcon() {
    return "brain";
  }
  /**
   * 
   * 
   */
  isActiveView() {
    const activeView = this.app.workspace.getActiveViewOfType(_MindMapView);
    return activeView === this;
  }
  // Override these methods to properly handle view state
  getState() {
    return {
      file: this.filePath
    };
  }
  setState(state, result) {
    this.filePath = state.file || null;
    this.isStateLoaded = true;
    if (!this.filePath) {
      try {
        const leafState = this.leaf.getViewState();
        if (leafState.state?.file) {
          this.filePath = leafState.state.file;
        }
      } catch {
      }
    }
    if (this.needsContentLoading && this.filePath) {
      setTimeout(() => {
        void this.loadFileContent();
      }, 10);
    }
    return Promise.resolve();
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("mind-map-container");
    container.createEl("h4", { text: "Loading openMindMap..." });
    container.createEl("p", { text: "Initializing..." });
    this.renderer.onTextChanged = this.handleNodeTextChanged.bind(this);
    this.renderer.onDataUpdated = this.handleDataUpdated.bind(this);
    this.renderer.onDataRestored = this.handleDataRestored.bind(this);
    this.clearHistory();
    this.needsContentLoading = true;
    if (this.filePath) {
      await this.loadFileContent();
    }
  }
  async loadFileContent() {
    const container = this.containerEl.children[1];
    container.empty();
    container.createEl("h4", { text: "\u{1F9E0} openMindMap" });
    const statusEl = container.createEl("p", { text: "Loading file..." });
    let filePath = this.filePath;
    if (!filePath) {
      const state = this.leaf.getViewState();
      filePath = state.state?.file || null;
    }
    if (!filePath) {
      const activeFile = this.app.workspace.getActiveFile();
      if (activeFile && activeFile.extension === "md") {
        try {
          const content = await this.app.vault.read(activeFile);
          if (content.trim().startsWith("#mindmap")) {
            filePath = activeFile.path;
          }
        } catch {
        }
      }
    }
    this.filePath = filePath;
    if (!this.filePath) {
      statusEl.textContent = "No mind map file found";
      const errorDiv = container.createDiv("mind-map-error");
      errorDiv.createEl("strong", { text: "Error:" });
      errorDiv.createEl("br");
      errorDiv.createSpan({ text: "No mind map file specified or found." });
      errorDiv.createEl("br");
      errorDiv.createEl("br");
      errorDiv.createEl("small", { text: "Make sure the file starts with #mindmap" });
      const debugInfo = container.createEl("div", { cls: "mind-map-debug" });
      debugInfo.createEl("strong", { text: "Debug Info:" });
      debugInfo.createEl("br");
      debugInfo.createSpan({ text: `Instance filePath: ${this.filePath}` });
      debugInfo.createEl("br");
      debugInfo.createSpan({ text: `State loaded: ${this.isStateLoaded}` });
      debugInfo.createEl("br");
      debugInfo.createSpan({ text: `Active file: ${this.app.workspace.getActiveFile()?.path || "none"}` });
      return;
    }
    this.needsContentLoading = false;
    try {
      statusEl.textContent = `Loading: ${this.filePath}`;
      const file = this.app.vault.getAbstractFileByPath(this.filePath);
      if (file instanceof import_obsidian7.TFile) {
        statusEl.textContent = "Parsing content...";
        const content = await this.mindMapService.getFileHandler().loadFileContent(file);
        container.empty();
        await this.renderMindMap(content);
      } else {
        statusEl.textContent = `Error: File not found: ${this.filePath}`;
      }
    } catch (error) {
      statusEl.textContent = `Error loading file: ${error.message}`;
      const errorDiv = container.createDiv("mind-map-error");
      errorDiv.createEl("strong", { text: "Error:" });
      errorDiv.createEl("br");
      errorDiv.createSpan({ text: error.message });
    }
  }
  async renderMindMap(content) {
    const container = this.containerEl.children[1];
    container.empty();
    const mindMapData = this.mindMapService.parseMarkdownToData(content, this.filePath || "");
    this.mindMapData = mindMapData;
    this.renderer.render(container, mindMapData);
  }
  // 
  handleNodeTextChanged(node, newText) {
    if (!this.mindMapData || !this.filePath) {
      return;
    }
    node.data.text = newText;
    if (this.updateTimer) {
      clearTimeout(this.updateTimer);
    }
    this.updateTimer = setTimeout(() => {
      this.refreshMindMapLayout();
      if (this.filePath && this.mindMapData?.rootNode) {
        void this.mindMapService.saveToMarkdownFile(this.filePath, this.mindMapData.rootNode);
      }
      this.updateTimer = null;
    }, 300);
  }
  // 
  handleDataUpdated() {
    if (!this.mindMapData || !this.filePath) return;
    const rootNode = this.mindMapData.rootNode;
    if (rootNode) {
      this.refreshMindMapLayout();
      void this.mindMapService.saveToMarkdownFile(this.filePath, rootNode);
    }
  }
  // undo/redo 
  handleDataRestored(data) {
    this.mindMapData = data;
    this.refreshMindMapLayout();
    if (this.filePath && data.rootNode) {
      void this.mindMapService.saveToMarkdownFile(this.filePath, data.rootNode);
    }
  }
  // 
  refreshMindMapLayout() {
    if (!this.mindMapData || !this.renderer) return;
    try {
      const container = this.containerEl.children[1];
      if (!container) return;
      requestAnimationFrame(() => {
        container.empty();
        this.renderer.render(container, this.mindMapData);
      });
    } catch {
    }
  }
  // ========== Undo/Redo  ==========
  /**
   * 
   */
  undo() {
    if (this.renderer instanceof RendererCoordinator) {
      const success = this.renderer.undo();
      if (success) {
        new import_obsidian7.Notice("\u5DF2\u64A4\u9500");
      }
    }
  }
  /**
   * 
   */
  redo() {
    if (this.renderer instanceof RendererCoordinator) {
      const success = this.renderer.redo();
      if (success) {
        new import_obsidian7.Notice("\u5DF2\u91CD\u505A");
      }
    }
  }
  /**
   * 
   */
  clearHistory() {
    if (this.renderer instanceof RendererCoordinator) {
      this.renderer.clearHistory();
    }
  }
  async onClose() {
    if (this.updateTimer) {
      clearTimeout(this.updateTimer);
      this.updateTimer = null;
    }
    if (this.renderer) {
      this.renderer.destroy();
    }
  }
};
var MindMapSettingTab = class extends import_obsidian7.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.testButtonHandler = null;
    this.testButton = null;
    this.plugin = plugin;
  }
  hide() {
    if (this.testButton && this.testButtonHandler) {
      this.testButton.removeEventListener("click", this.testButtonHandler);
      this.testButton = null;
      this.testButtonHandler = null;
    }
  }
  display() {
    const { containerEl } = this;
    if (this.testButton && this.testButtonHandler) {
      this.testButton.removeEventListener("click", this.testButtonHandler);
      this.testButton = null;
      this.testButtonHandler = null;
    }
    containerEl.empty();
    new import_obsidian7.Setting(containerEl).setName("Settings for openMindMap Plugin").setHeading();
    new import_obsidian7.Setting(containerEl).setName("Device settings").setHeading();
    new import_obsidian7.Setting(containerEl).setName("Device type").setDesc("Choose how mind maps should be rendered. Auto-detects based on your device.").addDropdown((dropdown) => dropdown.addOption("auto", "Auto-detect").addOption("desktop", "Desktop mode").addOption("mobile", "Mobile mode").setValue(this.plugin.settings.deviceType).onChange(async (value) => {
      this.plugin.settings.deviceType = value;
      await this.plugin.saveSettings();
      new import_obsidian7.Notice(this.plugin.messages.notices.deviceTypeChanged);
    }));
    new import_obsidian7.Setting(containerEl).setName("Language settings").setHeading();
    new import_obsidian7.Setting(containerEl).setName("Language").setDesc("Choose your preferred language for the plugin interface.").addDropdown((dropdown) => dropdown.addOption("en", "English").addOption("zh", "\u4E2D\u6587").setValue(this.plugin.settings.language || "en").onChange(async (value) => {
      this.plugin.settings.language = value;
      await this.plugin.saveSettings();
      this.plugin.configManager.updateLanguage(value);
      this.plugin.config.language = value;
      this.plugin.mindMapService.updateLanguage(value);
      this.display();
      const newI18nManager = createI18nManager(value);
      const newMessages = newI18nManager.getMessages();
      const languageName = value === "en" ? "English" : "\u4E2D\u6587";
      const message = newMessages.format(
        newMessages.notices.languageChanged,
        { language: languageName }
      );
      new import_obsidian7.Notice(message);
    }));
    new import_obsidian7.Setting(containerEl).setName("AI Configuration (OpenAI-compatible API)").setHeading();
    containerEl.createEl("p", {
      text: "Configure your AI API to enable intelligent features like automatic node suggestions.",
      cls: "setting-item-description"
    });
    const securityNotice = containerEl.createDiv({ cls: "setting-item-security-notice" });
    securityNotice.createEl("strong", { text: "\u{1F512} Security:" });
    securityNotice.appendText(" Your API key is encrypted using AES-GCM (256-bit) before storage. ");
    const codeEl = securityNotice.createEl("code", { text: "data.json" });
    securityNotice.appendText(" The encrypted key is stored in ");
    securityNotice.appendChild(codeEl.cloneNode(true));
    securityNotice.appendText(" and can only be decrypted on this device.");
    new import_obsidian7.Setting(containerEl).setName("OpenAI API Base URL").setDesc("The base URL for your OpenAI-compatible API (e.g., https://api.openai.com/v1)").addText((text) => text.setPlaceholder("https://api.openai.com/v1").setValue(this.plugin.settings.openaiApiBaseUrl).onChange(async (value) => {
      this.plugin.settings.openaiApiBaseUrl = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("OpenAI API Key").setDesc("Your OpenAI API key (starts with sk-...)").addText((text) => {
      text.setPlaceholder("sk-...");
      text.setValue(this.plugin.settings.openaiApiKey);
      text.inputEl.type = "password";
      text.onChange(async (value) => {
        this.plugin.settings.openaiApiKey = value;
        await this.plugin.saveSettings();
        this.plugin.aiClient.updateConfig({
          apiBaseUrl: this.plugin.settings.openaiApiBaseUrl,
          apiKey: value,
          model: this.plugin.settings.openaiModel
        });
      });
    });
    new import_obsidian7.Setting(containerEl).setName("Model name").setDesc("The model name to use (e.g., gpt-3.5-turbo, gpt-4, llama2, mistral, etc.)").addText((text) => text.setPlaceholder("gpt-3.5-turbo").setValue(this.plugin.settings.openaiModel).onChange(async (value) => {
      this.plugin.settings.openaiModel = value;
      await this.plugin.saveSettings();
      this.plugin.aiClient.updateConfig({
        apiBaseUrl: this.plugin.settings.openaiApiBaseUrl,
        apiKey: this.plugin.settings.openaiApiKey,
        model: value
      });
    }));
    const testButtonContainer = containerEl.createDiv({ cls: "setting-item" });
    const testButtonDesc = testButtonContainer.createDiv({ cls: "setting-item-info" });
    testButtonDesc.createDiv({ cls: "setting-item-name", text: "Test connection" });
    testButtonDesc.createDiv({ cls: "setting-item-description", text: "Test your API configuration to ensure it works correctly" });
    const testButtonControl = testButtonContainer.createDiv({ cls: "setting-item-control" });
    this.testButton = testButtonControl.createEl("button", {
      text: "Test connection",
      cls: "mod-cta"
    });
    let resultEl = null;
    this.testButtonHandler = async () => {
      if (resultEl) {
        resultEl.remove();
      }
      this.testButton.textContent = "Testing...";
      this.testButton.disabled = true;
      try {
        const TIMEOUT_MS = 1e4;
        const testPromise = this.plugin.aiClient.testConnection();
        const timeoutPromise = new Promise((_, reject) => {
          setTimeout(() => {
            reject(new Error(this.plugin.messages.notices.apiTestTimeout));
          }, TIMEOUT_MS);
        });
        const result = await Promise.race([testPromise, timeoutPromise]);
        resultEl = testButtonControl.createDiv({
          cls: `ai-test-result ${result.success ? "success" : "error"}`
        });
        resultEl.textContent = result.message;
        if (result.success) {
          new import_obsidian7.Notice(this.plugin.messages.notices.apiConnectionSuccess);
        } else {
          new import_obsidian7.Notice(this.plugin.messages.notices.apiConnectionFailed);
        }
      } catch (error) {
        const errorMessage = error instanceof Error ? error.message : String(error);
        resultEl = testButtonControl.createDiv({
          cls: "ai-test-result error"
        });
        resultEl.textContent = `\u274C Error: ${errorMessage}`;
        new import_obsidian7.Notice(this.plugin.messages.notices.connectionTestFailed);
      } finally {
        if (this.testButton) {
          this.testButton.textContent = "Test connection";
          this.testButton.disabled = false;
        }
      }
    };
    this.testButton.addEventListener("click", this.testButtonHandler);
    new import_obsidian7.Setting(containerEl).setName("AI Prompt Configuration").setHeading();
    containerEl.createEl("p", {
      text: "Customize how the AI generates suggestions by editing the system message and prompt template.",
      cls: "setting-item-description"
    });
    new import_obsidian7.Setting(containerEl).setName("AI System Message").setDesc("Define the AI assistant role and behavior. This sets the context for all AI interactions.").addTextArea((text) => {
      text.setPlaceholder("You are a helpful mind map assistant...");
      text.setValue(this.plugin.settings.aiSystemMessage);
      text.onChange(async (value) => {
        this.plugin.settings.aiSystemMessage = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian7.Setting(containerEl).setName("AI Prompt Template").setDesc("Customize the prompt template for node suggestions. Available variables: {nodeText}, {level}, {parentContext}, {siblingsContext}, {existingChildren}, {centralTopic}").addTextArea((text) => {
      text.setPlaceholder("Please suggest 3-5 child nodes...");
      text.setValue(this.plugin.settings.aiPromptTemplate);
      text.onChange(async (value) => {
        this.plugin.settings.aiPromptTemplate = value;
        await this.plugin.saveSettings();
      });
    });
    const variablesRef = containerEl.createDiv({ cls: "prompt-variables-reference" });
    variablesRef.createEl("strong", { text: "Available variables:" });
    const ul = variablesRef.createEl("ul");
    const variables = [
      { code: "{nodeText}", desc: "Current node text" },
      { code: "{level}", desc: "Node hierarchy level (0=root)" },
      { code: "{parentContext}", desc: "Parent node info (if exists)" },
      { code: "{siblingsContext}", desc: "Sibling nodes (if exists)" },
      { code: "{existingChildren}", desc: "Already existing children" },
      { code: "{centralTopic}", desc: "Central topic (root node text)" }
    ];
    for (const v of variables) {
      const li = ul.createEl("li");
      li.createEl("code", { text: v.code });
      li.appendText(` - ${v.desc}`);
    }
    new import_obsidian7.Setting(containerEl).setName("Reset Prompts").setDesc("Reset prompt templates to default values").addButton((button) => button.setButtonText("Reset to Defaults").setWarning().onClick(async () => {
      this.plugin.settings.aiSystemMessage = DEFAULT_SETTINGS.aiSystemMessage;
      this.plugin.settings.aiPromptTemplate = DEFAULT_SETTINGS.aiPromptTemplate;
      await this.plugin.saveSettings();
      this.display();
      new import_obsidian7.Notice(this.plugin.messages.notices.promptsReset);
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAibm9kZV9tb2R1bGVzL2QzLWRpc3BhdGNoL3NyYy9kaXNwYXRjaC5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9uYW1lc3BhY2VzLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL25hbWVzcGFjZS5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9jcmVhdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3QuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvYXJyYXkuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0b3JBbGwuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdEFsbC5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9tYXRjaGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3RDaGlsZC5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGRyZW4uanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2ZpbHRlci5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbnRlci5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9jb25zdGFudC5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZGF0YS5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vam9pbi5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbWVyZ2UuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zb3J0LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9jYWxsLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbm9kZS5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2l6ZS5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2VhY2guanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2F0dHIuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zdHlsZS5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcHJvcGVydHkuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NsYXNzZWQuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3RleHQuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2h0bWwuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JhaXNlLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9sb3dlci5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vYXBwZW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbnNlcnQuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JlbW92ZS5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2xvbmUuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9vbi5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZGlzcGF0Y2guanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2l0ZXJhdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3QuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc291cmNlRXZlbnQuanMiLCAibm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvcG9pbnRlci5qcyIsICJub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3RBbGwuanMiLCAibm9kZV9tb2R1bGVzL2QzLWRyYWcvc3JjL25vZXZlbnQuanMiLCAibm9kZV9tb2R1bGVzL2QzLWRyYWcvc3JjL25vZHJhZy5qcyIsICJub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2RlZmluZS5qcyIsICJub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXMuanMiLCAibm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9iYXNpc0Nsb3NlZC5qcyIsICJub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL2NvbnN0YW50LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCAibm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9yZ2IuanMiLCAibm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9udW1iZXIuanMiLCAibm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9zdHJpbmcuanMiLCAibm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy90cmFuc2Zvcm0vZGVjb21wb3NlLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvem9vbS5qcyIsICJub2RlX21vZHVsZXMvZDMtdGltZXIvc3JjL3RpbWVyLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsICJub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zY2hlZHVsZS5qcyIsICJub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvaW50ZXJydXB0LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW50ZXJydXB0LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3R3ZWVuLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2ludGVycG9sYXRlLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHIuanMiLCAibm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vYXR0clR3ZWVuLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2RlbGF5LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2UuanMiLCAibm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZVZhcnlpbmcuanMiLCAibm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL21lcmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL29uLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsICJub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zZWxlY3QuanMiLCAibm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc2VsZWN0QWxsLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdGlvbi5qcyIsICJub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zdHlsZS5qcyIsICJub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zdHlsZVR3ZWVuLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHQuanMiLCAibm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdGV4dFR3ZWVuLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RyYW5zaXRpb24uanMiLCAibm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1lYXNlL3NyYy9jdWJpYy5qcyIsICJub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL3RyYW5zaXRpb24uanMiLCAibm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZDMtYnJ1c2gvc3JjL2JydXNoLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9jb3VudC5qcyIsICJub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvZWFjaC5qcyIsICJub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvZWFjaEJlZm9yZS5qcyIsICJub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvZWFjaEFmdGVyLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9maW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9zdW0uanMiLCAibm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L3NvcnQuanMiLCAibm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L3BhdGguanMiLCAibm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L2FuY2VzdG9ycy5qcyIsICJub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvZGVzY2VuZGFudHMuanMiLCAibm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L2xlYXZlcy5qcyIsICJub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy9oaWVyYXJjaHkvbGlua3MuanMiLCAibm9kZV9tb2R1bGVzL2QzLWhpZXJhcmNoeS9zcmMvaGllcmFyY2h5L2l0ZXJhdG9yLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy1oaWVyYXJjaHkvc3JjL2hpZXJhcmNoeS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZDMtaGllcmFyY2h5L3NyYy90cmVlLmpzIiwgIm5vZGVfbW9kdWxlcy9kMy16b29tL3NyYy9jb25zdGFudC5qcyIsICJub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvZXZlbnQuanMiLCAibm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3RyYW5zZm9ybS5qcyIsICJub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvbm9ldmVudC5qcyIsICJub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvem9vbS5qcyIsICJzcmMvbWFuYWdlcnMvVW5kb01hbmFnZXIudHMiLCAic3JjL2NvbnN0YW50cy9taW5kbWFwLWNvbnN0YW50cy50cyIsICJzcmMvdXRpbHMvbWluZG1hcC11dGlscy50cyIsICJzcmMvdXRpbHMvVGV4dE1lYXN1cmVyLnRzIiwgInNyYy9yZW5kZXJlcnMvbGF5b3V0LWNhbGN1bGF0b3IudHMiLCAic3JjL3V0aWxzL2Nvb3JkaW5hdGUtc3lzdGVtLnRzIiwgInNyYy9yZW5kZXJlcnMvY29yZS9Ob2RlUmVuZGVyZXIudHMiLCAic3JjL3JlbmRlcmVycy9jb3JlL0xpbmtSZW5kZXJlci50cyIsICJzcmMvcmVuZGVyZXJzL2NvcmUvVGV4dFJlbmRlcmVyLnRzIiwgInNyYy9pbnRlcmFjdGlvbnMvTW91c2VJbnRlcmFjdGlvbi50cyIsICJzcmMvaW50ZXJhY3Rpb25zL0tleWJvYXJkTWFuYWdlci50cyIsICJzcmMvaW50ZXJhY3Rpb25zL2ludGVyYWN0aW9uLW1hbmFnZXIudHMiLCAic3JjL2ZlYXR1cmVzL0FJQXNzaXN0YW50LnRzIiwgInNyYy9mZWF0dXJlcy9Ob2RlRWRpdG9yLnRzIiwgInNyYy9mZWF0dXJlcy9DbGlwYm9hcmRNYW5hZ2VyLnRzIiwgInNyYy9mZWF0dXJlcy9CdXR0b25SZW5kZXJlci50cyIsICJzcmMvZmVhdHVyZXMvTW9iaWxlVG9vbGJhci50cyIsICJzcmMvcmVuZGVyZXJzL3JlbmRlcmVyLWNvb3JkaW5hdG9yLnRzIiwgInNyYy9yZW5kZXJlcnMvZGVza3RvcC10cmVlLXJlbmRlcmVyLnRzIiwgInNyYy9yZW5kZXJlcnMvbW9iaWxlLXRyZWUtcmVuZGVyZXIudHMiLCAic3JjL3JlbmRlcmVycy9yZW5kZXJlci1tYW5hZ2VyLnRzIiwgInNyYy9zZXJ2aWNlcy9taW5kbWFwLXNlcnZpY2UudHMiLCAic3JjL2hhbmRsZXJzL2ZpbGUtaGFuZGxlci50cyIsICJzcmMvaTE4bi9lbi50cyIsICJzcmMvaTE4bi96aC50cyIsICJzcmMvaTE4bi9pMThuLW1hbmFnZXIudHMiLCAic3JjL2NvbmZpZy9kZXNrdG9wLWNvbmZpZy50cyIsICJzcmMvY29uZmlnL21vYmlsZS1jb25maWcudHMiLCAic3JjL2NvbmZpZy9jb25maWctbWFuYWdlci50cyIsICJzcmMvdXRpbHMvYWktY2xpZW50LnRzIiwgInNyYy91dGlscy9haS1wcm9tcHRzLnRzIiwgInNyYy91dGlscy9lbmNyeXB0aW9uLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIE1hcmtkb3duVmlldywgSXRlbVZpZXcsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgV29ya3NwYWNlTGVhZiwgVEZpbGUsIEZpbGVWaWV3LCBOb3RpY2UsIFBsYXRmb3JtLCBURm9sZGVyLCBUQWJzdHJhY3RGaWxlLCBub3JtYWxpemVQYXRoLCBWaWV3U3RhdGVSZXN1bHQgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBSZW5kZXJlck1hbmFnZXIgfSBmcm9tICcuL3JlbmRlcmVycy9yZW5kZXJlci1tYW5hZ2VyJztcbmltcG9ydCB7IFJlbmRlcmVyQ29vcmRpbmF0b3IgfSBmcm9tICcuL3JlbmRlcmVycy9yZW5kZXJlci1jb29yZGluYXRvcic7XG5pbXBvcnQgeyBNaW5kTWFwU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvbWluZG1hcC1zZXJ2aWNlJztcbmltcG9ydCB7IE1pbmRNYXBEYXRhLCBNaW5kTWFwTm9kZSwgTWluZE1hcFJlbmRlcmVyIH0gZnJvbSAnLi9pbnRlcmZhY2VzL21pbmRtYXAtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBDb25maWdNYW5hZ2VyIH0gZnJvbSAnLi9jb25maWcvY29uZmlnLW1hbmFnZXInO1xuaW1wb3J0IHsgTWluZE1hcENvbmZpZyB9IGZyb20gJy4vY29uZmlnL3R5cGVzJztcbmltcG9ydCB7IEFJQ2xpZW50LCBBSUNvbmZpZ3VyYXRpb24sIFRlc3RDb25uZWN0aW9uUmVzdWx0IH0gZnJvbSAnLi91dGlscy9haS1jbGllbnQnO1xuaW1wb3J0IHsgRW5jcnlwdGlvblV0aWwgfSBmcm9tICcuL3V0aWxzL2VuY3J5cHRpb24nO1xuaW1wb3J0IHsgY3JlYXRlSTE4bk1hbmFnZXIsIE1pbmRNYXBNZXNzYWdlcyB9IGZyb20gJy4vaTE4bic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWluZE1hcFNldHRpbmdzIHtcblx0ZGV2aWNlVHlwZTogJ2F1dG8nIHwgJ2Rlc2t0b3AnIHwgJ21vYmlsZSc7XG5cdGxhbmd1YWdlOiAnZW4nIHwgJ3poJztcblx0b3BlbmFpQXBpQmFzZVVybDogc3RyaW5nO1xuXHRvcGVuYWlBcGlLZXk6IHN0cmluZztcblx0b3BlbmFpTW9kZWw6IHN0cmluZztcblx0b3BlbmFpQXBpS2V5RW5jcnlwdGVkOiBib29sZWFuO1xuXHRhaVN5c3RlbU1lc3NhZ2U6IHN0cmluZztcblx0YWlQcm9tcHRUZW1wbGF0ZTogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNaW5kTWFwU2V0dGluZ3MgPSB7XG5cdGRldmljZVR5cGU6ICdhdXRvJyxcblx0bGFuZ3VhZ2U6ICdlbicsXG5cdG9wZW5haUFwaUJhc2VVcmw6ICdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxJyxcblx0b3BlbmFpQXBpS2V5OiAnJyxcblx0b3BlbmFpTW9kZWw6ICdncHQtMy41LXR1cmJvJyxcblx0b3BlbmFpQXBpS2V5RW5jcnlwdGVkOiBmYWxzZSxcblx0YWlTeXN0ZW1NZXNzYWdlOiAnWW91IGFyZSBhIHByb2Zlc3Npb25hbCBtaW5kIG1hcCBhc3Npc3RhbnQsIHNraWxsZWQgYXQgaGVscGluZyB1c2VycyBleHBhbmQgYW5kIG9yZ2FuaXplIGtub3dsZWRnZSBwb2ludHMuIFBsZWFzZSBwcm92aWRlIHJlbGV2YW50IGNoaWxkIG5vZGUgc3VnZ2VzdGlvbnMgYmFzZWQgb24gdGhlIGdpdmVuIG5vZGUgY29udGVudC4nLFxuXHRhaVByb21wdFRlbXBsYXRlOiBgUGxlYXNlIHN1Z2dlc3QgMy01IGNoaWxkIG5vZGVzIGZvciB0aGUgZm9sbG93aW5nIG1pbmQgbWFwIG5vZGU6XG5cbkNlbnRyYWwgdG9waWM6IHtjZW50cmFsVG9waWN9XG5Ob2RlIGNvbnRlbnQ6IHtub2RlVGV4dH1cbk5vZGUgbGV2ZWw6IHtsZXZlbH1cbntwYXJlbnRDb250ZXh0fXtzaWJsaW5nc0NvbnRleHR9Q3VycmVudCBjaGlsZHJlbjoge2V4aXN0aW5nQ2hpbGRyZW59XG5cblJlcXVpcmVtZW50czpcbjEuIENvbmNpc2UgYW5kIGNsZWFyICgyLTggd29yZHMpXG4yLiBIaWdobHkgcmVsZXZhbnQgdG8gdGhlIGNlbnRyYWwgdG9waWNcbjMuIExvZ2ljYWxseSBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgbm9kZVxuNC4gRG8gbm90IGR1cGxpY2F0ZSBleGlzdGluZyBjb250ZW50XG5cblBsZWFzZSByZXR1cm4gZGlyZWN0bHkgaW4gSlNPTiBhcnJheSBmb3JtYXQsIGZvciBleGFtcGxlOiBbXCJzdWdnZXN0aW9uMVwiLCBcInN1Z2dlc3Rpb24yXCIsIFwic3VnZ2VzdGlvbjNcIl1gXG59XG5cbmNvbnN0IE1JTkRfTUFQX1ZJRVdfVFlQRSA9IFwibWluZC1tYXAtdmlld1wiO1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIDIuIFx1ODExMVx1NTZGRVx1ODI4Mlx1NzBCOVx1Njc4NFx1OTAyMFx1NkEyMVx1NTc1N1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pbmRNYXBQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTWluZE1hcFNldHRpbmdzO1xuXHRwdWJsaWMgbWluZE1hcFNlcnZpY2U6IE1pbmRNYXBTZXJ2aWNlO1xuXHRwdWJsaWMgY29uZmlnTWFuYWdlcjogQ29uZmlnTWFuYWdlcjtcblx0cHVibGljIGNvbmZpZzogTWluZE1hcENvbmZpZztcblx0cHVibGljIGFpQ2xpZW50OiBBSUNsaWVudDtcblx0cHVibGljIG1lc3NhZ2VzOiBNaW5kTWFwTWVzc2FnZXM7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBJbml0aWFsaXplIGVuY3J5cHRpb24gdXRpbGl0eSB3aXRoIHBsYXRmb3JtIGluZm9cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cblx0XHRjb25zdCBkZXZpY2VJbmZvID0gYG9ic2lkaWFuLW1pbmRtYXAtcGx1Z2luLSR7bmF2aWdhdG9yLnVzZXJBZ2VudH0tJHtuYXZpZ2F0b3IubGFuZ3VhZ2V9YDtcblx0XHRFbmNyeXB0aW9uVXRpbC5pbml0aWFsaXplKGRldmljZUluZm8pO1xuXG5cdFx0Ly8gXHVEODNEXHVERDEyIFBoYXNlIDE6IERldmljZSBkZXRlY3Rpb24gYW5kIGNvbmZpZ3VyYXRpb24gaW5pdGlhbGl6YXRpb25cblx0XHQvLyBUaGlzIGlzIHRoZSBPTkxZIHBsYWNlIHdoZXJlIHdlIGRldGVjdCBkZXZpY2UgdHlwZSBpbiB0aGUgcGx1Z2luXG5cdFx0Ly8gQWZ0ZXIgdGhpcyBwb2ludCwgY29uZmlnLmlzTW9iaWxlIGRldGVybWluZXMgYWxsIGRldmljZS1zcGVjaWZpYyBiZWhhdmlvclxuXG5cdFx0Ly8gXHU4QkJFXHU1OTA3XHU2OEMwXHU2RDRCXHVGRjFBXHU2ODM5XHU2MzZFXHU3NTI4XHU2MjM3XHU4QkJFXHU3RjZFXHU5MDA5XHU2MkU5XHU3OUZCXHU1MkE4XHU3QUVGXHU2MjE2XHU2ODRDXHU5NzYyXHU3QUVGXG5cdFx0bGV0IGlzTW9iaWxlRGV2aWNlOiBib29sZWFuO1xuXG5cdFx0Ly8gQ2hlY2sgdXNlciBwcmVmZXJlbmNlXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuZGV2aWNlVHlwZSA9PT0gJ2F1dG8nKSB7XG5cdFx0XHQvLyBBdXRvLWRldGVjdCB1c2luZyBQbGF0Zm9ybSBBUElcblx0XHRcdGlzTW9iaWxlRGV2aWNlID0gUGxhdGZvcm0uaXNNb2JpbGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFVzZSB1c2VyJ3MgZXhwbGljaXQgY2hvaWNlXG5cdFx0XHRpc01vYmlsZURldmljZSA9IHRoaXMuc2V0dGluZ3MuZGV2aWNlVHlwZSA9PT0gJ21vYmlsZSc7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBjb25maWd1cmF0aW9uIG1hbmFnZXIgd2l0aCBkZXZpY2UgdHlwZSBhbmQgbGFuZ3VhZ2Vcblx0XHR0aGlzLmNvbmZpZ01hbmFnZXIgPSBuZXcgQ29uZmlnTWFuYWdlcihpc01vYmlsZURldmljZSwgdGhpcy5zZXR0aW5ncy5sYW5ndWFnZSk7XG5cdFx0dGhpcy5jb25maWcgPSB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0Q29uZmlnKCk7XG5cblx0XHQvLyBJbml0aWFsaXplIHNlcnZpY2UgbGF5ZXIgKHBhc3MgY29uZmlnLCBzZXR0aW5ncywgYW5kIEFJIGNsaWVudCBmb3IgZnV0dXJlIHVzZSlcblx0XHR0aGlzLm1pbmRNYXBTZXJ2aWNlID0gbmV3IE1pbmRNYXBTZXJ2aWNlKHRoaXMuYXBwLCB0aGlzLmNvbmZpZywgdGhpcy5zZXR0aW5ncywgdGhpcy5haUNsaWVudCk7XG5cblx0XHQvLyBJbml0aWFsaXplIGkxOG5cblx0XHRjb25zdCBpMThuTWFuYWdlciA9IGNyZWF0ZUkxOG5NYW5hZ2VyKHRoaXMuc2V0dGluZ3MubGFuZ3VhZ2UpO1xuXHRcdHRoaXMubWVzc2FnZXMgPSBpMThuTWFuYWdlci5nZXRNZXNzYWdlcygpO1xuXG5cdFx0Ly8gTG9hZCBjdXN0b20gc3R5bGVzXG5cdFx0YXdhaXQgdGhpcy5sb2FkU3R5bGVzKCk7XG5cblx0XHQvLyBBZGQgcmliYm9uIGljb25cblx0XHRjb25zdCByaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oJ2JyYWluJywgJ29wZW5NaW5kTWFwJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0dm9pZCB0aGlzLmFjdGl2YXRlVmlldygpO1xuXHRcdH0pO1xuXHRcdHJpYmJvbkljb25FbC5hZGRDbGFzcygnbWluZC1tYXAtcmliYm9uLWNsYXNzJyk7XG5cblx0XHQvLyBDb21tYW5kOiBPcGVuIG1pbmQgbWFwIHZpZXdcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXZpZXcnLFxuXHRcdFx0bmFtZTogJ09wZW4gTWluZG1hcCB2aWV3Jyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHZvaWQgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIENvbW1hbmQ6IE9wZW4gY3VycmVudCBmaWxlIGFzIG1pbmQgbWFwXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi1jdXJyZW50Jyxcblx0XHRcdG5hbWU6ICdPcGVuIGN1cnJlbnQgZmlsZSBhcyBtaW5kIG1hcCcsXG5cdFx0XHRjaGVja0NhbGxiYWNrOiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0Y29uc3QgbWFya2Rvd25WaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKG1hcmtkb3duVmlldykge1xuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcblx0XHRcdFx0XHRcdHZvaWQgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gQ29tbWFuZDogVW5kb1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3VuZG8nLFxuXHRcdFx0bmFtZTogJ1VuZG8nLFxuXHRcdFx0Y2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGFjdGl2ZVZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNaW5kTWFwVmlldyk7XG5cdFx0XHRcdGlmIChhY3RpdmVWaWV3KSB7XG5cdFx0XHRcdFx0aWYgKCFjaGVja2luZykge1xuXHRcdFx0XHRcdFx0YWN0aXZlVmlldy51bmRvKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIENvbW1hbmQ6IFJlZG9cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdyZWRvJyxcblx0XHRcdG5hbWU6ICdSZWRvJyxcblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWluZE1hcFZpZXcpO1xuXHRcdFx0XHRpZiAoYWN0aXZlVmlldykge1xuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcblx0XHRcdFx0XHRcdGFjdGl2ZVZpZXcucmVkbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBSZWdpc3RlciBzZXR0aW5ncyB0YWJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IE1pbmRNYXBTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBSZWdpc3RlciB0aGUgY3VzdG9tIHZpZXcgKHBhc3MgY29uZmlnIHRvIHZpZXcpXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoXG5cdFx0XHRNSU5EX01BUF9WSUVXX1RZUEUsXG5cdFx0XHQobGVhZikgPT4gbmV3IE1pbmRNYXBWaWV3KGxlYWYsIHRoaXMubWluZE1hcFNlcnZpY2UsIHRoaXMuY29uZmlnKVxuXHRcdCk7XG5cblx0XHQvLyBMaXN0ZW4gZm9yIGZpbGUgb3BlbiBldmVudHMgdG8gZGV0ZWN0IG1pbmQgbWFwIGZpbGVzXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCBhc3luYyAoZmlsZSkgPT4ge1xuXHRcdFx0XHRpZiAoZmlsZSAmJiBhd2FpdCB0aGlzLm1pbmRNYXBTZXJ2aWNlLmlzTWluZE1hcEZpbGUoZmlsZSkpIHtcblx0XHRcdFx0XHQvLyBSZXBsYWNlIHRoZSBjdXJyZW50IHZpZXcgd2l0aCBtaW5kIG1hcCB2aWV3XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5yZXBsYWNlV2l0aE1pbmRNYXBWaWV3KGZpbGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHQvLyBSZWdpc3RlciBmaWxlIGV4cGxvcmVyIGNvbnRleHQgbWVudSBmb3IgY3JlYXRpbmcgbmV3IG1pbmRtYXAgZmlsZXNcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtbWVudScsIChtZW51LCBmaWxlKSA9PiB7XG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdGl0ZW0uc2V0VGl0bGUodGhpcy5tZXNzYWdlcy51aS5jcmVhdGVOZXdGaWxlKVxuXHRcdFx0XHRcdFx0LnNldEljb24oJ2JyYWluJylcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5jcmVhdGVOZXdNaW5kTWFwRmlsZShmaWxlKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIElmIHRoZSBwbHVnaW4gd3JhcHMgYXJvdW5kLCBjcmVhdGUgdGhlIHZpZXcgd2hlbiB0aGUgcGx1Z2luIGxvYWRzXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoYXN5bmMgKCkgPT4ge1xuXHRcdFx0Ly8gQ2hlY2sgaWYgY3VycmVudCBmaWxlIHNob3VsZCBiZSBtaW5kIG1hcFxuXHRcdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0XHRpZiAoYWN0aXZlRmlsZSAmJiBhd2FpdCB0aGlzLm1pbmRNYXBTZXJ2aWNlLmlzTWluZE1hcEZpbGUoYWN0aXZlRmlsZSkpIHtcblx0XHRcdFx0dm9pZCB0aGlzLnJlcGxhY2VXaXRoTWluZE1hcFZpZXcoYWN0aXZlRmlsZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHQvLyBDbGVhbiB1cCBzZXJ2aWNlIHJlZmVyZW5jZXNcblx0XHR0aGlzLm1pbmRNYXBTZXJ2aWNlID0gbnVsbDtcblx0XHR0aGlzLmFpQ2xpZW50ID0gbnVsbDtcblx0XHR0aGlzLmNvbmZpZ01hbmFnZXIgPSBudWxsO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXG5cdFx0Ly8gRGVjcnlwdCBBUEkga2V5IGlmIGVuY3J5cHRlZFxuXHRcdGlmICh0aGlzLnNldHRpbmdzLm9wZW5haUFwaUtleSkge1xuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Mub3BlbmFpQXBpS2V5RW5jcnlwdGVkKSB7XG5cdFx0XHRcdC8vIERlY3J5cHQgdGhlIEFQSSBrZXlcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLm9wZW5haUFwaUtleSA9IGF3YWl0IEVuY3J5cHRpb25VdGlsLmRlY3J5cHQodGhpcy5zZXR0aW5ncy5vcGVuYWlBcGlLZXkpO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHQvLyBJZiBkZWNyeXB0aW9uIGZhaWxzLCBrZWVwIGFzIGlzIChtaWdodCBiZSB1bmVuY3J5cHRlZClcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLm9wZW5haUFwaUtleUVuY3J5cHRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKEVuY3J5cHRpb25VdGlsLmlzRW5jcnlwdGVkKHRoaXMuc2V0dGluZ3Mub3BlbmFpQXBpS2V5KSkge1xuXHRcdFx0XHQvLyBBdXRvLW1pZ3JhdGU6IGxvb2tzIGVuY3J5cHRlZCBidXQgZmxhZyBub3Qgc2V0XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5vcGVuYWlBcGlLZXkgPSBhd2FpdCBFbmNyeXB0aW9uVXRpbC5kZWNyeXB0KHRoaXMuc2V0dGluZ3Mub3BlbmFpQXBpS2V5KTtcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLm9wZW5haUFwaUtleUVuY3J5cHRlZCA9IHRydWU7XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdC8vIEtlZXAgYXMgaXMgaWYgZGVjcnlwdGlvbiBmYWlsc1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBBSSBjbGllbnQgd2l0aCBzZXR0aW5ncyAobm93IHdpdGggZGVjcnlwdGVkIGtleSlcblx0XHRjb25zdCBhaUNvbmZpZzogQUlDb25maWd1cmF0aW9uID0ge1xuXHRcdFx0YXBpQmFzZVVybDogdGhpcy5zZXR0aW5ncy5vcGVuYWlBcGlCYXNlVXJsLFxuXHRcdFx0YXBpS2V5OiB0aGlzLnNldHRpbmdzLm9wZW5haUFwaUtleSxcblx0XHRcdG1vZGVsOiB0aGlzLnNldHRpbmdzLm9wZW5haU1vZGVsXG5cdFx0fTtcblx0XHR0aGlzLmFpQ2xpZW50ID0gbmV3IEFJQ2xpZW50KGFpQ29uZmlnKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHQvLyBFbmNyeXB0IEFQSSBrZXkgYmVmb3JlIHNhdmluZ1xuXHRcdGNvbnN0IHNldHRpbmdzVG9TYXZlID0geyAuLi50aGlzLnNldHRpbmdzIH07XG5cblx0XHRpZiAoc2V0dGluZ3NUb1NhdmUub3BlbmFpQXBpS2V5ICYmICFzZXR0aW5nc1RvU2F2ZS5vcGVuYWlBcGlLZXlFbmNyeXB0ZWQpIHtcblx0XHRcdC8vIEVuY3J5cHQgdGhlIEFQSSBrZXlcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHNldHRpbmdzVG9TYXZlLm9wZW5haUFwaUtleSA9IGF3YWl0IEVuY3J5cHRpb25VdGlsLmVuY3J5cHQoc2V0dGluZ3NUb1NhdmUub3BlbmFpQXBpS2V5KTtcblx0XHRcdFx0c2V0dGluZ3NUb1NhdmUub3BlbmFpQXBpS2V5RW5jcnlwdGVkID0gdHJ1ZTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBTYXZlIHVuZW5jcnlwdGVkIGlmIGVuY3J5cHRpb24gZmFpbHNcblx0XHRcdFx0c2V0dGluZ3NUb1NhdmUub3BlbmFpQXBpS2V5RW5jcnlwdGVkID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChzZXR0aW5nc1RvU2F2ZS5vcGVuYWlBcGlLZXkgJiYgc2V0dGluZ3NUb1NhdmUub3BlbmFpQXBpS2V5RW5jcnlwdGVkKSB7XG5cdFx0XHQvLyBBbHJlYWR5IGVuY3J5cHRlZCwgcmUtZW5jcnlwdCBmb3Igc2FmZXR5XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzZXR0aW5nc1RvU2F2ZS5vcGVuYWlBcGlLZXkgPSBhd2FpdCBFbmNyeXB0aW9uVXRpbC5lbmNyeXB0KHRoaXMuc2V0dGluZ3Mub3BlbmFpQXBpS2V5KTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBJZiBlbmNyeXB0aW9uIGZhaWxzLCBrZWVwIHRoZSBvcmlnaW5hbCBrZXlcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHNldHRpbmdzVG9TYXZlKTtcblxuXHRcdC8vIFVwZGF0ZSBNaW5kTWFwU2VydmljZSB3aXRoIG5ldyBzZXR0aW5nc1xuXHRcdHRoaXMubWluZE1hcFNlcnZpY2UudXBkYXRlU2V0dGluZ3ModGhpcy5zZXR0aW5ncywgdGhpcy5haUNsaWVudCk7XG5cdH1cblxuXHRhc3luYyBsb2FkU3R5bGVzKCkge1xuXHRcdC8vIFN0eWxlcyBhcmUgYXV0b21hdGljYWxseSBsb2FkZWQgYnkgT2JzaWRpYW4gZnJvbSBzdHlsZXMuY3NzXG5cdFx0Ly8gTm8gZHluYW1pYyBzdHlsZSBsb2FkaW5nIG5lZWRlZFxuXHR9XG5cblx0Ly8gUmVwbGFjZSBjdXJyZW50IHZpZXcgd2l0aCBtaW5kIG1hcCB2aWV3XG5cdGFzeW5jIHJlcGxhY2VXaXRoTWluZE1hcFZpZXcoZmlsZTogVEZpbGUpIHtcblx0XHQvLyBHZXQgdGhlIGFjdGl2ZSB2aWV3IGFuZCBpdHMgbGVhZlxuXHRcdGNvbnN0IGFjdGl2ZVZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShGaWxlVmlldyk7XG5cblx0XHRpZiAoYWN0aXZlVmlldyAmJiBhY3RpdmVWaWV3LmxlYWYpIHtcblx0XHRcdC8vIFVzZSB0aGUgbGVhZiBmcm9tIHRoZSBhY3RpdmUgdmlld1xuXHRcdFx0YXdhaXQgYWN0aXZlVmlldy5sZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHRcdHR5cGU6IE1JTkRfTUFQX1ZJRVdfVFlQRSxcblx0XHRcdFx0YWN0aXZlOiB0cnVlLFxuXHRcdFx0XHRzdGF0ZTogeyBmaWxlOiBmaWxlLnBhdGggfVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEZhbGxiYWNrOiB0cnkgdG8gZ2V0IGEgbGVhZiB0aHJvdWdoIHRoZSBhY3RpdmUgZWRpdG9yXG5cdFx0XHRjb25zdCBhY3RpdmVFZGl0b3IgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yO1xuXHRcdFx0Ly8gVHlwZSBhc3NlcnRpb24gZm9yIE9ic2lkaWFuIEFQSSBjb21wYXRpYmlsaXR5XG5cdFx0XHRjb25zdCBlZGl0b3JWaWV3ID0gYWN0aXZlRWRpdG9yIGFzIHsgbGVhZj86IFdvcmtzcGFjZUxlYWYgfTtcblx0XHRcdGNvbnN0IGxlYWYgPSBlZGl0b3JWaWV3Py5sZWFmIHx8IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRNb3N0UmVjZW50TGVhZigpO1xuXG5cdFx0XHRpZiAobGVhZikge1xuXHRcdFx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHRcdFx0dHlwZTogTUlORF9NQVBfVklFV19UWVBFLFxuXHRcdFx0XHRcdGFjdGl2ZTogdHJ1ZSxcblx0XHRcdFx0XHRzdGF0ZTogeyBmaWxlOiBmaWxlLnBhdGggfVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXG5cdFx0bGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcblx0XHRjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKE1JTkRfTUFQX1ZJRVdfVFlQRSk7XG5cblx0XHRpZiAobGVhdmVzLmxlbmd0aCA+IDApIHtcblx0XHRcdC8vIEEgbGVhZiB3aXRoIG91ciB2aWV3IGFscmVhZHkgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdFx0bGVhZiA9IGxlYXZlc1swXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gT3VyIHZpZXcgY291bGQgbm90IGJlIGZvdW5kIGluIHRoZSB3b3Jrc3BhY2UsIGNyZWF0ZSBhIG5ldyBsZWFmXG5cdFx0XHQvLyBpbiB0aGUgcmlnaHQgc2lkZWJhciBmb3IgaXRcblx0XHRcdGxlYWYgPSB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcblx0XHRcdGF3YWl0IGxlYWY/LnNldFZpZXdTdGF0ZSh7IHR5cGU6IE1JTkRfTUFQX1ZJRVdfVFlQRSwgYWN0aXZlOiB0cnVlIH0pO1xuXHRcdH1cblxuXHRcdC8vIFwiUmV2ZWFsXCIgdGhlIGxlYWYgc28gaXQgaXMgdmlzaWJsZSB0byB0aGUgdXNlclxuXHRcdGlmIChsZWFmKSB7XG5cdFx0XHR2b2lkIHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuXHRcdH1cblx0fVxuXG5cdC8vIENyZWF0ZSBhIG5ldyBtaW5kbWFwIGZpbGUgd2l0aCBkZWZhdWx0IG5hbWVcblx0YXN5bmMgY3JlYXRlTmV3TWluZE1hcEZpbGUoY29udGV4dEZpbGU/OiBUQWJzdHJhY3RGaWxlKSB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIERldGVybWluZSB0aGUgdGFyZ2V0IGZvbGRlciBwYXRoXG5cdFx0XHRsZXQgdGFyZ2V0Rm9sZGVyUGF0aCA9ICcnO1xuXG5cdFx0XHRpZiAoY29udGV4dEZpbGUpIHtcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgaXQncyBhIFRGaWxlXG5cdFx0XHRcdGlmIChjb250ZXh0RmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdFx0Ly8gRm9yIGZpbGVzLCB1c2UgdGhlIHBhcmVudCBmb2xkZXIgcGF0aFxuXHRcdFx0XHRcdHRhcmdldEZvbGRlclBhdGggPSBjb250ZXh0RmlsZS5wYXJlbnQ/LnBhdGggfHwgJyc7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gQ2hlY2sgaWYgaXQncyBhIFRGb2xkZXJcblx0XHRcdFx0ZWxzZSBpZiAoY29udGV4dEZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG5cdFx0XHRcdFx0Ly8gRm9yIGZvbGRlcnMsIHVzZSB0aGUgZm9sZGVyJ3Mgb3duIHBhdGggYXMgdGhlIHRhcmdldFxuXHRcdFx0XHRcdHRhcmdldEZvbGRlclBhdGggPSBjb250ZXh0RmlsZS5wYXRoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEdlbmVyYXRlIGRlZmF1bHQgZmlsZW5hbWUgd2l0aCBhdXRvLWluY3JlbWVudCBpZiBleGlzdHNcblx0XHRcdGxldCBmaWxlTmFtZSA9ICdVbnRpdGxlZCBtaW5kbWFwLm1kJztcblx0XHRcdGxldCBjb3VudGVyID0gMTtcblxuXHRcdFx0Ly8gQ29uc3RydWN0IHRoZSBmdWxsIGZpbGUgcGF0aCAobm9ybWFsaXplZClcblx0XHRcdGxldCBmdWxsUGF0aCA9IG5vcm1hbGl6ZVBhdGgoXG5cdFx0XHRcdHRhcmdldEZvbGRlclBhdGggPyBgJHt0YXJnZXRGb2xkZXJQYXRofS8ke2ZpbGVOYW1lfWAgOiBmaWxlTmFtZVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gS2VlcCB0cnlpbmcgdW50aWwgd2UgZmluZCBhIGZpbGVuYW1lIHRoYXQgZG9lc24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IGZvbGRlclxuXHRcdFx0d2hpbGUgKHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmdWxsUGF0aCkpIHtcblx0XHRcdFx0ZmlsZU5hbWUgPSBgVW50aXRsZWQgbWluZG1hcCAke2NvdW50ZXJ9Lm1kYDtcblx0XHRcdFx0ZnVsbFBhdGggPSBub3JtYWxpemVQYXRoKFxuXHRcdFx0XHRcdHRhcmdldEZvbGRlclBhdGggPyBgJHt0YXJnZXRGb2xkZXJQYXRofS8ke2ZpbGVOYW1lfWAgOiBmaWxlTmFtZVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb3VudGVyKys7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgZmlsZSB3aXRoICNtaW5kbWFwIGlkZW50aWZpZXIgb25seVxuXHRcdFx0Y29uc3QgY29udGVudCA9ICcjbWluZG1hcFxcbic7XG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoZnVsbFBhdGgsIGNvbnRlbnQpO1xuXG5cdFx0XHQvLyBHZXQgdGhlIGNyZWF0ZWQgZmlsZVxuXHRcdFx0Y29uc3QgbmV3RmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmdWxsUGF0aCk7XG5cblx0XHRcdGlmIChuZXdGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdFx0Ly8gT3BlbiBpbiBuZXcgdGFiIChsaWtlIE9ic2lkaWFuJ3MgXCJOZXcgbm90ZVwiIGRvZXMpXG5cdFx0XHRcdC8vIFRoZSBmaWxlLW9wZW4gZXZlbnQgd2lsbCB0cmlnZ2VyIGFuZCBhdXRvLWNvbnZlcnQgdG8gbWluZG1hcCB2aWV3XG5cdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKFwidGFiXCIpLm9wZW5GaWxlKG5ld0ZpbGUpO1xuXG5cdFx0XHRcdC8vIFNob3cgc3VjY2VzcyBub3RpY2Vcblx0XHRcdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXMuZm9ybWF0KFxuXHRcdFx0XHRcdHRoaXMubWVzc2FnZXMubm90aWNlcy5maWxlQ3JlYXRlZCxcblx0XHRcdFx0XHR7IGZpbGVOYW1lOiBmdWxsUGF0aCB9XG5cdFx0XHRcdCk7XG5cdFx0XHRcdG5ldyBOb3RpY2UobWVzc2FnZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuZXcgTm90aWNlKHRoaXMubWVzc2FnZXMubm90aWNlcy5maWxlQ3JlYXRlRmFpbGVkKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXMuZm9ybWF0KFxuXHRcdFx0XHR0aGlzLm1lc3NhZ2VzLm5vdGljZXMuZmlsZUNyZWF0ZUVycm9yLFxuXHRcdFx0XHR7IGVycm9yOiBlcnJvci5tZXNzYWdlIH1cblx0XHRcdCk7XG5cdFx0XHRuZXcgTm90aWNlKG1lc3NhZ2UpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIDMuIFx1ODExMVx1NTZGRVx1NUUwM1x1NUM0MFx1N0I5N1x1NkNENVx1NkEyMVx1NTc1NyAoTGF5b3V0QWxnb3JpdGhtKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBcdTRFQ0UgbWluZG1hcC1jb3JlLnRzIFx1NUJGQ1x1NTE2NVx1NjNBNVx1NTNFM1x1NTQ4Q1x1NTI5Rlx1ODBGRFxuXG5pbnRlcmZhY2UgQ29yZUxheW91dE5vZGUge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBkZXB0aDogbnVtYmVyO1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuY2xhc3MgTWluZE1hcFZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG5cdGZpbGVQYXRoOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBuZWVkc0NvbnRlbnRMb2FkaW5nID0gZmFsc2U7XG5cdHByaXZhdGUgaXNTdGF0ZUxvYWRlZCA9IGZhbHNlO1xuXHRwcml2YXRlIHJlbmRlcmVyOiBNaW5kTWFwUmVuZGVyZXI7XG5cdHByaXZhdGUgbWluZE1hcERhdGE6IE1pbmRNYXBEYXRhIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgbWluZE1hcFNlcnZpY2U6IE1pbmRNYXBTZXJ2aWNlO1xuXHRwcml2YXRlIGNvbmZpZzogTWluZE1hcENvbmZpZztcblx0cHJpdmF0ZSB1cGRhdGVUaW1lcjogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBtaW5kTWFwU2VydmljZTogTWluZE1hcFNlcnZpY2UsIGNvbmZpZzogTWluZE1hcENvbmZpZykge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMubWluZE1hcFNlcnZpY2UgPSBtaW5kTWFwU2VydmljZTtcblx0XHR0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuXHRcdC8vIEluaXRpYWxpemUgaTE4blxuXHRcdGNvbnN0IGkxOG5NYW5hZ2VyID0gY3JlYXRlSTE4bk1hbmFnZXIoY29uZmlnLmxhbmd1YWdlKTtcblx0XHRjb25zdCBtZXNzYWdlcyA9IGkxOG5NYW5hZ2VyLmdldE1lc3NhZ2VzKCk7XG5cblx0XHQvLyBVc2UgUmVuZGVyZXJNYW5hZ2VyIGluc3RlYWQgb2YgRDNUcmVlUmVuZGVyZXJcblx0XHQvLyBSZW5kZXJlck1hbmFnZXIgd2lsbCBzZWxlY3QgRGVza3RvcFRyZWVSZW5kZXJlciBvciBNb2JpbGVUcmVlUmVuZGVyZXIgYmFzZWQgb24gY29uZmlnLmlzTW9iaWxlXG5cdFx0Ly8gUGFzcyBpc0FjdGl2ZVZpZXcgY2FsbGJhY2sgdG8gcHJldmVudCBrZXlib2FyZCBzaG9ydGN1dHMgZnJvbSBhZmZlY3Rpbmcgb3RoZXIgdmlld3Ncblx0XHR0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyTWFuYWdlcih0aGlzLmFwcCwgY29uZmlnLCBtaW5kTWFwU2VydmljZSwgbWVzc2FnZXMsICgpID0+IHRoaXMuaXNBY3RpdmVWaWV3KCkpO1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKSB7XG5cdFx0cmV0dXJuIE1JTkRfTUFQX1ZJRVdfVFlQRTtcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCkge1xuXHRcdGxldCBmaWxlUGF0aCA9IHRoaXMuZmlsZVBhdGg7XG5cblx0XHQvLyBcdTU5ODJcdTY3OUMgZmlsZVBhdGggXHU0RTNBIG51bGxcdUZGMENcdTVDMURcdThCRDVcdTRFM0JcdTUyQThcdTgzQjdcdTUzRDZcblx0XHRpZiAoIWZpbGVQYXRoKSB7XG5cdFx0XHQvLyBcdTVDMURcdThCRDVcdTRFQ0UgbGVhZiBzdGF0ZSBcdTgzQjdcdTUzRDZcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IGxlYWZTdGF0ZSA9IHRoaXMubGVhZi5nZXRWaWV3U3RhdGUoKTtcblx0XHRcdFx0aWYgKGxlYWZTdGF0ZS5zdGF0ZT8uZmlsZSkge1xuXHRcdFx0XHRcdGZpbGVQYXRoID0gbGVhZlN0YXRlLnN0YXRlLmZpbGUgYXMgc3RyaW5nO1xuXHRcdFx0XHRcdC8vIFx1N0YxM1x1NUI1OFx1NTIzMFx1NUI5RVx1NEY4Qlx1NTNEOFx1OTFDRlxuXHRcdFx0XHRcdHRoaXMuZmlsZVBhdGggPSBmaWxlUGF0aDtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdC8vIFx1NUZGRFx1NzU2NVx1OTUxOVx1OEJFRlxuXHRcdFx0fVxuXG5cdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTRFQ0RcdTcxMzZcdTZDQTFcdTY3MDlcdUZGMENcdTVDMURcdThCRDVcdTRFQ0VcdTVGNTNcdTUyNERcdTZEM0JcdThEQzNcdTY1ODdcdTRFRjZcdTgzQjdcdTUzRDZcblx0XHRcdGlmICghZmlsZVBhdGgpIHtcblx0XHRcdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0XHRcdGlmIChhY3RpdmVGaWxlICYmIGFjdGl2ZUZpbGUuZXh0ZW5zaW9uID09PSAnbWQnKSB7XG5cdFx0XHRcdFx0ZmlsZVBhdGggPSBhY3RpdmVGaWxlLnBhdGg7XG5cdFx0XHRcdFx0dGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU4M0I3XHU1M0Q2XHU1MjMwXHU0RTg2XHU2NTg3XHU0RUY2XHU4REVGXHU1Rjg0XHVGRjBDXHU4RkQ0XHU1NkRFXHU2NTg3XHU0RUY2XHU1NDBEXG5cdFx0aWYgKGZpbGVQYXRoKSB7XG5cdFx0XHQvLyBUcnkgdG8gZ2V0IGZpbGUgb2JqZWN0IHRvIGV4dHJhY3QgYmFzZW5hbWUgKGZpbGVuYW1lIHdpdGhvdXQgZXh0ZW5zaW9uKVxuXHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG5cdFx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdHJldHVybiBmaWxlLmJhc2VuYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGYWxsYmFjazogZXh0cmFjdCBiYXNlbmFtZSBmcm9tIHBhdGhcblx0XHRcdGNvbnN0IGZpbGVOYW1lID0gZmlsZVBhdGguc3BsaXQoJy8nKS5wb3AoKTtcblx0XHRcdGlmIChmaWxlTmFtZSkge1xuXHRcdFx0XHRyZXR1cm4gZmlsZU5hbWUucmVwbGFjZSgnLm1kJywgJycpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpbmFsIGZhbGxiYWNrXG5cdFx0cmV0dXJuIFwib3Blbk1pbmRNYXBcIjtcblx0fVxuXG5cdGdldEljb24oKSB7XG5cdFx0cmV0dXJuIFwiYnJhaW5cIjtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTY4QzBcdTY3RTVcdTZCNjRcdTgxMTFcdTU2RkVcdTg5QzZcdTU2RkVcdTY2MkZcdTU0MjZcdTRFM0FcdTVGNTNcdTUyNERcdTZEM0JcdTUyQThcdTg5QzZcdTU2RkVcblx0ICogXHU3NTI4XHU0RThFXHU5NjMyXHU2QjYyXHU1RkVCXHU2Mzc3XHU5NTJFXHU1NzI4XHU1MTc2XHU0RUQ2XHU4OUM2XHU1NkZFXHU0RTJEXHU3NTFGXHU2NTQ4XG5cdCAqL1xuXHRpc0FjdGl2ZVZpZXcoKTogYm9vbGVhbiB7XG5cdFx0Ly8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU2RDNCXHU1MkE4XHU3Njg0IE1pbmRNYXBWaWV3XG5cdFx0Y29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1pbmRNYXBWaWV3KTtcblx0XHQvLyBcdTU5ODJcdTY3OUNcdTVGNTNcdTUyNERcdTZEM0JcdTUyQThcdTc2ODQgTWluZE1hcFZpZXcgXHU1QzMxXHU2NjJGIHRoaXNcdUZGMENcdTUyMTlcdThGRDRcdTU2REUgdHJ1ZVxuXHRcdHJldHVybiBhY3RpdmVWaWV3ID09PSB0aGlzO1xuXHR9XG5cblx0Ly8gT3ZlcnJpZGUgdGhlc2UgbWV0aG9kcyB0byBwcm9wZXJseSBoYW5kbGUgdmlldyBzdGF0ZVxuXHRnZXRTdGF0ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZmlsZTogdGhpcy5maWxlUGF0aFxuXHRcdH07XG5cdH1cblxuXHRzZXRTdGF0ZShzdGF0ZTogeyBmaWxlPzogc3RyaW5nIH0sIHJlc3VsdDogVmlld1N0YXRlUmVzdWx0KSB7XG5cdFx0dGhpcy5maWxlUGF0aCA9IHN0YXRlLmZpbGUgfHwgbnVsbDtcblx0XHR0aGlzLmlzU3RhdGVMb2FkZWQgPSB0cnVlO1xuXG5cdFx0Ly8gRmFsbGJhY2s6IGlmIHN0YXRlLmZpbGUgaXMgZW1wdHksIHRyeSB0byBnZXQgaXQgZnJvbSBsZWFmIHN0YXRlXG5cdFx0aWYgKCF0aGlzLmZpbGVQYXRoKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBsZWFmU3RhdGUgPSB0aGlzLmxlYWYuZ2V0Vmlld1N0YXRlKCk7XG5cdFx0XHRcdGlmIChsZWFmU3RhdGUuc3RhdGU/LmZpbGUpIHtcblx0XHRcdFx0XHQvLyBUeXBlIGFzc2VydGlvbjogd2Uga25vdyBmaWxlIGlzIGEgc3RyaW5nIHdoZW4gaXQgZXhpc3RzXG5cdFx0XHRcdFx0dGhpcy5maWxlUGF0aCA9IGxlYWZTdGF0ZS5zdGF0ZS5maWxlIGFzIHN0cmluZztcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdC8vIExlYWYgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSB5ZXQsIGlnbm9yZSBlcnJvclxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIGNvbnRlbnQgbG9hZGluZyB3YXMgZGVmZXJyZWQgYW5kIHdlIG5vdyBoYXZlIGEgZmlsZSBwYXRoLCBsb2FkIGl0XG5cdFx0aWYgKHRoaXMubmVlZHNDb250ZW50TG9hZGluZyAmJiB0aGlzLmZpbGVQYXRoKSB7XG5cdFx0XHQvLyBVc2Ugc2V0VGltZW91dCB0byBhdm9pZCBwb3RlbnRpYWwgcmFjZSBjb25kaXRpb25zXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dm9pZCB0aGlzLmxvYWRGaWxlQ29udGVudCgpO1xuXHRcdFx0fSwgMTApO1xuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpIHtcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXG5cdFx0Ly8gQWRkIGJhc2ljIHN0eWxpbmdcblx0XHRjb250YWluZXIuYWRkQ2xhc3MoJ21pbmQtbWFwLWNvbnRhaW5lcicpO1xuXG5cdFx0Ly8gU2hvdyBsb2FkaW5nIGludGVyZmFjZVxuXHRcdGNvbnRhaW5lci5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogXCJMb2FkaW5nIG9wZW5NaW5kTWFwLi4uXCIgfSk7XG5cdFx0Y29udGFpbmVyLmNyZWF0ZUVsKFwicFwiLCB7IHRleHQ6IFwiSW5pdGlhbGl6aW5nLi4uXCIgfSk7XG5cblx0XHQvLyBTZXQgdXAgY2FsbGJhY2tzIGZvciByZW5kZXJlclxuXHRcdHRoaXMucmVuZGVyZXIub25UZXh0Q2hhbmdlZCA9IHRoaXMuaGFuZGxlTm9kZVRleHRDaGFuZ2VkLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5yZW5kZXJlci5vbkRhdGFVcGRhdGVkID0gdGhpcy5oYW5kbGVEYXRhVXBkYXRlZC5iaW5kKHRoaXMpO1xuXHRcdHRoaXMucmVuZGVyZXIub25EYXRhUmVzdG9yZWQgPSB0aGlzLmhhbmRsZURhdGFSZXN0b3JlZC5iaW5kKHRoaXMpO1xuXG5cdFx0Ly8gXHU2RTA1XHU3QTdBXHU1Mzg2XHU1M0YyXHU4QkIwXHU1RjU1XHVGRjA4XHU1MkEwXHU4RjdEXHU2NUIwXHU4OUM2XHU1NkZFXHU2NUY2XHVGRjA5XG5cdFx0dGhpcy5jbGVhckhpc3RvcnkoKTtcblxuXHRcdC8vIFNldCBmbGFnIHRvIGluZGljYXRlIGNvbnRlbnQgbG9hZGluZyBpcyBuZWVkZWRcblx0XHR0aGlzLm5lZWRzQ29udGVudExvYWRpbmcgPSB0cnVlO1xuXG5cdFx0Ly8gVHJ5IHRvIGxvYWQgY29udGVudCBpZiBzdGF0ZSBpcyBhbHJlYWR5IGF2YWlsYWJsZVxuXHRcdGlmICh0aGlzLmZpbGVQYXRoKSB7XG5cdFx0XHRhd2FpdCB0aGlzLmxvYWRGaWxlQ29udGVudCgpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGxvYWRGaWxlQ29udGVudCgpIHtcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXG5cdFx0Ly8gU2hvdyBsb2FkaW5nIHN0YXR1c1xuXHRcdGNvbnRhaW5lci5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogXCJcdUQ4M0VcdURERTAgb3Blbk1pbmRNYXBcIiB9KTtcblx0XHRjb25zdCBzdGF0dXNFbCA9IGNvbnRhaW5lci5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiBcIkxvYWRpbmcgZmlsZS4uLlwiIH0pO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCBmaWxlIHBhdGggZnJvbSBtdWx0aXBsZSBzb3VyY2VzXG5cdFx0bGV0IGZpbGVQYXRoID0gdGhpcy5maWxlUGF0aDsgLy8gRmlyc3QgdHJ5IGluc3RhbmNlIHZhcmlhYmxlXG5cblx0XHRpZiAoIWZpbGVQYXRoKSB7XG5cdFx0XHQvLyBUcnkgZ2V0dGluZyBmcm9tIHZpZXcgc3RhdGVcblx0XHRcdGNvbnN0IHN0YXRlID0gdGhpcy5sZWFmLmdldFZpZXdTdGF0ZSgpO1xuXHRcdFx0Ly8gVHlwZSBhc3NlcnRpb246IHdlIGtub3cgZmlsZSBpcyBhIHN0cmluZyB3aGVuIGl0IGV4aXN0c1xuXHRcdFx0ZmlsZVBhdGggPSAoc3RhdGUuc3RhdGU/LmZpbGUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkKSB8fCBudWxsO1xuXHRcdH1cblxuXHRcdGlmICghZmlsZVBhdGgpIHtcblx0XHRcdC8vIFRyeSBnZXR0aW5nIGZyb20gYWN0aXZlIGZpbGUgKGZpbmFsIGZhbGxiYWNrKVxuXHRcdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0XHRpZiAoYWN0aXZlRmlsZSAmJiBhY3RpdmVGaWxlLmV4dGVuc2lvbiA9PT0gJ21kJykge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGFjdGl2ZUZpbGUpO1xuXHRcdFx0XHRcdGlmIChjb250ZW50LnRyaW0oKS5zdGFydHNXaXRoKCcjbWluZG1hcCcpKSB7XG5cdFx0XHRcdFx0XHRmaWxlUGF0aCA9IGFjdGl2ZUZpbGUucGF0aDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdC8vIElnbm9yZSBlcnJvcnMgcmVhZGluZyBmaWxlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgaW5zdGFuY2UgdmFyaWFibGVcblx0XHR0aGlzLmZpbGVQYXRoID0gZmlsZVBhdGg7XG5cblx0XHRpZiAoIXRoaXMuZmlsZVBhdGgpIHtcblx0XHRcdHN0YXR1c0VsLnRleHRDb250ZW50ID0gXCJObyBtaW5kIG1hcCBmaWxlIGZvdW5kXCI7XG5cblx0XHRcdGNvbnN0IGVycm9yRGl2ID0gY29udGFpbmVyLmNyZWF0ZURpdihcIm1pbmQtbWFwLWVycm9yXCIpO1xuXHRcdFx0ZXJyb3JEaXYuY3JlYXRlRWwoXCJzdHJvbmdcIiwgeyB0ZXh0OiBcIkVycm9yOlwiIH0pO1xuXHRcdFx0ZXJyb3JEaXYuY3JlYXRlRWwoXCJiclwiKTtcblx0XHRcdGVycm9yRGl2LmNyZWF0ZVNwYW4oeyB0ZXh0OiBcIk5vIG1pbmQgbWFwIGZpbGUgc3BlY2lmaWVkIG9yIGZvdW5kLlwiIH0pO1xuXHRcdFx0ZXJyb3JEaXYuY3JlYXRlRWwoXCJiclwiKTtcblx0XHRcdGVycm9yRGl2LmNyZWF0ZUVsKFwiYnJcIik7XG5cdFx0XHRlcnJvckRpdi5jcmVhdGVFbChcInNtYWxsXCIsIHsgdGV4dDogXCJNYWtlIHN1cmUgdGhlIGZpbGUgc3RhcnRzIHdpdGggI21pbmRtYXBcIiB9KTtcblxuXHRcdFx0Ly8gU2hvdyBkZWJ1ZyBpbmZvXG5cdFx0XHRjb25zdCBkZWJ1Z0luZm8gPSBjb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwibWluZC1tYXAtZGVidWdcIiB9KTtcblx0XHRcdGRlYnVnSW5mby5jcmVhdGVFbChcInN0cm9uZ1wiLCB7IHRleHQ6IFwiRGVidWcgSW5mbzpcIiB9KTtcblx0XHRcdGRlYnVnSW5mby5jcmVhdGVFbChcImJyXCIpO1xuXHRcdFx0ZGVidWdJbmZvLmNyZWF0ZVNwYW4oeyB0ZXh0OiBgSW5zdGFuY2UgZmlsZVBhdGg6ICR7dGhpcy5maWxlUGF0aH1gIH0pO1xuXHRcdFx0ZGVidWdJbmZvLmNyZWF0ZUVsKFwiYnJcIik7XG5cdFx0XHRkZWJ1Z0luZm8uY3JlYXRlU3Bhbih7IHRleHQ6IGBTdGF0ZSBsb2FkZWQ6ICR7dGhpcy5pc1N0YXRlTG9hZGVkfWAgfSk7XG5cdFx0XHRkZWJ1Z0luZm8uY3JlYXRlRWwoXCJiclwiKTtcblx0XHRcdGRlYnVnSW5mby5jcmVhdGVTcGFuKHsgdGV4dDogYEFjdGl2ZSBmaWxlOiAke3RoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk/LnBhdGggfHwgJ25vbmUnfWAgfSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVzZXQgdGhlIG5lZWRzIGNvbnRlbnQgbG9hZGluZyBmbGFnXG5cdFx0dGhpcy5uZWVkc0NvbnRlbnRMb2FkaW5nID0gZmFsc2U7XG5cblx0XHR0cnkge1xuXHRcdFx0c3RhdHVzRWwudGV4dENvbnRlbnQgPSBgTG9hZGluZzogJHt0aGlzLmZpbGVQYXRofWA7XG5cblx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5maWxlUGF0aCk7XG5cblx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdFx0c3RhdHVzRWwudGV4dENvbnRlbnQgPSBcIlBhcnNpbmcgY29udGVudC4uLlwiO1xuXG5cdFx0XHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLm1pbmRNYXBTZXJ2aWNlLmdldEZpbGVIYW5kbGVyKCkubG9hZEZpbGVDb250ZW50KGZpbGUpO1xuXG5cdFx0XHRcdC8vIENsZWFyIGxvYWRpbmcgc3RhdHVzXG5cdFx0XHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnJlbmRlck1pbmRNYXAoY29udGVudCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdGF0dXNFbC50ZXh0Q29udGVudCA9IGBFcnJvcjogRmlsZSBub3QgZm91bmQ6ICR7dGhpcy5maWxlUGF0aH1gO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRzdGF0dXNFbC50ZXh0Q29udGVudCA9IGBFcnJvciBsb2FkaW5nIGZpbGU6ICR7ZXJyb3IubWVzc2FnZX1gO1xuXG5cdFx0XHRjb25zdCBlcnJvckRpdiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoXCJtaW5kLW1hcC1lcnJvclwiKTtcblx0XHRcdGVycm9yRGl2LmNyZWF0ZUVsKFwic3Ryb25nXCIsIHsgdGV4dDogXCJFcnJvcjpcIiB9KTtcblx0XHRcdGVycm9yRGl2LmNyZWF0ZUVsKFwiYnJcIik7XG5cdFx0XHRlcnJvckRpdi5jcmVhdGVTcGFuKHsgdGV4dDogZXJyb3IubWVzc2FnZSB9KTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyByZW5kZXJNaW5kTWFwKGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XG5cblx0XHQvLyBcdTY1NzBcdTYzNkVcdTVDNDJcdUZGMUFcdTY3ODRcdTVFRkFcdTgyODJcdTcwQjlcdTUxNzNcdTdDRkJcdUZGMDhcdTRGN0ZcdTc1MjggTWluZE1hcFNlcnZpY2VcdUZGMDlcblx0XHRjb25zdCBtaW5kTWFwRGF0YSA9IHRoaXMubWluZE1hcFNlcnZpY2UucGFyc2VNYXJrZG93blRvRGF0YShjb250ZW50LCB0aGlzLmZpbGVQYXRoIHx8ICcnKTtcblxuXHRcdC8vIFx1NEZERFx1NUI1OFx1NjU3MFx1NjM2RVx1NUYxNVx1NzUyOFx1NEVFNVx1NEZCRlx1N0YxNlx1OEY5MVx1NjVGNlx1NEY3Rlx1NzUyOFxuXHRcdHRoaXMubWluZE1hcERhdGEgPSBtaW5kTWFwRGF0YTtcblxuXHRcdC8vIFx1NkUzMlx1NjdEM1x1NUM0Mlx1RkYxQVx1NEY3Rlx1NzUyOFx1NkUzMlx1NjdEM1x1NTY2OFx1OEZEQlx1ODg0Q1x1NTNFRlx1ODlDNlx1NTMxNlxuXHRcdHRoaXMucmVuZGVyZXIucmVuZGVyKGNvbnRhaW5lciwgbWluZE1hcERhdGEpO1xuXHR9XG5cblx0XG5cdFxuXHQvLyBcdTU5MDRcdTc0MDZcdTgyODJcdTcwQjlcdTY1ODdcdTY3MkNcdTUzRDhcdTUzMTZcdUZGMDhcdTVFMjZcdTk2MzJcdTYyOTZcdTRGMThcdTUzMTZcdUZGMDlcblx0cHJpdmF0ZSBoYW5kbGVOb2RlVGV4dENoYW5nZWQobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sIG5ld1RleHQ6IHN0cmluZyk6IHZvaWQge1xuXG5cdFx0aWYgKCF0aGlzLm1pbmRNYXBEYXRhIHx8ICF0aGlzLmZpbGVQYXRoKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gXHU3QUNCXHU1MzczXHU2NkY0XHU2NUIwXHU1MTg1XHU1QjU4XHU2NTcwXHU2MzZFXG5cdFx0bm9kZS5kYXRhLnRleHQgPSBuZXdUZXh0O1xuXG5cdFx0Ly8gXHU5NjMyXHU2Mjk2XHVGRjFBXHU2RTA1XHU5NjY0XHU2NUU3XHU3Njg0XHU1QjlBXHU2NUY2XHU1NjY4XG5cdFx0aWYgKHRoaXMudXBkYXRlVGltZXIpIHtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnVwZGF0ZVRpbWVyKTtcblx0XHR9XG5cblx0XHQvLyBcdThCQkVcdTdGNkVcdTY1QjBcdTc2ODRcdTVCOUFcdTY1RjZcdTU2NjhcdUZGMDgzMDBtc1x1NTQwRVx1NjI3OVx1OTFDRlx1NjZGNFx1NjVCMFx1RkYwOVxuXHRcdHRoaXMudXBkYXRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdC8vIFx1NUI4Q1x1NTE2OFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1RkYwOFx1Nzg2RVx1NEZERFx1NUUwM1x1NUM0MFx1NkI2M1x1Nzg2RVx1RkYwOVxuXHRcdFx0Ly8gTm90ZTogVmlldyBzdGF0ZSBpcyBhdXRvbWF0aWNhbGx5IHNhdmVkIGJ5IFJlbmRlcmVyQ29vcmRpbmF0b3IgaW50ZXJuYWxseVxuXHRcdFx0dGhpcy5yZWZyZXNoTWluZE1hcExheW91dCgpO1xuXG5cdFx0XHQvLyBcdTRGRERcdTVCNThcdTY1ODdcdTRFRjZcblx0XHRcdGlmICh0aGlzLmZpbGVQYXRoICYmIHRoaXMubWluZE1hcERhdGE/LnJvb3ROb2RlKSB7XG5cdFx0XHRcdHZvaWQgdGhpcy5taW5kTWFwU2VydmljZS5zYXZlVG9NYXJrZG93bkZpbGUodGhpcy5maWxlUGF0aCwgdGhpcy5taW5kTWFwRGF0YS5yb290Tm9kZSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFx1NkUwNVx1N0E3QVx1NUI5QVx1NjVGNlx1NTY2OFx1NUYxNVx1NzUyOFxuXHRcdFx0dGhpcy51cGRhdGVUaW1lciA9IG51bGw7XG5cdFx0fSwgMzAwKTtcblx0fVxuXG5cdC8vIFx1NTkwNFx1NzQwNlx1NjU3MFx1NjM2RVx1NjZGNFx1NjVCMFx1RkYwOFx1NjVCMFx1NTg5RVx1ODI4Mlx1NzBCOVx1NjVGNlx1OEMwM1x1NzUyOFx1RkYwOVxuXHRwcml2YXRlIGhhbmRsZURhdGFVcGRhdGVkKCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5taW5kTWFwRGF0YSB8fCAhdGhpcy5maWxlUGF0aCkgcmV0dXJuO1xuXG5cdFx0Ly8gXHU5MUNEXHU2NUIwXHU3NTFGXHU2MjEwXHU2NTcwXHU2MzZFXHU3RUQzXHU2Nzg0XHU3ODZFXHU0RkREXHU0RTAwXHU4MUY0XHU2MDI3XG5cdFx0Y29uc3Qgcm9vdE5vZGUgPSB0aGlzLm1pbmRNYXBEYXRhLnJvb3ROb2RlO1xuXHRcdGlmIChyb290Tm9kZSkge1xuXHRcdFx0Ly8gXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU4MTExXHU1NkZFXG5cdFx0XHR0aGlzLnJlZnJlc2hNaW5kTWFwTGF5b3V0KCk7XG5cblx0XHRcdC8vIFx1NUYwMlx1NkI2NVx1NEZERFx1NUI1OFx1NTIzMFx1NjU4N1x1NEVGNlxuXHRcdFx0dm9pZCB0aGlzLm1pbmRNYXBTZXJ2aWNlLnNhdmVUb01hcmtkb3duRmlsZSh0aGlzLmZpbGVQYXRoLCByb290Tm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU1OTA0XHU3NDA2XHU2NTcwXHU2MzZFXHU2MDYyXHU1OTBEXHVGRjA4dW5kby9yZWRvIFx1NjVGNlx1OEMwM1x1NzUyOFx1RkYwOVxuXHRwcml2YXRlIGhhbmRsZURhdGFSZXN0b3JlZChkYXRhOiBNaW5kTWFwRGF0YSk6IHZvaWQge1xuXG5cdFx0Ly8gXHUyNzA1IFx1NTE3M1x1OTUyRVx1NEZFRVx1NTkwRFx1RkYxQVx1NzZGNFx1NjNBNVx1NjZGNFx1NjVCMCBtaW5kTWFwRGF0YSBcdTVGMTVcdTc1Mjhcblx0XHQvLyBcdThGRDlcdTY4MzcgcmVmcmVzaE1pbmRNYXBMYXlvdXQoKSBcdTVDMzFcdTRGMUFcdTRGN0ZcdTc1MjhcdTYwNjJcdTU5MERcdTU0MEVcdTc2ODRcdTY1NzBcdTYzNkVcblx0XHR0aGlzLm1pbmRNYXBEYXRhID0gZGF0YTtcblxuXHRcdC8vIFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1ODExMVx1NTZGRVxuXHRcdHRoaXMucmVmcmVzaE1pbmRNYXBMYXlvdXQoKTtcblxuXHRcdC8vIFx1NUYwMlx1NkI2NVx1NEZERFx1NUI1OFx1NTIzMFx1NjU4N1x1NEVGNlxuXHRcdGlmICh0aGlzLmZpbGVQYXRoICYmIGRhdGEucm9vdE5vZGUpIHtcblx0XHRcdHZvaWQgdGhpcy5taW5kTWFwU2VydmljZS5zYXZlVG9NYXJrZG93bkZpbGUodGhpcy5maWxlUGF0aCwgZGF0YS5yb290Tm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU1MjM3XHU2NUIwXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU1RTAzXHU1QzQwXHVGRjA4XHU0RjE4XHU1MzE2XHU3MjQ4XHVGRjA5XG5cdHByaXZhdGUgcmVmcmVzaE1pbmRNYXBMYXlvdXQoKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLm1pbmRNYXBEYXRhIHx8ICF0aGlzLnJlbmRlcmVyKSByZXR1cm47XG5cblx0XHR0cnkge1xuXHRcdFx0Ly8gTm90ZTogVmlldyBzdGF0ZSBpcyBhdXRvbWF0aWNhbGx5IHNhdmVkIGJ5IFJlbmRlcmVyQ29vcmRpbmF0b3IgaW50ZXJuYWxseVxuXG5cdFx0XHQvLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTVCQjlcdTU2NjhcdTUxNDNcdTdEMjBcblx0XHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XG5cdFx0XHRpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuXG5cdFx0XHQvLyBcdTRGN0ZcdTc1MjggcmVxdWVzdEFuaW1hdGlvbkZyYW1lIFx1Nzg2RVx1NEZERFx1NTcyOFx1NEUwQlx1NEUwMFx1NkIyMVx1NkUzMlx1NjdEM1x1NUUyN1x1NEUyRFx1NjI2N1x1ODg0Q1x1RkYwQ1x1OTA3Rlx1NTE0RFx1ODlDNlx1ODlDOVx1OERGM1x1OERDM1xuXHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0XHRcdFx0Ly8gXHU2RTA1XHU3QTdBXHU1RjUzXHU1MjREXHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XG5cdFx0XHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXG5cdFx0XHRcdC8vIFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1NjU3NFx1NEUyQVx1NjAxRFx1N0VGNFx1NUJGQ1x1NTZGRVx1RkYwOFx1OEZEOVx1NEYxQVx1ODFFQVx1NTJBOFx1NjA2Mlx1NTkwRFx1NEU0Qlx1NTI0RFx1NEZERFx1NUI1OFx1NzY4NFx1ODlDNlx1NTZGRVx1NzJCNlx1NjAwMVx1RkYwOVxuXHRcdFx0XHR0aGlzLnJlbmRlcmVyLnJlbmRlcihjb250YWluZXIsIHRoaXMubWluZE1hcERhdGEpO1xuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHQvLyBJZ25vcmUgZXJyb3JzIGR1cmluZyBzdGF0ZSByZXN0b3JhdGlvblxuXHRcdH1cblx0fVxuXG5cdC8vID09PT09PT09PT0gVW5kby9SZWRvIFx1NjVCOVx1NkNENSA9PT09PT09PT09XG5cblx0LyoqXG5cdCAqIFx1NjRBNFx1OTUwMFx1NEUwQVx1NEUwMFx1NkIyMVx1NjRDRFx1NEY1Q1xuXHQgKi9cblx0cHVibGljIHVuZG8oKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMucmVuZGVyZXIgaW5zdGFuY2VvZiBSZW5kZXJlckNvb3JkaW5hdG9yKSB7XG5cdFx0XHRjb25zdCBzdWNjZXNzID0gdGhpcy5yZW5kZXJlci51bmRvKCk7XG5cdFx0XHRpZiAoc3VjY2Vzcykge1xuXHRcdFx0XHRuZXcgTm90aWNlKCdcdTVERjJcdTY0QTRcdTk1MDAnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogXHU5MUNEXHU1MDVBXHU0RTBBXHU0RTAwXHU2QjIxXHU2NEE0XHU5NTAwXHU3Njg0XHU2NENEXHU0RjVDXG5cdCAqL1xuXHRwdWJsaWMgcmVkbygpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5yZW5kZXJlciBpbnN0YW5jZW9mIFJlbmRlcmVyQ29vcmRpbmF0b3IpIHtcblx0XHRcdGNvbnN0IHN1Y2Nlc3MgPSB0aGlzLnJlbmRlcmVyLnJlZG8oKTtcblx0XHRcdGlmIChzdWNjZXNzKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1x1NURGMlx1OTFDRFx1NTA1QScpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBcdTZFMDVcdTdBN0FcdTUzODZcdTUzRjJcdThCQjBcdTVGNTVcdUZGMDhcdTUyQTBcdThGN0RcdTY1QjBcdTY1ODdcdTRFRjZcdTY1RjZcdThDMDNcdTc1MjhcdUZGMDlcblx0ICovXG5cdHB1YmxpYyBjbGVhckhpc3RvcnkoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMucmVuZGVyZXIgaW5zdGFuY2VvZiBSZW5kZXJlckNvb3JkaW5hdG9yKSB7XG5cdFx0XHR0aGlzLnJlbmRlcmVyLmNsZWFySGlzdG9yeSgpO1xuXHRcdH1cblx0fVxuXG5cblx0YXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBcdTZFMDVcdTc0MDZcdTk2MzJcdTYyOTZcdTVCOUFcdTY1RjZcdTU2Njhcblx0XHRpZiAodGhpcy51cGRhdGVUaW1lcikge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudXBkYXRlVGltZXIpO1xuXHRcdFx0dGhpcy51cGRhdGVUaW1lciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gXHU5NTAwXHU2QkMxXHU2RTMyXHU2N0QzXHU1NjY4XHVGRjBDXHU2RTA1XHU3NDA2XHU1MTY4XHU1QzQwXHU5NTJFXHU3NkQ4XHU3NkQxXHU1NDJDXHU1NjY4XG5cdFx0Ly8gXHU4RkQ5XHU1QkY5XHU0RThFXHU5NjMyXHU2QjYyXHU1RkVCXHU2Mzc3XHU5NTJFXHU1RTcyXHU2MjcwXHU1MTc2XHU0RUQ2XHU4OUM2XHU1NkZFXHU5NzVFXHU1RTM4XHU5MUNEXHU4OTgxXG5cdFx0aWYgKHRoaXMucmVuZGVyZXIpIHtcblx0XHRcdHRoaXMucmVuZGVyZXIuZGVzdHJveSgpO1xuXHRcdH1cblxuXHRcdC8vIE5vdGU6IEVkaXQgc3RhdGUgaXMgYXV0b21hdGljYWxseSBjbGVhbmVkIHVwIGJ5IE5vZGVFZGl0b3IgaW50ZXJuYWxseVxuXHR9XG59XG5cbmNsYXNzIE1pbmRNYXBTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTWluZE1hcFBsdWdpbjtcblx0cHJpdmF0ZSB0ZXN0QnV0dG9uSGFuZGxlcjogKCgpID0+IFByb21pc2U8dm9pZD4pIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgdGVzdEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBNaW5kTWFwUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0aGlkZSgpOiB2b2lkIHtcblx0XHQvLyBDbGVhbiB1cCBldmVudCBsaXN0ZW5lciB3aGVuIHNldHRpbmdzIHRhYiBpcyBoaWRkZW5cblx0XHRpZiAodGhpcy50ZXN0QnV0dG9uICYmIHRoaXMudGVzdEJ1dHRvbkhhbmRsZXIpIHtcblx0XHRcdHRoaXMudGVzdEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudGVzdEJ1dHRvbkhhbmRsZXIpO1xuXHRcdFx0dGhpcy50ZXN0QnV0dG9uID0gbnVsbDtcblx0XHRcdHRoaXMudGVzdEJ1dHRvbkhhbmRsZXIgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cblx0XHQvLyBDbGVhbiB1cCBwcmV2aW91cyBldmVudCBsaXN0ZW5lclxuXHRcdGlmICh0aGlzLnRlc3RCdXR0b24gJiYgdGhpcy50ZXN0QnV0dG9uSGFuZGxlcikge1xuXHRcdFx0dGhpcy50ZXN0QnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50ZXN0QnV0dG9uSGFuZGxlcik7XG5cdFx0XHR0aGlzLnRlc3RCdXR0b24gPSBudWxsO1xuXHRcdFx0dGhpcy50ZXN0QnV0dG9uSGFuZGxlciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKCdTZXR0aW5ncyBmb3Igb3Blbk1pbmRNYXAgUGx1Z2luJykuc2V0SGVhZGluZygpO1xuXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT1cblx0XHQvLyBEZXZpY2UgVHlwZSBTZXR0aW5nc1xuXHRcdC8vID09PT09PT09PT09PT09PT09PT09XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoJ0RldmljZSBzZXR0aW5ncycpLnNldEhlYWRpbmcoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0RldmljZSB0eXBlJylcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgaG93IG1pbmQgbWFwcyBzaG91bGQgYmUgcmVuZGVyZWQuIEF1dG8tZGV0ZWN0cyBiYXNlZCBvbiB5b3VyIGRldmljZS4nKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2F1dG8nLCAnQXV0by1kZXRlY3QnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCdkZXNrdG9wJywgJ0Rlc2t0b3AgbW9kZScpXG5cdFx0XHRcdC5hZGRPcHRpb24oJ21vYmlsZScsICdNb2JpbGUgbW9kZScpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZXZpY2VUeXBlKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiAnYXV0bycgfCAnbW9iaWxlJyB8ICdkZXNrdG9wJykgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRldmljZVR5cGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHQvLyBTaG93IG5vdGljZSBhYm91dCByZWxvYWRpbmdcblx0XHRcdFx0XHRuZXcgTm90aWNlKHRoaXMucGx1Z2luLm1lc3NhZ2VzLm5vdGljZXMuZGV2aWNlVHlwZUNoYW5nZWQpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PVxuXHRcdC8vIExhbmd1YWdlIFNldHRpbmdzXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT1cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZSgnTGFuZ3VhZ2Ugc2V0dGluZ3MnKS5zZXRIZWFkaW5nKCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdMYW5ndWFnZScpXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHlvdXIgcHJlZmVycmVkIGxhbmd1YWdlIGZvciB0aGUgcGx1Z2luIGludGVyZmFjZS4nKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2VuJywgJ0VuZ2xpc2gnKVxuXHRcdFx0XHQuYWRkT3B0aW9uKCd6aCcsICdcdTRFMkRcdTY1ODcnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGFuZ3VhZ2UgfHwgJ2VuJylcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogJ2VuJyB8ICd6aCcpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYW5ndWFnZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIGNvbmZpZyBhbmQgc2VydmljZSBsYXllciB3aXRoIG5ldyBsYW5ndWFnZVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmNvbmZpZ01hbmFnZXIudXBkYXRlTGFuZ3VhZ2UodmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmNvbmZpZy5sYW5ndWFnZSA9IHZhbHVlO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLm1pbmRNYXBTZXJ2aWNlLnVwZGF0ZUxhbmd1YWdlKHZhbHVlKTtcblxuXHRcdFx0XHRcdC8vIFJlbG9hZCB0aGUgc2V0dGluZ3MgcGFnZSB0byBhcHBseSBsYW5ndWFnZSBjaGFuZ2Vcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblxuXHRcdFx0XHRcdC8vIENyZWF0ZSBuZXcgaTE4biBtYW5hZ2VyIHdpdGggdGhlIG5ldyBsYW5ndWFnZSB0byBzaG93IG5vdGljZSBpbiB0aGUgY29ycmVjdCBsYW5ndWFnZVxuXHRcdFx0XHRcdGNvbnN0IG5ld0kxOG5NYW5hZ2VyID0gY3JlYXRlSTE4bk1hbmFnZXIodmFsdWUpO1xuXHRcdFx0XHRcdGNvbnN0IG5ld01lc3NhZ2VzID0gbmV3STE4bk1hbmFnZXIuZ2V0TWVzc2FnZXMoKTtcblxuXHRcdFx0XHRcdC8vIFNob3cgbGFuZ3VhZ2UgY2hhbmdlIG5vdGljZSBpbiB0aGUgTkVXIGxhbmd1YWdlXG5cdFx0XHRcdFx0Y29uc3QgbGFuZ3VhZ2VOYW1lID0gdmFsdWUgPT09ICdlbicgPyAnRW5nbGlzaCcgOiAnXHU0RTJEXHU2NTg3Jztcblx0XHRcdFx0XHRjb25zdCBtZXNzYWdlID0gbmV3TWVzc2FnZXMuZm9ybWF0KFxuXHRcdFx0XHRcdFx0bmV3TWVzc2FnZXMubm90aWNlcy5sYW5ndWFnZUNoYW5nZWQsXG5cdFx0XHRcdFx0XHR7IGxhbmd1YWdlOiBsYW5ndWFnZU5hbWUgfVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShtZXNzYWdlKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT1cblx0XHQvLyBBSSBDb25maWd1cmF0aW9uXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT1cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZSgnQUkgQ29uZmlndXJhdGlvbiAoT3BlbkFJLWNvbXBhdGlibGUgQVBJKScpLnNldEhlYWRpbmcoKTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHtcblx0XHRcdHRleHQ6ICdDb25maWd1cmUgeW91ciBBSSBBUEkgdG8gZW5hYmxlIGludGVsbGlnZW50IGZlYXR1cmVzIGxpa2UgYXV0b21hdGljIG5vZGUgc3VnZ2VzdGlvbnMuJyxcblx0XHRcdGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbidcblx0XHR9KTtcblxuXHRcdC8vIFNlY3VyaXR5IG5vdGljZVxuXHRcdGNvbnN0IHNlY3VyaXR5Tm90aWNlID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiAnc2V0dGluZy1pdGVtLXNlY3VyaXR5LW5vdGljZScgfSk7XG5cdFx0c2VjdXJpdHlOb3RpY2UuY3JlYXRlRWwoJ3N0cm9uZycsIHsgdGV4dDogJ1x1RDgzRFx1REQxMiBTZWN1cml0eTonIH0pO1xuXHRcdHNlY3VyaXR5Tm90aWNlLmFwcGVuZFRleHQoJyBZb3VyIEFQSSBrZXkgaXMgZW5jcnlwdGVkIHVzaW5nIEFFUy1HQ00gKDI1Ni1iaXQpIGJlZm9yZSBzdG9yYWdlLiAnKTtcblx0XHRjb25zdCBjb2RlRWwgPSBzZWN1cml0eU5vdGljZS5jcmVhdGVFbCgnY29kZScsIHsgdGV4dDogJ2RhdGEuanNvbicgfSk7XG5cdFx0c2VjdXJpdHlOb3RpY2UuYXBwZW5kVGV4dCgnIFRoZSBlbmNyeXB0ZWQga2V5IGlzIHN0b3JlZCBpbiAnKTtcblx0XHRzZWN1cml0eU5vdGljZS5hcHBlbmRDaGlsZChjb2RlRWwuY2xvbmVOb2RlKHRydWUpKTtcblx0XHRzZWN1cml0eU5vdGljZS5hcHBlbmRUZXh0KCcgYW5kIGNhbiBvbmx5IGJlIGRlY3J5cHRlZCBvbiB0aGlzIGRldmljZS4nKTtcblxuXHRcdC8vIEFQSSBCYXNlIFVSTFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ09wZW5BSSBBUEkgQmFzZSBVUkwnKVxuXHRcdFx0LnNldERlc2MoJ1RoZSBiYXNlIFVSTCBmb3IgeW91ciBPcGVuQUktY29tcGF0aWJsZSBBUEkgKGUuZy4sIGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEpJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbmFpQXBpQmFzZVVybClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5haUFwaUJhc2VVcmwgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Ly8gQVBJIEtleVxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ09wZW5BSSBBUEkgS2V5Jylcblx0XHRcdC5zZXREZXNjKCdZb3VyIE9wZW5BSSBBUEkga2V5IChzdGFydHMgd2l0aCBzay0uLi4pJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4ge1xuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdzay0uLi4nKTtcblx0XHRcdFx0dGV4dC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuYWlBcGlLZXkpO1xuXHRcdFx0XHR0ZXh0LmlucHV0RWwudHlwZSA9ICdwYXNzd29yZCc7IC8vIFNldCBpbnB1dCB0eXBlIHRvIHBhc3N3b3JkXG5cdFx0XHRcdHRleHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuYWlBcGlLZXkgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHQvLyBVcGRhdGUgQUkgY2xpZW50IHdpdGggbmV3IGtleVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmFpQ2xpZW50LnVwZGF0ZUNvbmZpZyh7XG5cdFx0XHRcdFx0XHRhcGlCYXNlVXJsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuYWlBcGlCYXNlVXJsLFxuXHRcdFx0XHRcdFx0YXBpS2V5OiB2YWx1ZSxcblx0XHRcdFx0XHRcdG1vZGVsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuYWlNb2RlbFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gTW9kZWwgTmFtZVxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ01vZGVsIG5hbWUnKVxuXHRcdFx0LnNldERlc2MoJ1RoZSBtb2RlbCBuYW1lIHRvIHVzZSAoZS5nLiwgZ3B0LTMuNS10dXJibywgZ3B0LTQsIGxsYW1hMiwgbWlzdHJhbCwgZXRjLiknKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignZ3B0LTMuNS10dXJibycpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuYWlNb2RlbClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbmFpTW9kZWwgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHQvLyBVcGRhdGUgQUkgY2xpZW50IHdpdGggbmV3IG1vZGVsXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uYWlDbGllbnQudXBkYXRlQ29uZmlnKHtcblx0XHRcdFx0XHRcdGFwaUJhc2VVcmw6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5haUFwaUJhc2VVcmwsXG5cdFx0XHRcdFx0XHRhcGlLZXk6IHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5haUFwaUtleSxcblx0XHRcdFx0XHRcdG1vZGVsOiB2YWx1ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KSk7XG5cblx0XHQvLyBUZXN0IENvbm5lY3Rpb24gQnV0dG9uXG5cdFx0Y29uc3QgdGVzdEJ1dHRvbkNvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdih7IGNsczogJ3NldHRpbmctaXRlbScgfSk7XG5cdFx0Y29uc3QgdGVzdEJ1dHRvbkRlc2MgPSB0ZXN0QnV0dG9uQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3NldHRpbmctaXRlbS1pbmZvJyB9KTtcblx0XHR0ZXN0QnV0dG9uRGVzYy5jcmVhdGVEaXYoeyBjbHM6ICdzZXR0aW5nLWl0ZW0tbmFtZScsIHRleHQ6ICdUZXN0IGNvbm5lY3Rpb24nIH0pO1xuXHRcdHRlc3RCdXR0b25EZXNjLmNyZWF0ZURpdih7IGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbicsIHRleHQ6ICdUZXN0IHlvdXIgQVBJIGNvbmZpZ3VyYXRpb24gdG8gZW5zdXJlIGl0IHdvcmtzIGNvcnJlY3RseScgfSk7XG5cblx0XHRjb25zdCB0ZXN0QnV0dG9uQ29udHJvbCA9IHRlc3RCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc2V0dGluZy1pdGVtLWNvbnRyb2wnIH0pO1xuXG5cdFx0Ly8gU3RvcmUgcmVmZXJlbmNlIHRvIGJ1dHRvbiBmb3IgY2xlYW51cFxuXHRcdHRoaXMudGVzdEJ1dHRvbiA9IHRlc3RCdXR0b25Db250cm9sLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHR0ZXh0OiAnVGVzdCBjb25uZWN0aW9uJyxcblx0XHRcdGNsczogJ21vZC1jdGEnXG5cdFx0fSk7XG5cblx0XHQvLyBSZXN1bHQgbWVzc2FnZSBlbGVtZW50XG5cdFx0bGV0IHJlc3VsdEVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG5cdFx0Ly8gVGVzdCBjb25uZWN0aW9uIGJ1dHRvbiBoYW5kbGVyIC0gc3RvcmUgcmVmZXJlbmNlIGZvciBjbGVhbnVwXG5cdFx0dGhpcy50ZXN0QnV0dG9uSGFuZGxlciA9IGFzeW5jICgpID0+IHtcblx0XHRcdC8vIFJlbW92ZSBwcmV2aW91cyByZXN1bHQgaWYgZXhpc3RzXG5cdFx0XHRpZiAocmVzdWx0RWwpIHtcblx0XHRcdFx0cmVzdWx0RWwucmVtb3ZlKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVwZGF0ZSBidXR0b24gc3RhdGVcblx0XHRcdHRoaXMudGVzdEJ1dHRvbiEudGV4dENvbnRlbnQgPSAnVGVzdGluZy4uLic7XG5cdFx0XHR0aGlzLnRlc3RCdXR0b24hLmRpc2FibGVkID0gdHJ1ZTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gQWRkIDEwIHNlY29uZCB0aW1lb3V0XG5cdFx0XHRcdGNvbnN0IFRJTUVPVVRfTVMgPSAxMDAwMDtcblxuXHRcdFx0XHRjb25zdCB0ZXN0UHJvbWlzZSA9IHRoaXMucGx1Z2luLmFpQ2xpZW50LnRlc3RDb25uZWN0aW9uKCk7XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRpbWVvdXQgcHJvbWlzZVxuXHRcdFx0XHRjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlPFRlc3RDb25uZWN0aW9uUmVzdWx0PigoXywgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKHRoaXMucGx1Z2luLm1lc3NhZ2VzLm5vdGljZXMuYXBpVGVzdFRpbWVvdXQpKTtcblx0XHRcdFx0XHR9LCBUSU1FT1VUX01TKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gUmFjZSBiZXR3ZWVuIHRlc3QgYW5kIHRpbWVvdXRcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5yYWNlKFt0ZXN0UHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgcmVzdWx0IGVsZW1lbnRcblx0XHRcdFx0cmVzdWx0RWwgPSB0ZXN0QnV0dG9uQ29udHJvbC5jcmVhdGVEaXYoe1xuXHRcdFx0XHRcdGNsczogYGFpLXRlc3QtcmVzdWx0ICR7cmVzdWx0LnN1Y2Nlc3MgPyAnc3VjY2VzcycgOiAnZXJyb3InfWBcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc3VsdEVsLnRleHRDb250ZW50ID0gcmVzdWx0Lm1lc3NhZ2U7XG5cblx0XHRcdFx0Ly8gU2hvdyBub3RpY2Vcblx0XHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZSh0aGlzLnBsdWdpbi5tZXNzYWdlcy5ub3RpY2VzLmFwaUNvbm5lY3Rpb25TdWNjZXNzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKHRoaXMucGx1Z2luLm1lc3NhZ2VzLm5vdGljZXMuYXBpQ29ubmVjdGlvbkZhaWxlZCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdC8vIEhhbmRsZSB1bmV4cGVjdGVkIGVycm9ycyBhbmQgdGltZW91dFxuXHRcdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG5cdFx0XHRcdHJlc3VsdEVsID0gdGVzdEJ1dHRvbkNvbnRyb2wuY3JlYXRlRGl2KHtcblx0XHRcdFx0XHRjbHM6ICdhaS10ZXN0LXJlc3VsdCBlcnJvcidcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc3VsdEVsLnRleHRDb250ZW50ID0gYFx1Mjc0QyBFcnJvcjogJHtlcnJvck1lc3NhZ2V9YDtcblx0XHRcdFx0bmV3IE5vdGljZSh0aGlzLnBsdWdpbi5tZXNzYWdlcy5ub3RpY2VzLmNvbm5lY3Rpb25UZXN0RmFpbGVkKTtcblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdC8vIFJlc3RvcmUgYnV0dG9uIHN0YXRlXG5cdFx0XHRcdGlmICh0aGlzLnRlc3RCdXR0b24pIHtcblx0XHRcdFx0XHR0aGlzLnRlc3RCdXR0b24udGV4dENvbnRlbnQgPSAnVGVzdCBjb25uZWN0aW9uJztcblx0XHRcdFx0XHR0aGlzLnRlc3RCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR0aGlzLnRlc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRlc3RCdXR0b25IYW5kbGVyKTtcblxuXHRcdC8vIEFJIFByb21wdHMgQ29uZmlndXJhdGlvblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKCdBSSBQcm9tcHQgQ29uZmlndXJhdGlvbicpLnNldEhlYWRpbmcoKTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHtcblx0XHRcdHRleHQ6ICdDdXN0b21pemUgaG93IHRoZSBBSSBnZW5lcmF0ZXMgc3VnZ2VzdGlvbnMgYnkgZWRpdGluZyB0aGUgc3lzdGVtIG1lc3NhZ2UgYW5kIHByb21wdCB0ZW1wbGF0ZS4nLFxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJ1xuXHRcdH0pO1xuXG5cdFx0Ly8gU3lzdGVtIE1lc3NhZ2Vcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdBSSBTeXN0ZW0gTWVzc2FnZScpXG5cdFx0XHQuc2V0RGVzYygnRGVmaW5lIHRoZSBBSSBhc3Npc3RhbnQgcm9sZSBhbmQgYmVoYXZpb3IuIFRoaXMgc2V0cyB0aGUgY29udGV4dCBmb3IgYWxsIEFJIGludGVyYWN0aW9ucy4nKVxuXHRcdFx0LmFkZFRleHRBcmVhKHRleHQgPT4ge1xuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKCdZb3UgYXJlIGEgaGVscGZ1bCBtaW5kIG1hcCBhc3Npc3RhbnQuLi4nKTtcblx0XHRcdFx0dGV4dC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5haVN5c3RlbU1lc3NhZ2UpO1xuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFpU3lzdGVtTWVzc2FnZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gUHJvbXB0IFRlbXBsYXRlXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQUkgUHJvbXB0IFRlbXBsYXRlJylcblx0XHRcdC5zZXREZXNjKCdDdXN0b21pemUgdGhlIHByb21wdCB0ZW1wbGF0ZSBmb3Igbm9kZSBzdWdnZXN0aW9ucy4gQXZhaWxhYmxlIHZhcmlhYmxlczoge25vZGVUZXh0fSwge2xldmVsfSwge3BhcmVudENvbnRleHR9LCB7c2libGluZ3NDb250ZXh0fSwge2V4aXN0aW5nQ2hpbGRyZW59LCB7Y2VudHJhbFRvcGljfScpXG5cdFx0XHQuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoJ1BsZWFzZSBzdWdnZXN0IDMtNSBjaGlsZCBub2Rlcy4uLicpO1xuXHRcdFx0XHR0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFpUHJvbXB0VGVtcGxhdGUpO1xuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFpUHJvbXB0VGVtcGxhdGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdC8vIFZhcmlhYmxlcyBSZWZlcmVuY2Vcblx0XHRjb25zdCB2YXJpYWJsZXNSZWYgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoeyBjbHM6ICdwcm9tcHQtdmFyaWFibGVzLXJlZmVyZW5jZScgfSk7XG5cdFx0dmFyaWFibGVzUmVmLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdBdmFpbGFibGUgdmFyaWFibGVzOicgfSk7XG5cblx0XHRjb25zdCB1bCA9IHZhcmlhYmxlc1JlZi5jcmVhdGVFbCgndWwnKTtcblx0XHRjb25zdCB2YXJpYWJsZXMgPSBbXG5cdFx0XHR7IGNvZGU6ICd7bm9kZVRleHR9JywgZGVzYzogJ0N1cnJlbnQgbm9kZSB0ZXh0JyB9LFxuXHRcdFx0eyBjb2RlOiAne2xldmVsfScsIGRlc2M6ICdOb2RlIGhpZXJhcmNoeSBsZXZlbCAoMD1yb290KScgfSxcblx0XHRcdHsgY29kZTogJ3twYXJlbnRDb250ZXh0fScsIGRlc2M6ICdQYXJlbnQgbm9kZSBpbmZvIChpZiBleGlzdHMpJyB9LFxuXHRcdFx0eyBjb2RlOiAne3NpYmxpbmdzQ29udGV4dH0nLCBkZXNjOiAnU2libGluZyBub2RlcyAoaWYgZXhpc3RzKScgfSxcblx0XHRcdHsgY29kZTogJ3tleGlzdGluZ0NoaWxkcmVufScsIGRlc2M6ICdBbHJlYWR5IGV4aXN0aW5nIGNoaWxkcmVuJyB9LFxuXHRcdFx0eyBjb2RlOiAne2NlbnRyYWxUb3BpY30nLCBkZXNjOiAnQ2VudHJhbCB0b3BpYyAocm9vdCBub2RlIHRleHQpJyB9XG5cdFx0XTtcblxuXHRcdGZvciAoY29uc3QgdiBvZiB2YXJpYWJsZXMpIHtcblx0XHRcdGNvbnN0IGxpID0gdWwuY3JlYXRlRWwoJ2xpJyk7XG5cdFx0XHRsaS5jcmVhdGVFbCgnY29kZScsIHsgdGV4dDogdi5jb2RlIH0pO1xuXHRcdFx0bGkuYXBwZW5kVGV4dChgIC0gJHt2LmRlc2N9YCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmVzZXQgUHJvbXB0cyBCdXR0b25cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdSZXNldCBQcm9tcHRzJylcblx0XHRcdC5zZXREZXNjKCdSZXNldCBwcm9tcHQgdGVtcGxhdGVzIHRvIGRlZmF1bHQgdmFsdWVzJylcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnUmVzZXQgdG8gRGVmYXVsdHMnKVxuXHRcdFx0XHQuc2V0V2FybmluZygpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5haVN5c3RlbU1lc3NhZ2UgPSBERUZBVUxUX1NFVFRJTkdTLmFpU3lzdGVtTWVzc2FnZTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5haVByb21wdFRlbXBsYXRlID0gREVGQVVMVF9TRVRUSU5HUy5haVByb21wdFRlbXBsYXRlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG5cdFx0XHRcdFx0Ly8gUmVsb2FkIHRoZSBzZXR0aW5ncyBwYWdlIHRvIHNob3cgdXBkYXRlZCB2YWx1ZXNcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0XHRuZXcgTm90aWNlKHRoaXMucGx1Z2luLm1lc3NhZ2VzLm5vdGljZXMucHJvbXB0c1Jlc2V0KTtcblx0XHRcdFx0fSkpO1xuXHR9XG59IiwgInZhciBub29wID0ge3ZhbHVlOiAoKSA9PiB7fX07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkge1xuICAgIGlmICghKHQgPSBhcmd1bWVudHNbaV0gKyBcIlwiKSB8fCAodCBpbiBfKSB8fCAvW1xccy5dLy50ZXN0KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHR5cGU6IFwiICsgdCk7XG4gICAgX1t0XSA9IFtdO1xuICB9XG4gIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7XG59XG5cbmZ1bmN0aW9uIERpc3BhdGNoKF8pIHtcbiAgdGhpcy5fID0gXztcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzLCB0eXBlcykge1xuICByZXR1cm4gdHlwZW5hbWVzLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbmFtZSA9IFwiXCIsIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIG5hbWUgPSB0LnNsaWNlKGkgKyAxKSwgdCA9IHQuc2xpY2UoMCwgaSk7XG4gICAgaWYgKHQgJiYgIXR5cGVzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdCk7XG4gICAgcmV0dXJuIHt0eXBlOiB0LCBuYW1lOiBuYW1lfTtcbiAgfSk7XG59XG5cbkRpc3BhdGNoLnByb3RvdHlwZSA9IGRpc3BhdGNoLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IERpc3BhdGNoLFxuICBvbjogZnVuY3Rpb24odHlwZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF8gPSB0aGlzLl8sXG4gICAgICAgIFQgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIsIF8pLFxuICAgICAgICB0LFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSBULmxlbmd0aDtcblxuICAgIC8vIElmIG5vIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJldHVybiB0aGUgY2FsbGJhY2sgb2YgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB3aGlsZSAoKytpIDwgbikgaWYgKCh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgJiYgKHQgPSBnZXQoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHR5cGUgd2FzIHNwZWNpZmllZCwgc2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsYmFjazogXCIgKyBjYWxsYmFjayk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGlmICh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBjYWxsYmFjayk7XG4gICAgICBlbHNlIGlmIChjYWxsYmFjayA9PSBudWxsKSBmb3IgKHQgaW4gXykgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvcHkgPSB7fSwgXyA9IHRoaXMuXztcbiAgICBmb3IgKHZhciB0IGluIF8pIGNvcHlbdF0gPSBfW3RdLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTtcbiAgfSxcbiAgY2FsbDogZnVuY3Rpb24odHlwZSwgdGhhdCkge1xuICAgIGlmICgobiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyKSA+IDApIGZvciAodmFyIGFyZ3MgPSBuZXcgQXJyYXkobiksIGkgPSAwLCBuLCB0OyBpIDwgbjsgKytpKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHR5cGUsIHRoYXQsIGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodmFyIHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldCh0eXBlLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGgsIGM7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHR5cGUsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAodHlwZVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICB0eXBlW2ldID0gbm9vcCwgdHlwZSA9IHR5cGUuc2xpY2UoMCwgaSkuY29uY2F0KHR5cGUuc2xpY2UoaSArIDEpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTogY2FsbGJhY2t9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3BhdGNoO1xuIiwgImV4cG9ydCB2YXIgeGh0bWwgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzdmc6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgeGh0bWw6IHhodG1sLFxuICB4bGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG4gIHhtbDogXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIixcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIlxufTtcbiIsICJpbXBvcnQgbmFtZXNwYWNlcyBmcm9tIFwiLi9uYW1lc3BhY2VzLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIHByZWZpeCA9IG5hbWUgKz0gXCJcIiwgaSA9IHByZWZpeC5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGkgPj0gMCAmJiAocHJlZml4ID0gbmFtZS5zbGljZSgwLCBpKSkgIT09IFwieG1sbnNcIikgbmFtZSA9IG5hbWUuc2xpY2UoaSArIDEpO1xuICByZXR1cm4gbmFtZXNwYWNlcy5oYXNPd25Qcm9wZXJ0eShwcmVmaXgpID8ge3NwYWNlOiBuYW1lc3BhY2VzW3ByZWZpeF0sIGxvY2FsOiBuYW1lfSA6IG5hbWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG59XG4iLCAiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi9uYW1lc3BhY2UuanNcIjtcbmltcG9ydCB7eGh0bWx9IGZyb20gXCIuL25hbWVzcGFjZXMuanNcIjtcblxuZnVuY3Rpb24gY3JlYXRvckluaGVyaXQobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gdGhpcy5vd25lckRvY3VtZW50LFxuICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTtcbiAgICByZXR1cm4gdXJpID09PSB4aHRtbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSB4aHRtbFxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModXJpLCBuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRvckZpeGVkKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIChmdWxsbmFtZS5sb2NhbFxuICAgICAgPyBjcmVhdG9yRml4ZWRcbiAgICAgIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTtcbn1cbiIsICJmdW5jdGlvbiBub25lKCkge31cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBub25lIDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIH07XG59XG4iLCAiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2VsZWN0b3IgZnJvbSBcIi4uL3NlbGVjdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICBpZiAodHlwZW9mIHNlbGVjdCAhPT0gXCJmdW5jdGlvblwiKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgKHN1Ym5vZGUgPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpKSB7XG4gICAgICAgIGlmIChcIl9fZGF0YV9fXCIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187XG4gICAgICAgIHN1Ymdyb3VwW2ldID0gc3Vibm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwgIi8vIEdpdmVuIHNvbWV0aGluZyBhcnJheSBsaWtlIChvciBudWxsKSwgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBpcyBzdHJpY3RseSBhblxuLy8gYXJyYXkuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBhcnJheS1saWtlIG9iamVjdHMgcGFzc2VkIHRvIGQzLnNlbGVjdEFsbFxuLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGFcbi8vIHNlbGVjdGlvbjsgd2UgZG9uXHUyMDE5dCBldmVyIHdhbnQgdG8gY3JlYXRlIGEgc2VsZWN0aW9uIGJhY2tlZCBieSBhIGxpdmVcbi8vIEhUTUxDb2xsZWN0aW9uIG9yIE5vZGVMaXN0LiBIb3dldmVyLCBub3RlIHRoYXQgc2VsZWN0aW9uLnNlbGVjdEFsbCB3aWxsIHVzZSBhXG4vLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXkoeCkge1xuICByZXR1cm4geCA9PSBudWxsID8gW10gOiBBcnJheS5pc0FycmF5KHgpID8geCA6IEFycmF5LmZyb20oeCk7XG59XG4iLCAiZnVuY3Rpb24gZW1wdHkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBlbXB0eSA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICB9O1xufVxuIiwgImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IGFycmF5IGZyb20gXCIuLi9hcnJheS5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yQWxsIGZyb20gXCIuLi9zZWxlY3RvckFsbC5qc1wiO1xuXG5mdW5jdGlvbiBhcnJheUFsbChzZWxlY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhcnJheShzZWxlY3QuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICBpZiAodHlwZW9mIHNlbGVjdCA9PT0gXCJmdW5jdGlvblwiKSBzZWxlY3QgPSBhcnJheUFsbChzZWxlY3QpO1xuICBlbHNlIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgc3ViZ3JvdXBzLnB1c2goc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHN1Ymdyb3VwcywgcGFyZW50cyk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRNYXRjaGVyKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH07XG59XG5cbiIsICJpbXBvcnQge2NoaWxkTWF0Y2hlcn0gZnJvbSBcIi4uL21hdGNoZXIuanNcIjtcblxudmFyIGZpbmQgPSBBcnJheS5wcm90b3R5cGUuZmluZDtcblxuZnVuY3Rpb24gY2hpbGRGaW5kKG1hdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmluZC5jYWxsKHRoaXMuY2hpbGRyZW4sIG1hdGNoKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2hpbGRGaXJzdCgpIHtcbiAgcmV0dXJuIHRoaXMuZmlyc3RFbGVtZW50Q2hpbGQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChtYXRjaCA9PSBudWxsID8gY2hpbGRGaXJzdFxuICAgICAgOiBjaGlsZEZpbmQodHlwZW9mIG1hdGNoID09PSBcImZ1bmN0aW9uXCIgPyBtYXRjaCA6IGNoaWxkTWF0Y2hlcihtYXRjaCkpKTtcbn1cbiIsICJpbXBvcnQge2NoaWxkTWF0Y2hlcn0gZnJvbSBcIi4uL21hdGNoZXIuanNcIjtcblxudmFyIGZpbHRlciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXI7XG5cbmZ1bmN0aW9uIGNoaWxkcmVuKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKTtcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW5GaWx0ZXIobWF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLmNoaWxkcmVuLCBtYXRjaCk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdEFsbChtYXRjaCA9PSBudWxsID8gY2hpbGRyZW5cbiAgICAgIDogY2hpbGRyZW5GaWx0ZXIodHlwZW9mIG1hdGNoID09PSBcImZ1bmN0aW9uXCIgPyBtYXRjaCA6IGNoaWxkTWF0Y2hlcihtYXRjaCkpKTtcbn1cbiIsICJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBtYXRjaGVyIGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIGlmICh0eXBlb2YgbWF0Y2ggIT09IFwiZnVuY3Rpb25cIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHtcbiAgICAgICAgc3ViZ3JvdXAucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHVwZGF0ZSkge1xuICByZXR1cm4gbmV3IEFycmF5KHVwZGF0ZS5sZW5ndGgpO1xufVxuIiwgImltcG9ydCBzcGFyc2UgZnJvbSBcIi4vc3BhcnNlLmpzXCI7XG5pbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHRoaXMuX2VudGVyIHx8IHRoaXMuX2dyb3Vwcy5tYXAoc3BhcnNlKSwgdGhpcy5fcGFyZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFbnRlck5vZGUocGFyZW50LCBkYXR1bSkge1xuICB0aGlzLm93bmVyRG9jdW1lbnQgPSBwYXJlbnQub3duZXJEb2N1bWVudDtcbiAgdGhpcy5uYW1lc3BhY2VVUkkgPSBwYXJlbnQubmFtZXNwYWNlVVJJO1xuICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICB0aGlzLl9fZGF0YV9fID0gZGF0dW07XG59XG5cbkVudGVyTm9kZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBFbnRlck5vZGUsXG4gIGFwcGVuZENoaWxkOiBmdW5jdGlvbihjaGlsZCkgeyByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgdGhpcy5fbmV4dCk7IH0sXG4gIGluc2VydEJlZm9yZTogZnVuY3Rpb24oY2hpbGQsIG5leHQpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIG5leHQpOyB9LFxuICBxdWVyeVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvcikgeyByZXR1cm4gdGhpcy5fcGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOyB9LFxuICBxdWVyeVNlbGVjdG9yQWxsOiBmdW5jdGlvbihzZWxlY3RvcikgeyByZXR1cm4gdGhpcy5fcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOyB9XG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwgImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHtFbnRlck5vZGV9IGZyb20gXCIuL2VudGVyLmpzXCI7XG5pbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4uL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGJpbmRJbmRleChwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhKSB7XG4gIHZhciBpID0gMCxcbiAgICAgIG5vZGUsXG4gICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDtcblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZml0IGludG8gdXBkYXRlLlxuICAvLyBQdXQgYW55IG51bGwgbm9kZXMgaW50byBlbnRlci5cbiAgLy8gUHV0IGFueSByZW1haW5pbmcgZGF0YSBpbnRvIGVudGVyLlxuICBmb3IgKDsgaSA8IGRhdGFMZW5ndGg7ICsraSkge1xuICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHV0IGFueSBub24tbnVsbCBub2RlcyB0aGF0IGRvblx1MjAxOXQgZml0IGludG8gZXhpdC5cbiAgZm9yICg7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgZXhpdFtpXSA9IG5vZGU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRLZXkocGFyZW50LCBncm91cCwgZW50ZXIsIHVwZGF0ZSwgZXhpdCwgZGF0YSwga2V5KSB7XG4gIHZhciBpLFxuICAgICAgbm9kZSxcbiAgICAgIG5vZGVCeUtleVZhbHVlID0gbmV3IE1hcCxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoLFxuICAgICAga2V5VmFsdWVzID0gbmV3IEFycmF5KGdyb3VwTGVuZ3RoKSxcbiAgICAgIGtleVZhbHVlO1xuXG4gIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBub2RlLlxuICAvLyBJZiBtdWx0aXBsZSBub2RlcyBoYXZlIHRoZSBzYW1lIGtleSwgdGhlIGR1cGxpY2F0ZXMgYXJlIGFkZGVkIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAga2V5VmFsdWVzW2ldID0ga2V5VmFsdWUgPSBrZXkuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkgKyBcIlwiO1xuICAgICAgaWYgKG5vZGVCeUtleVZhbHVlLmhhcyhrZXlWYWx1ZSkpIHtcbiAgICAgICAgZXhpdFtpXSA9IG5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlQnlLZXlWYWx1ZS5zZXQoa2V5VmFsdWUsIG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBkYXR1bS5cbiAgLy8gSWYgdGhlcmUgYSBub2RlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGtleSwgam9pbiBhbmQgYWRkIGl0IHRvIHVwZGF0ZS5cbiAgLy8gSWYgdGhlcmUgaXMgbm90IChvciB0aGUga2V5IGlzIGEgZHVwbGljYXRlKSwgYWRkIGl0IHRvIGVudGVyLlxuICBmb3IgKGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAga2V5VmFsdWUgPSBrZXkuY2FsbChwYXJlbnQsIGRhdGFbaV0sIGksIGRhdGEpICsgXCJcIjtcbiAgICBpZiAobm9kZSA9IG5vZGVCeUtleVZhbHVlLmdldChrZXlWYWx1ZSkpIHtcbiAgICAgIHVwZGF0ZVtpXSA9IG5vZGU7XG4gICAgICBub2RlLl9fZGF0YV9fID0gZGF0YVtpXTtcbiAgICAgIG5vZGVCeUtleVZhbHVlLmRlbGV0ZShrZXlWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudGVyW2ldID0gbmV3IEVudGVyTm9kZShwYXJlbnQsIGRhdGFbaV0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBhbnkgcmVtYWluaW5nIG5vZGVzIHRoYXQgd2VyZSBub3QgYm91bmQgdG8gZGF0YSB0byBleGl0LlxuICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBMZW5ndGg7ICsraSkge1xuICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAobm9kZUJ5S2V5VmFsdWUuZ2V0KGtleVZhbHVlc1tpXSkgPT09IG5vZGUpKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGF0dW0obm9kZSkge1xuICByZXR1cm4gbm9kZS5fX2RhdGFfXztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBBcnJheS5mcm9tKHRoaXMsIGRhdHVtKTtcblxuICB2YXIgYmluZCA9IGtleSA/IGJpbmRLZXkgOiBiaW5kSW5kZXgsXG4gICAgICBwYXJlbnRzID0gdGhpcy5fcGFyZW50cyxcbiAgICAgIGdyb3VwcyA9IHRoaXMuX2dyb3VwcztcblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHZhbHVlID0gY29uc3RhbnQodmFsdWUpO1xuXG4gIGZvciAodmFyIG0gPSBncm91cHMubGVuZ3RoLCB1cGRhdGUgPSBuZXcgQXJyYXkobSksIGVudGVyID0gbmV3IEFycmF5KG0pLCBleGl0ID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIHZhciBwYXJlbnQgPSBwYXJlbnRzW2pdLFxuICAgICAgICBncm91cCA9IGdyb3Vwc1tqXSxcbiAgICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICAgIGRhdGEgPSBhcnJheWxpa2UodmFsdWUuY2FsbChwYXJlbnQsIHBhcmVudCAmJiBwYXJlbnQuX19kYXRhX18sIGosIHBhcmVudHMpKSxcbiAgICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoLFxuICAgICAgICBlbnRlckdyb3VwID0gZW50ZXJbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIHVwZGF0ZUdyb3VwID0gdXBkYXRlW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLFxuICAgICAgICBleGl0R3JvdXAgPSBleGl0W2pdID0gbmV3IEFycmF5KGdyb3VwTGVuZ3RoKTtcblxuICAgIGJpbmQocGFyZW50LCBncm91cCwgZW50ZXJHcm91cCwgdXBkYXRlR3JvdXAsIGV4aXRHcm91cCwgZGF0YSwga2V5KTtcblxuICAgIC8vIE5vdyBjb25uZWN0IHRoZSBlbnRlciBub2RlcyB0byB0aGVpciBmb2xsb3dpbmcgdXBkYXRlIG5vZGUsIHN1Y2ggdGhhdFxuICAgIC8vIGFwcGVuZENoaWxkIGNhbiBpbnNlcnQgdGhlIG1hdGVyaWFsaXplZCBlbnRlciBub2RlIGJlZm9yZSB0aGlzIG5vZGUsXG4gICAgLy8gcmF0aGVyIHRoYW4gYXQgdGhlIGVuZCBvZiB0aGUgcGFyZW50IG5vZGUuXG4gICAgZm9yICh2YXIgaTAgPSAwLCBpMSA9IDAsIHByZXZpb3VzLCBuZXh0OyBpMCA8IGRhdGFMZW5ndGg7ICsraTApIHtcbiAgICAgIGlmIChwcmV2aW91cyA9IGVudGVyR3JvdXBbaTBdKSB7XG4gICAgICAgIGlmIChpMCA+PSBpMSkgaTEgPSBpMCArIDE7XG4gICAgICAgIHdoaWxlICghKG5leHQgPSB1cGRhdGVHcm91cFtpMV0pICYmICsraTEgPCBkYXRhTGVuZ3RoKTtcbiAgICAgICAgcHJldmlvdXMuX25leHQgPSBuZXh0IHx8IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlID0gbmV3IFNlbGVjdGlvbih1cGRhdGUsIHBhcmVudHMpO1xuICB1cGRhdGUuX2VudGVyID0gZW50ZXI7XG4gIHVwZGF0ZS5fZXhpdCA9IGV4aXQ7XG4gIHJldHVybiB1cGRhdGU7XG59XG5cbi8vIEdpdmVuIHNvbWUgZGF0YSwgdGhpcyByZXR1cm5zIGFuIGFycmF5LWxpa2UgdmlldyBvZiBpdDogYW4gb2JqZWN0IHRoYXRcbi8vIGV4cG9zZXMgYSBsZW5ndGggcHJvcGVydHkgYW5kIGFsbG93cyBudW1lcmljIGluZGV4aW5nLiBOb3RlIHRoYXQgdW5saWtlXG4vLyBzZWxlY3RBbGwsIHRoaXMgaXNuXHUyMDE5dCB3b3JyaWVkIGFib3V0IFx1MjAxQ2xpdmVcdTIwMUQgY29sbGVjdGlvbnMgYmVjYXVzZSB0aGUgcmVzdWx0aW5nXG4vLyBhcnJheSB3aWxsIG9ubHkgYmUgdXNlZCBicmllZmx5IHdoaWxlIGRhdGEgaXMgYmVpbmcgYm91bmQuIChJdCBpcyBwb3NzaWJsZSB0b1xuLy8gY2F1c2UgdGhlIGRhdGEgdG8gY2hhbmdlIHdoaWxlIGl0ZXJhdGluZyBieSB1c2luZyBhIGtleSBmdW5jdGlvbiwgYnV0IHBsZWFzZVxuLy8gZG9uXHUyMDE5dDsgd2VcdTIwMTlkIHJhdGhlciBhdm9pZCBhIGdyYXR1aXRvdXMgY29weS4pXG5mdW5jdGlvbiBhcnJheWxpa2UoZGF0YSkge1xuICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgXCJsZW5ndGhcIiBpbiBkYXRhXG4gICAgPyBkYXRhIC8vIEFycmF5LCBUeXBlZEFycmF5LCBOb2RlTGlzdCwgYXJyYXktbGlrZVxuICAgIDogQXJyYXkuZnJvbShkYXRhKTsgLy8gTWFwLCBTZXQsIGl0ZXJhYmxlLCBzdHJpbmcsIG9yIGFueXRoaW5nIGVsc2Vcbn1cbiIsICJpbXBvcnQgc3BhcnNlIGZyb20gXCIuL3NwYXJzZS5qc1wiO1xuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9leGl0IHx8IHRoaXMuX2dyb3Vwcy5tYXAoc3BhcnNlKSwgdGhpcy5fcGFyZW50cyk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob25lbnRlciwgb251cGRhdGUsIG9uZXhpdCkge1xuICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksIHVwZGF0ZSA9IHRoaXMsIGV4aXQgPSB0aGlzLmV4aXQoKTtcbiAgaWYgKHR5cGVvZiBvbmVudGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpO1xuICAgIGlmIChlbnRlcikgZW50ZXIgPSBlbnRlci5zZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgXCJcIik7XG4gIH1cbiAgaWYgKG9udXBkYXRlICE9IG51bGwpIHtcbiAgICB1cGRhdGUgPSBvbnVwZGF0ZSh1cGRhdGUpO1xuICAgIGlmICh1cGRhdGUpIHVwZGF0ZSA9IHVwZGF0ZS5zZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAob25leGl0ID09IG51bGwpIGV4aXQucmVtb3ZlKCk7IGVsc2Ugb25leGl0KGV4aXQpO1xuICByZXR1cm4gZW50ZXIgJiYgdXBkYXRlID8gZW50ZXIubWVyZ2UodXBkYXRlKS5vcmRlcigpIDogdXBkYXRlO1xufVxuIiwgImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHZhciBzZWxlY3Rpb24gPSBjb250ZXh0LnNlbGVjdGlvbiA/IGNvbnRleHQuc2VsZWN0aW9uKCkgOiBjb250ZXh0O1xuXG4gIGZvciAodmFyIGdyb3VwczAgPSB0aGlzLl9ncm91cHMsIGdyb3VwczEgPSBzZWxlY3Rpb24uX2dyb3VwcywgbTAgPSBncm91cHMwLmxlbmd0aCwgbTEgPSBncm91cHMxLmxlbmd0aCwgbSA9IE1hdGgubWluKG0wLCBtMSksIG1lcmdlcyA9IG5ldyBBcnJheShtMCksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAwID0gZ3JvdXBzMFtqXSwgZ3JvdXAxID0gZ3JvdXBzMVtqXSwgbiA9IGdyb3VwMC5sZW5ndGgsIG1lcmdlID0gbWVyZ2VzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7XG4gICAgICAgIG1lcmdlW2ldID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKDsgaiA8IG0wOyArK2opIHtcbiAgICBtZXJnZXNbal0gPSBncm91cHMwW2pdO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24obWVyZ2VzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAtMSwgbSA9IGdyb3Vwcy5sZW5ndGg7ICsraiA8IG07KSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSBncm91cC5sZW5ndGggLSAxLCBuZXh0ID0gZ3JvdXBbaV0sIG5vZGU7IC0taSA+PSAwOykge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBpZiAobmV4dCAmJiBub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHQpIF4gNCkgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBuZXh0KTtcbiAgICAgICAgbmV4dCA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCAiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVOb2RlKGEsIGIpIHtcbiAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzb3J0Z3JvdXAgPSBzb3J0Z3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzb3J0Z3JvdXBzLCB0aGlzLl9wYXJlbnRzKS5vcmRlcigpO1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1swXTtcbiAgYXJndW1lbnRzWzBdID0gdGhpcztcbiAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICB2YXIgbm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG5vZGUpIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICBsZXQgc2l6ZSA9IDA7XG4gIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzKSArK3NpemU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgcmV0dXJuIHNpemU7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhdGhpcy5ub2RlKCk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCAiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi4vbmFtZXNwYWNlLmpzXCI7XG5cbmZ1bmN0aW9uIGF0dHJSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJSZW1vdmVOUyhmdWxsbmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnQobmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIHYpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb25OUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gICAgZWxzZSB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdik7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSgpO1xuICAgIHJldHVybiBmdWxsbmFtZS5sb2NhbFxuICAgICAgICA/IG5vZGUuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKVxuICAgICAgICA6IG5vZGUuZ2V0QXR0cmlidXRlKGZ1bGxuYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGxcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0clJlbW92ZU5TIDogYXR0clJlbW92ZSkgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pXG4gICAgICA6IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJDb25zdGFudE5TIDogYXR0ckNvbnN0YW50KSkpKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIChub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSAvLyBub2RlIGlzIGEgTm9kZVxuICAgICAgfHwgKG5vZGUuZG9jdW1lbnQgJiYgbm9kZSkgLy8gbm9kZSBpcyBhIFdpbmRvd1xuICAgICAgfHwgbm9kZS5kZWZhdWx0VmlldzsgLy8gbm9kZSBpcyBhIERvY3VtZW50XG59XG4iLCAiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3cuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2LCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICA/IHN0eWxlUmVtb3ZlIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gc3R5bGVGdW5jdGlvblxuICAgICAgICAgICAgOiBzdHlsZUNvbnN0YW50KShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpXG4gICAgICA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVWYWx1ZShub2RlLCBuYW1lKSB7XG4gIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSlcbiAgICAgIHx8IGRlZmF1bHRWaWV3KG5vZGUpLmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbn1cbiIsICJmdW5jdGlvbiBwcm9wZXJ0eVJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBkZWxldGUgdGhpc1tuYW1lXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHYgPT0gbnVsbCkgZGVsZXRlIHRoaXNbbmFtZV07XG4gICAgZWxzZSB0aGlzW25hbWVdID0gdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxXG4gICAgICA/IHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgICAgID8gcHJvcGVydHlSZW1vdmUgOiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gcHJvcGVydHlGdW5jdGlvblxuICAgICAgICAgIDogcHJvcGVydHlDb25zdGFudCkobmFtZSwgdmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKVtuYW1lXTtcbn1cbiIsICJmdW5jdGlvbiBjbGFzc0FycmF5KHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnRyaW0oKS5zcGxpdCgvXnxcXHMrLyk7XG59XG5cbmZ1bmN0aW9uIGNsYXNzTGlzdChub2RlKSB7XG4gIHJldHVybiBub2RlLmNsYXNzTGlzdCB8fCBuZXcgQ2xhc3NMaXN0KG5vZGUpO1xufVxuXG5mdW5jdGlvbiBDbGFzc0xpc3Qobm9kZSkge1xuICB0aGlzLl9ub2RlID0gbm9kZTtcbiAgdGhpcy5fbmFtZXMgPSBjbGFzc0FycmF5KG5vZGUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIik7XG59XG5cbkNsYXNzTGlzdC5wcm90b3R5cGUgPSB7XG4gIGFkZDogZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTtcbiAgICBpZiAoaSA8IDApIHtcbiAgICAgIHRoaXMuX25hbWVzLnB1c2gobmFtZSk7XG4gICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuX25hbWVzLmpvaW4oXCIgXCIpKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTtcbiAgICBpZiAoaSA+PSAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5zcGxpY2UoaSwgMSk7XG4gICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuX25hbWVzLmpvaW4oXCIgXCIpKTtcbiAgICB9XG4gIH0sXG4gIGNvbnRhaW5zOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSkgPj0gMDtcbiAgfVxufTtcblxuZnVuY3Rpb24gY2xhc3NlZEFkZChub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5hZGQobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkUmVtb3ZlKG5vZGUsIG5hbWVzKSB7XG4gIHZhciBsaXN0ID0gY2xhc3NMaXN0KG5vZGUpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gIHdoaWxlICgrK2kgPCBuKSBsaXN0LnJlbW92ZShuYW1lc1tpXSk7XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRUcnVlKG5hbWVzKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjbGFzc2VkQWRkKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZEZhbHNlKG5hbWVzKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjbGFzc2VkUmVtb3ZlKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZEZ1bmN0aW9uKG5hbWVzLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgKHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgPyBjbGFzc2VkQWRkIDogY2xhc3NlZFJlbW92ZSkodGhpcywgbmFtZXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgbmFtZXMgPSBjbGFzc0FycmF5KG5hbWUgKyBcIlwiKTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdCh0aGlzLm5vZGUoKSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgICB3aGlsZSAoKytpIDwgbikgaWYgKCFsaXN0LmNvbnRhaW5zKG5hbWVzW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gY2xhc3NlZEZ1bmN0aW9uIDogdmFsdWVcbiAgICAgID8gY2xhc3NlZFRydWVcbiAgICAgIDogY2xhc3NlZEZhbHNlKShuYW1lcywgdmFsdWUpKTtcbn1cbiIsICJmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkge1xuICB0aGlzLnRleHRDb250ZW50ID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHRleHRGdW5jdGlvblxuICAgICAgICAgIDogdGV4dENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50O1xufVxuIiwgImZ1bmN0aW9uIGh0bWxSZW1vdmUoKSB7XG4gIHRoaXMuaW5uZXJIVE1MID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gaHRtbENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlubmVySFRNTCA9IHZhbHVlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBodG1sRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB0aGlzLmlubmVySFRNTCA9IHYgPT0gbnVsbCA/IFwiXCIgOiB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbFxuICAgICAgICAgID8gaHRtbFJlbW92ZSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gaHRtbEZ1bmN0aW9uXG4gICAgICAgICAgOiBodG1sQ29uc3RhbnQpKHZhbHVlKSlcbiAgICAgIDogdGhpcy5ub2RlKCkuaW5uZXJIVE1MO1xufVxuIiwgImZ1bmN0aW9uIHJhaXNlKCkge1xuICBpZiAodGhpcy5uZXh0U2libGluZykgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaChyYWlzZSk7XG59XG4iLCAiZnVuY3Rpb24gbG93ZXIoKSB7XG4gIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTtcbn1cbiIsICJpbXBvcnQgY3JlYXRvciBmcm9tIFwiLi4vY3JlYXRvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBjcmVhdGUgPSB0eXBlb2YgbmFtZSA9PT0gXCJmdW5jdGlvblwiID8gbmFtZSA6IGNyZWF0b3IobmFtZSk7XG4gIHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hcHBlbmRDaGlsZChjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH0pO1xufVxuIiwgImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yLmpzXCI7XG5pbXBvcnQgc2VsZWN0b3IgZnJvbSBcIi4uL3NlbGVjdG9yLmpzXCI7XG5cbmZ1bmN0aW9uIGNvbnN0YW50TnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIGJlZm9yZSkge1xuICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09IFwiZnVuY3Rpb25cIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpLFxuICAgICAgc2VsZWN0ID0gYmVmb3JlID09IG51bGwgPyBjb25zdGFudE51bGwgOiB0eXBlb2YgYmVmb3JlID09PSBcImZ1bmN0aW9uXCIgPyBiZWZvcmUgOiBzZWxlY3RvcihiZWZvcmUpO1xuICByZXR1cm4gdGhpcy5zZWxlY3QoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBzZWxlY3QuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCBudWxsKTtcbiAgfSk7XG59XG4iLCAiZnVuY3Rpb24gcmVtb3ZlKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJlbW92ZSk7XG59XG4iLCAiZnVuY3Rpb24gc2VsZWN0aW9uX2Nsb25lU2hhbGxvdygpIHtcbiAgdmFyIGNsb25lID0gdGhpcy5jbG9uZU5vZGUoZmFsc2UpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5mdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVEZWVwKCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZSh0cnVlKSwgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICByZXR1cm4gcGFyZW50ID8gcGFyZW50Lmluc2VydEJlZm9yZShjbG9uZSwgdGhpcy5uZXh0U2libGluZykgOiBjbG9uZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZGVlcCkge1xuICByZXR1cm4gdGhpcy5zZWxlY3QoZGVlcCA/IHNlbGVjdGlvbl9jbG9uZURlZXAgOiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLnByb3BlcnR5KFwiX19kYXRhX19cIiwgdmFsdWUpXG4gICAgICA6IHRoaXMubm9kZSgpLl9fZGF0YV9fO1xufVxuIiwgImZ1bmN0aW9uIGNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0aGlzLl9fZGF0YV9fKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25SZW1vdmUodHlwZW5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbiA9IHRoaXMuX19vbjtcbiAgICBpZiAoIW9uKSByZXR1cm47XG4gICAgZm9yICh2YXIgaiA9IDAsIGkgPSAtMSwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgaWYgKG8gPSBvbltqXSwgKCF0eXBlbmFtZS50eXBlIHx8IG8udHlwZSA9PT0gdHlwZW5hbWUudHlwZSkgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblsrK2ldID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCsraSkgb24ubGVuZ3RoID0gaTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9fb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uLCBvLCBsaXN0ZW5lciA9IGNvbnRleHRMaXN0ZW5lcih2YWx1ZSk7XG4gICAgaWYgKG9uKSBmb3IgKHZhciBqID0gMCwgbSA9IG9uLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIgPSBsaXN0ZW5lciwgby5vcHRpb25zID0gb3B0aW9ucyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZW5hbWUudHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIG8gPSB7dHlwZTogdHlwZW5hbWUudHlwZSwgbmFtZTogdHlwZW5hbWUubmFtZSwgdmFsdWU6IHZhbHVlLCBsaXN0ZW5lcjogbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnN9O1xuICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtcbiAgICBlbHNlIG9uLnB1c2gobyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdHlwZW5hbWVzID0gcGFyc2VUeXBlbmFtZXModHlwZW5hbWUgKyBcIlwiKSwgaSwgbiA9IHR5cGVuYW1lcy5sZW5ndGgsIHQ7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIG9uID0gdGhpcy5ub2RlKCkuX19vbjtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBmb3IgKGkgPSAwLCBvID0gb25bal07IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKCh0ID0gdHlwZW5hbWVzW2ldKS50eXBlID09PSBvLnR5cGUgJiYgdC5uYW1lID09PSBvLm5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gby52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBvbiA9IHZhbHVlID8gb25BZGQgOiBvblJlbW92ZTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkgdGhpcy5lYWNoKG9uKHR5cGVuYW1lc1tpXSwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCAiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3cuanNcIjtcblxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChub2RlLCB0eXBlLCBwYXJhbXMpIHtcbiAgdmFyIHdpbmRvdyA9IGRlZmF1bHRWaWV3KG5vZGUpLFxuICAgICAgZXZlbnQgPSB3aW5kb3cuQ3VzdG9tRXZlbnQ7XG5cbiAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZXZlbnQgPSBuZXcgZXZlbnQodHlwZSwgcGFyYW1zKTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO1xuICAgIGlmIChwYXJhbXMpIGV2ZW50LmluaXRFdmVudCh0eXBlLCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUpLCBldmVudC5kZXRhaWwgPSBwYXJhbXMuZGV0YWlsO1xuICAgIGVsc2UgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICBub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaENvbnN0YW50KHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hGdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyBkaXNwYXRjaEZ1bmN0aW9uXG4gICAgICA6IGRpc3BhdGNoQ29uc3RhbnQpKHR5cGUsIHBhcmFtcykpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKigpIHtcbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgaSA9IDAsIG4gPSBncm91cC5sZW5ndGgsIG5vZGU7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHlpZWxkIG5vZGU7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGwuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQgZnJvbSBcIi4vc2VsZWN0Q2hpbGQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gZnJvbSBcIi4vc2VsZWN0Q2hpbGRyZW4uanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXRhIGZyb20gXCIuL2RhdGEuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW50ZXIgZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZXhpdCBmcm9tIFwiLi9leGl0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2pvaW4gZnJvbSBcIi4vam9pbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vcmRlciBmcm9tIFwiLi9vcmRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zb3J0IGZyb20gXCIuL3NvcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2FsbCBmcm9tIFwiLi9jYWxsLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGVzIGZyb20gXCIuL25vZGVzLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGUgZnJvbSBcIi4vbm9kZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zaXplIGZyb20gXCIuL3NpemUuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW1wdHkgZnJvbSBcIi4vZW1wdHkuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZWFjaCBmcm9tIFwiLi9lYWNoLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9wcm9wZXJ0eSBmcm9tIFwiLi9wcm9wZXJ0eS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbGFzc2VkIGZyb20gXCIuL2NsYXNzZWQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2h0bWwgZnJvbSBcIi4vaHRtbC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9yYWlzZSBmcm9tIFwiLi9yYWlzZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9sb3dlciBmcm9tIFwiLi9sb3dlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9hcHBlbmQgZnJvbSBcIi4vYXBwZW5kLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2luc2VydCBmcm9tIFwiLi9pbnNlcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbG9uZSBmcm9tIFwiLi9jbG9uZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXR1bSBmcm9tIFwiLi9kYXR1bS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kaXNwYXRjaCBmcm9tIFwiLi9kaXNwYXRjaC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9pdGVyYXRvciBmcm9tIFwiLi9pdGVyYXRvci5qc1wiO1xuXG5leHBvcnQgdmFyIHJvb3QgPSBbbnVsbF07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWxlY3Rpb24oZ3JvdXBzLCBwYXJlbnRzKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufVxuXG5TZWxlY3Rpb24ucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNlbGVjdGlvbixcbiAgc2VsZWN0OiBzZWxlY3Rpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHNlbGVjdGlvbl9zZWxlY3RBbGwsXG4gIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsXG4gIHNlbGVjdENoaWxkcmVuOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogc2VsZWN0aW9uX2ZpbHRlcixcbiAgZGF0YTogc2VsZWN0aW9uX2RhdGEsXG4gIGVudGVyOiBzZWxlY3Rpb25fZW50ZXIsXG4gIGV4aXQ6IHNlbGVjdGlvbl9leGl0LFxuICBqb2luOiBzZWxlY3Rpb25fam9pbixcbiAgbWVyZ2U6IHNlbGVjdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiBzZWxlY3Rpb25fc2VsZWN0aW9uLFxuICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLFxuICBzb3J0OiBzZWxlY3Rpb25fc29ydCxcbiAgY2FsbDogc2VsZWN0aW9uX2NhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX2VhY2gsXG4gIGF0dHI6IHNlbGVjdGlvbl9hdHRyLFxuICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLFxuICBwcm9wZXJ0eTogc2VsZWN0aW9uX3Byb3BlcnR5LFxuICBjbGFzc2VkOiBzZWxlY3Rpb25fY2xhc3NlZCxcbiAgdGV4dDogc2VsZWN0aW9uX3RleHQsXG4gIGh0bWw6IHNlbGVjdGlvbl9odG1sLFxuICByYWlzZTogc2VsZWN0aW9uX3JhaXNlLFxuICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLFxuICBhcHBlbmQ6IHNlbGVjdGlvbl9hcHBlbmQsXG4gIGluc2VydDogc2VsZWN0aW9uX2luc2VydCxcbiAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLFxuICBjbG9uZTogc2VsZWN0aW9uX2Nsb25lLFxuICBkYXR1bTogc2VsZWN0aW9uX2RhdHVtLFxuICBvbjogc2VsZWN0aW9uX29uLFxuICBkaXNwYXRjaDogc2VsZWN0aW9uX2Rpc3BhdGNoLFxuICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX2l0ZXJhdG9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb247XG4iLCAiaW1wb3J0IHtTZWxlY3Rpb24sIHJvb3R9IGZyb20gXCIuL3NlbGVjdGlvbi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiXG4gICAgICA/IG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKV1dLCBbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XSlcbiAgICAgIDogbmV3IFNlbGVjdGlvbihbW3NlbGVjdG9yXV0sIHJvb3QpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGxldCBzb3VyY2VFdmVudDtcbiAgd2hpbGUgKHNvdXJjZUV2ZW50ID0gZXZlbnQuc291cmNlRXZlbnQpIGV2ZW50ID0gc291cmNlRXZlbnQ7XG4gIHJldHVybiBldmVudDtcbn1cbiIsICJpbXBvcnQgc291cmNlRXZlbnQgZnJvbSBcIi4vc291cmNlRXZlbnQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZXZlbnQsIG5vZGUpIHtcbiAgZXZlbnQgPSBzb3VyY2VFdmVudChldmVudCk7XG4gIGlmIChub2RlID09PSB1bmRlZmluZWQpIG5vZGUgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICBpZiAobm9kZSkge1xuICAgIHZhciBzdmcgPSBub2RlLm93bmVyU1ZHRWxlbWVudCB8fCBub2RlO1xuICAgIGlmIChzdmcuY3JlYXRlU1ZHUG9pbnQpIHtcbiAgICAgIHZhciBwb2ludCA9IHN2Zy5jcmVhdGVTVkdQb2ludCgpO1xuICAgICAgcG9pbnQueCA9IGV2ZW50LmNsaWVudFgsIHBvaW50LnkgPSBldmVudC5jbGllbnRZO1xuICAgICAgcG9pbnQgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obm9kZS5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpO1xuICAgICAgcmV0dXJuIFtwb2ludC54LCBwb2ludC55XTtcbiAgICB9XG4gICAgaWYgKG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XG4gICAgICB2YXIgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByZXR1cm4gW2V2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgLSBub2RlLmNsaWVudExlZnQsIGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAtIG5vZGUuY2xpZW50VG9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtldmVudC5wYWdlWCwgZXZlbnQucGFnZVldO1xufVxuIiwgImltcG9ydCBhcnJheSBmcm9tIFwiLi9hcnJheS5qc1wiO1xuaW1wb3J0IHtTZWxlY3Rpb24sIHJvb3R9IGZyb20gXCIuL3NlbGVjdGlvbi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiXG4gICAgICA/IG5ldyBTZWxlY3Rpb24oW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXSwgW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudF0pXG4gICAgICA6IG5ldyBTZWxlY3Rpb24oW2FycmF5KHNlbGVjdG9yKV0sIHJvb3QpO1xufVxuIiwgIi8vIFRoZXNlIGFyZSB0eXBpY2FsbHkgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIG5vZXZlbnQgdG8gZW5zdXJlIHRoYXQgd2UgY2FuXG4vLyBwcmV2ZW50RGVmYXVsdCBvbiB0aGUgZXZlbnQuXG5leHBvcnQgY29uc3Qgbm9ucGFzc2l2ZSA9IHtwYXNzaXZlOiBmYWxzZX07XG5leHBvcnQgY29uc3Qgbm9ucGFzc2l2ZWNhcHR1cmUgPSB7Y2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogZmFsc2V9O1xuXG5leHBvcnQgZnVuY3Rpb24gbm9wcm9wYWdhdGlvbihldmVudCkge1xuICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG59XG4iLCAiaW1wb3J0IHtzZWxlY3R9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCBub2V2ZW50LCB7bm9ucGFzc2l2ZWNhcHR1cmV9IGZyb20gXCIuL25vZXZlbnQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmlldykge1xuICB2YXIgcm9vdCA9IHZpZXcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgc2VsZWN0aW9uID0gc2VsZWN0KHZpZXcpLm9uKFwiZHJhZ3N0YXJ0LmRyYWdcIiwgbm9ldmVudCwgbm9ucGFzc2l2ZWNhcHR1cmUpO1xuICBpZiAoXCJvbnNlbGVjdHN0YXJ0XCIgaW4gcm9vdCkge1xuICAgIHNlbGVjdGlvbi5vbihcInNlbGVjdHN0YXJ0LmRyYWdcIiwgbm9ldmVudCwgbm9ucGFzc2l2ZWNhcHR1cmUpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuX19ub3NlbGVjdCA9IHJvb3Quc3R5bGUuTW96VXNlclNlbGVjdDtcbiAgICByb290LnN0eWxlLk1velVzZXJTZWxlY3QgPSBcIm5vbmVcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24geWVzZHJhZyh2aWV3LCBub2NsaWNrKSB7XG4gIHZhciByb290ID0gdmlldy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBzZWxlY3Rpb24gPSBzZWxlY3Qodmlldykub24oXCJkcmFnc3RhcnQuZHJhZ1wiLCBudWxsKTtcbiAgaWYgKG5vY2xpY2spIHtcbiAgICBzZWxlY3Rpb24ub24oXCJjbGljay5kcmFnXCIsIG5vZXZlbnQsIG5vbnBhc3NpdmVjYXB0dXJlKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBzZWxlY3Rpb24ub24oXCJjbGljay5kcmFnXCIsIG51bGwpOyB9LCAwKTtcbiAgfVxuICBpZiAoXCJvbnNlbGVjdHN0YXJ0XCIgaW4gcm9vdCkge1xuICAgIHNlbGVjdGlvbi5vbihcInNlbGVjdHN0YXJ0LmRyYWdcIiwgbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gcm9vdC5fX25vc2VsZWN0O1xuICAgIGRlbGV0ZSByb290Ll9fbm9zZWxlY3Q7XG4gIH1cbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsICJpbXBvcnQgZGVmaW5lLCB7ZXh0ZW5kfSBmcm9tIFwiLi9kZWZpbmUuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENvbG9yKCkge31cblxuZXhwb3J0IHZhciBkYXJrZXIgPSAwLjc7XG5leHBvcnQgdmFyIGJyaWdodGVyID0gMSAvIGRhcmtlcjtcblxudmFyIHJlSSA9IFwiXFxcXHMqKFsrLV0/XFxcXGQrKVxcXFxzKlwiLFxuICAgIHJlTiA9IFwiXFxcXHMqKFsrLV0/KD86XFxcXGQqXFxcXC4pP1xcXFxkKyg/OltlRV1bKy1dP1xcXFxkKyk/KVxcXFxzKlwiLFxuICAgIHJlUCA9IFwiXFxcXHMqKFsrLV0/KD86XFxcXGQqXFxcXC4pP1xcXFxkKyg/OltlRV1bKy1dP1xcXFxkKyk/KSVcXFxccypcIixcbiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLFxuICAgIHJlUmdiSW50ZWdlciA9IG5ldyBSZWdFeHAoYF5yZ2JcXFxcKCR7cmVJfSwke3JlSX0sJHtyZUl9XFxcXCkkYCksXG4gICAgcmVSZ2JQZXJjZW50ID0gbmV3IFJlZ0V4cChgXnJnYlxcXFwoJHtyZVB9LCR7cmVQfSwke3JlUH1cXFxcKSRgKSxcbiAgICByZVJnYmFJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYmFcXFxcKCR7cmVJfSwke3JlSX0sJHtyZUl9LCR7cmVOfVxcXFwpJGApLFxuICAgIHJlUmdiYVBlcmNlbnQgPSBuZXcgUmVnRXhwKGBecmdiYVxcXFwoJHtyZVB9LCR7cmVQfSwke3JlUH0sJHtyZU59XFxcXCkkYCksXG4gICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChgXmhzbFxcXFwoJHtyZU59LCR7cmVQfSwke3JlUH1cXFxcKSRgKSxcbiAgICByZUhzbGFQZXJjZW50ID0gbmV3IFJlZ0V4cChgXmhzbGFcXFxcKCR7cmVOfSwke3JlUH0sJHtyZVB9LCR7cmVOfVxcXFwpJGApO1xuXG52YXIgbmFtZWQgPSB7XG4gIGFsaWNlYmx1ZTogMHhmMGY4ZmYsXG4gIGFudGlxdWV3aGl0ZTogMHhmYWViZDcsXG4gIGFxdWE6IDB4MDBmZmZmLFxuICBhcXVhbWFyaW5lOiAweDdmZmZkNCxcbiAgYXp1cmU6IDB4ZjBmZmZmLFxuICBiZWlnZTogMHhmNWY1ZGMsXG4gIGJpc3F1ZTogMHhmZmU0YzQsXG4gIGJsYWNrOiAweDAwMDAwMCxcbiAgYmxhbmNoZWRhbG1vbmQ6IDB4ZmZlYmNkLFxuICBibHVlOiAweDAwMDBmZixcbiAgYmx1ZXZpb2xldDogMHg4YTJiZTIsXG4gIGJyb3duOiAweGE1MmEyYSxcbiAgYnVybHl3b29kOiAweGRlYjg4NyxcbiAgY2FkZXRibHVlOiAweDVmOWVhMCxcbiAgY2hhcnRyZXVzZTogMHg3ZmZmMDAsXG4gIGNob2NvbGF0ZTogMHhkMjY5MWUsXG4gIGNvcmFsOiAweGZmN2Y1MCxcbiAgY29ybmZsb3dlcmJsdWU6IDB4NjQ5NWVkLFxuICBjb3Juc2lsazogMHhmZmY4ZGMsXG4gIGNyaW1zb246IDB4ZGMxNDNjLFxuICBjeWFuOiAweDAwZmZmZixcbiAgZGFya2JsdWU6IDB4MDAwMDhiLFxuICBkYXJrY3lhbjogMHgwMDhiOGIsXG4gIGRhcmtnb2xkZW5yb2Q6IDB4Yjg4NjBiLFxuICBkYXJrZ3JheTogMHhhOWE5YTksXG4gIGRhcmtncmVlbjogMHgwMDY0MDAsXG4gIGRhcmtncmV5OiAweGE5YTlhOSxcbiAgZGFya2toYWtpOiAweGJkYjc2YixcbiAgZGFya21hZ2VudGE6IDB4OGIwMDhiLFxuICBkYXJrb2xpdmVncmVlbjogMHg1NTZiMmYsXG4gIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLFxuICBkYXJrb3JjaGlkOiAweDk5MzJjYyxcbiAgZGFya3JlZDogMHg4YjAwMDAsXG4gIGRhcmtzYWxtb246IDB4ZTk5NjdhLFxuICBkYXJrc2VhZ3JlZW46IDB4OGZiYzhmLFxuICBkYXJrc2xhdGVibHVlOiAweDQ4M2Q4YixcbiAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsXG4gIGRhcmtzbGF0ZWdyZXk6IDB4MmY0ZjRmLFxuICBkYXJrdHVycXVvaXNlOiAweDAwY2VkMSxcbiAgZGFya3Zpb2xldDogMHg5NDAwZDMsXG4gIGRlZXBwaW5rOiAweGZmMTQ5MyxcbiAgZGVlcHNreWJsdWU6IDB4MDBiZmZmLFxuICBkaW1ncmF5OiAweDY5Njk2OSxcbiAgZGltZ3JleTogMHg2OTY5NjksXG4gIGRvZGdlcmJsdWU6IDB4MWU5MGZmLFxuICBmaXJlYnJpY2s6IDB4YjIyMjIyLFxuICBmbG9yYWx3aGl0ZTogMHhmZmZhZjAsXG4gIGZvcmVzdGdyZWVuOiAweDIyOGIyMixcbiAgZnVjaHNpYTogMHhmZjAwZmYsXG4gIGdhaW5zYm9ybzogMHhkY2RjZGMsXG4gIGdob3N0d2hpdGU6IDB4ZjhmOGZmLFxuICBnb2xkOiAweGZmZDcwMCxcbiAgZ29sZGVucm9kOiAweGRhYTUyMCxcbiAgZ3JheTogMHg4MDgwODAsXG4gIGdyZWVuOiAweDAwODAwMCxcbiAgZ3JlZW55ZWxsb3c6IDB4YWRmZjJmLFxuICBncmV5OiAweDgwODA4MCxcbiAgaG9uZXlkZXc6IDB4ZjBmZmYwLFxuICBob3RwaW5rOiAweGZmNjliNCxcbiAgaW5kaWFucmVkOiAweGNkNWM1YyxcbiAgaW5kaWdvOiAweDRiMDA4MixcbiAgaXZvcnk6IDB4ZmZmZmYwLFxuICBraGFraTogMHhmMGU2OGMsXG4gIGxhdmVuZGVyOiAweGU2ZTZmYSxcbiAgbGF2ZW5kZXJibHVzaDogMHhmZmYwZjUsXG4gIGxhd25ncmVlbjogMHg3Y2ZjMDAsXG4gIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsXG4gIGxpZ2h0Ymx1ZTogMHhhZGQ4ZTYsXG4gIGxpZ2h0Y29yYWw6IDB4ZjA4MDgwLFxuICBsaWdodGN5YW46IDB4ZTBmZmZmLFxuICBsaWdodGdvbGRlbnJvZHllbGxvdzogMHhmYWZhZDIsXG4gIGxpZ2h0Z3JheTogMHhkM2QzZDMsXG4gIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLFxuICBsaWdodGdyZXk6IDB4ZDNkM2QzLFxuICBsaWdodHBpbms6IDB4ZmZiNmMxLFxuICBsaWdodHNhbG1vbjogMHhmZmEwN2EsXG4gIGxpZ2h0c2VhZ3JlZW46IDB4MjBiMmFhLFxuICBsaWdodHNreWJsdWU6IDB4ODdjZWZhLFxuICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksXG4gIGxpZ2h0c2xhdGVncmV5OiAweDc3ODg5OSxcbiAgbGlnaHRzdGVlbGJsdWU6IDB4YjBjNGRlLFxuICBsaWdodHllbGxvdzogMHhmZmZmZTAsXG4gIGxpbWU6IDB4MDBmZjAwLFxuICBsaW1lZ3JlZW46IDB4MzJjZDMyLFxuICBsaW5lbjogMHhmYWYwZTYsXG4gIG1hZ2VudGE6IDB4ZmYwMGZmLFxuICBtYXJvb246IDB4ODAwMDAwLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSxcbiAgbWVkaXVtYmx1ZTogMHgwMDAwY2QsXG4gIG1lZGl1bW9yY2hpZDogMHhiYTU1ZDMsXG4gIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsXG4gIG1lZGl1bXNlYWdyZWVuOiAweDNjYjM3MSxcbiAgbWVkaXVtc2xhdGVibHVlOiAweDdiNjhlZSxcbiAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLFxuICBtZWRpdW10dXJxdW9pc2U6IDB4NDhkMWNjLFxuICBtZWRpdW12aW9sZXRyZWQ6IDB4YzcxNTg1LFxuICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLFxuICBtaW50Y3JlYW06IDB4ZjVmZmZhLFxuICBtaXN0eXJvc2U6IDB4ZmZlNGUxLFxuICBtb2NjYXNpbjogMHhmZmU0YjUsXG4gIG5hdmFqb3doaXRlOiAweGZmZGVhZCxcbiAgbmF2eTogMHgwMDAwODAsXG4gIG9sZGxhY2U6IDB4ZmRmNWU2LFxuICBvbGl2ZTogMHg4MDgwMDAsXG4gIG9saXZlZHJhYjogMHg2YjhlMjMsXG4gIG9yYW5nZTogMHhmZmE1MDAsXG4gIG9yYW5nZXJlZDogMHhmZjQ1MDAsXG4gIG9yY2hpZDogMHhkYTcwZDYsXG4gIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLFxuICBwYWxlZ3JlZW46IDB4OThmYjk4LFxuICBwYWxldHVycXVvaXNlOiAweGFmZWVlZSxcbiAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsXG4gIHBhcGF5YXdoaXA6IDB4ZmZlZmQ1LFxuICBwZWFjaHB1ZmY6IDB4ZmZkYWI5LFxuICBwZXJ1OiAweGNkODUzZixcbiAgcGluazogMHhmZmMwY2IsXG4gIHBsdW06IDB4ZGRhMGRkLFxuICBwb3dkZXJibHVlOiAweGIwZTBlNixcbiAgcHVycGxlOiAweDgwMDA4MCxcbiAgcmViZWNjYXB1cnBsZTogMHg2NjMzOTksXG4gIHJlZDogMHhmZjAwMDAsXG4gIHJvc3licm93bjogMHhiYzhmOGYsXG4gIHJveWFsYmx1ZTogMHg0MTY5ZTEsXG4gIHNhZGRsZWJyb3duOiAweDhiNDUxMyxcbiAgc2FsbW9uOiAweGZhODA3MixcbiAgc2FuZHlicm93bjogMHhmNGE0NjAsXG4gIHNlYWdyZWVuOiAweDJlOGI1NyxcbiAgc2Vhc2hlbGw6IDB4ZmZmNWVlLFxuICBzaWVubmE6IDB4YTA1MjJkLFxuICBzaWx2ZXI6IDB4YzBjMGMwLFxuICBza3libHVlOiAweDg3Y2VlYixcbiAgc2xhdGVibHVlOiAweDZhNWFjZCxcbiAgc2xhdGVncmF5OiAweDcwODA5MCxcbiAgc2xhdGVncmV5OiAweDcwODA5MCxcbiAgc25vdzogMHhmZmZhZmEsXG4gIHNwcmluZ2dyZWVuOiAweDAwZmY3ZixcbiAgc3RlZWxibHVlOiAweDQ2ODJiNCxcbiAgdGFuOiAweGQyYjQ4YyxcbiAgdGVhbDogMHgwMDgwODAsXG4gIHRoaXN0bGU6IDB4ZDhiZmQ4LFxuICB0b21hdG86IDB4ZmY2MzQ3LFxuICB0dXJxdW9pc2U6IDB4NDBlMGQwLFxuICB2aW9sZXQ6IDB4ZWU4MmVlLFxuICB3aGVhdDogMHhmNWRlYjMsXG4gIHdoaXRlOiAweGZmZmZmZixcbiAgd2hpdGVzbW9rZTogMHhmNWY1ZjUsXG4gIHllbGxvdzogMHhmZmZmMDAsXG4gIHllbGxvd2dyZWVuOiAweDlhY2QzMlxufTtcblxuZGVmaW5lKENvbG9yLCBjb2xvciwge1xuICBjb3B5KGNoYW5uZWxzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IHRoaXMuY29uc3RydWN0b3IsIHRoaXMsIGNoYW5uZWxzKTtcbiAgfSxcbiAgZGlzcGxheWFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmdiKCkuZGlzcGxheWFibGUoKTtcbiAgfSxcbiAgaGV4OiBjb2xvcl9mb3JtYXRIZXgsIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguXG4gIGZvcm1hdEhleDogY29sb3JfZm9ybWF0SGV4LFxuICBmb3JtYXRIZXg4OiBjb2xvcl9mb3JtYXRIZXg4LFxuICBmb3JtYXRIc2w6IGNvbG9yX2Zvcm1hdEhzbCxcbiAgZm9ybWF0UmdiOiBjb2xvcl9mb3JtYXRSZ2IsXG4gIHRvU3RyaW5nOiBjb2xvcl9mb3JtYXRSZ2Jcbn0pO1xuXG5mdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleCgpO1xufVxuXG5mdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXg4KCkge1xuICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRIZXg4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhzbCgpIHtcbiAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0UmdiKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbG9yKGZvcm1hdCkge1xuICB2YXIgbSwgbDtcbiAgZm9ybWF0ID0gKGZvcm1hdCArIFwiXCIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKG0gPSByZUhleC5leGVjKGZvcm1hdCkpID8gKGwgPSBtWzFdLmxlbmd0aCwgbSA9IHBhcnNlSW50KG1bMV0sIDE2KSwgbCA9PT0gNiA/IHJnYm4obSkgLy8gI2ZmMDAwMFxuICAgICAgOiBsID09PSAzID8gbmV3IFJnYigobSA+PiA4ICYgMHhmKSB8IChtID4+IDQgJiAweGYwKSwgKG0gPj4gNCAmIDB4ZikgfCAobSAmIDB4ZjApLCAoKG0gJiAweGYpIDw8IDQpIHwgKG0gJiAweGYpLCAxKSAvLyAjZjAwXG4gICAgICA6IGwgPT09IDggPyByZ2JhKG0gPj4gMjQgJiAweGZmLCBtID4+IDE2ICYgMHhmZiwgbSA+PiA4ICYgMHhmZiwgKG0gJiAweGZmKSAvIDB4ZmYpIC8vICNmZjAwMDAwMFxuICAgICAgOiBsID09PSA0ID8gcmdiYSgobSA+PiAxMiAmIDB4ZikgfCAobSA+PiA4ICYgMHhmMCksIChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgoKG0gJiAweGYpIDw8IDQpIHwgKG0gJiAweGYpKSAvIDB4ZmYpIC8vICNmMDAwXG4gICAgICA6IG51bGwpIC8vIGludmFsaWQgaGV4XG4gICAgICA6IChtID0gcmVSZ2JJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyBuZXcgUmdiKG1bMV0sIG1bMl0sIG1bM10sIDEpIC8vIHJnYigyNTUsIDAsIDApXG4gICAgICA6IChtID0gcmVSZ2JQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyBuZXcgUmdiKG1bMV0gKiAyNTUgLyAxMDAsIG1bMl0gKiAyNTUgLyAxMDAsIG1bM10gKiAyNTUgLyAxMDAsIDEpIC8vIHJnYigxMDAlLCAwJSwgMCUpXG4gICAgICA6IChtID0gcmVSZ2JhSW50ZWdlci5leGVjKGZvcm1hdCkpID8gcmdiYShtWzFdLCBtWzJdLCBtWzNdLCBtWzRdKSAvLyByZ2JhKDI1NSwgMCwgMCwgMSlcbiAgICAgIDogKG0gPSByZVJnYmFQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0gKiAyNTUgLyAxMDAsIG1bMl0gKiAyNTUgLyAxMDAsIG1bM10gKiAyNTUgLyAxMDAsIG1bNF0pIC8vIHJnYigxMDAlLCAwJSwgMCUsIDEpXG4gICAgICA6IChtID0gcmVIc2xQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyBoc2xhKG1bMV0sIG1bMl0gLyAxMDAsIG1bM10gLyAxMDAsIDEpIC8vIGhzbCgxMjAsIDUwJSwgNTAlKVxuICAgICAgOiAobSA9IHJlSHNsYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgbVs0XSkgLy8gaHNsYSgxMjAsIDUwJSwgNTAlLCAxKVxuICAgICAgOiBuYW1lZC5oYXNPd25Qcm9wZXJ0eShmb3JtYXQpID8gcmdibihuYW1lZFtmb3JtYXRdKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgOiBmb3JtYXQgPT09IFwidHJhbnNwYXJlbnRcIiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMClcbiAgICAgIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcmdibihuKSB7XG4gIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7XG59XG5cbmZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkge1xuICBpZiAoYSA8PSAwKSByID0gZyA9IGIgPSBOYU47XG4gIHJldHVybiBuZXcgUmdiKHIsIGcsIGIsIGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmdiQ29udmVydChvKSB7XG4gIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTtcbiAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYjtcbiAgbyA9IG8ucmdiKCk7XG4gIHJldHVybiBuZXcgUmdiKG8uciwgby5nLCBvLmIsIG8ub3BhY2l0eSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IHJnYkNvbnZlcnQocikgOiBuZXcgUmdiKHIsIGcsIGIsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHRoaXMuciA9ICtyO1xuICB0aGlzLmcgPSArZztcbiAgdGhpcy5iID0gK2I7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoUmdiLCByZ2IsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgUmdiKHRoaXMuciAqIGssIHRoaXMuZyAqIGssIHRoaXMuYiAqIGssIHRoaXMub3BhY2l0eSk7XG4gIH0sXG4gIGRhcmtlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGRhcmtlciA6IE1hdGgucG93KGRhcmtlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgcmdiKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBjbGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IFJnYihjbGFtcGkodGhpcy5yKSwgY2xhbXBpKHRoaXMuZyksIGNsYW1waSh0aGlzLmIpLCBjbGFtcGEodGhpcy5vcGFjaXR5KSk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlKCkge1xuICAgIHJldHVybiAoLTAuNSA8PSB0aGlzLnIgJiYgdGhpcy5yIDwgMjU1LjUpXG4gICAgICAgICYmICgtMC41IDw9IHRoaXMuZyAmJiB0aGlzLmcgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5iICYmIHRoaXMuYiA8IDI1NS41KVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBoZXg6IHJnYl9mb3JtYXRIZXgsIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguXG4gIGZvcm1hdEhleDogcmdiX2Zvcm1hdEhleCxcbiAgZm9ybWF0SGV4ODogcmdiX2Zvcm1hdEhleDgsXG4gIGZvcm1hdFJnYjogcmdiX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IHJnYl9mb3JtYXRSZ2Jcbn0pKTtcblxuZnVuY3Rpb24gcmdiX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIGAjJHtoZXgodGhpcy5yKX0ke2hleCh0aGlzLmcpfSR7aGV4KHRoaXMuYil9YDtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdEhleDgoKSB7XG4gIHJldHVybiBgIyR7aGV4KHRoaXMucil9JHtoZXgodGhpcy5nKX0ke2hleCh0aGlzLmIpfSR7aGV4KChpc05hTih0aGlzLm9wYWNpdHkpID8gMSA6IHRoaXMub3BhY2l0eSkgKiAyNTUpfWA7XG59XG5cbmZ1bmN0aW9uIHJnYl9mb3JtYXRSZ2IoKSB7XG4gIGNvbnN0IGEgPSBjbGFtcGEodGhpcy5vcGFjaXR5KTtcbiAgcmV0dXJuIGAke2EgPT09IDEgPyBcInJnYihcIiA6IFwicmdiYShcIn0ke2NsYW1waSh0aGlzLnIpfSwgJHtjbGFtcGkodGhpcy5nKX0sICR7Y2xhbXBpKHRoaXMuYil9JHthID09PSAxID8gXCIpXCIgOiBgLCAke2F9KWB9YDtcbn1cblxuZnVuY3Rpb24gY2xhbXBhKG9wYWNpdHkpIHtcbiAgcmV0dXJuIGlzTmFOKG9wYWNpdHkpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG9wYWNpdHkpKTtcbn1cblxuZnVuY3Rpb24gY2xhbXBpKHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQodmFsdWUpIHx8IDApKTtcbn1cblxuZnVuY3Rpb24gaGV4KHZhbHVlKSB7XG4gIHZhbHVlID0gY2xhbXBpKHZhbHVlKTtcbiAgcmV0dXJuICh2YWx1ZSA8IDE2ID8gXCIwXCIgOiBcIlwiKSArIHZhbHVlLnRvU3RyaW5nKDE2KTtcbn1cblxuZnVuY3Rpb24gaHNsYShoLCBzLCBsLCBhKSB7XG4gIGlmIChhIDw9IDApIGggPSBzID0gbCA9IE5hTjtcbiAgZWxzZSBpZiAobCA8PSAwIHx8IGwgPj0gMSkgaCA9IHMgPSBOYU47XG4gIGVsc2UgaWYgKHMgPD0gMCkgaCA9IE5hTjtcbiAgcmV0dXJuIG5ldyBIc2woaCwgcywgbCwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoc2xDb252ZXJ0KG8pIHtcbiAgaWYgKG8gaW5zdGFuY2VvZiBIc2wpIHJldHVybiBuZXcgSHNsKG8uaCwgby5zLCBvLmwsIG8ub3BhY2l0eSk7XG4gIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTtcbiAgaWYgKCFvKSByZXR1cm4gbmV3IEhzbDtcbiAgaWYgKG8gaW5zdGFuY2VvZiBIc2wpIHJldHVybiBvO1xuICBvID0gby5yZ2IoKTtcbiAgdmFyIHIgPSBvLnIgLyAyNTUsXG4gICAgICBnID0gby5nIC8gMjU1LFxuICAgICAgYiA9IG8uYiAvIDI1NSxcbiAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLFxuICAgICAgbWF4ID0gTWF0aC5tYXgociwgZywgYiksXG4gICAgICBoID0gTmFOLFxuICAgICAgcyA9IG1heCAtIG1pbixcbiAgICAgIGwgPSAobWF4ICsgbWluKSAvIDI7XG4gIGlmIChzKSB7XG4gICAgaWYgKHIgPT09IG1heCkgaCA9IChnIC0gYikgLyBzICsgKGcgPCBiKSAqIDY7XG4gICAgZWxzZSBpZiAoZyA9PT0gbWF4KSBoID0gKGIgLSByKSAvIHMgKyAyO1xuICAgIGVsc2UgaCA9IChyIC0gZykgLyBzICsgNDtcbiAgICBzIC89IGwgPCAwLjUgPyBtYXggKyBtaW4gOiAyIC0gbWF4IC0gbWluO1xuICAgIGggKj0gNjA7XG4gIH0gZWxzZSB7XG4gICAgcyA9IGwgPiAwICYmIGwgPCAxID8gMCA6IGg7XG4gIH1cbiAgcmV0dXJuIG5ldyBIc2woaCwgcywgbCwgby5vcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gaHNsQ29udmVydChoKSA6IG5ldyBIc2woaCwgcywgbCwgb3BhY2l0eSA9PSBudWxsID8gMSA6IG9wYWNpdHkpO1xufVxuXG5mdW5jdGlvbiBIc2woaCwgcywgbCwgb3BhY2l0eSkge1xuICB0aGlzLmggPSAraDtcbiAgdGhpcy5zID0gK3M7XG4gIHRoaXMubCA9ICtsO1xuICB0aGlzLm9wYWNpdHkgPSArb3BhY2l0eTtcbn1cblxuZGVmaW5lKEhzbCwgaHNsLCBleHRlbmQoQ29sb3IsIHtcbiAgYnJpZ2h0ZXIoaykge1xuICAgIGsgPSBrID09IG51bGwgPyBicmlnaHRlciA6IE1hdGgucG93KGJyaWdodGVyLCBrKTtcbiAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgcmdiKCkge1xuICAgIHZhciBoID0gdGhpcy5oICUgMzYwICsgKHRoaXMuaCA8IDApICogMzYwLFxuICAgICAgICBzID0gaXNOYU4oaCkgfHwgaXNOYU4odGhpcy5zKSA/IDAgOiB0aGlzLnMsXG4gICAgICAgIGwgPSB0aGlzLmwsXG4gICAgICAgIG0yID0gbCArIChsIDwgMC41ID8gbCA6IDEgLSBsKSAqIHMsXG4gICAgICAgIG0xID0gMiAqIGwgLSBtMjtcbiAgICByZXR1cm4gbmV3IFJnYihcbiAgICAgIGhzbDJyZ2IoaCA+PSAyNDAgPyBoIC0gMjQwIDogaCArIDEyMCwgbTEsIG0yKSxcbiAgICAgIGhzbDJyZ2IoaCwgbTEsIG0yKSxcbiAgICAgIGhzbDJyZ2IoaCA8IDEyMCA/IGggKyAyNDAgOiBoIC0gMTIwLCBtMSwgbTIpLFxuICAgICAgdGhpcy5vcGFjaXR5XG4gICAgKTtcbiAgfSxcbiAgY2xhbXAoKSB7XG4gICAgcmV0dXJuIG5ldyBIc2woY2xhbXBoKHRoaXMuaCksIGNsYW1wdCh0aGlzLnMpLCBjbGFtcHQodGhpcy5sKSwgY2xhbXBhKHRoaXMub3BhY2l0eSkpO1xuICB9LFxuICBkaXNwbGF5YWJsZSgpIHtcbiAgICByZXR1cm4gKDAgPD0gdGhpcy5zICYmIHRoaXMucyA8PSAxIHx8IGlzTmFOKHRoaXMucykpXG4gICAgICAgICYmICgwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxKTtcbiAgfSxcbiAgZm9ybWF0SHNsKCkge1xuICAgIGNvbnN0IGEgPSBjbGFtcGEodGhpcy5vcGFjaXR5KTtcbiAgICByZXR1cm4gYCR7YSA9PT0gMSA/IFwiaHNsKFwiIDogXCJoc2xhKFwifSR7Y2xhbXBoKHRoaXMuaCl9LCAke2NsYW1wdCh0aGlzLnMpICogMTAwfSUsICR7Y2xhbXB0KHRoaXMubCkgKiAxMDB9JSR7YSA9PT0gMSA/IFwiKVwiIDogYCwgJHthfSlgfWA7XG4gIH1cbn0pKTtcblxuZnVuY3Rpb24gY2xhbXBoKHZhbHVlKSB7XG4gIHZhbHVlID0gKHZhbHVlIHx8IDApICUgMzYwO1xuICByZXR1cm4gdmFsdWUgPCAwID8gdmFsdWUgKyAzNjAgOiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gY2xhbXB0KHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2YWx1ZSB8fCAwKSk7XG59XG5cbi8qIEZyb20gRnZEIDEzLjM3LCBDU1MgQ29sb3IgTW9kdWxlIExldmVsIDMgKi9cbmZ1bmN0aW9uIGhzbDJyZ2IoaCwgbTEsIG0yKSB7XG4gIHJldHVybiAoaCA8IDYwID8gbTEgKyAobTIgLSBtMSkgKiBoIC8gNjBcbiAgICAgIDogaCA8IDE4MCA/IG0yXG4gICAgICA6IGggPCAyNDAgPyBtMSArIChtMiAtIG0xKSAqICgyNDAgLSBoKSAvIDYwXG4gICAgICA6IG0xKSAqIDI1NTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gYmFzaXModDEsIHYwLCB2MSwgdjIsIHYzKSB7XG4gIHZhciB0MiA9IHQxICogdDEsIHQzID0gdDIgKiB0MTtcbiAgcmV0dXJuICgoMSAtIDMgKiB0MSArIDMgKiB0MiAtIHQzKSAqIHYwXG4gICAgICArICg0IC0gNiAqIHQyICsgMyAqIHQzKSAqIHYxXG4gICAgICArICgxICsgMyAqIHQxICsgMyAqIHQyIC0gMyAqIHQzKSAqIHYyXG4gICAgICArIHQzICogdjMpIC8gNjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzKSB7XG4gIHZhciBuID0gdmFsdWVzLmxlbmd0aCAtIDE7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdmFyIGkgPSB0IDw9IDAgPyAodCA9IDApIDogdCA+PSAxID8gKHQgPSAxLCBuIC0gMSkgOiBNYXRoLmZsb29yKHQgKiBuKSxcbiAgICAgICAgdjEgPSB2YWx1ZXNbaV0sXG4gICAgICAgIHYyID0gdmFsdWVzW2kgKyAxXSxcbiAgICAgICAgdjAgPSBpID4gMCA/IHZhbHVlc1tpIC0gMV0gOiAyICogdjEgLSB2MixcbiAgICAgICAgdjMgPSBpIDwgbiAtIDEgPyB2YWx1ZXNbaSArIDJdIDogMiAqIHYyIC0gdjE7XG4gICAgcmV0dXJuIGJhc2lzKCh0IC0gaSAvIG4pICogbiwgdjAsIHYxLCB2MiwgdjMpO1xuICB9O1xufVxuIiwgImltcG9ydCB7YmFzaXN9IGZyb20gXCIuL2Jhc2lzLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlcykge1xuICB2YXIgbiA9IHZhbHVlcy5sZW5ndGg7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKCgodCAlPSAxKSA8IDAgPyArK3QgOiB0KSAqIG4pLFxuICAgICAgICB2MCA9IHZhbHVlc1soaSArIG4gLSAxKSAlIG5dLFxuICAgICAgICB2MSA9IHZhbHVlc1tpICUgbl0sXG4gICAgICAgIHYyID0gdmFsdWVzWyhpICsgMSkgJSBuXSxcbiAgICAgICAgdjMgPSB2YWx1ZXNbKGkgKyAyKSAlIG5dO1xuICAgIHJldHVybiBiYXNpcygodCAtIGkgLyBuKSAqIG4sIHYwLCB2MSwgdjIsIHYzKTtcbiAgfTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCB4ID0+ICgpID0+IHg7XG4iLCAiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGxpbmVhcihhLCBkKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKyB0ICogZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwb25lbnRpYWwoYSwgYiwgeSkge1xuICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coYSArIHQgKiBiLCB5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQgPiAxODAgfHwgZCA8IC0xODAgPyBkIC0gMzYwICogTWF0aC5yb3VuZChkIC8gMzYwKSA6IGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYSh5KSB7XG4gIHJldHVybiAoeSA9ICt5KSA9PT0gMSA/IG5vZ2FtbWEgOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIgLSBhID8gZXhwb25lbnRpYWwoYSwgYiwgeSkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9nYW1tYShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG4iLCAiaW1wb3J0IHtyZ2IgYXMgY29sb3JSZ2J9IGZyb20gXCJkMy1jb2xvclwiO1xuaW1wb3J0IGJhc2lzIGZyb20gXCIuL2Jhc2lzLmpzXCI7XG5pbXBvcnQgYmFzaXNDbG9zZWQgZnJvbSBcIi4vYmFzaXNDbG9zZWQuanNcIjtcbmltcG9ydCBub2dhbW1hLCB7Z2FtbWF9IGZyb20gXCIuL2NvbG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiByZ2JHYW1tYSh5KSB7XG4gIHZhciBjb2xvciA9IGdhbW1hKHkpO1xuXG4gIGZ1bmN0aW9uIHJnYihzdGFydCwgZW5kKSB7XG4gICAgdmFyIHIgPSBjb2xvcigoc3RhcnQgPSBjb2xvclJnYihzdGFydCkpLnIsIChlbmQgPSBjb2xvclJnYihlbmQpKS5yKSxcbiAgICAgICAgZyA9IGNvbG9yKHN0YXJ0LmcsIGVuZC5nKSxcbiAgICAgICAgYiA9IGNvbG9yKHN0YXJ0LmIsIGVuZC5iKSxcbiAgICAgICAgb3BhY2l0eSA9IG5vZ2FtbWEoc3RhcnQub3BhY2l0eSwgZW5kLm9wYWNpdHkpO1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICBzdGFydC5yID0gcih0KTtcbiAgICAgIHN0YXJ0LmcgPSBnKHQpO1xuICAgICAgc3RhcnQuYiA9IGIodCk7XG4gICAgICBzdGFydC5vcGFjaXR5ID0gb3BhY2l0eSh0KTtcbiAgICAgIHJldHVybiBzdGFydCArIFwiXCI7XG4gICAgfTtcbiAgfVxuXG4gIHJnYi5nYW1tYSA9IHJnYkdhbW1hO1xuXG4gIHJldHVybiByZ2I7XG59KSgxKTtcblxuZnVuY3Rpb24gcmdiU3BsaW5lKHNwbGluZSkge1xuICByZXR1cm4gZnVuY3Rpb24oY29sb3JzKSB7XG4gICAgdmFyIG4gPSBjb2xvcnMubGVuZ3RoLFxuICAgICAgICByID0gbmV3IEFycmF5KG4pLFxuICAgICAgICBnID0gbmV3IEFycmF5KG4pLFxuICAgICAgICBiID0gbmV3IEFycmF5KG4pLFxuICAgICAgICBpLCBjb2xvcjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBjb2xvciA9IGNvbG9yUmdiKGNvbG9yc1tpXSk7XG4gICAgICByW2ldID0gY29sb3IuciB8fCAwO1xuICAgICAgZ1tpXSA9IGNvbG9yLmcgfHwgMDtcbiAgICAgIGJbaV0gPSBjb2xvci5iIHx8IDA7XG4gICAgfVxuICAgIHIgPSBzcGxpbmUocik7XG4gICAgZyA9IHNwbGluZShnKTtcbiAgICBiID0gc3BsaW5lKGIpO1xuICAgIGNvbG9yLm9wYWNpdHkgPSAxO1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICBjb2xvci5yID0gcih0KTtcbiAgICAgIGNvbG9yLmcgPSBnKHQpO1xuICAgICAgY29sb3IuYiA9IGIodCk7XG4gICAgICByZXR1cm4gY29sb3IgKyBcIlwiO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgcmdiQmFzaXMgPSByZ2JTcGxpbmUoYmFzaXMpO1xuZXhwb3J0IHZhciByZ2JCYXNpc0Nsb3NlZCA9IHJnYlNwbGluZShiYXNpc0Nsb3NlZCk7XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9ICthLCBiID0gK2IsIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDtcbiAgfTtcbn1cbiIsICJpbXBvcnQgbnVtYmVyIGZyb20gXCIuL251bWJlci5qc1wiO1xuXG52YXIgcmVBID0gL1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLFxuICAgIHJlQiA9IG5ldyBSZWdFeHAocmVBLnNvdXJjZSwgXCJnXCIpO1xuXG5mdW5jdGlvbiB6ZXJvKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBiO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbmUoYikge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBiKHQpICsgXCJcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYmkgPSByZUEubGFzdEluZGV4ID0gcmVCLmxhc3RJbmRleCA9IDAsIC8vIHNjYW4gaW5kZXggZm9yIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGFtLCAvLyBjdXJyZW50IG1hdGNoIGluIGFcbiAgICAgIGJtLCAvLyBjdXJyZW50IG1hdGNoIGluIGJcbiAgICAgIGJzLCAvLyBzdHJpbmcgcHJlY2VkaW5nIGN1cnJlbnQgbnVtYmVyIGluIGIsIGlmIGFueVxuICAgICAgaSA9IC0xLCAvLyBpbmRleCBpbiBzXG4gICAgICBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuXG4gIC8vIENvZXJjZSBpbnB1dHMgdG8gc3RyaW5ncy5cbiAgYSA9IGEgKyBcIlwiLCBiID0gYiArIFwiXCI7XG5cbiAgLy8gSW50ZXJwb2xhdGUgcGFpcnMgb2YgbnVtYmVycyBpbiBhICYgYi5cbiAgd2hpbGUgKChhbSA9IHJlQS5leGVjKGEpKVxuICAgICAgJiYgKGJtID0gcmVCLmV4ZWMoYikpKSB7XG4gICAgaWYgKChicyA9IGJtLmluZGV4KSA+IGJpKSB7IC8vIGEgc3RyaW5nIHByZWNlZGVzIHRoZSBuZXh0IG51bWJlciBpbiBiXG4gICAgICBicyA9IGIuc2xpY2UoYmksIGJzKTtcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBicztcbiAgICB9XG4gICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7IC8vIG51bWJlcnMgaW4gYSAmIGIgbWF0Y2hcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBibTtcbiAgICB9IGVsc2UgeyAvLyBpbnRlcnBvbGF0ZSBub24tbWF0Y2hpbmcgbnVtYmVyc1xuICAgICAgc1srK2ldID0gbnVsbDtcbiAgICAgIHEucHVzaCh7aTogaSwgeDogbnVtYmVyKGFtLCBibSl9KTtcbiAgICB9XG4gICAgYmkgPSByZUIubGFzdEluZGV4O1xuICB9XG5cbiAgLy8gQWRkIHJlbWFpbnMgb2YgYi5cbiAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICBicyA9IGIuc2xpY2UoYmkpO1xuICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gIH1cblxuICAvLyBTcGVjaWFsIG9wdGltaXphdGlvbiBmb3Igb25seSBhIHNpbmdsZSBtYXRjaC5cbiAgLy8gT3RoZXJ3aXNlLCBpbnRlcnBvbGF0ZSBlYWNoIG9mIHRoZSBudW1iZXJzIGFuZCByZWpvaW4gdGhlIHN0cmluZy5cbiAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IChxWzBdXG4gICAgICA/IG9uZShxWzBdLngpXG4gICAgICA6IHplcm8oYikpXG4gICAgICA6IChiID0gcS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xufVxuIiwgInZhciBkZWdyZWVzID0gMTgwIC8gTWF0aC5QSTtcblxuZXhwb3J0IHZhciBpZGVudGl0eSA9IHtcbiAgdHJhbnNsYXRlWDogMCxcbiAgdHJhbnNsYXRlWTogMCxcbiAgcm90YXRlOiAwLFxuICBza2V3WDogMCxcbiAgc2NhbGVYOiAxLFxuICBzY2FsZVk6IDFcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFyIHNjYWxlWCwgc2NhbGVZLCBza2V3WDtcbiAgaWYgKHNjYWxlWCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKSkgYSAvPSBzY2FsZVgsIGIgLz0gc2NhbGVYO1xuICBpZiAoc2tld1ggPSBhICogYyArIGIgKiBkKSBjIC09IGEgKiBza2V3WCwgZCAtPSBiICogc2tld1g7XG4gIGlmIChzY2FsZVkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCkpIGMgLz0gc2NhbGVZLCBkIC89IHNjYWxlWSwgc2tld1ggLz0gc2NhbGVZO1xuICBpZiAoYSAqIGQgPCBiICogYykgYSA9IC1hLCBiID0gLWIsIHNrZXdYID0gLXNrZXdYLCBzY2FsZVggPSAtc2NhbGVYO1xuICByZXR1cm4ge1xuICAgIHRyYW5zbGF0ZVg6IGUsXG4gICAgdHJhbnNsYXRlWTogZixcbiAgICByb3RhdGU6IE1hdGguYXRhbjIoYiwgYSkgKiBkZWdyZWVzLFxuICAgIHNrZXdYOiBNYXRoLmF0YW4oc2tld1gpICogZGVncmVlcyxcbiAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICBzY2FsZVk6IHNjYWxlWVxuICB9O1xufVxuIiwgImltcG9ydCBkZWNvbXBvc2UsIHtpZGVudGl0eX0gZnJvbSBcIi4vZGVjb21wb3NlLmpzXCI7XG5cbnZhciBzdmdOb2RlO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ3NzKHZhbHVlKSB7XG4gIGNvbnN0IG0gPSBuZXcgKHR5cGVvZiBET01NYXRyaXggPT09IFwiZnVuY3Rpb25cIiA/IERPTU1hdHJpeCA6IFdlYktpdENTU01hdHJpeCkodmFsdWUgKyBcIlwiKTtcbiAgcmV0dXJuIG0uaXNJZGVudGl0eSA/IGlkZW50aXR5IDogZGVjb21wb3NlKG0uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTdmcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTtcbiAgaWYgKCFzdmdOb2RlKSBzdmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpO1xuICBzdmdOb2RlLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCB2YWx1ZSk7XG4gIGlmICghKHZhbHVlID0gc3ZnTm9kZS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpKSkgcmV0dXJuIGlkZW50aXR5O1xuICB2YWx1ZSA9IHZhbHVlLm1hdHJpeDtcbiAgcmV0dXJuIGRlY29tcG9zZSh2YWx1ZS5hLCB2YWx1ZS5iLCB2YWx1ZS5jLCB2YWx1ZS5kLCB2YWx1ZS5lLCB2YWx1ZS5mKTtcbn1cbiIsICJpbXBvcnQgbnVtYmVyIGZyb20gXCIuLi9udW1iZXIuanNcIjtcbmltcG9ydCB7cGFyc2VDc3MsIHBhcnNlU3ZnfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZSwgcHhDb21tYSwgcHhQYXJlbiwgZGVnUGFyZW4pIHtcblxuICBmdW5jdGlvbiBwb3Aocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA/IHMucG9wKCkgKyBcIiBcIiA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2goXCJ0cmFuc2xhdGUoXCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiB8fCB5Yikge1xuICAgICAgcy5wdXNoKFwidHJhbnNsYXRlKFwiICsgeGIgKyBweENvbW1hICsgeWIgKyBweFBhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSAtIGIgPiAxODApIGIgKz0gMzYwOyBlbHNlIGlmIChiIC0gYSA+IDE4MCkgYSArPSAzNjA7IC8vIHNob3J0ZXN0IHBhdGhcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiLCBudWxsLCBcIixcIiwgbnVsbCwgXCIpXCIpO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiAhPT0gMSB8fCB5YiAhPT0gMSkge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIgKyB4YiArIFwiLFwiICsgeWIgKyBcIilcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuICAgIGEgPSBwYXJzZShhKSwgYiA9IHBhcnNlKGIpO1xuICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpO1xuICAgIHJvdGF0ZShhLnJvdGF0ZSwgYi5yb3RhdGUsIHMsIHEpO1xuICAgIHNrZXdYKGEuc2tld1gsIGIuc2tld1gsIHMsIHEpO1xuICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTtcbiAgICBhID0gYiA9IG51bGw7IC8vIGdjXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBpID0gLTEsIG4gPSBxLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZUNzcywgXCJweCwgXCIsIFwicHgpXCIsIFwiZGVnKVwiKTtcbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZVN2ZywgXCIsIFwiLCBcIilcIiwgXCIpXCIpO1xuIiwgInZhciBlcHNpbG9uMiA9IDFlLTEyO1xuXG5mdW5jdGlvbiBjb3NoKHgpIHtcbiAgcmV0dXJuICgoeCA9IE1hdGguZXhwKHgpKSArIDEgLyB4KSAvIDI7XG59XG5cbmZ1bmN0aW9uIHNpbmgoeCkge1xuICByZXR1cm4gKCh4ID0gTWF0aC5leHAoeCkpIC0gMSAvIHgpIC8gMjtcbn1cblxuZnVuY3Rpb24gdGFuaCh4KSB7XG4gIHJldHVybiAoKHggPSBNYXRoLmV4cCgyICogeCkpIC0gMSkgLyAoeCArIDEpO1xufVxuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gem9vbVJobyhyaG8sIHJobzIsIHJobzQpIHtcblxuICAvLyBwMCA9IFt1eDAsIHV5MCwgdzBdXG4gIC8vIHAxID0gW3V4MSwgdXkxLCB3MV1cbiAgZnVuY3Rpb24gem9vbShwMCwgcDEpIHtcbiAgICB2YXIgdXgwID0gcDBbMF0sIHV5MCA9IHAwWzFdLCB3MCA9IHAwWzJdLFxuICAgICAgICB1eDEgPSBwMVswXSwgdXkxID0gcDFbMV0sIHcxID0gcDFbMl0sXG4gICAgICAgIGR4ID0gdXgxIC0gdXgwLFxuICAgICAgICBkeSA9IHV5MSAtIHV5MCxcbiAgICAgICAgZDIgPSBkeCAqIGR4ICsgZHkgKiBkeSxcbiAgICAgICAgaSxcbiAgICAgICAgUztcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdTAgXHUyMjQ1IHUxLlxuICAgIGlmIChkMiA8IGVwc2lsb24yKSB7XG4gICAgICBTID0gTWF0aC5sb2codzEgLyB3MCkgLyByaG87XG4gICAgICBpID0gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHV4MCArIHQgKiBkeCxcbiAgICAgICAgICB1eTAgKyB0ICogZHksXG4gICAgICAgICAgdzAgKiBNYXRoLmV4cChyaG8gKiB0ICogUylcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZW5lcmFsIGNhc2UuXG4gICAgZWxzZSB7XG4gICAgICB2YXIgZDEgPSBNYXRoLnNxcnQoZDIpLFxuICAgICAgICAgIGIwID0gKHcxICogdzEgLSB3MCAqIHcwICsgcmhvNCAqIGQyKSAvICgyICogdzAgKiByaG8yICogZDEpLFxuICAgICAgICAgIGIxID0gKHcxICogdzEgLSB3MCAqIHcwIC0gcmhvNCAqIGQyKSAvICgyICogdzEgKiByaG8yICogZDEpLFxuICAgICAgICAgIHIwID0gTWF0aC5sb2coTWF0aC5zcXJ0KGIwICogYjAgKyAxKSAtIGIwKSxcbiAgICAgICAgICByMSA9IE1hdGgubG9nKE1hdGguc3FydChiMSAqIGIxICsgMSkgLSBiMSk7XG4gICAgICBTID0gKHIxIC0gcjApIC8gcmhvO1xuICAgICAgaSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgdmFyIHMgPSB0ICogUyxcbiAgICAgICAgICAgIGNvc2hyMCA9IGNvc2gocjApLFxuICAgICAgICAgICAgdSA9IHcwIC8gKHJobzIgKiBkMSkgKiAoY29zaHIwICogdGFuaChyaG8gKiBzICsgcjApIC0gc2luaChyMCkpO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHV4MCArIHUgKiBkeCxcbiAgICAgICAgICB1eTAgKyB1ICogZHksXG4gICAgICAgICAgdzAgKiBjb3NocjAgLyBjb3NoKHJobyAqIHMgKyByMClcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpLmR1cmF0aW9uID0gUyAqIDEwMDAgKiByaG8gLyBNYXRoLlNRUlQyO1xuXG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICB6b29tLnJobyA9IGZ1bmN0aW9uKF8pIHtcbiAgICB2YXIgXzEgPSBNYXRoLm1heCgxZS0zLCArXyksIF8yID0gXzEgKiBfMSwgXzQgPSBfMiAqIF8yO1xuICAgIHJldHVybiB6b29tUmhvKF8xLCBfMiwgXzQpO1xuICB9O1xuXG4gIHJldHVybiB6b29tO1xufSkoTWF0aC5TUVJUMiwgMiwgNCk7XG4iLCAidmFyIGZyYW1lID0gMCwgLy8gaXMgYW4gYW5pbWF0aW9uIGZyYW1lIHBlbmRpbmc/XG4gICAgdGltZW91dCA9IDAsIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nP1xuICAgIGludGVydmFsID0gMCwgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlP1xuICAgIHBva2VEZWxheSA9IDEwMDAsIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3XG4gICAgdGFza0hlYWQsXG4gICAgdGFza1RhaWwsXG4gICAgY2xvY2tMYXN0ID0gMCxcbiAgICBjbG9ja05vdyA9IDAsXG4gICAgY2xvY2tTa2V3ID0gMCxcbiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJvYmplY3RcIiAmJiBwZXJmb3JtYW5jZS5ub3cgPyBwZXJmb3JtYW5jZSA6IERhdGUsXG4gICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSA6IGZ1bmN0aW9uKGYpIHsgc2V0VGltZW91dChmLCAxNyk7IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBjbG9ja05vdyB8fCAoc2V0RnJhbWUoY2xlYXJOb3cpLCBjbG9ja05vdyA9IGNsb2NrLm5vdygpICsgY2xvY2tTa2V3KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOb3coKSB7XG4gIGNsb2NrTm93ID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVyKCkge1xuICB0aGlzLl9jYWxsID1cbiAgdGhpcy5fdGltZSA9XG4gIHRoaXMuX25leHQgPSBudWxsO1xufVxuXG5UaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUaW1lcixcbiAgcmVzdGFydDogZnVuY3Rpb24oY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgdGltZSA9ICh0aW1lID09IG51bGwgPyBub3coKSA6ICt0aW1lKSArIChkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheSk7XG4gICAgaWYgKCF0aGlzLl9uZXh0ICYmIHRhc2tUYWlsICE9PSB0aGlzKSB7XG4gICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztcbiAgICAgIGVsc2UgdGFza0hlYWQgPSB0aGlzO1xuICAgICAgdGFza1RhaWwgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9jYWxsID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgc2xlZXAoKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2NhbGwpIHtcbiAgICAgIHRoaXMuX2NhbGwgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5O1xuICAgICAgc2xlZXAoKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7XG4gIG5vdygpOyAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSwgaWYgbm90IGFscmVhZHkgc2V0LlxuICArK2ZyYW1lOyAvLyBQcmV0ZW5kIHdlXHUyMDE5dmUgc2V0IGFuIGFsYXJtLCBpZiB3ZSBoYXZlblx1MjAxOXQgYWxyZWFkeS5cbiAgdmFyIHQgPSB0YXNrSGVhZCwgZTtcbiAgd2hpbGUgKHQpIHtcbiAgICBpZiAoKGUgPSBjbG9ja05vdyAtIHQuX3RpbWUpID49IDApIHQuX2NhbGwuY2FsbCh1bmRlZmluZWQsIGUpO1xuICAgIHQgPSB0Ll9uZXh0O1xuICB9XG4gIC0tZnJhbWU7XG59XG5cbmZ1bmN0aW9uIHdha2UoKSB7XG4gIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldztcbiAgZnJhbWUgPSB0aW1lb3V0ID0gMDtcbiAgdHJ5IHtcbiAgICB0aW1lckZsdXNoKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZnJhbWUgPSAwO1xuICAgIG5hcCgpO1xuICAgIGNsb2NrTm93ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2tlKCkge1xuICB2YXIgbm93ID0gY2xvY2subm93KCksIGRlbGF5ID0gbm93IC0gY2xvY2tMYXN0O1xuICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93O1xufVxuXG5mdW5jdGlvbiBuYXAoKSB7XG4gIHZhciB0MCwgdDEgPSB0YXNrSGVhZCwgdDIsIHRpbWUgPSBJbmZpbml0eTtcbiAgd2hpbGUgKHQxKSB7XG4gICAgaWYgKHQxLl9jYWxsKSB7XG4gICAgICBpZiAodGltZSA+IHQxLl90aW1lKSB0aW1lID0gdDEuX3RpbWU7XG4gICAgICB0MCA9IHQxLCB0MSA9IHQxLl9uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9IHQxLl9uZXh0LCB0MS5fbmV4dCA9IG51bGw7XG4gICAgICB0MSA9IHQwID8gdDAuX25leHQgPSB0MiA6IHRhc2tIZWFkID0gdDI7XG4gICAgfVxuICB9XG4gIHRhc2tUYWlsID0gdDA7XG4gIHNsZWVwKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gIGlmIChmcmFtZSkgcmV0dXJuOyAvLyBTb29uZXN0IGFsYXJtIGFscmVhZHkgc2V0LCBvciB3aWxsIGJlLlxuICBpZiAodGltZW91dCkgdGltZW91dCA9IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy5cbiAgaWYgKGRlbGF5ID4gMjQpIHtcbiAgICBpZiAodGltZSA8IEluZmluaXR5KSB0aW1lb3V0ID0gc2V0VGltZW91dCh3YWtlLCB0aW1lIC0gY2xvY2subm93KCkgLSBjbG9ja1NrZXcpO1xuICAgIGlmIChpbnRlcnZhbCkgaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWludGVydmFsKSBjbG9ja0xhc3QgPSBjbG9jay5ub3coKSwgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwb2tlLCBwb2tlRGVsYXkpO1xuICAgIGZyYW1lID0gMSwgc2V0RnJhbWUod2FrZSk7XG4gIH1cbn1cbiIsICJpbXBvcnQge1RpbWVyfSBmcm9tIFwiLi90aW1lci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIGRlbGF5ID0gZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXk7XG4gIHQucmVzdGFydChlbGFwc2VkID0+IHtcbiAgICB0LnN0b3AoKTtcbiAgICBjYWxsYmFjayhlbGFwc2VkICsgZGVsYXkpO1xuICB9LCBkZWxheSwgdGltZSk7XG4gIHJldHVybiB0O1xufVxuIiwgImltcG9ydCB7ZGlzcGF0Y2h9IGZyb20gXCJkMy1kaXNwYXRjaFwiO1xuaW1wb3J0IHt0aW1lciwgdGltZW91dH0gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBlbXB0eU9uID0gZGlzcGF0Y2goXCJzdGFydFwiLCBcImVuZFwiLCBcImNhbmNlbFwiLCBcImludGVycnVwdFwiKTtcbnZhciBlbXB0eVR3ZWVuID0gW107XG5cbmV4cG9ydCB2YXIgQ1JFQVRFRCA9IDA7XG5leHBvcnQgdmFyIFNDSEVEVUxFRCA9IDE7XG5leHBvcnQgdmFyIFNUQVJUSU5HID0gMjtcbmV4cG9ydCB2YXIgU1RBUlRFRCA9IDM7XG5leHBvcnQgdmFyIFJVTk5JTkcgPSA0O1xuZXhwb3J0IHZhciBFTkRJTkcgPSA1O1xuZXhwb3J0IHZhciBFTkRFRCA9IDY7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIGlkLCBpbmRleCwgZ3JvdXAsIHRpbWluZykge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb247XG4gIGlmICghc2NoZWR1bGVzKSBub2RlLl9fdHJhbnNpdGlvbiA9IHt9O1xuICBlbHNlIGlmIChpZCBpbiBzY2hlZHVsZXMpIHJldHVybjtcbiAgY3JlYXRlKG5vZGUsIGlkLCB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBpbmRleDogaW5kZXgsIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay5cbiAgICBncm91cDogZ3JvdXAsIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay5cbiAgICBvbjogZW1wdHlPbixcbiAgICB0d2VlbjogZW1wdHlUd2VlbixcbiAgICB0aW1lOiB0aW1pbmcudGltZSxcbiAgICBkZWxheTogdGltaW5nLmRlbGF5LFxuICAgIGR1cmF0aW9uOiB0aW1pbmcuZHVyYXRpb24sXG4gICAgZWFzZTogdGltaW5nLmVhc2UsXG4gICAgdGltZXI6IG51bGwsXG4gICAgc3RhdGU6IENSRUFURURcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KG5vZGUsIGlkKSB7XG4gIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7XG4gIGlmIChzY2hlZHVsZS5zdGF0ZSA+IENSRUFURUQpIHRocm93IG5ldyBFcnJvcihcInRvbyBsYXRlOyBhbHJlYWR5IHNjaGVkdWxlZFwiKTtcbiAgcmV0dXJuIHNjaGVkdWxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG5vZGUsIGlkKSB7XG4gIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7XG4gIGlmIChzY2hlZHVsZS5zdGF0ZSA+IFNUQVJURUQpIHRocm93IG5ldyBFcnJvcihcInRvbyBsYXRlOyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBub2RlLl9fdHJhbnNpdGlvbjtcbiAgaWYgKCFzY2hlZHVsZSB8fCAhKHNjaGVkdWxlID0gc2NoZWR1bGVbaWRdKSkgdGhyb3cgbmV3IEVycm9yKFwidHJhbnNpdGlvbiBub3QgZm91bmRcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGlkLCBzZWxmKSB7XG4gIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbixcbiAgICAgIHR3ZWVuO1xuXG4gIC8vIEluaXRpYWxpemUgdGhlIHNlbGYgdGltZXIgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLlxuICAvLyBOb3RlIHRoZSBhY3R1YWwgZGVsYXkgaXMgbm90IGtub3duIHVudGlsIHRoZSBmaXJzdCBjYWxsYmFjayFcbiAgc2NoZWR1bGVzW2lkXSA9IHNlbGY7XG4gIHNlbGYudGltZXIgPSB0aW1lcihzY2hlZHVsZSwgMCwgc2VsZi50aW1lKTtcblxuICBmdW5jdGlvbiBzY2hlZHVsZShlbGFwc2VkKSB7XG4gICAgc2VsZi5zdGF0ZSA9IFNDSEVEVUxFRDtcbiAgICBzZWxmLnRpbWVyLnJlc3RhcnQoc3RhcnQsIHNlbGYuZGVsYXksIHNlbGYudGltZSk7XG5cbiAgICAvLyBJZiB0aGUgZWxhcHNlZCBkZWxheSBpcyBsZXNzIHRoYW4gb3VyIGZpcnN0IHNsZWVwLCBzdGFydCBpbW1lZGlhdGVseS5cbiAgICBpZiAoc2VsZi5kZWxheSA8PSBlbGFwc2VkKSBzdGFydChlbGFwc2VkIC0gc2VsZi5kZWxheSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydChlbGFwc2VkKSB7XG4gICAgdmFyIGksIGosIG4sIG87XG5cbiAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90IFNDSEVEVUxFRCwgdGhlbiB3ZSBwcmV2aW91c2x5IGVycm9yZWQgb24gc3RhcnQuXG4gICAgaWYgKHNlbGYuc3RhdGUgIT09IFNDSEVEVUxFRCkgcmV0dXJuIHN0b3AoKTtcblxuICAgIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICAgIG8gPSBzY2hlZHVsZXNbaV07XG4gICAgICBpZiAoby5uYW1lICE9PSBzZWxmLm5hbWUpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBXaGlsZSB0aGlzIGVsZW1lbnQgYWxyZWFkeSBoYXMgYSBzdGFydGluZyB0cmFuc2l0aW9uIGR1cmluZyB0aGlzIGZyYW1lLFxuICAgICAgLy8gZGVmZXIgc3RhcnRpbmcgYW4gaW50ZXJydXB0aW5nIHRyYW5zaXRpb24gdW50aWwgdGhhdCB0cmFuc2l0aW9uIGhhcyBhXG4gICAgICAvLyBjaGFuY2UgdG8gdGljayAoYW5kIHBvc3NpYmx5IGVuZCk7IHNlZSBkMy9kMy10cmFuc2l0aW9uIzU0IVxuICAgICAgaWYgKG8uc3RhdGUgPT09IFNUQVJURUQpIHJldHVybiB0aW1lb3V0KHN0YXJ0KTtcblxuICAgICAgLy8gSW50ZXJydXB0IHRoZSBhY3RpdmUgdHJhbnNpdGlvbiwgaWYgYW55LlxuICAgICAgaWYgKG8uc3RhdGUgPT09IFJVTk5JTkcpIHtcbiAgICAgICAgby5zdGF0ZSA9IEVOREVEO1xuICAgICAgICBvLnRpbWVyLnN0b3AoKTtcbiAgICAgICAgby5vbi5jYWxsKFwiaW50ZXJydXB0XCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApO1xuICAgICAgICBkZWxldGUgc2NoZWR1bGVzW2ldO1xuICAgICAgfVxuXG4gICAgICAvLyBDYW5jZWwgYW55IHByZS1lbXB0ZWQgdHJhbnNpdGlvbnMuXG4gICAgICBlbHNlIGlmICgraSA8IGlkKSB7XG4gICAgICAgIG8uc3RhdGUgPSBFTkRFRDtcbiAgICAgICAgby50aW1lci5zdG9wKCk7XG4gICAgICAgIG8ub24uY2FsbChcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTtcbiAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWZlciB0aGUgZmlyc3QgdGljayB0byBlbmQgb2YgdGhlIGN1cnJlbnQgZnJhbWU7IHNlZSBkMy9kMyMxNTc2LlxuICAgIC8vIE5vdGUgdGhlIHRyYW5zaXRpb24gbWF5IGJlIGNhbmNlbGVkIGFmdGVyIHN0YXJ0IGFuZCBiZWZvcmUgdGhlIGZpcnN0IHRpY2shXG4gICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgc2NoZWR1bGVkIGJlZm9yZSB0aGUgc3RhcnQgZXZlbnQ7IHNlZSBkMy9kMy10cmFuc2l0aW9uIzE2IVxuICAgIC8vIEFzc3VtaW5nIHRoaXMgaXMgc3VjY2Vzc2Z1bCwgc3Vic2VxdWVudCBjYWxsYmFja3MgZ28gc3RyYWlnaHQgdG8gdGljay5cbiAgICB0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09IFNUQVJURUQpIHtcbiAgICAgICAgc2VsZi5zdGF0ZSA9IFJVTk5JTkc7XG4gICAgICAgIHNlbGYudGltZXIucmVzdGFydCh0aWNrLCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpO1xuICAgICAgICB0aWNrKGVsYXBzZWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGlzcGF0Y2ggdGhlIHN0YXJ0IGV2ZW50LlxuICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIGRvbmUgYmVmb3JlIHRoZSB0d2VlbiBhcmUgaW5pdGlhbGl6ZWQuXG4gICAgc2VsZi5zdGF0ZSA9IFNUQVJUSU5HO1xuICAgIHNlbGYub24uY2FsbChcInN0YXJ0XCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApO1xuICAgIGlmIChzZWxmLnN0YXRlICE9PSBTVEFSVElORykgcmV0dXJuOyAvLyBpbnRlcnJ1cHRlZFxuICAgIHNlbGYuc3RhdGUgPSBTVEFSVEVEO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgdHdlZW4sIGRlbGV0aW5nIG51bGwgdHdlZW4uXG4gICAgdHdlZW4gPSBuZXcgQXJyYXkobiA9IHNlbGYudHdlZW4ubGVuZ3RoKTtcbiAgICBmb3IgKGkgPSAwLCBqID0gLTE7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChvID0gc2VsZi50d2VlbltpXS52YWx1ZS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApKSB7XG4gICAgICAgIHR3ZWVuWysral0gPSBvO1xuICAgICAgfVxuICAgIH1cbiAgICB0d2Vlbi5sZW5ndGggPSBqICsgMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpY2soZWxhcHNlZCkge1xuICAgIHZhciB0ID0gZWxhcHNlZCA8IHNlbGYuZHVyYXRpb24gPyBzZWxmLmVhc2UuY2FsbChudWxsLCBlbGFwc2VkIC8gc2VsZi5kdXJhdGlvbikgOiAoc2VsZi50aW1lci5yZXN0YXJ0KHN0b3ApLCBzZWxmLnN0YXRlID0gRU5ESU5HLCAxKSxcbiAgICAgICAgaSA9IC0xLFxuICAgICAgICBuID0gdHdlZW4ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIHR3ZWVuW2ldLmNhbGwobm9kZSwgdCk7XG4gICAgfVxuXG4gICAgLy8gRGlzcGF0Y2ggdGhlIGVuZCBldmVudC5cbiAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gRU5ESU5HKSB7XG4gICAgICBzZWxmLm9uLmNhbGwoXCJlbmRcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBzZWxmLnN0YXRlID0gRU5ERUQ7XG4gICAgc2VsZi50aW1lci5zdG9wKCk7XG4gICAgZGVsZXRlIHNjaGVkdWxlc1tpZF07XG4gICAgZm9yICh2YXIgaSBpbiBzY2hlZHVsZXMpIHJldHVybjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbiAgfVxufVxuIiwgImltcG9ydCB7U1RBUlRJTkcsIEVORElORywgRU5ERUR9IGZyb20gXCIuL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICBzY2hlZHVsZSxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGVtcHR5ID0gdHJ1ZSxcbiAgICAgIGk7XG5cbiAgaWYgKCFzY2hlZHVsZXMpIHJldHVybjtcblxuICBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyBcIlwiO1xuXG4gIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICBpZiAoKHNjaGVkdWxlID0gc2NoZWR1bGVzW2ldKS5uYW1lICE9PSBuYW1lKSB7IGVtcHR5ID0gZmFsc2U7IGNvbnRpbnVlOyB9XG4gICAgYWN0aXZlID0gc2NoZWR1bGUuc3RhdGUgPiBTVEFSVElORyAmJiBzY2hlZHVsZS5zdGF0ZSA8IEVORElORztcbiAgICBzY2hlZHVsZS5zdGF0ZSA9IEVOREVEO1xuICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTtcbiAgICBzY2hlZHVsZS5vbi5jYWxsKGFjdGl2ZSA/IFwiaW50ZXJydXB0XCIgOiBcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gIH1cblxuICBpZiAoZW1wdHkpIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbn1cbiIsICJpbXBvcnQgaW50ZXJydXB0IGZyb20gXCIuLi9pbnRlcnJ1cHQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIGludGVycnVwdCh0aGlzLCBuYW1lKTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gdHdlZW5SZW1vdmUoaWQsIG5hbWUpIHtcbiAgdmFyIHR3ZWVuMCwgdHdlZW4xO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgdHdlZW4gPSBzY2hlZHVsZS50d2VlbjtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgdHdlZW4gd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdlXHUyMDE5cmUgZG9uZSFcbiAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgaWYgKHR3ZWVuICE9PSB0d2VlbjApIHtcbiAgICAgIHR3ZWVuMSA9IHR3ZWVuMCA9IHR3ZWVuO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmICh0d2VlbjFbaV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgIHR3ZWVuMSA9IHR3ZWVuMS5zbGljZSgpO1xuICAgICAgICAgIHR3ZWVuMS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdHdlZW5GdW5jdGlvbihpZCwgbmFtZSwgdmFsdWUpIHtcbiAgdmFyIHR3ZWVuMCwgdHdlZW4xO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZVx1MjAxOXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSAodHdlZW4wID0gdHdlZW4pLnNsaWNlKCk7XG4gICAgICBmb3IgKHZhciB0ID0ge25hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZX0sIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjFbaV0gPSB0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaSA9PT0gbikgdHdlZW4xLnB1c2godCk7XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIG5hbWUgKz0gXCJcIjtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgdHdlZW4gPSBnZXQodGhpcy5ub2RlKCksIGlkKS50d2VlbjtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHR3ZWVuLmxlbmd0aCwgdDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKCh0ID0gdHdlZW5baV0pLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHQudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbCA/IHR3ZWVuUmVtb3ZlIDogdHdlZW5GdW5jdGlvbikoaWQsIG5hbWUsIHZhbHVlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0d2VlblZhbHVlKHRyYW5zaXRpb24sIG5hbWUsIHZhbHVlKSB7XG4gIHZhciBpZCA9IHRyYW5zaXRpb24uX2lkO1xuXG4gIHRyYW5zaXRpb24uZWFjaChmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpO1xuICAgIChzY2hlZHVsZS52YWx1ZSB8fCAoc2NoZWR1bGUudmFsdWUgPSB7fSkpW25hbWVdID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gZ2V0KG5vZGUsIGlkKS52YWx1ZVtuYW1lXTtcbiAgfTtcbn1cbiIsICJpbXBvcnQge2NvbG9yfSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVOdW1iZXIsIGludGVycG9sYXRlUmdiLCBpbnRlcnBvbGF0ZVN0cmluZ30gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGM7XG4gIHJldHVybiAodHlwZW9mIGIgPT09IFwibnVtYmVyXCIgPyBpbnRlcnBvbGF0ZU51bWJlclxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYlxuICAgICAgOiAoYyA9IGNvbG9yKGIpKSA/IChiID0gYywgaW50ZXJwb2xhdGVSZ2IpXG4gICAgICA6IGludGVycG9sYXRlU3RyaW5nKShhLCBiKTtcbn1cbiIsICJpbXBvcnQge2ludGVycG9sYXRlVHJhbnNmb3JtU3ZnIGFzIGludGVycG9sYXRlVHJhbnNmb3JtfSBmcm9tIFwiZDMtaW50ZXJwb2xhdGVcIjtcbmltcG9ydCB7bmFtZXNwYWNlfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUxKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIjtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMTAsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCwgdmFsdWUxID0gdmFsdWUodGhpcyksIHN0cmluZzE7XG4gICAgaWYgKHZhbHVlMSA9PSBudWxsKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIjtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKSwgaSA9IGZ1bGxuYW1lID09PSBcInRyYW5zZm9ybVwiID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm0gOiBpbnRlcnBvbGF0ZTtcbiAgcmV0dXJuIHRoaXMuYXR0clR3ZWVuKG5hbWUsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJGdW5jdGlvbk5TIDogYXR0ckZ1bmN0aW9uKShmdWxsbmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCBcImF0dHIuXCIgKyBuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHZhbHVlID09IG51bGwgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKShmdWxsbmFtZSlcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKGZ1bGxuYW1lLCBpLCB2YWx1ZSkpO1xufVxuIiwgImltcG9ydCB7bmFtZXNwYWNlfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbmZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZShuYW1lLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgaS5jYWxsKHRoaXMsIHQpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckludGVycG9sYXRlTlMoZnVsbG5hbWUsIGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgaS5jYWxsKHRoaXMsIHQpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clR3ZWVuTlMoZnVsbG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlTlMoZnVsbG5hbWUsIGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5mdW5jdGlvbiBhdHRyVHdlZW4obmFtZSwgdmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGUobmFtZSwgaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBrZXkgPSBcImF0dHIuXCIgKyBuYW1lO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCAoZnVsbG5hbWUubG9jYWwgPyBhdHRyVHdlZW5OUyA6IGF0dHJUd2VlbikoZnVsbG5hbWUsIHZhbHVlKSk7XG59XG4iLCAiaW1wb3J0IHtnZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGRlbGF5RnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPSArdmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGRlbGF5RnVuY3Rpb25cbiAgICAgICAgICA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmRlbGF5O1xufVxuIiwgImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGR1cmF0aW9uRnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGR1cmF0aW9uQ29uc3RhbnQoaWQsIHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgc2V0KHRoaXMsIGlkKS5kdXJhdGlvbiA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBkdXJhdGlvbkZ1bmN0aW9uXG4gICAgICAgICAgOiBkdXJhdGlvbkNvbnN0YW50KShpZCwgdmFsdWUpKVxuICAgICAgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5kdXJhdGlvbjtcbn1cbiIsICJpbXBvcnQge2dldCwgc2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgc2V0KHRoaXMsIGlkKS5lYXNlID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaChlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSlcbiAgICAgIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZWFzZTtcbn1cbiIsICJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHR5cGVvZiB2ICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMuZWFjaChlYXNlVmFyeWluZyh0aGlzLl9pZCwgdmFsdWUpKTtcbn1cbiIsICJpbXBvcnQge21hdGNoZXJ9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7VHJhbnNpdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gXCJmdW5jdGlvblwiKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBtYXRjaC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkge1xuICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTtcbn1cbiIsICJpbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRyYW5zaXRpb24pIHtcbiAgaWYgKHRyYW5zaXRpb24uX2lkICE9PSB0aGlzLl9pZCkgdGhyb3cgbmV3IEVycm9yO1xuXG4gIGZvciAodmFyIGdyb3VwczAgPSB0aGlzLl9ncm91cHMsIGdyb3VwczEgPSB0cmFuc2l0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwMCA9IGdyb3VwczBbal0sIGdyb3VwMSA9IGdyb3VwczFbal0sIG4gPSBncm91cDAubGVuZ3RoLCBtZXJnZSA9IG1lcmdlc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXAwW2ldIHx8IGdyb3VwMVtpXSkge1xuICAgICAgICBtZXJnZVtpXSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICg7IGogPCBtMDsgKytqKSB7XG4gICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTtcbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTtcbn1cbiIsICJpbXBvcnQge2dldCwgc2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBzdGFydChuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykuZXZlcnkoZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gIXQgfHwgdCA9PT0gXCJzdGFydFwiO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG9uMCwgb24xLCBzaXQgPSBzdGFydChuYW1lKSA/IGluaXQgOiBzZXQ7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzaXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZVx1MjAxOXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKG5hbWUsIGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDJcbiAgICAgID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSlcbiAgICAgIDogdGhpcy5lYWNoKG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSk7XG59XG4iLCAiZnVuY3Rpb24gcmVtb3ZlRnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLl9fdHJhbnNpdGlvbikgaWYgKCtpICE9PSBpZCkgcmV0dXJuO1xuICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9uKFwiZW5kLnJlbW92ZVwiLCByZW1vdmVGdW5jdGlvbih0aGlzLl9pZCkpO1xufVxuIiwgImltcG9ydCB7c2VsZWN0b3J9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7VHJhbnNpdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0KSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkID0gdGhpcy5faWQ7XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3QgIT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gc2VsZWN0b3Ioc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBzdWJub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkge1xuICAgICAgICBpZiAoXCJfX2RhdGFfX1wiIGluIG5vZGUpIHN1Ym5vZGUuX19kYXRhX18gPSBub2RlLl9fZGF0YV9fO1xuICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7XG4gICAgICAgIHNjaGVkdWxlKHN1Ymdyb3VwW2ldLCBuYW1lLCBpZCwgaSwgc3ViZ3JvdXAsIGdldChub2RlLCBpZCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsICJpbXBvcnQge3NlbGVjdG9yQWxsfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPSBjaGlsZHJlbltrXSkge1xuICAgICAgICAgICAgc2NoZWR1bGUoY2hpbGQsIG5hbWUsIGlkLCBrLCBjaGlsZHJlbiwgaW5oZXJpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKGNoaWxkcmVuKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsICJpbXBvcnQge3NlbGVjdGlvbn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuXG52YXIgU2VsZWN0aW9uID0gc2VsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHRoaXMuX2dyb3VwcywgdGhpcy5fcGFyZW50cyk7XG59XG4iLCAiaW1wb3J0IHtpbnRlcnBvbGF0ZVRyYW5zZm9ybUNzcyBhcyBpbnRlcnBvbGF0ZVRyYW5zZm9ybX0gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5pbXBvcnQge3N0eWxlfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBzdHlsZU51bGwobmFtZSwgaW50ZXJwb2xhdGUpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMTAsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHN0eWxlKHRoaXMsIG5hbWUpLFxuICAgICAgICBzdHJpbmcxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlKHRoaXMsIG5hbWUpKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgc3RyaW5nMTAgPSBzdHJpbmcxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUxKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMTAsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHN0eWxlKHRoaXMsIG5hbWUpLFxuICAgICAgICB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSxcbiAgICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCI7XG4gICAgaWYgKHZhbHVlMSA9PSBudWxsKSBzdHJpbmcxID0gdmFsdWUxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlKHRoaXMsIG5hbWUpKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlTWF5YmVSZW1vdmUoaWQsIG5hbWUpIHtcbiAgdmFyIG9uMCwgb24xLCBsaXN0ZW5lcjAsIGtleSA9IFwic3R5bGUuXCIgKyBuYW1lLCBldmVudCA9IFwiZW5kLlwiICsga2V5LCByZW1vdmU7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uLFxuICAgICAgICBsaXN0ZW5lciA9IHNjaGVkdWxlLnZhbHVlW2tleV0gPT0gbnVsbCA/IHJlbW92ZSB8fCAocmVtb3ZlID0gc3R5bGVSZW1vdmUobmFtZSkpIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZVx1MjAxOXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wIHx8IGxpc3RlbmVyMCAhPT0gbGlzdGVuZXIpIChvbjEgPSAob24wID0gb24pLmNvcHkoKSkub24oZXZlbnQsIGxpc3RlbmVyMCA9IGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgdmFyIGkgPSAobmFtZSArPSBcIlwiKSA9PT0gXCJ0cmFuc2Zvcm1cIiA/IGludGVycG9sYXRlVHJhbnNmb3JtIDogaW50ZXJwb2xhdGU7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpc1xuICAgICAgLnN0eWxlVHdlZW4obmFtZSwgc3R5bGVOdWxsKG5hbWUsIGkpKVxuICAgICAgLm9uKFwiZW5kLnN0eWxlLlwiICsgbmFtZSwgc3R5bGVSZW1vdmUobmFtZSkpXG4gICAgOiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlRnVuY3Rpb24obmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCBcInN0eWxlLlwiICsgbmFtZSwgdmFsdWUpKSlcbiAgICAgIC5lYWNoKHN0eWxlTWF5YmVSZW1vdmUodGhpcy5faWQsIG5hbWUpKVxuICAgIDogdGhpc1xuICAgICAgLnN0eWxlVHdlZW4obmFtZSwgc3R5bGVDb25zdGFudChuYW1lLCBpLCB2YWx1ZSksIHByaW9yaXR5KVxuICAgICAgLm9uKFwiZW5kLnN0eWxlLlwiICsgbmFtZSwgbnVsbCk7XG59XG4iLCAiZnVuY3Rpb24gc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgaS5jYWxsKHRoaXMsIHQpLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciB0LCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdCA9IChpMCA9IGkpICYmIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIga2V5ID0gXCJzdHlsZS5cIiArIChuYW1lICs9IFwiXCIpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpO1xufVxuIiwgImltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlMSA9IHZhbHVlKHRoaXMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTEgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTE7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLnR3ZWVuKFwidGV4dFwiLCB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyB0ZXh0RnVuY3Rpb24odHdlZW5WYWx1ZSh0aGlzLCBcInRleHRcIiwgdmFsdWUpKVxuICAgICAgOiB0ZXh0Q29uc3RhbnQodmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCIpKTtcbn1cbiIsICJmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGUoaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSBpLmNhbGwodGhpcywgdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRUd2Vlbih2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIHRleHRJbnRlcnBvbGF0ZShpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGtleSA9IFwidGV4dFwiO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgdGV4dFR3ZWVuKHZhbHVlKSk7XG59XG4iLCAiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkMCA9IHRoaXMuX2lkLFxuICAgICAgaWQxID0gbmV3SWQoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApO1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZDEsIGksIGdyb3VwLCB7XG4gICAgICAgICAgdGltZTogaW5oZXJpdC50aW1lICsgaW5oZXJpdC5kZWxheSArIGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZWFzZTogaW5oZXJpdC5lYXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkMSk7XG59XG4iLCAiaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgb24wLCBvbjEsIHRoYXQgPSB0aGlzLCBpZCA9IHRoYXQuX2lkLCBzaXplID0gdGhhdC5zaXplKCk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgY2FuY2VsID0ge3ZhbHVlOiByZWplY3R9LFxuICAgICAgICBlbmQgPSB7dmFsdWU6IGZ1bmN0aW9uKCkgeyBpZiAoLS1zaXplID09PSAwKSByZXNvbHZlKCk7IH19O1xuXG4gICAgdGhhdC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2VcdTIwMTlyZSBkb25lIVxuICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgICAgaWYgKG9uICE9PSBvbjApIHtcbiAgICAgICAgb24xID0gKG9uMCA9IG9uKS5jb3B5KCk7XG4gICAgICAgIG9uMS5fLmNhbmNlbC5wdXNoKGNhbmNlbCk7XG4gICAgICAgIG9uMS5fLmludGVycnVwdC5wdXNoKGNhbmNlbCk7XG4gICAgICAgIG9uMS5fLmVuZC5wdXNoKGVuZCk7XG4gICAgICB9XG5cbiAgICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICAgIH0pO1xuXG4gICAgLy8gVGhlIHNlbGVjdGlvbiB3YXMgZW1wdHksIHJlc29sdmUgZW5kIGltbWVkaWF0ZWx5XG4gICAgaWYgKHNpemUgPT09IDApIHJlc29sdmUoKTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB0cmFuc2l0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fYXR0clR3ZWVuIGZyb20gXCIuL2F0dHJUd2Vlbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZGVsYXkgZnJvbSBcIi4vZGVsYXkuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2R1cmF0aW9uIGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lYXNlIGZyb20gXCIuL2Vhc2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nIGZyb20gXCIuL2Vhc2VWYXJ5aW5nLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9maWx0ZXIgZnJvbSBcIi4vZmlsdGVyLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fb24gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3JlbW92ZSBmcm9tIFwiLi9yZW1vdmUuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3NlbGVjdCBmcm9tIFwiLi9zZWxlY3QuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGwuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3NlbGVjdGlvbiBmcm9tIFwiLi9zZWxlY3Rpb24uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3N0eWxlIGZyb20gXCIuL3N0eWxlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zdHlsZVR3ZWVuIGZyb20gXCIuL3N0eWxlVHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RleHQgZnJvbSBcIi4vdGV4dC5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdGV4dFR3ZWVuIGZyb20gXCIuL3RleHRUd2Vlbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdHJhbnNpdGlvbiBmcm9tIFwiLi90cmFuc2l0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90d2VlbiBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZW5kIGZyb20gXCIuL2VuZC5qc1wiO1xuXG52YXIgaWQgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gVHJhbnNpdGlvbihncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG4gIHRoaXMuX25hbWUgPSBuYW1lO1xuICB0aGlzLl9pZCA9IGlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2l0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHNlbGVjdGlvbigpLnRyYW5zaXRpb24obmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdJZCgpIHtcbiAgcmV0dXJuICsraWQ7XG59XG5cbnZhciBzZWxlY3Rpb25fcHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZTtcblxuVHJhbnNpdGlvbi5wcm90b3R5cGUgPSB0cmFuc2l0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRyYW5zaXRpb24sXG4gIHNlbGVjdDogdHJhbnNpdGlvbl9zZWxlY3QsXG4gIHNlbGVjdEFsbDogdHJhbnNpdGlvbl9zZWxlY3RBbGwsXG4gIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNlbGVjdENoaWxkLFxuICBzZWxlY3RDaGlsZHJlbjogc2VsZWN0aW9uX3Byb3RvdHlwZS5zZWxlY3RDaGlsZHJlbixcbiAgZmlsdGVyOiB0cmFuc2l0aW9uX2ZpbHRlcixcbiAgbWVyZ2U6IHRyYW5zaXRpb25fbWVyZ2UsXG4gIHNlbGVjdGlvbjogdHJhbnNpdGlvbl9zZWxlY3Rpb24sXG4gIHRyYW5zaXRpb246IHRyYW5zaXRpb25fdHJhbnNpdGlvbixcbiAgY2FsbDogc2VsZWN0aW9uX3Byb3RvdHlwZS5jYWxsLFxuICBub2Rlczogc2VsZWN0aW9uX3Byb3RvdHlwZS5ub2RlcyxcbiAgbm9kZTogc2VsZWN0aW9uX3Byb3RvdHlwZS5ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNpemUsXG4gIGVtcHR5OiBzZWxlY3Rpb25fcHJvdG90eXBlLmVtcHR5LFxuICBlYWNoOiBzZWxlY3Rpb25fcHJvdG90eXBlLmVhY2gsXG4gIG9uOiB0cmFuc2l0aW9uX29uLFxuICBhdHRyOiB0cmFuc2l0aW9uX2F0dHIsXG4gIGF0dHJUd2VlbjogdHJhbnNpdGlvbl9hdHRyVHdlZW4sXG4gIHN0eWxlOiB0cmFuc2l0aW9uX3N0eWxlLFxuICBzdHlsZVR3ZWVuOiB0cmFuc2l0aW9uX3N0eWxlVHdlZW4sXG4gIHRleHQ6IHRyYW5zaXRpb25fdGV4dCxcbiAgdGV4dFR3ZWVuOiB0cmFuc2l0aW9uX3RleHRUd2VlbixcbiAgcmVtb3ZlOiB0cmFuc2l0aW9uX3JlbW92ZSxcbiAgdHdlZW46IHRyYW5zaXRpb25fdHdlZW4sXG4gIGRlbGF5OiB0cmFuc2l0aW9uX2RlbGF5LFxuICBkdXJhdGlvbjogdHJhbnNpdGlvbl9kdXJhdGlvbixcbiAgZWFzZTogdHJhbnNpdGlvbl9lYXNlLFxuICBlYXNlVmFyeWluZzogdHJhbnNpdGlvbl9lYXNlVmFyeWluZyxcbiAgZW5kOiB0cmFuc2l0aW9uX2VuZCxcbiAgW1N5bWJvbC5pdGVyYXRvcl06IHNlbGVjdGlvbl9wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXVxufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsICJpbXBvcnQge1RyYW5zaXRpb24sIG5ld0lkfSBmcm9tIFwiLi4vdHJhbnNpdGlvbi9pbmRleC5qc1wiO1xuaW1wb3J0IHNjaGVkdWxlIGZyb20gXCIuLi90cmFuc2l0aW9uL3NjaGVkdWxlLmpzXCI7XG5pbXBvcnQge2Vhc2VDdWJpY0luT3V0fSBmcm9tIFwiZDMtZWFzZVwiO1xuaW1wb3J0IHtub3d9IGZyb20gXCJkMy10aW1lclwiO1xuXG52YXIgZGVmYXVsdFRpbWluZyA9IHtcbiAgdGltZTogbnVsbCwgLy8gU2V0IG9uIHVzZS5cbiAgZGVsYXk6IDAsXG4gIGR1cmF0aW9uOiAyNTAsXG4gIGVhc2U6IGVhc2VDdWJpY0luT3V0XG59O1xuXG5mdW5jdGlvbiBpbmhlcml0KG5vZGUsIGlkKSB7XG4gIHZhciB0aW1pbmc7XG4gIHdoaWxlICghKHRpbWluZyA9IG5vZGUuX190cmFuc2l0aW9uKSB8fCAhKHRpbWluZyA9IHRpbWluZ1tpZF0pKSB7XG4gICAgaWYgKCEobm9kZSA9IG5vZGUucGFyZW50Tm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNpdGlvbiAke2lkfSBub3QgZm91bmRgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRpbWluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgaWQsXG4gICAgICB0aW1pbmc7XG5cbiAgaWYgKG5hbWUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7XG4gICAgaWQgPSBuYW1lLl9pZCwgbmFtZSA9IG5hbWUuX25hbWU7XG4gIH0gZWxzZSB7XG4gICAgaWQgPSBuZXdJZCgpLCAodGltaW5nID0gZGVmYXVsdFRpbWluZykudGltZSA9IG5vdygpLCBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyBcIlwiO1xuICB9XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgc2NoZWR1bGUobm9kZSwgbmFtZSwgaWQsIGksIGdyb3VwLCB0aW1pbmcgfHwgaW5oZXJpdChub2RlLCBpZCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsICJpbXBvcnQge3NlbGVjdGlvbn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHNlbGVjdGlvbl9pbnRlcnJ1cHQgZnJvbSBcIi4vaW50ZXJydXB0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuXG5zZWxlY3Rpb24ucHJvdG90eXBlLmludGVycnVwdCA9IHNlbGVjdGlvbl9pbnRlcnJ1cHQ7XG5zZWxlY3Rpb24ucHJvdG90eXBlLnRyYW5zaXRpb24gPSBzZWxlY3Rpb25fdHJhbnNpdGlvbjtcbiIsICJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7ZHJhZ0Rpc2FibGUsIGRyYWdFbmFibGV9IGZyb20gXCJkMy1kcmFnXCI7XG5pbXBvcnQge2ludGVycG9sYXRlfSBmcm9tIFwiZDMtaW50ZXJwb2xhdGVcIjtcbmltcG9ydCB7cG9pbnRlciwgc2VsZWN0fSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge2ludGVycnVwdH0gZnJvbSBcImQzLXRyYW5zaXRpb25cIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi9jb25zdGFudC5qc1wiO1xuaW1wb3J0IEJydXNoRXZlbnQgZnJvbSBcIi4vZXZlbnQuanNcIjtcbmltcG9ydCBub2V2ZW50LCB7bm9wcm9wYWdhdGlvbn0gZnJvbSBcIi4vbm9ldmVudC5qc1wiO1xuXG52YXIgTU9ERV9EUkFHID0ge25hbWU6IFwiZHJhZ1wifSxcbiAgICBNT0RFX1NQQUNFID0ge25hbWU6IFwic3BhY2VcIn0sXG4gICAgTU9ERV9IQU5ETEUgPSB7bmFtZTogXCJoYW5kbGVcIn0sXG4gICAgTU9ERV9DRU5URVIgPSB7bmFtZTogXCJjZW50ZXJcIn07XG5cbmNvbnN0IHthYnMsIG1heCwgbWlufSA9IE1hdGg7XG5cbmZ1bmN0aW9uIG51bWJlcjEoZSkge1xuICByZXR1cm4gWytlWzBdLCArZVsxXV07XG59XG5cbmZ1bmN0aW9uIG51bWJlcjIoZSkge1xuICByZXR1cm4gW251bWJlcjEoZVswXSksIG51bWJlcjEoZVsxXSldO1xufVxuXG52YXIgWCA9IHtcbiAgbmFtZTogXCJ4XCIsXG4gIGhhbmRsZXM6IFtcIndcIiwgXCJlXCJdLm1hcCh0eXBlKSxcbiAgaW5wdXQ6IGZ1bmN0aW9uKHgsIGUpIHsgcmV0dXJuIHggPT0gbnVsbCA/IG51bGwgOiBbWyt4WzBdLCBlWzBdWzFdXSwgWyt4WzFdLCBlWzFdWzFdXV07IH0sXG4gIG91dHB1dDogZnVuY3Rpb24oeHkpIHsgcmV0dXJuIHh5ICYmIFt4eVswXVswXSwgeHlbMV1bMF1dOyB9XG59O1xuXG52YXIgWSA9IHtcbiAgbmFtZTogXCJ5XCIsXG4gIGhhbmRsZXM6IFtcIm5cIiwgXCJzXCJdLm1hcCh0eXBlKSxcbiAgaW5wdXQ6IGZ1bmN0aW9uKHksIGUpIHsgcmV0dXJuIHkgPT0gbnVsbCA/IG51bGwgOiBbW2VbMF1bMF0sICt5WzBdXSwgW2VbMV1bMF0sICt5WzFdXV07IH0sXG4gIG91dHB1dDogZnVuY3Rpb24oeHkpIHsgcmV0dXJuIHh5ICYmIFt4eVswXVsxXSwgeHlbMV1bMV1dOyB9XG59O1xuXG52YXIgWFkgPSB7XG4gIG5hbWU6IFwieHlcIixcbiAgaGFuZGxlczogW1wiblwiLCBcIndcIiwgXCJlXCIsIFwic1wiLCBcIm53XCIsIFwibmVcIiwgXCJzd1wiLCBcInNlXCJdLm1hcCh0eXBlKSxcbiAgaW5wdXQ6IGZ1bmN0aW9uKHh5KSB7IHJldHVybiB4eSA9PSBudWxsID8gbnVsbCA6IG51bWJlcjIoeHkpOyB9LFxuICBvdXRwdXQ6IGZ1bmN0aW9uKHh5KSB7IHJldHVybiB4eTsgfVxufTtcblxudmFyIGN1cnNvcnMgPSB7XG4gIG92ZXJsYXk6IFwiY3Jvc3NoYWlyXCIsXG4gIHNlbGVjdGlvbjogXCJtb3ZlXCIsXG4gIG46IFwibnMtcmVzaXplXCIsXG4gIGU6IFwiZXctcmVzaXplXCIsXG4gIHM6IFwibnMtcmVzaXplXCIsXG4gIHc6IFwiZXctcmVzaXplXCIsXG4gIG53OiBcIm53c2UtcmVzaXplXCIsXG4gIG5lOiBcIm5lc3ctcmVzaXplXCIsXG4gIHNlOiBcIm53c2UtcmVzaXplXCIsXG4gIHN3OiBcIm5lc3ctcmVzaXplXCJcbn07XG5cbnZhciBmbGlwWCA9IHtcbiAgZTogXCJ3XCIsXG4gIHc6IFwiZVwiLFxuICBudzogXCJuZVwiLFxuICBuZTogXCJud1wiLFxuICBzZTogXCJzd1wiLFxuICBzdzogXCJzZVwiXG59O1xuXG52YXIgZmxpcFkgPSB7XG4gIG46IFwic1wiLFxuICBzOiBcIm5cIixcbiAgbnc6IFwic3dcIixcbiAgbmU6IFwic2VcIixcbiAgc2U6IFwibmVcIixcbiAgc3c6IFwibndcIlxufTtcblxudmFyIHNpZ25zWCA9IHtcbiAgb3ZlcmxheTogKzEsXG4gIHNlbGVjdGlvbjogKzEsXG4gIG46IG51bGwsXG4gIGU6ICsxLFxuICBzOiBudWxsLFxuICB3OiAtMSxcbiAgbnc6IC0xLFxuICBuZTogKzEsXG4gIHNlOiArMSxcbiAgc3c6IC0xXG59O1xuXG52YXIgc2lnbnNZID0ge1xuICBvdmVybGF5OiArMSxcbiAgc2VsZWN0aW9uOiArMSxcbiAgbjogLTEsXG4gIGU6IG51bGwsXG4gIHM6ICsxLFxuICB3OiBudWxsLFxuICBudzogLTEsXG4gIG5lOiAtMSxcbiAgc2U6ICsxLFxuICBzdzogKzFcbn07XG5cbmZ1bmN0aW9uIHR5cGUodCkge1xuICByZXR1cm4ge3R5cGU6IHR9O1xufVxuXG4vLyBJZ25vcmUgcmlnaHQtY2xpY2ssIHNpbmNlIHRoYXQgc2hvdWxkIG9wZW4gdGhlIGNvbnRleHQgbWVudS5cbmZ1bmN0aW9uIGRlZmF1bHRGaWx0ZXIoZXZlbnQpIHtcbiAgcmV0dXJuICFldmVudC5jdHJsS2V5ICYmICFldmVudC5idXR0b247XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRFeHRlbnQoKSB7XG4gIHZhciBzdmcgPSB0aGlzLm93bmVyU1ZHRWxlbWVudCB8fCB0aGlzO1xuICBpZiAoc3ZnLmhhc0F0dHJpYnV0ZShcInZpZXdCb3hcIikpIHtcbiAgICBzdmcgPSBzdmcudmlld0JveC5iYXNlVmFsO1xuICAgIHJldHVybiBbW3N2Zy54LCBzdmcueV0sIFtzdmcueCArIHN2Zy53aWR0aCwgc3ZnLnkgKyBzdmcuaGVpZ2h0XV07XG4gIH1cbiAgcmV0dXJuIFtbMCwgMF0sIFtzdmcud2lkdGguYmFzZVZhbC52YWx1ZSwgc3ZnLmhlaWdodC5iYXNlVmFsLnZhbHVlXV07XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRUb3VjaGFibGUoKSB7XG4gIHJldHVybiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgKFwib250b3VjaHN0YXJ0XCIgaW4gdGhpcyk7XG59XG5cbi8vIExpa2UgZDMubG9jYWwsIGJ1dCB3aXRoIHRoZSBuYW1lIFx1MjAxQ19fYnJ1c2hcdTIwMUQgcmF0aGVyIHRoYW4gYXV0by1nZW5lcmF0ZWQuXG5mdW5jdGlvbiBsb2NhbChub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX2JydXNoKSBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgcmV0dXJuO1xuICByZXR1cm4gbm9kZS5fX2JydXNoO1xufVxuXG5mdW5jdGlvbiBlbXB0eShleHRlbnQpIHtcbiAgcmV0dXJuIGV4dGVudFswXVswXSA9PT0gZXh0ZW50WzFdWzBdXG4gICAgICB8fCBleHRlbnRbMF1bMV0gPT09IGV4dGVudFsxXVsxXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJydXNoU2VsZWN0aW9uKG5vZGUpIHtcbiAgdmFyIHN0YXRlID0gbm9kZS5fX2JydXNoO1xuICByZXR1cm4gc3RhdGUgPyBzdGF0ZS5kaW0ub3V0cHV0KHN0YXRlLnNlbGVjdGlvbikgOiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnJ1c2hYKCkge1xuICByZXR1cm4gYnJ1c2goWCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicnVzaFkoKSB7XG4gIHJldHVybiBicnVzaChZKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBicnVzaChYWSk7XG59XG5cbmZ1bmN0aW9uIGJydXNoKGRpbSkge1xuICB2YXIgZXh0ZW50ID0gZGVmYXVsdEV4dGVudCxcbiAgICAgIGZpbHRlciA9IGRlZmF1bHRGaWx0ZXIsXG4gICAgICB0b3VjaGFibGUgPSBkZWZhdWx0VG91Y2hhYmxlLFxuICAgICAga2V5cyA9IHRydWUsXG4gICAgICBsaXN0ZW5lcnMgPSBkaXNwYXRjaChcInN0YXJ0XCIsIFwiYnJ1c2hcIiwgXCJlbmRcIiksXG4gICAgICBoYW5kbGVTaXplID0gNixcbiAgICAgIHRvdWNoZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGJydXNoKGdyb3VwKSB7XG4gICAgdmFyIG92ZXJsYXkgPSBncm91cFxuICAgICAgICAucHJvcGVydHkoXCJfX2JydXNoXCIsIGluaXRpYWxpemUpXG4gICAgICAuc2VsZWN0QWxsKFwiLm92ZXJsYXlcIilcbiAgICAgIC5kYXRhKFt0eXBlKFwib3ZlcmxheVwiKV0pO1xuXG4gICAgb3ZlcmxheS5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm92ZXJsYXlcIilcbiAgICAgICAgLmF0dHIoXCJwb2ludGVyLWV2ZW50c1wiLCBcImFsbFwiKVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzLm92ZXJsYXkpXG4gICAgICAubWVyZ2Uob3ZlcmxheSlcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGV4dGVudCA9IGxvY2FsKHRoaXMpLmV4dGVudDtcbiAgICAgICAgICBzZWxlY3QodGhpcylcbiAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIGV4dGVudFswXVswXSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGV4dGVudFswXVsxXSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBleHRlbnRbMV1bMF0gLSBleHRlbnRbMF1bMF0pXG4gICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGV4dGVudFsxXVsxXSAtIGV4dGVudFswXVsxXSk7XG4gICAgICAgIH0pO1xuXG4gICAgZ3JvdXAuc2VsZWN0QWxsKFwiLnNlbGVjdGlvblwiKVxuICAgICAgLmRhdGEoW3R5cGUoXCJzZWxlY3Rpb25cIildKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwic2VsZWN0aW9uXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIGN1cnNvcnMuc2VsZWN0aW9uKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgXCIjNzc3XCIpXG4gICAgICAgIC5hdHRyKFwiZmlsbC1vcGFjaXR5XCIsIDAuMylcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCIjZmZmXCIpXG4gICAgICAgIC5hdHRyKFwic2hhcGUtcmVuZGVyaW5nXCIsIFwiY3Jpc3BFZGdlc1wiKTtcblxuICAgIHZhciBoYW5kbGUgPSBncm91cC5zZWxlY3RBbGwoXCIuaGFuZGxlXCIpXG4gICAgICAuZGF0YShkaW0uaGFuZGxlcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50eXBlOyB9KTtcblxuICAgIGhhbmRsZS5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICBoYW5kbGUuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJoYW5kbGUgaGFuZGxlLS1cIiArIGQudHlwZTsgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY3Vyc29yc1tkLnR5cGVdOyB9KTtcblxuICAgIGdyb3VwXG4gICAgICAgIC5lYWNoKHJlZHJhdylcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgICAuYXR0cihcInBvaW50ZXItZXZlbnRzXCIsIFwiYWxsXCIpXG4gICAgICAgIC5vbihcIm1vdXNlZG93bi5icnVzaFwiLCBzdGFydGVkKVxuICAgICAgLmZpbHRlcih0b3VjaGFibGUpXG4gICAgICAgIC5vbihcInRvdWNoc3RhcnQuYnJ1c2hcIiwgc3RhcnRlZClcbiAgICAgICAgLm9uKFwidG91Y2htb3ZlLmJydXNoXCIsIHRvdWNobW92ZWQpXG4gICAgICAgIC5vbihcInRvdWNoZW5kLmJydXNoIHRvdWNoY2FuY2VsLmJydXNoXCIsIHRvdWNoZW5kZWQpXG4gICAgICAgIC5zdHlsZShcInRvdWNoLWFjdGlvblwiLCBcIm5vbmVcIilcbiAgICAgICAgLnN0eWxlKFwiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCIsIFwicmdiYSgwLDAsMCwwKVwiKTtcbiAgfVxuXG4gIGJydXNoLm1vdmUgPSBmdW5jdGlvbihncm91cCwgc2VsZWN0aW9uLCBldmVudCkge1xuICAgIGlmIChncm91cC50d2Vlbikge1xuICAgICAgZ3JvdXBcbiAgICAgICAgICAub24oXCJzdGFydC5icnVzaFwiLCBmdW5jdGlvbihldmVudCkgeyBlbWl0dGVyKHRoaXMsIGFyZ3VtZW50cykuYmVmb3Jlc3RhcnQoKS5zdGFydChldmVudCk7IH0pXG4gICAgICAgICAgLm9uKFwiaW50ZXJydXB0LmJydXNoIGVuZC5icnVzaFwiLCBmdW5jdGlvbihldmVudCkgeyBlbWl0dGVyKHRoaXMsIGFyZ3VtZW50cykuZW5kKGV2ZW50KTsgfSlcbiAgICAgICAgICAudHdlZW4oXCJicnVzaFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoYXQuX19icnVzaCxcbiAgICAgICAgICAgICAgICBlbWl0ID0gZW1pdHRlcih0aGF0LCBhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjAgPSBzdGF0ZS5zZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uMSA9IGRpbS5pbnB1dCh0eXBlb2Ygc2VsZWN0aW9uID09PSBcImZ1bmN0aW9uXCIgPyBzZWxlY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IHNlbGVjdGlvbiwgc3RhdGUuZXh0ZW50KSxcbiAgICAgICAgICAgICAgICBpID0gaW50ZXJwb2xhdGUoc2VsZWN0aW9uMCwgc2VsZWN0aW9uMSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHR3ZWVuKHQpIHtcbiAgICAgICAgICAgICAgc3RhdGUuc2VsZWN0aW9uID0gdCA9PT0gMSAmJiBzZWxlY3Rpb24xID09PSBudWxsID8gbnVsbCA6IGkodCk7XG4gICAgICAgICAgICAgIHJlZHJhdy5jYWxsKHRoYXQpO1xuICAgICAgICAgICAgICBlbWl0LmJydXNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb24wICE9PSBudWxsICYmIHNlbGVjdGlvbjEgIT09IG51bGwgPyB0d2VlbiA6IHR3ZWVuKDEpO1xuICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBncm91cFxuICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgc3RhdGUgPSB0aGF0Ll9fYnJ1c2gsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uMSA9IGRpbS5pbnB1dCh0eXBlb2Ygc2VsZWN0aW9uID09PSBcImZ1bmN0aW9uXCIgPyBzZWxlY3Rpb24uYXBwbHkodGhhdCwgYXJncykgOiBzZWxlY3Rpb24sIHN0YXRlLmV4dGVudCksXG4gICAgICAgICAgICAgICAgZW1pdCA9IGVtaXR0ZXIodGhhdCwgYXJncykuYmVmb3Jlc3RhcnQoKTtcblxuICAgICAgICAgICAgaW50ZXJydXB0KHRoYXQpO1xuICAgICAgICAgICAgc3RhdGUuc2VsZWN0aW9uID0gc2VsZWN0aW9uMSA9PT0gbnVsbCA/IG51bGwgOiBzZWxlY3Rpb24xO1xuICAgICAgICAgICAgcmVkcmF3LmNhbGwodGhhdCk7XG4gICAgICAgICAgICBlbWl0LnN0YXJ0KGV2ZW50KS5icnVzaChldmVudCkuZW5kKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgYnJ1c2guY2xlYXIgPSBmdW5jdGlvbihncm91cCwgZXZlbnQpIHtcbiAgICBicnVzaC5tb3ZlKGdyb3VwLCBudWxsLCBldmVudCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVkcmF3KCkge1xuICAgIHZhciBncm91cCA9IHNlbGVjdCh0aGlzKSxcbiAgICAgICAgc2VsZWN0aW9uID0gbG9jYWwodGhpcykuc2VsZWN0aW9uO1xuXG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgZ3JvdXAuc2VsZWN0QWxsKFwiLnNlbGVjdGlvblwiKVxuICAgICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgbnVsbClcbiAgICAgICAgICAuYXR0cihcInhcIiwgc2VsZWN0aW9uWzBdWzBdKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCBzZWxlY3Rpb25bMF1bMV0pXG4gICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBzZWxlY3Rpb25bMV1bMF0gLSBzZWxlY3Rpb25bMF1bMF0pXG4gICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgc2VsZWN0aW9uWzFdWzFdIC0gc2VsZWN0aW9uWzBdWzFdKTtcblxuICAgICAgZ3JvdXAuc2VsZWN0QWxsKFwiLmhhbmRsZVwiKVxuICAgICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgbnVsbClcbiAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50eXBlW2QudHlwZS5sZW5ndGggLSAxXSA9PT0gXCJlXCIgPyBzZWxlY3Rpb25bMV1bMF0gLSBoYW5kbGVTaXplIC8gMiA6IHNlbGVjdGlvblswXVswXSAtIGhhbmRsZVNpemUgLyAyOyB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnR5cGVbMF0gPT09IFwic1wiID8gc2VsZWN0aW9uWzFdWzFdIC0gaGFuZGxlU2l6ZSAvIDIgOiBzZWxlY3Rpb25bMF1bMV0gLSBoYW5kbGVTaXplIC8gMjsgfSlcbiAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudHlwZSA9PT0gXCJuXCIgfHwgZC50eXBlID09PSBcInNcIiA/IHNlbGVjdGlvblsxXVswXSAtIHNlbGVjdGlvblswXVswXSArIGhhbmRsZVNpemUgOiBoYW5kbGVTaXplOyB9KVxuICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudHlwZSA9PT0gXCJlXCIgfHwgZC50eXBlID09PSBcIndcIiA/IHNlbGVjdGlvblsxXVsxXSAtIHNlbGVjdGlvblswXVsxXSArIGhhbmRsZVNpemUgOiBoYW5kbGVTaXplOyB9KTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgIGdyb3VwLnNlbGVjdEFsbChcIi5zZWxlY3Rpb24sLmhhbmRsZVwiKVxuICAgICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIG51bGwpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIG51bGwpXG4gICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBudWxsKVxuICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXR0ZXIodGhhdCwgYXJncywgY2xlYW4pIHtcbiAgICB2YXIgZW1pdCA9IHRoYXQuX19icnVzaC5lbWl0dGVyO1xuICAgIHJldHVybiBlbWl0ICYmICghY2xlYW4gfHwgIWVtaXQuY2xlYW4pID8gZW1pdCA6IG5ldyBFbWl0dGVyKHRoYXQsIGFyZ3MsIGNsZWFuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEVtaXR0ZXIodGhhdCwgYXJncywgY2xlYW4pIHtcbiAgICB0aGlzLnRoYXQgPSB0aGF0O1xuICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgdGhpcy5zdGF0ZSA9IHRoYXQuX19icnVzaDtcbiAgICB0aGlzLmFjdGl2ZSA9IDA7XG4gICAgdGhpcy5jbGVhbiA9IGNsZWFuO1xuICB9XG5cbiAgRW1pdHRlci5wcm90b3R5cGUgPSB7XG4gICAgYmVmb3Jlc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCsrdGhpcy5hY3RpdmUgPT09IDEpIHRoaXMuc3RhdGUuZW1pdHRlciA9IHRoaXMsIHRoaXMuc3RhcnRpbmcgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBzdGFydDogZnVuY3Rpb24oZXZlbnQsIG1vZGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXJ0aW5nKSB0aGlzLnN0YXJ0aW5nID0gZmFsc2UsIHRoaXMuZW1pdChcInN0YXJ0XCIsIGV2ZW50LCBtb2RlKTtcbiAgICAgIGVsc2UgdGhpcy5lbWl0KFwiYnJ1c2hcIiwgZXZlbnQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBicnVzaDogZnVuY3Rpb24oZXZlbnQsIG1vZGUpIHtcbiAgICAgIHRoaXMuZW1pdChcImJydXNoXCIsIGV2ZW50LCBtb2RlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZW5kOiBmdW5jdGlvbihldmVudCwgbW9kZSkge1xuICAgICAgaWYgKC0tdGhpcy5hY3RpdmUgPT09IDApIGRlbGV0ZSB0aGlzLnN0YXRlLmVtaXR0ZXIsIHRoaXMuZW1pdChcImVuZFwiLCBldmVudCwgbW9kZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGVtaXQ6IGZ1bmN0aW9uKHR5cGUsIGV2ZW50LCBtb2RlKSB7XG4gICAgICB2YXIgZCA9IHNlbGVjdCh0aGlzLnRoYXQpLmRhdHVtKCk7XG4gICAgICBsaXN0ZW5lcnMuY2FsbChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdGhpcy50aGF0LFxuICAgICAgICBuZXcgQnJ1c2hFdmVudCh0eXBlLCB7XG4gICAgICAgICAgc291cmNlRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIHRhcmdldDogYnJ1c2gsXG4gICAgICAgICAgc2VsZWN0aW9uOiBkaW0ub3V0cHV0KHRoaXMuc3RhdGUuc2VsZWN0aW9uKSxcbiAgICAgICAgICBtb2RlLFxuICAgICAgICAgIGRpc3BhdGNoOiBsaXN0ZW5lcnNcbiAgICAgICAgfSksXG4gICAgICAgIGRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHN0YXJ0ZWQoZXZlbnQpIHtcbiAgICBpZiAodG91Y2hlbmRpbmcgJiYgIWV2ZW50LnRvdWNoZXMpIHJldHVybjtcbiAgICBpZiAoIWZpbHRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSByZXR1cm47XG5cbiAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIHR5cGUgPSBldmVudC50YXJnZXQuX19kYXRhX18udHlwZSxcbiAgICAgICAgbW9kZSA9IChrZXlzICYmIGV2ZW50Lm1ldGFLZXkgPyB0eXBlID0gXCJvdmVybGF5XCIgOiB0eXBlKSA9PT0gXCJzZWxlY3Rpb25cIiA/IE1PREVfRFJBRyA6IChrZXlzICYmIGV2ZW50LmFsdEtleSA/IE1PREVfQ0VOVEVSIDogTU9ERV9IQU5ETEUpLFxuICAgICAgICBzaWduWCA9IGRpbSA9PT0gWSA/IG51bGwgOiBzaWduc1hbdHlwZV0sXG4gICAgICAgIHNpZ25ZID0gZGltID09PSBYID8gbnVsbCA6IHNpZ25zWVt0eXBlXSxcbiAgICAgICAgc3RhdGUgPSBsb2NhbCh0aGF0KSxcbiAgICAgICAgZXh0ZW50ID0gc3RhdGUuZXh0ZW50LFxuICAgICAgICBzZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb24sXG4gICAgICAgIFcgPSBleHRlbnRbMF1bMF0sIHcwLCB3MSxcbiAgICAgICAgTiA9IGV4dGVudFswXVsxXSwgbjAsIG4xLFxuICAgICAgICBFID0gZXh0ZW50WzFdWzBdLCBlMCwgZTEsXG4gICAgICAgIFMgPSBleHRlbnRbMV1bMV0sIHMwLCBzMSxcbiAgICAgICAgZHggPSAwLFxuICAgICAgICBkeSA9IDAsXG4gICAgICAgIG1vdmluZyxcbiAgICAgICAgc2hpZnRpbmcgPSBzaWduWCAmJiBzaWduWSAmJiBrZXlzICYmIGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICBsb2NrWCxcbiAgICAgICAgbG9ja1ksXG4gICAgICAgIHBvaW50cyA9IEFycmF5LmZyb20oZXZlbnQudG91Y2hlcyB8fCBbZXZlbnRdLCB0ID0+IHtcbiAgICAgICAgICBjb25zdCBpID0gdC5pZGVudGlmaWVyO1xuICAgICAgICAgIHQgPSBwb2ludGVyKHQsIHRoYXQpO1xuICAgICAgICAgIHQucG9pbnQwID0gdC5zbGljZSgpO1xuICAgICAgICAgIHQuaWRlbnRpZmllciA9IGk7XG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0pO1xuXG4gICAgaW50ZXJydXB0KHRoYXQpO1xuICAgIHZhciBlbWl0ID0gZW1pdHRlcih0aGF0LCBhcmd1bWVudHMsIHRydWUpLmJlZm9yZXN0YXJ0KCk7XG5cbiAgICBpZiAodHlwZSA9PT0gXCJvdmVybGF5XCIpIHtcbiAgICAgIGlmIChzZWxlY3Rpb24pIG1vdmluZyA9IHRydWU7XG4gICAgICBjb25zdCBwdHMgPSBbcG9pbnRzWzBdLCBwb2ludHNbMV0gfHwgcG9pbnRzWzBdXTtcbiAgICAgIHN0YXRlLnNlbGVjdGlvbiA9IHNlbGVjdGlvbiA9IFtbXG4gICAgICAgICAgdzAgPSBkaW0gPT09IFkgPyBXIDogbWluKHB0c1swXVswXSwgcHRzWzFdWzBdKSxcbiAgICAgICAgICBuMCA9IGRpbSA9PT0gWCA/IE4gOiBtaW4ocHRzWzBdWzFdLCBwdHNbMV1bMV0pXG4gICAgICAgIF0sIFtcbiAgICAgICAgICBlMCA9IGRpbSA9PT0gWSA/IEUgOiBtYXgocHRzWzBdWzBdLCBwdHNbMV1bMF0pLFxuICAgICAgICAgIHMwID0gZGltID09PSBYID8gUyA6IG1heChwdHNbMF1bMV0sIHB0c1sxXVsxXSlcbiAgICAgICAgXV07XG4gICAgICBpZiAocG9pbnRzLmxlbmd0aCA+IDEpIG1vdmUoZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3MCA9IHNlbGVjdGlvblswXVswXTtcbiAgICAgIG4wID0gc2VsZWN0aW9uWzBdWzFdO1xuICAgICAgZTAgPSBzZWxlY3Rpb25bMV1bMF07XG4gICAgICBzMCA9IHNlbGVjdGlvblsxXVsxXTtcbiAgICB9XG5cbiAgICB3MSA9IHcwO1xuICAgIG4xID0gbjA7XG4gICAgZTEgPSBlMDtcbiAgICBzMSA9IHMwO1xuXG4gICAgdmFyIGdyb3VwID0gc2VsZWN0KHRoYXQpXG4gICAgICAgIC5hdHRyKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xuXG4gICAgdmFyIG92ZXJsYXkgPSBncm91cC5zZWxlY3RBbGwoXCIub3ZlcmxheVwiKVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzW3R5cGVdKTtcblxuICAgIGlmIChldmVudC50b3VjaGVzKSB7XG4gICAgICBlbWl0Lm1vdmVkID0gbW92ZWQ7XG4gICAgICBlbWl0LmVuZGVkID0gZW5kZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gc2VsZWN0KGV2ZW50LnZpZXcpXG4gICAgICAgICAgLm9uKFwibW91c2Vtb3ZlLmJydXNoXCIsIG1vdmVkLCB0cnVlKVxuICAgICAgICAgIC5vbihcIm1vdXNldXAuYnJ1c2hcIiwgZW5kZWQsIHRydWUpO1xuICAgICAgaWYgKGtleXMpIHZpZXdcbiAgICAgICAgICAub24oXCJrZXlkb3duLmJydXNoXCIsIGtleWRvd25lZCwgdHJ1ZSlcbiAgICAgICAgICAub24oXCJrZXl1cC5icnVzaFwiLCBrZXl1cHBlZCwgdHJ1ZSlcblxuICAgICAgZHJhZ0Rpc2FibGUoZXZlbnQudmlldyk7XG4gICAgfVxuXG4gICAgcmVkcmF3LmNhbGwodGhhdCk7XG4gICAgZW1pdC5zdGFydChldmVudCwgbW9kZS5uYW1lKTtcblxuICAgIGZ1bmN0aW9uIG1vdmVkKGV2ZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IHAgb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMgfHwgW2V2ZW50XSkge1xuICAgICAgICBmb3IgKGNvbnN0IGQgb2YgcG9pbnRzKVxuICAgICAgICAgIGlmIChkLmlkZW50aWZpZXIgPT09IHAuaWRlbnRpZmllcikgZC5jdXIgPSBwb2ludGVyKHAsIHRoYXQpO1xuICAgICAgfVxuICAgICAgaWYgKHNoaWZ0aW5nICYmICFsb2NrWCAmJiAhbG9ja1kgJiYgcG9pbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgaWYgKGFicyhwb2ludC5jdXJbMF0gLSBwb2ludFswXSkgPiBhYnMocG9pbnQuY3VyWzFdIC0gcG9pbnRbMV0pKVxuICAgICAgICAgIGxvY2tZID0gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGxvY2tYID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKVxuICAgICAgICBpZiAocG9pbnQuY3VyKSBwb2ludFswXSA9IHBvaW50LmN1clswXSwgcG9pbnRbMV0gPSBwb2ludC5jdXJbMV07XG4gICAgICBtb3ZpbmcgPSB0cnVlO1xuICAgICAgbm9ldmVudChldmVudCk7XG4gICAgICBtb3ZlKGV2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3ZlKGV2ZW50KSB7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50c1swXSwgcG9pbnQwID0gcG9pbnQucG9pbnQwO1xuICAgICAgdmFyIHQ7XG5cbiAgICAgIGR4ID0gcG9pbnRbMF0gLSBwb2ludDBbMF07XG4gICAgICBkeSA9IHBvaW50WzFdIC0gcG9pbnQwWzFdO1xuXG4gICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBNT0RFX1NQQUNFOlxuICAgICAgICBjYXNlIE1PREVfRFJBRzoge1xuICAgICAgICAgIGlmIChzaWduWCkgZHggPSBtYXgoVyAtIHcwLCBtaW4oRSAtIGUwLCBkeCkpLCB3MSA9IHcwICsgZHgsIGUxID0gZTAgKyBkeDtcbiAgICAgICAgICBpZiAoc2lnblkpIGR5ID0gbWF4KE4gLSBuMCwgbWluKFMgLSBzMCwgZHkpKSwgbjEgPSBuMCArIGR5LCBzMSA9IHMwICsgZHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBNT0RFX0hBTkRMRToge1xuICAgICAgICAgIGlmIChwb2ludHNbMV0pIHtcbiAgICAgICAgICAgIGlmIChzaWduWCkgdzEgPSBtYXgoVywgbWluKEUsIHBvaW50c1swXVswXSkpLCBlMSA9IG1heChXLCBtaW4oRSwgcG9pbnRzWzFdWzBdKSksIHNpZ25YID0gMTtcbiAgICAgICAgICAgIGlmIChzaWduWSkgbjEgPSBtYXgoTiwgbWluKFMsIHBvaW50c1swXVsxXSkpLCBzMSA9IG1heChOLCBtaW4oUywgcG9pbnRzWzFdWzFdKSksIHNpZ25ZID0gMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNpZ25YIDwgMCkgZHggPSBtYXgoVyAtIHcwLCBtaW4oRSAtIHcwLCBkeCkpLCB3MSA9IHcwICsgZHgsIGUxID0gZTA7XG4gICAgICAgICAgICBlbHNlIGlmIChzaWduWCA+IDApIGR4ID0gbWF4KFcgLSBlMCwgbWluKEUgLSBlMCwgZHgpKSwgdzEgPSB3MCwgZTEgPSBlMCArIGR4O1xuICAgICAgICAgICAgaWYgKHNpZ25ZIDwgMCkgZHkgPSBtYXgoTiAtIG4wLCBtaW4oUyAtIG4wLCBkeSkpLCBuMSA9IG4wICsgZHksIHMxID0gczA7XG4gICAgICAgICAgICBlbHNlIGlmIChzaWduWSA+IDApIGR5ID0gbWF4KE4gLSBzMCwgbWluKFMgLSBzMCwgZHkpKSwgbjEgPSBuMCwgczEgPSBzMCArIGR5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIE1PREVfQ0VOVEVSOiB7XG4gICAgICAgICAgaWYgKHNpZ25YKSB3MSA9IG1heChXLCBtaW4oRSwgdzAgLSBkeCAqIHNpZ25YKSksIGUxID0gbWF4KFcsIG1pbihFLCBlMCArIGR4ICogc2lnblgpKTtcbiAgICAgICAgICBpZiAoc2lnblkpIG4xID0gbWF4KE4sIG1pbihTLCBuMCAtIGR5ICogc2lnblkpKSwgczEgPSBtYXgoTiwgbWluKFMsIHMwICsgZHkgKiBzaWduWSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlMSA8IHcxKSB7XG4gICAgICAgIHNpZ25YICo9IC0xO1xuICAgICAgICB0ID0gdzAsIHcwID0gZTAsIGUwID0gdDtcbiAgICAgICAgdCA9IHcxLCB3MSA9IGUxLCBlMSA9IHQ7XG4gICAgICAgIGlmICh0eXBlIGluIGZsaXBYKSBvdmVybGF5LmF0dHIoXCJjdXJzb3JcIiwgY3Vyc29yc1t0eXBlID0gZmxpcFhbdHlwZV1dKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHMxIDwgbjEpIHtcbiAgICAgICAgc2lnblkgKj0gLTE7XG4gICAgICAgIHQgPSBuMCwgbjAgPSBzMCwgczAgPSB0O1xuICAgICAgICB0ID0gbjEsIG4xID0gczEsIHMxID0gdDtcbiAgICAgICAgaWYgKHR5cGUgaW4gZmxpcFkpIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzW3R5cGUgPSBmbGlwWVt0eXBlXV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUuc2VsZWN0aW9uKSBzZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb247IC8vIE1heSBiZSBzZXQgYnkgYnJ1c2gubW92ZSFcbiAgICAgIGlmIChsb2NrWCkgdzEgPSBzZWxlY3Rpb25bMF1bMF0sIGUxID0gc2VsZWN0aW9uWzFdWzBdO1xuICAgICAgaWYgKGxvY2tZKSBuMSA9IHNlbGVjdGlvblswXVsxXSwgczEgPSBzZWxlY3Rpb25bMV1bMV07XG5cbiAgICAgIGlmIChzZWxlY3Rpb25bMF1bMF0gIT09IHcxXG4gICAgICAgICAgfHwgc2VsZWN0aW9uWzBdWzFdICE9PSBuMVxuICAgICAgICAgIHx8IHNlbGVjdGlvblsxXVswXSAhPT0gZTFcbiAgICAgICAgICB8fCBzZWxlY3Rpb25bMV1bMV0gIT09IHMxKSB7XG4gICAgICAgIHN0YXRlLnNlbGVjdGlvbiA9IFtbdzEsIG4xXSwgW2UxLCBzMV1dO1xuICAgICAgICByZWRyYXcuY2FsbCh0aGF0KTtcbiAgICAgICAgZW1pdC5icnVzaChldmVudCwgbW9kZS5uYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmRlZChldmVudCkge1xuICAgICAgbm9wcm9wYWdhdGlvbihldmVudCk7XG4gICAgICBpZiAoZXZlbnQudG91Y2hlcykge1xuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgaWYgKHRvdWNoZW5kaW5nKSBjbGVhclRpbWVvdXQodG91Y2hlbmRpbmcpO1xuICAgICAgICB0b3VjaGVuZGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRvdWNoZW5kaW5nID0gbnVsbDsgfSwgNTAwKTsgLy8gR2hvc3QgY2xpY2tzIGFyZSBkZWxheWVkIVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ0VuYWJsZShldmVudC52aWV3LCBtb3ZpbmcpO1xuICAgICAgICB2aWV3Lm9uKFwia2V5ZG93bi5icnVzaCBrZXl1cC5icnVzaCBtb3VzZW1vdmUuYnJ1c2ggbW91c2V1cC5icnVzaFwiLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGdyb3VwLmF0dHIoXCJwb2ludGVyLWV2ZW50c1wiLCBcImFsbFwiKTtcbiAgICAgIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzLm92ZXJsYXkpO1xuICAgICAgaWYgKHN0YXRlLnNlbGVjdGlvbikgc2VsZWN0aW9uID0gc3RhdGUuc2VsZWN0aW9uOyAvLyBNYXkgYmUgc2V0IGJ5IGJydXNoLm1vdmUgKG9uIHN0YXJ0KSFcbiAgICAgIGlmIChlbXB0eShzZWxlY3Rpb24pKSBzdGF0ZS5zZWxlY3Rpb24gPSBudWxsLCByZWRyYXcuY2FsbCh0aGF0KTtcbiAgICAgIGVtaXQuZW5kKGV2ZW50LCBtb2RlLm5hbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGtleWRvd25lZChldmVudCkge1xuICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgMTY6IHsgLy8gU0hJRlRcbiAgICAgICAgICBzaGlmdGluZyA9IHNpZ25YICYmIHNpZ25ZO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMTg6IHsgLy8gQUxUXG4gICAgICAgICAgaWYgKG1vZGUgPT09IE1PREVfSEFORExFKSB7XG4gICAgICAgICAgICBpZiAoc2lnblgpIGUwID0gZTEgLSBkeCAqIHNpZ25YLCB3MCA9IHcxICsgZHggKiBzaWduWDtcbiAgICAgICAgICAgIGlmIChzaWduWSkgczAgPSBzMSAtIGR5ICogc2lnblksIG4wID0gbjEgKyBkeSAqIHNpZ25ZO1xuICAgICAgICAgICAgbW9kZSA9IE1PREVfQ0VOVEVSO1xuICAgICAgICAgICAgbW92ZShldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzI6IHsgLy8gU1BBQ0U7IHRha2VzIHByaW9yaXR5IG92ZXIgQUxUXG4gICAgICAgICAgaWYgKG1vZGUgPT09IE1PREVfSEFORExFIHx8IG1vZGUgPT09IE1PREVfQ0VOVEVSKSB7XG4gICAgICAgICAgICBpZiAoc2lnblggPCAwKSBlMCA9IGUxIC0gZHg7IGVsc2UgaWYgKHNpZ25YID4gMCkgdzAgPSB3MSAtIGR4O1xuICAgICAgICAgICAgaWYgKHNpZ25ZIDwgMCkgczAgPSBzMSAtIGR5OyBlbHNlIGlmIChzaWduWSA+IDApIG4wID0gbjEgLSBkeTtcbiAgICAgICAgICAgIG1vZGUgPSBNT0RFX1NQQUNFO1xuICAgICAgICAgICAgb3ZlcmxheS5hdHRyKFwiY3Vyc29yXCIsIGN1cnNvcnMuc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIG1vdmUoZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiByZXR1cm47XG4gICAgICB9XG4gICAgICBub2V2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrZXl1cHBlZChldmVudCkge1xuICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgMTY6IHsgLy8gU0hJRlRcbiAgICAgICAgICBpZiAoc2hpZnRpbmcpIHtcbiAgICAgICAgICAgIGxvY2tYID0gbG9ja1kgPSBzaGlmdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgbW92ZShldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMTg6IHsgLy8gQUxUXG4gICAgICAgICAgaWYgKG1vZGUgPT09IE1PREVfQ0VOVEVSKSB7XG4gICAgICAgICAgICBpZiAoc2lnblggPCAwKSBlMCA9IGUxOyBlbHNlIGlmIChzaWduWCA+IDApIHcwID0gdzE7XG4gICAgICAgICAgICBpZiAoc2lnblkgPCAwKSBzMCA9IHMxOyBlbHNlIGlmIChzaWduWSA+IDApIG4wID0gbjE7XG4gICAgICAgICAgICBtb2RlID0gTU9ERV9IQU5ETEU7XG4gICAgICAgICAgICBtb3ZlKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzMjogeyAvLyBTUEFDRVxuICAgICAgICAgIGlmIChtb2RlID09PSBNT0RFX1NQQUNFKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgICAgIGlmIChzaWduWCkgZTAgPSBlMSAtIGR4ICogc2lnblgsIHcwID0gdzEgKyBkeCAqIHNpZ25YO1xuICAgICAgICAgICAgICBpZiAoc2lnblkpIHMwID0gczEgLSBkeSAqIHNpZ25ZLCBuMCA9IG4xICsgZHkgKiBzaWduWTtcbiAgICAgICAgICAgICAgbW9kZSA9IE1PREVfQ0VOVEVSO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHNpZ25YIDwgMCkgZTAgPSBlMTsgZWxzZSBpZiAoc2lnblggPiAwKSB3MCA9IHcxO1xuICAgICAgICAgICAgICBpZiAoc2lnblkgPCAwKSBzMCA9IHMxOyBlbHNlIGlmIChzaWduWSA+IDApIG4wID0gbjE7XG4gICAgICAgICAgICAgIG1vZGUgPSBNT0RFX0hBTkRMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzW3R5cGVdKTtcbiAgICAgICAgICAgIG1vdmUoZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiByZXR1cm47XG4gICAgICB9XG4gICAgICBub2V2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b3VjaG1vdmVkKGV2ZW50KSB7XG4gICAgZW1pdHRlcih0aGlzLCBhcmd1bWVudHMpLm1vdmVkKGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvdWNoZW5kZWQoZXZlbnQpIHtcbiAgICBlbWl0dGVyKHRoaXMsIGFyZ3VtZW50cykuZW5kZWQoZXZlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9fYnJ1c2ggfHwge3NlbGVjdGlvbjogbnVsbH07XG4gICAgc3RhdGUuZXh0ZW50ID0gbnVtYmVyMihleHRlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgc3RhdGUuZGltID0gZGltO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIGJydXNoLmV4dGVudCA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChleHRlbnQgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KG51bWJlcjIoXykpLCBicnVzaCkgOiBleHRlbnQ7XG4gIH07XG5cbiAgYnJ1c2guZmlsdGVyID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGZpbHRlciA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoISFfKSwgYnJ1c2gpIDogZmlsdGVyO1xuICB9O1xuXG4gIGJydXNoLnRvdWNoYWJsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0b3VjaGFibGUgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCEhXyksIGJydXNoKSA6IHRvdWNoYWJsZTtcbiAgfTtcblxuICBicnVzaC5oYW5kbGVTaXplID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGhhbmRsZVNpemUgPSArXywgYnJ1c2gpIDogaGFuZGxlU2l6ZTtcbiAgfTtcblxuICBicnVzaC5rZXlNb2RpZmllcnMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoa2V5cyA9ICEhXywgYnJ1c2gpIDoga2V5cztcbiAgfTtcblxuICBicnVzaC5vbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IGxpc3RlbmVycy5vbi5hcHBseShsaXN0ZW5lcnMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHZhbHVlID09PSBsaXN0ZW5lcnMgPyBicnVzaCA6IHZhbHVlO1xuICB9O1xuXG4gIHJldHVybiBicnVzaDtcbn1cbiIsICJmdW5jdGlvbiBjb3VudChub2RlKSB7XG4gIHZhciBzdW0gPSAwLFxuICAgICAgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuLFxuICAgICAgaSA9IGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKCFpKSBzdW0gPSAxO1xuICBlbHNlIHdoaWxlICgtLWkgPj0gMCkgc3VtICs9IGNoaWxkcmVuW2ldLnZhbHVlO1xuICBub2RlLnZhbHVlID0gc3VtO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaEFmdGVyKGNvdW50KTtcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaywgdGhhdCkge1xuICBsZXQgaW5kZXggPSAtMTtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpIHtcbiAgICBjYWxsYmFjay5jYWxsKHRoYXQsIG5vZGUsICsraW5kZXgsIHRoaXMpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGF0KSB7XG4gIHZhciBub2RlID0gdGhpcywgbm9kZXMgPSBbbm9kZV0sIGNoaWxkcmVuLCBpLCBpbmRleCA9IC0xO1xuICB3aGlsZSAobm9kZSA9IG5vZGVzLnBvcCgpKSB7XG4gICAgY2FsbGJhY2suY2FsbCh0aGF0LCBub2RlLCArK2luZGV4LCB0aGlzKTtcbiAgICBpZiAoY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBub2Rlcy5wdXNoKGNoaWxkcmVuW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2ssIHRoYXQpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLCBub2RlcyA9IFtub2RlXSwgbmV4dCA9IFtdLCBjaGlsZHJlbiwgaSwgbiwgaW5kZXggPSAtMTtcbiAgd2hpbGUgKG5vZGUgPSBub2Rlcy5wb3AoKSkge1xuICAgIG5leHQucHVzaChub2RlKTtcbiAgICBpZiAoY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGkgPSAwLCBuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIG5vZGVzLnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB3aGlsZSAobm9kZSA9IG5leHQucG9wKCkpIHtcbiAgICBjYWxsYmFjay5jYWxsKHRoYXQsIG5vZGUsICsraW5kZXgsIHRoaXMpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGF0KSB7XG4gIGxldCBpbmRleCA9IC0xO1xuICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcykge1xuICAgIGlmIChjYWxsYmFjay5jYWxsKHRoYXQsIG5vZGUsICsraW5kZXgsIHRoaXMpKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5lYWNoQWZ0ZXIoZnVuY3Rpb24obm9kZSkge1xuICAgIHZhciBzdW0gPSArdmFsdWUobm9kZS5kYXRhKSB8fCAwLFxuICAgICAgICBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4sXG4gICAgICAgIGkgPSBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGg7XG4gICAgd2hpbGUgKC0taSA+PSAwKSBzdW0gKz0gY2hpbGRyZW5baV0udmFsdWU7XG4gICAgbm9kZS52YWx1ZSA9IHN1bTtcbiAgfSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29tcGFyZSkge1xuICByZXR1cm4gdGhpcy5lYWNoQmVmb3JlKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgbm9kZS5jaGlsZHJlbi5zb3J0KGNvbXBhcmUpO1xuICAgIH1cbiAgfSk7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZW5kKSB7XG4gIHZhciBzdGFydCA9IHRoaXMsXG4gICAgICBhbmNlc3RvciA9IGxlYXN0Q29tbW9uQW5jZXN0b3Ioc3RhcnQsIGVuZCksXG4gICAgICBub2RlcyA9IFtzdGFydF07XG4gIHdoaWxlIChzdGFydCAhPT0gYW5jZXN0b3IpIHtcbiAgICBzdGFydCA9IHN0YXJ0LnBhcmVudDtcbiAgICBub2Rlcy5wdXNoKHN0YXJ0KTtcbiAgfVxuICB2YXIgayA9IG5vZGVzLmxlbmd0aDtcbiAgd2hpbGUgKGVuZCAhPT0gYW5jZXN0b3IpIHtcbiAgICBub2Rlcy5zcGxpY2UoaywgMCwgZW5kKTtcbiAgICBlbmQgPSBlbmQucGFyZW50O1xuICB9XG4gIHJldHVybiBub2Rlcztcbn1cblxuZnVuY3Rpb24gbGVhc3RDb21tb25BbmNlc3RvcihhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gYTtcbiAgdmFyIGFOb2RlcyA9IGEuYW5jZXN0b3JzKCksXG4gICAgICBiTm9kZXMgPSBiLmFuY2VzdG9ycygpLFxuICAgICAgYyA9IG51bGw7XG4gIGEgPSBhTm9kZXMucG9wKCk7XG4gIGIgPSBiTm9kZXMucG9wKCk7XG4gIHdoaWxlIChhID09PSBiKSB7XG4gICAgYyA9IGE7XG4gICAgYSA9IGFOb2Rlcy5wb3AoKTtcbiAgICBiID0gYk5vZGVzLnBvcCgpO1xuICB9XG4gIHJldHVybiBjO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgbm9kZSA9IHRoaXMsIG5vZGVzID0gW25vZGVdO1xuICB3aGlsZSAobm9kZSA9IG5vZGUucGFyZW50KSB7XG4gICAgbm9kZXMucHVzaChub2RlKTtcbiAgfVxuICByZXR1cm4gbm9kZXM7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMpO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgbGVhdmVzID0gW107XG4gIHRoaXMuZWFjaEJlZm9yZShmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKCFub2RlLmNoaWxkcmVuKSB7XG4gICAgICBsZWF2ZXMucHVzaChub2RlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbGVhdmVzO1xufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdCA9IHRoaXMsIGxpbmtzID0gW107XG4gIHJvb3QuZWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKG5vZGUgIT09IHJvb3QpIHsgLy8gRG9uXHUyMDE5dCBpbmNsdWRlIHRoZSByb290XHUyMDE5cyBwYXJlbnQsIGlmIGFueS5cbiAgICAgIGxpbmtzLnB1c2goe3NvdXJjZTogbm9kZS5wYXJlbnQsIHRhcmdldDogbm9kZX0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBsaW5rcztcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiooKSB7XG4gIHZhciBub2RlID0gdGhpcywgY3VycmVudCwgbmV4dCA9IFtub2RlXSwgY2hpbGRyZW4sIGksIG47XG4gIGRvIHtcbiAgICBjdXJyZW50ID0gbmV4dC5yZXZlcnNlKCksIG5leHQgPSBbXTtcbiAgICB3aGlsZSAobm9kZSA9IGN1cnJlbnQucG9wKCkpIHtcbiAgICAgIHlpZWxkIG5vZGU7XG4gICAgICBpZiAoY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIG4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICBuZXh0LnB1c2goY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IHdoaWxlIChuZXh0Lmxlbmd0aCk7XG59XG4iLCAiaW1wb3J0IG5vZGVfY291bnQgZnJvbSBcIi4vY291bnQuanNcIjtcbmltcG9ydCBub2RlX2VhY2ggZnJvbSBcIi4vZWFjaC5qc1wiO1xuaW1wb3J0IG5vZGVfZWFjaEJlZm9yZSBmcm9tIFwiLi9lYWNoQmVmb3JlLmpzXCI7XG5pbXBvcnQgbm9kZV9lYWNoQWZ0ZXIgZnJvbSBcIi4vZWFjaEFmdGVyLmpzXCI7XG5pbXBvcnQgbm9kZV9maW5kIGZyb20gXCIuL2ZpbmQuanNcIjtcbmltcG9ydCBub2RlX3N1bSBmcm9tIFwiLi9zdW0uanNcIjtcbmltcG9ydCBub2RlX3NvcnQgZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IG5vZGVfcGF0aCBmcm9tIFwiLi9wYXRoLmpzXCI7XG5pbXBvcnQgbm9kZV9hbmNlc3RvcnMgZnJvbSBcIi4vYW5jZXN0b3JzLmpzXCI7XG5pbXBvcnQgbm9kZV9kZXNjZW5kYW50cyBmcm9tIFwiLi9kZXNjZW5kYW50cy5qc1wiO1xuaW1wb3J0IG5vZGVfbGVhdmVzIGZyb20gXCIuL2xlYXZlcy5qc1wiO1xuaW1wb3J0IG5vZGVfbGlua3MgZnJvbSBcIi4vbGlua3MuanNcIjtcbmltcG9ydCBub2RlX2l0ZXJhdG9yIGZyb20gXCIuL2l0ZXJhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhpZXJhcmNoeShkYXRhLCBjaGlsZHJlbikge1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgIGRhdGEgPSBbdW5kZWZpbmVkLCBkYXRhXTtcbiAgICBpZiAoY2hpbGRyZW4gPT09IHVuZGVmaW5lZCkgY2hpbGRyZW4gPSBtYXBDaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2hpbGRyZW4gPSBvYmplY3RDaGlsZHJlbjtcbiAgfVxuXG4gIHZhciByb290ID0gbmV3IE5vZGUoZGF0YSksXG4gICAgICBub2RlLFxuICAgICAgbm9kZXMgPSBbcm9vdF0sXG4gICAgICBjaGlsZCxcbiAgICAgIGNoaWxkcyxcbiAgICAgIGksXG4gICAgICBuO1xuXG4gIHdoaWxlIChub2RlID0gbm9kZXMucG9wKCkpIHtcbiAgICBpZiAoKGNoaWxkcyA9IGNoaWxkcmVuKG5vZGUuZGF0YSkpICYmIChuID0gKGNoaWxkcyA9IEFycmF5LmZyb20oY2hpbGRzKSkubGVuZ3RoKSkge1xuICAgICAgbm9kZS5jaGlsZHJlbiA9IGNoaWxkcztcbiAgICAgIGZvciAoaSA9IG4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBub2Rlcy5wdXNoKGNoaWxkID0gY2hpbGRzW2ldID0gbmV3IE5vZGUoY2hpbGRzW2ldKSk7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG5vZGU7XG4gICAgICAgIGNoaWxkLmRlcHRoID0gbm9kZS5kZXB0aCArIDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJvb3QuZWFjaEJlZm9yZShjb21wdXRlSGVpZ2h0KTtcbn1cblxuZnVuY3Rpb24gbm9kZV9jb3B5KCkge1xuICByZXR1cm4gaGllcmFyY2h5KHRoaXMpLmVhY2hCZWZvcmUoY29weURhdGEpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RDaGlsZHJlbihkKSB7XG4gIHJldHVybiBkLmNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBtYXBDaGlsZHJlbihkKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGQpID8gZFsxXSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNvcHlEYXRhKG5vZGUpIHtcbiAgaWYgKG5vZGUuZGF0YS52YWx1ZSAhPT0gdW5kZWZpbmVkKSBub2RlLnZhbHVlID0gbm9kZS5kYXRhLnZhbHVlO1xuICBub2RlLmRhdGEgPSBub2RlLmRhdGEuZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQobm9kZSkge1xuICB2YXIgaGVpZ2h0ID0gMDtcbiAgZG8gbm9kZS5oZWlnaHQgPSBoZWlnaHQ7XG4gIHdoaWxlICgobm9kZSA9IG5vZGUucGFyZW50KSAmJiAobm9kZS5oZWlnaHQgPCArK2hlaWdodCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTm9kZShkYXRhKSB7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gIHRoaXMuZGVwdGggPVxuICB0aGlzLmhlaWdodCA9IDA7XG4gIHRoaXMucGFyZW50ID0gbnVsbDtcbn1cblxuTm9kZS5wcm90b3R5cGUgPSBoaWVyYXJjaHkucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogTm9kZSxcbiAgY291bnQ6IG5vZGVfY291bnQsXG4gIGVhY2g6IG5vZGVfZWFjaCxcbiAgZWFjaEFmdGVyOiBub2RlX2VhY2hBZnRlcixcbiAgZWFjaEJlZm9yZTogbm9kZV9lYWNoQmVmb3JlLFxuICBmaW5kOiBub2RlX2ZpbmQsXG4gIHN1bTogbm9kZV9zdW0sXG4gIHNvcnQ6IG5vZGVfc29ydCxcbiAgcGF0aDogbm9kZV9wYXRoLFxuICBhbmNlc3RvcnM6IG5vZGVfYW5jZXN0b3JzLFxuICBkZXNjZW5kYW50czogbm9kZV9kZXNjZW5kYW50cyxcbiAgbGVhdmVzOiBub2RlX2xlYXZlcyxcbiAgbGlua3M6IG5vZGVfbGlua3MsXG4gIGNvcHk6IG5vZGVfY29weSxcbiAgW1N5bWJvbC5pdGVyYXRvcl06IG5vZGVfaXRlcmF0b3Jcbn07XG4iLCAiaW1wb3J0IHtOb2RlfSBmcm9tIFwiLi9oaWVyYXJjaHkvaW5kZXguanNcIjtcblxuZnVuY3Rpb24gZGVmYXVsdFNlcGFyYXRpb24oYSwgYikge1xuICByZXR1cm4gYS5wYXJlbnQgPT09IGIucGFyZW50ID8gMSA6IDI7XG59XG5cbi8vIGZ1bmN0aW9uIHJhZGlhbFNlcGFyYXRpb24oYSwgYikge1xuLy8gICByZXR1cm4gKGEucGFyZW50ID09PSBiLnBhcmVudCA/IDEgOiAyKSAvIGEuZGVwdGg7XG4vLyB9XG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byB0cmF2ZXJzZSB0aGUgbGVmdCBjb250b3VyIG9mIGEgc3VidHJlZSAob3Jcbi8vIHN1YmZvcmVzdCkuIEl0IHJldHVybnMgdGhlIHN1Y2Nlc3NvciBvZiB2IG9uIHRoaXMgY29udG91ci4gVGhpcyBzdWNjZXNzb3IgaXNcbi8vIGVpdGhlciBnaXZlbiBieSB0aGUgbGVmdG1vc3QgY2hpbGQgb2YgdiBvciBieSB0aGUgdGhyZWFkIG9mIHYuIFRoZSBmdW5jdGlvblxuLy8gcmV0dXJucyBudWxsIGlmIGFuZCBvbmx5IGlmIHYgaXMgb24gdGhlIGhpZ2hlc3QgbGV2ZWwgb2YgaXRzIHN1YnRyZWUuXG5mdW5jdGlvbiBuZXh0TGVmdCh2KSB7XG4gIHZhciBjaGlsZHJlbiA9IHYuY2hpbGRyZW47XG4gIHJldHVybiBjaGlsZHJlbiA/IGNoaWxkcmVuWzBdIDogdi50O1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIHdvcmtzIGFuYWxvZ291c2x5IHRvIG5leHRMZWZ0LlxuZnVuY3Rpb24gbmV4dFJpZ2h0KHYpIHtcbiAgdmFyIGNoaWxkcmVuID0gdi5jaGlsZHJlbjtcbiAgcmV0dXJuIGNoaWxkcmVuID8gY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0gOiB2LnQ7XG59XG5cbi8vIFNoaWZ0cyB0aGUgY3VycmVudCBzdWJ0cmVlIHJvb3RlZCBhdCB3Ky4gVGhpcyBpcyBkb25lIGJ5IGluY3JlYXNpbmdcbi8vIHByZWxpbSh3KykgYW5kIG1vZCh3KykgYnkgc2hpZnQuXG5mdW5jdGlvbiBtb3ZlU3VidHJlZSh3bSwgd3AsIHNoaWZ0KSB7XG4gIHZhciBjaGFuZ2UgPSBzaGlmdCAvICh3cC5pIC0gd20uaSk7XG4gIHdwLmMgLT0gY2hhbmdlO1xuICB3cC5zICs9IHNoaWZ0O1xuICB3bS5jICs9IGNoYW5nZTtcbiAgd3AueiArPSBzaGlmdDtcbiAgd3AubSArPSBzaGlmdDtcbn1cblxuLy8gQWxsIG90aGVyIHNoaWZ0cywgYXBwbGllZCB0byB0aGUgc21hbGxlciBzdWJ0cmVlcyBiZXR3ZWVuIHctIGFuZCB3KywgYXJlXG4vLyBwZXJmb3JtZWQgYnkgdGhpcyBmdW5jdGlvbi4gVG8gcHJlcGFyZSB0aGUgc2hpZnRzLCB3ZSBoYXZlIHRvIGFkanVzdFxuLy8gY2hhbmdlKHcrKSwgc2hpZnQodyspLCBhbmQgY2hhbmdlKHctKS5cbmZ1bmN0aW9uIGV4ZWN1dGVTaGlmdHModikge1xuICB2YXIgc2hpZnQgPSAwLFxuICAgICAgY2hhbmdlID0gMCxcbiAgICAgIGNoaWxkcmVuID0gdi5jaGlsZHJlbixcbiAgICAgIGkgPSBjaGlsZHJlbi5sZW5ndGgsXG4gICAgICB3O1xuICB3aGlsZSAoLS1pID49IDApIHtcbiAgICB3ID0gY2hpbGRyZW5baV07XG4gICAgdy56ICs9IHNoaWZ0O1xuICAgIHcubSArPSBzaGlmdDtcbiAgICBzaGlmdCArPSB3LnMgKyAoY2hhbmdlICs9IHcuYyk7XG4gIH1cbn1cblxuLy8gSWYgdmktXHUyMDE5cyBhbmNlc3RvciBpcyBhIHNpYmxpbmcgb2YgdiwgcmV0dXJucyB2aS1cdTIwMTlzIGFuY2VzdG9yLiBPdGhlcndpc2UsXG4vLyByZXR1cm5zIHRoZSBzcGVjaWZpZWQgKGRlZmF1bHQpIGFuY2VzdG9yLlxuZnVuY3Rpb24gbmV4dEFuY2VzdG9yKHZpbSwgdiwgYW5jZXN0b3IpIHtcbiAgcmV0dXJuIHZpbS5hLnBhcmVudCA9PT0gdi5wYXJlbnQgPyB2aW0uYSA6IGFuY2VzdG9yO1xufVxuXG5mdW5jdGlvbiBUcmVlTm9kZShub2RlLCBpKSB7XG4gIHRoaXMuXyA9IG5vZGU7XG4gIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gIHRoaXMuQSA9IG51bGw7IC8vIGRlZmF1bHQgYW5jZXN0b3JcbiAgdGhpcy5hID0gdGhpczsgLy8gYW5jZXN0b3JcbiAgdGhpcy56ID0gMDsgLy8gcHJlbGltXG4gIHRoaXMubSA9IDA7IC8vIG1vZFxuICB0aGlzLmMgPSAwOyAvLyBjaGFuZ2VcbiAgdGhpcy5zID0gMDsgLy8gc2hpZnRcbiAgdGhpcy50ID0gbnVsbDsgLy8gdGhyZWFkXG4gIHRoaXMuaSA9IGk7IC8vIG51bWJlclxufVxuXG5UcmVlTm9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5vZGUucHJvdG90eXBlKTtcblxuZnVuY3Rpb24gdHJlZVJvb3Qocm9vdCkge1xuICB2YXIgdHJlZSA9IG5ldyBUcmVlTm9kZShyb290LCAwKSxcbiAgICAgIG5vZGUsXG4gICAgICBub2RlcyA9IFt0cmVlXSxcbiAgICAgIGNoaWxkLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBpLFxuICAgICAgbjtcblxuICB3aGlsZSAobm9kZSA9IG5vZGVzLnBvcCgpKSB7XG4gICAgaWYgKGNoaWxkcmVuID0gbm9kZS5fLmNoaWxkcmVuKSB7XG4gICAgICBub2RlLmNoaWxkcmVuID0gbmV3IEFycmF5KG4gPSBjaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgZm9yIChpID0gbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIG5vZGVzLnB1c2goY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldID0gbmV3IFRyZWVOb2RlKGNoaWxkcmVuW2ldLCBpKSk7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgKHRyZWUucGFyZW50ID0gbmV3IFRyZWVOb2RlKG51bGwsIDApKS5jaGlsZHJlbiA9IFt0cmVlXTtcbiAgcmV0dXJuIHRyZWU7XG59XG5cbi8vIE5vZGUtbGluayB0cmVlIGRpYWdyYW0gdXNpbmcgdGhlIFJlaW5nb2xkLVRpbGZvcmQgXCJ0aWR5XCIgYWxnb3JpdGhtXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIHNlcGFyYXRpb24gPSBkZWZhdWx0U2VwYXJhdGlvbixcbiAgICAgIGR4ID0gMSxcbiAgICAgIGR5ID0gMSxcbiAgICAgIG5vZGVTaXplID0gbnVsbDtcblxuICBmdW5jdGlvbiB0cmVlKHJvb3QpIHtcbiAgICB2YXIgdCA9IHRyZWVSb290KHJvb3QpO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgbGF5b3V0IHVzaW5nIEJ1Y2hoZWltIGV0IGFsLlx1MjAxOXMgYWxnb3JpdGhtLlxuICAgIHQuZWFjaEFmdGVyKGZpcnN0V2FsayksIHQucGFyZW50Lm0gPSAtdC56O1xuICAgIHQuZWFjaEJlZm9yZShzZWNvbmRXYWxrKTtcblxuICAgIC8vIElmIGEgZml4ZWQgbm9kZSBzaXplIGlzIHNwZWNpZmllZCwgc2NhbGUgeCBhbmQgeS5cbiAgICBpZiAobm9kZVNpemUpIHJvb3QuZWFjaEJlZm9yZShzaXplTm9kZSk7XG5cbiAgICAvLyBJZiBhIGZpeGVkIHRyZWUgc2l6ZSBpcyBzcGVjaWZpZWQsIHNjYWxlIHggYW5kIHkgYmFzZWQgb24gdGhlIGV4dGVudC5cbiAgICAvLyBDb21wdXRlIHRoZSBsZWZ0LW1vc3QsIHJpZ2h0LW1vc3QsIGFuZCBkZXB0aC1tb3N0IG5vZGVzIGZvciBleHRlbnRzLlxuICAgIGVsc2Uge1xuICAgICAgdmFyIGxlZnQgPSByb290LFxuICAgICAgICAgIHJpZ2h0ID0gcm9vdCxcbiAgICAgICAgICBib3R0b20gPSByb290O1xuICAgICAgcm9vdC5lYWNoQmVmb3JlKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUueCA8IGxlZnQueCkgbGVmdCA9IG5vZGU7XG4gICAgICAgIGlmIChub2RlLnggPiByaWdodC54KSByaWdodCA9IG5vZGU7XG4gICAgICAgIGlmIChub2RlLmRlcHRoID4gYm90dG9tLmRlcHRoKSBib3R0b20gPSBub2RlO1xuICAgICAgfSk7XG4gICAgICB2YXIgcyA9IGxlZnQgPT09IHJpZ2h0ID8gMSA6IHNlcGFyYXRpb24obGVmdCwgcmlnaHQpIC8gMixcbiAgICAgICAgICB0eCA9IHMgLSBsZWZ0LngsXG4gICAgICAgICAga3ggPSBkeCAvIChyaWdodC54ICsgcyArIHR4KSxcbiAgICAgICAgICBreSA9IGR5IC8gKGJvdHRvbS5kZXB0aCB8fCAxKTtcbiAgICAgIHJvb3QuZWFjaEJlZm9yZShmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUueCA9IChub2RlLnggKyB0eCkgKiBreDtcbiAgICAgICAgbm9kZS55ID0gbm9kZS5kZXB0aCAqIGt5O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cblxuICAvLyBDb21wdXRlcyBhIHByZWxpbWluYXJ5IHgtY29vcmRpbmF0ZSBmb3Igdi4gQmVmb3JlIHRoYXQsIEZJUlNUIFdBTEsgaXNcbiAgLy8gYXBwbGllZCByZWN1cnNpdmVseSB0byB0aGUgY2hpbGRyZW4gb2YgdiwgYXMgd2VsbCBhcyB0aGUgZnVuY3Rpb25cbiAgLy8gQVBQT1JUSU9OLiBBZnRlciBzcGFjaW5nIG91dCB0aGUgY2hpbGRyZW4gYnkgY2FsbGluZyBFWEVDVVRFIFNISUZUUywgdGhlXG4gIC8vIG5vZGUgdiBpcyBwbGFjZWQgdG8gdGhlIG1pZHBvaW50IG9mIGl0cyBvdXRlcm1vc3QgY2hpbGRyZW4uXG4gIGZ1bmN0aW9uIGZpcnN0V2Fsayh2KSB7XG4gICAgdmFyIGNoaWxkcmVuID0gdi5jaGlsZHJlbixcbiAgICAgICAgc2libGluZ3MgPSB2LnBhcmVudC5jaGlsZHJlbixcbiAgICAgICAgdyA9IHYuaSA/IHNpYmxpbmdzW3YuaSAtIDFdIDogbnVsbDtcbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGV4ZWN1dGVTaGlmdHModik7XG4gICAgICB2YXIgbWlkcG9pbnQgPSAoY2hpbGRyZW5bMF0ueiArIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdLnopIC8gMjtcbiAgICAgIGlmICh3KSB7XG4gICAgICAgIHYueiA9IHcueiArIHNlcGFyYXRpb24odi5fLCB3Ll8pO1xuICAgICAgICB2Lm0gPSB2LnogLSBtaWRwb2ludDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHYueiA9IG1pZHBvaW50O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodykge1xuICAgICAgdi56ID0gdy56ICsgc2VwYXJhdGlvbih2Ll8sIHcuXyk7XG4gICAgfVxuICAgIHYucGFyZW50LkEgPSBhcHBvcnRpb24odiwgdywgdi5wYXJlbnQuQSB8fCBzaWJsaW5nc1swXSk7XG4gIH1cblxuICAvLyBDb21wdXRlcyBhbGwgcmVhbCB4LWNvb3JkaW5hdGVzIGJ5IHN1bW1pbmcgdXAgdGhlIG1vZGlmaWVycyByZWN1cnNpdmVseS5cbiAgZnVuY3Rpb24gc2Vjb25kV2Fsayh2KSB7XG4gICAgdi5fLnggPSB2LnogKyB2LnBhcmVudC5tO1xuICAgIHYubSArPSB2LnBhcmVudC5tO1xuICB9XG5cbiAgLy8gVGhlIGNvcmUgb2YgdGhlIGFsZ29yaXRobS4gSGVyZSwgYSBuZXcgc3VidHJlZSBpcyBjb21iaW5lZCB3aXRoIHRoZVxuICAvLyBwcmV2aW91cyBzdWJ0cmVlcy4gVGhyZWFkcyBhcmUgdXNlZCB0byB0cmF2ZXJzZSB0aGUgaW5zaWRlIGFuZCBvdXRzaWRlXG4gIC8vIGNvbnRvdXJzIG9mIHRoZSBsZWZ0IGFuZCByaWdodCBzdWJ0cmVlIHVwIHRvIHRoZSBoaWdoZXN0IGNvbW1vbiBsZXZlbC4gVGhlXG4gIC8vIHZlcnRpY2VzIHVzZWQgZm9yIHRoZSB0cmF2ZXJzYWxzIGFyZSB2aSssIHZpLSwgdm8tLCBhbmQgdm8rLCB3aGVyZSB0aGVcbiAgLy8gc3VwZXJzY3JpcHQgbyBtZWFucyBvdXRzaWRlIGFuZCBpIG1lYW5zIGluc2lkZSwgdGhlIHN1YnNjcmlwdCAtIG1lYW5zIGxlZnRcbiAgLy8gc3VidHJlZSBhbmQgKyBtZWFucyByaWdodCBzdWJ0cmVlLiBGb3Igc3VtbWluZyB1cCB0aGUgbW9kaWZpZXJzIGFsb25nIHRoZVxuICAvLyBjb250b3VyLCB3ZSB1c2UgcmVzcGVjdGl2ZSB2YXJpYWJsZXMgc2krLCBzaS0sIHNvLSwgYW5kIHNvKy4gV2hlbmV2ZXIgdHdvXG4gIC8vIG5vZGVzIG9mIHRoZSBpbnNpZGUgY29udG91cnMgY29uZmxpY3QsIHdlIGNvbXB1dGUgdGhlIGxlZnQgb25lIG9mIHRoZVxuICAvLyBncmVhdGVzdCB1bmNvbW1vbiBhbmNlc3RvcnMgdXNpbmcgdGhlIGZ1bmN0aW9uIEFOQ0VTVE9SIGFuZCBjYWxsIE1PVkVcbiAgLy8gU1VCVFJFRSB0byBzaGlmdCB0aGUgc3VidHJlZSBhbmQgcHJlcGFyZSB0aGUgc2hpZnRzIG9mIHNtYWxsZXIgc3VidHJlZXMuXG4gIC8vIEZpbmFsbHksIHdlIGFkZCBhIG5ldyB0aHJlYWQgKGlmIG5lY2Vzc2FyeSkuXG4gIGZ1bmN0aW9uIGFwcG9ydGlvbih2LCB3LCBhbmNlc3Rvcikge1xuICAgIGlmICh3KSB7XG4gICAgICB2YXIgdmlwID0gdixcbiAgICAgICAgICB2b3AgPSB2LFxuICAgICAgICAgIHZpbSA9IHcsXG4gICAgICAgICAgdm9tID0gdmlwLnBhcmVudC5jaGlsZHJlblswXSxcbiAgICAgICAgICBzaXAgPSB2aXAubSxcbiAgICAgICAgICBzb3AgPSB2b3AubSxcbiAgICAgICAgICBzaW0gPSB2aW0ubSxcbiAgICAgICAgICBzb20gPSB2b20ubSxcbiAgICAgICAgICBzaGlmdDtcbiAgICAgIHdoaWxlICh2aW0gPSBuZXh0UmlnaHQodmltKSwgdmlwID0gbmV4dExlZnQodmlwKSwgdmltICYmIHZpcCkge1xuICAgICAgICB2b20gPSBuZXh0TGVmdCh2b20pO1xuICAgICAgICB2b3AgPSBuZXh0UmlnaHQodm9wKTtcbiAgICAgICAgdm9wLmEgPSB2O1xuICAgICAgICBzaGlmdCA9IHZpbS56ICsgc2ltIC0gdmlwLnogLSBzaXAgKyBzZXBhcmF0aW9uKHZpbS5fLCB2aXAuXyk7XG4gICAgICAgIGlmIChzaGlmdCA+IDApIHtcbiAgICAgICAgICBtb3ZlU3VidHJlZShuZXh0QW5jZXN0b3IodmltLCB2LCBhbmNlc3RvciksIHYsIHNoaWZ0KTtcbiAgICAgICAgICBzaXAgKz0gc2hpZnQ7XG4gICAgICAgICAgc29wICs9IHNoaWZ0O1xuICAgICAgICB9XG4gICAgICAgIHNpbSArPSB2aW0ubTtcbiAgICAgICAgc2lwICs9IHZpcC5tO1xuICAgICAgICBzb20gKz0gdm9tLm07XG4gICAgICAgIHNvcCArPSB2b3AubTtcbiAgICAgIH1cbiAgICAgIGlmICh2aW0gJiYgIW5leHRSaWdodCh2b3ApKSB7XG4gICAgICAgIHZvcC50ID0gdmltO1xuICAgICAgICB2b3AubSArPSBzaW0gLSBzb3A7XG4gICAgICB9XG4gICAgICBpZiAodmlwICYmICFuZXh0TGVmdCh2b20pKSB7XG4gICAgICAgIHZvbS50ID0gdmlwO1xuICAgICAgICB2b20ubSArPSBzaXAgLSBzb207XG4gICAgICAgIGFuY2VzdG9yID0gdjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFuY2VzdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gc2l6ZU5vZGUobm9kZSkge1xuICAgIG5vZGUueCAqPSBkeDtcbiAgICBub2RlLnkgPSBub2RlLmRlcHRoICogZHk7XG4gIH1cblxuICB0cmVlLnNlcGFyYXRpb24gPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc2VwYXJhdGlvbiA9IHgsIHRyZWUpIDogc2VwYXJhdGlvbjtcbiAgfTtcblxuICB0cmVlLnNpemUgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAobm9kZVNpemUgPSBmYWxzZSwgZHggPSAreFswXSwgZHkgPSAreFsxXSwgdHJlZSkgOiAobm9kZVNpemUgPyBudWxsIDogW2R4LCBkeV0pO1xuICB9O1xuXG4gIHRyZWUubm9kZVNpemUgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAobm9kZVNpemUgPSB0cnVlLCBkeCA9ICt4WzBdLCBkeSA9ICt4WzFdLCB0cmVlKSA6IChub2RlU2l6ZSA/IFtkeCwgZHldIDogbnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIHRyZWU7XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgeCA9PiAoKSA9PiB4O1xuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFpvb21FdmVudCh0eXBlLCB7XG4gIHNvdXJjZUV2ZW50LFxuICB0YXJnZXQsXG4gIHRyYW5zZm9ybSxcbiAgZGlzcGF0Y2hcbn0pIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgIHR5cGU6IHt2YWx1ZTogdHlwZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcbiAgICBzb3VyY2VFdmVudDoge3ZhbHVlOiBzb3VyY2VFdmVudCwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcbiAgICB0YXJnZXQ6IHt2YWx1ZTogdGFyZ2V0LCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxuICAgIHRyYW5zZm9ybToge3ZhbHVlOiB0cmFuc2Zvcm0sIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXG4gICAgXzoge3ZhbHVlOiBkaXNwYXRjaH1cbiAgfSk7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybShrLCB4LCB5KSB7XG4gIHRoaXMuayA9IGs7XG4gIHRoaXMueCA9IHg7XG4gIHRoaXMueSA9IHk7XG59XG5cblRyYW5zZm9ybS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUcmFuc2Zvcm0sXG4gIHNjYWxlOiBmdW5jdGlvbihrKSB7XG4gICAgcmV0dXJuIGsgPT09IDEgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmsgKiBrLCB0aGlzLngsIHRoaXMueSk7XG4gIH0sXG4gIHRyYW5zbGF0ZTogZnVuY3Rpb24oeCwgeSkge1xuICAgIHJldHVybiB4ID09PSAwICYgeSA9PT0gMCA/IHRoaXMgOiBuZXcgVHJhbnNmb3JtKHRoaXMuaywgdGhpcy54ICsgdGhpcy5rICogeCwgdGhpcy55ICsgdGhpcy5rICogeSk7XG4gIH0sXG4gIGFwcGx5OiBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBbcG9pbnRbMF0gKiB0aGlzLmsgKyB0aGlzLngsIHBvaW50WzFdICogdGhpcy5rICsgdGhpcy55XTtcbiAgfSxcbiAgYXBwbHlYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHggKiB0aGlzLmsgKyB0aGlzLng7XG4gIH0sXG4gIGFwcGx5WTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiB5ICogdGhpcy5rICsgdGhpcy55O1xuICB9LFxuICBpbnZlcnQ6IGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIFsobG9jYXRpb25bMF0gLSB0aGlzLngpIC8gdGhpcy5rLCAobG9jYXRpb25bMV0gLSB0aGlzLnkpIC8gdGhpcy5rXTtcbiAgfSxcbiAgaW52ZXJ0WDogZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiAoeCAtIHRoaXMueCkgLyB0aGlzLms7XG4gIH0sXG4gIGludmVydFk6IGZ1bmN0aW9uKHkpIHtcbiAgICByZXR1cm4gKHkgLSB0aGlzLnkpIC8gdGhpcy5rO1xuICB9LFxuICByZXNjYWxlWDogZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB4LmNvcHkoKS5kb21haW4oeC5yYW5nZSgpLm1hcCh0aGlzLmludmVydFgsIHRoaXMpLm1hcCh4LmludmVydCwgeCkpO1xuICB9LFxuICByZXNjYWxlWTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiB5LmNvcHkoKS5kb21haW4oeS5yYW5nZSgpLm1hcCh0aGlzLmludmVydFksIHRoaXMpLm1hcCh5LmludmVydCwgeSkpO1xuICB9LFxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgdGhpcy54ICsgXCIsXCIgKyB0aGlzLnkgKyBcIikgc2NhbGUoXCIgKyB0aGlzLmsgKyBcIilcIjtcbiAgfVxufTtcblxuZXhwb3J0IHZhciBpZGVudGl0eSA9IG5ldyBUcmFuc2Zvcm0oMSwgMCwgMCk7XG5cbnRyYW5zZm9ybS5wcm90b3R5cGUgPSBUcmFuc2Zvcm0ucHJvdG90eXBlO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2Zvcm0obm9kZSkge1xuICB3aGlsZSAoIW5vZGUuX196b29tKSBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgcmV0dXJuIGlkZW50aXR5O1xuICByZXR1cm4gbm9kZS5fX3pvb207XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIG5vcHJvcGFnYXRpb24oZXZlbnQpIHtcbiAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xufVxuIiwgImltcG9ydCB7ZGlzcGF0Y2h9IGZyb20gXCJkMy1kaXNwYXRjaFwiO1xuaW1wb3J0IHtkcmFnRGlzYWJsZSwgZHJhZ0VuYWJsZX0gZnJvbSBcImQzLWRyYWdcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVab29tfSBmcm9tIFwiZDMtaW50ZXJwb2xhdGVcIjtcbmltcG9ydCB7c2VsZWN0LCBwb2ludGVyfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge2ludGVycnVwdH0gZnJvbSBcImQzLXRyYW5zaXRpb25cIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi9jb25zdGFudC5qc1wiO1xuaW1wb3J0IFpvb21FdmVudCBmcm9tIFwiLi9ldmVudC5qc1wiO1xuaW1wb3J0IHtUcmFuc2Zvcm0sIGlkZW50aXR5fSBmcm9tIFwiLi90cmFuc2Zvcm0uanNcIjtcbmltcG9ydCBub2V2ZW50LCB7bm9wcm9wYWdhdGlvbn0gZnJvbSBcIi4vbm9ldmVudC5qc1wiO1xuXG4vLyBJZ25vcmUgcmlnaHQtY2xpY2ssIHNpbmNlIHRoYXQgc2hvdWxkIG9wZW4gdGhlIGNvbnRleHQgbWVudS5cbi8vIGV4Y2VwdCBmb3IgcGluY2gtdG8tem9vbSwgd2hpY2ggaXMgc2VudCBhcyBhIHdoZWVsK2N0cmxLZXkgZXZlbnRcbmZ1bmN0aW9uIGRlZmF1bHRGaWx0ZXIoZXZlbnQpIHtcbiAgcmV0dXJuICghZXZlbnQuY3RybEtleSB8fCBldmVudC50eXBlID09PSAnd2hlZWwnKSAmJiAhZXZlbnQuYnV0dG9uO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0RXh0ZW50KCkge1xuICB2YXIgZSA9IHRoaXM7XG4gIGlmIChlIGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xuICAgIGUgPSBlLm93bmVyU1ZHRWxlbWVudCB8fCBlO1xuICAgIGlmIChlLmhhc0F0dHJpYnV0ZShcInZpZXdCb3hcIikpIHtcbiAgICAgIGUgPSBlLnZpZXdCb3guYmFzZVZhbDtcbiAgICAgIHJldHVybiBbW2UueCwgZS55XSwgW2UueCArIGUud2lkdGgsIGUueSArIGUuaGVpZ2h0XV07XG4gICAgfVxuICAgIHJldHVybiBbWzAsIDBdLCBbZS53aWR0aC5iYXNlVmFsLnZhbHVlLCBlLmhlaWdodC5iYXNlVmFsLnZhbHVlXV07XG4gIH1cbiAgcmV0dXJuIFtbMCwgMF0sIFtlLmNsaWVudFdpZHRoLCBlLmNsaWVudEhlaWdodF1dO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0VHJhbnNmb3JtKCkge1xuICByZXR1cm4gdGhpcy5fX3pvb20gfHwgaWRlbnRpdHk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXaGVlbERlbHRhKGV2ZW50KSB7XG4gIHJldHVybiAtZXZlbnQuZGVsdGFZICogKGV2ZW50LmRlbHRhTW9kZSA9PT0gMSA/IDAuMDUgOiBldmVudC5kZWx0YU1vZGUgPyAxIDogMC4wMDIpICogKGV2ZW50LmN0cmxLZXkgPyAxMCA6IDEpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0VG91Y2hhYmxlKCkge1xuICByZXR1cm4gbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIHx8IChcIm9udG91Y2hzdGFydFwiIGluIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29uc3RyYWluKHRyYW5zZm9ybSwgZXh0ZW50LCB0cmFuc2xhdGVFeHRlbnQpIHtcbiAgdmFyIGR4MCA9IHRyYW5zZm9ybS5pbnZlcnRYKGV4dGVudFswXVswXSkgLSB0cmFuc2xhdGVFeHRlbnRbMF1bMF0sXG4gICAgICBkeDEgPSB0cmFuc2Zvcm0uaW52ZXJ0WChleHRlbnRbMV1bMF0pIC0gdHJhbnNsYXRlRXh0ZW50WzFdWzBdLFxuICAgICAgZHkwID0gdHJhbnNmb3JtLmludmVydFkoZXh0ZW50WzBdWzFdKSAtIHRyYW5zbGF0ZUV4dGVudFswXVsxXSxcbiAgICAgIGR5MSA9IHRyYW5zZm9ybS5pbnZlcnRZKGV4dGVudFsxXVsxXSkgLSB0cmFuc2xhdGVFeHRlbnRbMV1bMV07XG4gIHJldHVybiB0cmFuc2Zvcm0udHJhbnNsYXRlKFxuICAgIGR4MSA+IGR4MCA/IChkeDAgKyBkeDEpIC8gMiA6IE1hdGgubWluKDAsIGR4MCkgfHwgTWF0aC5tYXgoMCwgZHgxKSxcbiAgICBkeTEgPiBkeTAgPyAoZHkwICsgZHkxKSAvIDIgOiBNYXRoLm1pbigwLCBkeTApIHx8IE1hdGgubWF4KDAsIGR5MSlcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBmaWx0ZXIgPSBkZWZhdWx0RmlsdGVyLFxuICAgICAgZXh0ZW50ID0gZGVmYXVsdEV4dGVudCxcbiAgICAgIGNvbnN0cmFpbiA9IGRlZmF1bHRDb25zdHJhaW4sXG4gICAgICB3aGVlbERlbHRhID0gZGVmYXVsdFdoZWVsRGVsdGEsXG4gICAgICB0b3VjaGFibGUgPSBkZWZhdWx0VG91Y2hhYmxlLFxuICAgICAgc2NhbGVFeHRlbnQgPSBbMCwgSW5maW5pdHldLFxuICAgICAgdHJhbnNsYXRlRXh0ZW50ID0gW1stSW5maW5pdHksIC1JbmZpbml0eV0sIFtJbmZpbml0eSwgSW5maW5pdHldXSxcbiAgICAgIGR1cmF0aW9uID0gMjUwLFxuICAgICAgaW50ZXJwb2xhdGUgPSBpbnRlcnBvbGF0ZVpvb20sXG4gICAgICBsaXN0ZW5lcnMgPSBkaXNwYXRjaChcInN0YXJ0XCIsIFwiem9vbVwiLCBcImVuZFwiKSxcbiAgICAgIHRvdWNoc3RhcnRpbmcsXG4gICAgICB0b3VjaGZpcnN0LFxuICAgICAgdG91Y2hlbmRpbmcsXG4gICAgICB0b3VjaERlbGF5ID0gNTAwLFxuICAgICAgd2hlZWxEZWxheSA9IDE1MCxcbiAgICAgIGNsaWNrRGlzdGFuY2UyID0gMCxcbiAgICAgIHRhcERpc3RhbmNlID0gMTA7XG5cbiAgZnVuY3Rpb24gem9vbShzZWxlY3Rpb24pIHtcbiAgICBzZWxlY3Rpb25cbiAgICAgICAgLnByb3BlcnR5KFwiX196b29tXCIsIGRlZmF1bHRUcmFuc2Zvcm0pXG4gICAgICAgIC5vbihcIndoZWVsLnpvb21cIiwgd2hlZWxlZCwge3Bhc3NpdmU6IGZhbHNlfSlcbiAgICAgICAgLm9uKFwibW91c2Vkb3duLnpvb21cIiwgbW91c2Vkb3duZWQpXG4gICAgICAgIC5vbihcImRibGNsaWNrLnpvb21cIiwgZGJsY2xpY2tlZClcbiAgICAgIC5maWx0ZXIodG91Y2hhYmxlKVxuICAgICAgICAub24oXCJ0b3VjaHN0YXJ0Lnpvb21cIiwgdG91Y2hzdGFydGVkKVxuICAgICAgICAub24oXCJ0b3VjaG1vdmUuem9vbVwiLCB0b3VjaG1vdmVkKVxuICAgICAgICAub24oXCJ0b3VjaGVuZC56b29tIHRvdWNoY2FuY2VsLnpvb21cIiwgdG91Y2hlbmRlZClcbiAgICAgICAgLnN0eWxlKFwiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCIsIFwicmdiYSgwLDAsMCwwKVwiKTtcbiAgfVxuXG4gIHpvb20udHJhbnNmb3JtID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgdHJhbnNmb3JtLCBwb2ludCwgZXZlbnQpIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gY29sbGVjdGlvbi5zZWxlY3Rpb24gPyBjb2xsZWN0aW9uLnNlbGVjdGlvbigpIDogY29sbGVjdGlvbjtcbiAgICBzZWxlY3Rpb24ucHJvcGVydHkoXCJfX3pvb21cIiwgZGVmYXVsdFRyYW5zZm9ybSk7XG4gICAgaWYgKGNvbGxlY3Rpb24gIT09IHNlbGVjdGlvbikge1xuICAgICAgc2NoZWR1bGUoY29sbGVjdGlvbiwgdHJhbnNmb3JtLCBwb2ludCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3Rpb24uaW50ZXJydXB0KCkuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgZ2VzdHVyZSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgLmV2ZW50KGV2ZW50KVxuICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgLnpvb20obnVsbCwgdHlwZW9mIHRyYW5zZm9ybSA9PT0gXCJmdW5jdGlvblwiID8gdHJhbnNmb3JtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiB0cmFuc2Zvcm0pXG4gICAgICAgICAgLmVuZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHpvb20uc2NhbGVCeSA9IGZ1bmN0aW9uKHNlbGVjdGlvbiwgaywgcCwgZXZlbnQpIHtcbiAgICB6b29tLnNjYWxlVG8oc2VsZWN0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBrMCA9IHRoaXMuX196b29tLmssXG4gICAgICAgICAgazEgPSB0eXBlb2YgayA9PT0gXCJmdW5jdGlvblwiID8gay5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogaztcbiAgICAgIHJldHVybiBrMCAqIGsxO1xuICAgIH0sIHAsIGV2ZW50KTtcbiAgfTtcblxuICB6b29tLnNjYWxlVG8gPSBmdW5jdGlvbihzZWxlY3Rpb24sIGssIHAsIGV2ZW50KSB7XG4gICAgem9vbS50cmFuc2Zvcm0oc2VsZWN0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlID0gZXh0ZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgICAgdDAgPSB0aGlzLl9fem9vbSxcbiAgICAgICAgICBwMCA9IHAgPT0gbnVsbCA/IGNlbnRyb2lkKGUpIDogdHlwZW9mIHAgPT09IFwiZnVuY3Rpb25cIiA/IHAuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IHAsXG4gICAgICAgICAgcDEgPSB0MC5pbnZlcnQocDApLFxuICAgICAgICAgIGsxID0gdHlwZW9mIGsgPT09IFwiZnVuY3Rpb25cIiA/IGsuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGs7XG4gICAgICByZXR1cm4gY29uc3RyYWluKHRyYW5zbGF0ZShzY2FsZSh0MCwgazEpLCBwMCwgcDEpLCBlLCB0cmFuc2xhdGVFeHRlbnQpO1xuICAgIH0sIHAsIGV2ZW50KTtcbiAgfTtcblxuICB6b29tLnRyYW5zbGF0ZUJ5ID0gZnVuY3Rpb24oc2VsZWN0aW9uLCB4LCB5LCBldmVudCkge1xuICAgIHpvb20udHJhbnNmb3JtKHNlbGVjdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY29uc3RyYWluKHRoaXMuX196b29tLnRyYW5zbGF0ZShcbiAgICAgICAgdHlwZW9mIHggPT09IFwiZnVuY3Rpb25cIiA/IHguYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IHgsXG4gICAgICAgIHR5cGVvZiB5ID09PSBcImZ1bmN0aW9uXCIgPyB5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiB5XG4gICAgICApLCBleHRlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdHJhbnNsYXRlRXh0ZW50KTtcbiAgICB9LCBudWxsLCBldmVudCk7XG4gIH07XG5cbiAgem9vbS50cmFuc2xhdGVUbyA9IGZ1bmN0aW9uKHNlbGVjdGlvbiwgeCwgeSwgcCwgZXZlbnQpIHtcbiAgICB6b29tLnRyYW5zZm9ybShzZWxlY3Rpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUgPSBleHRlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgICB0ID0gdGhpcy5fX3pvb20sXG4gICAgICAgICAgcDAgPSBwID09IG51bGwgPyBjZW50cm9pZChlKSA6IHR5cGVvZiBwID09PSBcImZ1bmN0aW9uXCIgPyBwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBwO1xuICAgICAgcmV0dXJuIGNvbnN0cmFpbihpZGVudGl0eS50cmFuc2xhdGUocDBbMF0sIHAwWzFdKS5zY2FsZSh0LmspLnRyYW5zbGF0ZShcbiAgICAgICAgdHlwZW9mIHggPT09IFwiZnVuY3Rpb25cIiA/IC14LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiAteCxcbiAgICAgICAgdHlwZW9mIHkgPT09IFwiZnVuY3Rpb25cIiA/IC15LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiAteVxuICAgICAgKSwgZSwgdHJhbnNsYXRlRXh0ZW50KTtcbiAgICB9LCBwLCBldmVudCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gc2NhbGUodHJhbnNmb3JtLCBrKSB7XG4gICAgayA9IE1hdGgubWF4KHNjYWxlRXh0ZW50WzBdLCBNYXRoLm1pbihzY2FsZUV4dGVudFsxXSwgaykpO1xuICAgIHJldHVybiBrID09PSB0cmFuc2Zvcm0uayA/IHRyYW5zZm9ybSA6IG5ldyBUcmFuc2Zvcm0oaywgdHJhbnNmb3JtLngsIHRyYW5zZm9ybS55KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zbGF0ZSh0cmFuc2Zvcm0sIHAwLCBwMSkge1xuICAgIHZhciB4ID0gcDBbMF0gLSBwMVswXSAqIHRyYW5zZm9ybS5rLCB5ID0gcDBbMV0gLSBwMVsxXSAqIHRyYW5zZm9ybS5rO1xuICAgIHJldHVybiB4ID09PSB0cmFuc2Zvcm0ueCAmJiB5ID09PSB0cmFuc2Zvcm0ueSA/IHRyYW5zZm9ybSA6IG5ldyBUcmFuc2Zvcm0odHJhbnNmb3JtLmssIHgsIHkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2VudHJvaWQoZXh0ZW50KSB7XG4gICAgcmV0dXJuIFsoK2V4dGVudFswXVswXSArICtleHRlbnRbMV1bMF0pIC8gMiwgKCtleHRlbnRbMF1bMV0gKyArZXh0ZW50WzFdWzFdKSAvIDJdO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUodHJhbnNpdGlvbiwgdHJhbnNmb3JtLCBwb2ludCwgZXZlbnQpIHtcbiAgICB0cmFuc2l0aW9uXG4gICAgICAgIC5vbihcInN0YXJ0Lnpvb21cIiwgZnVuY3Rpb24oKSB7IGdlc3R1cmUodGhpcywgYXJndW1lbnRzKS5ldmVudChldmVudCkuc3RhcnQoKTsgfSlcbiAgICAgICAgLm9uKFwiaW50ZXJydXB0Lnpvb20gZW5kLnpvb21cIiwgZnVuY3Rpb24oKSB7IGdlc3R1cmUodGhpcywgYXJndW1lbnRzKS5ldmVudChldmVudCkuZW5kKCk7IH0pXG4gICAgICAgIC50d2VlbihcInpvb21cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICBnID0gZ2VzdHVyZSh0aGF0LCBhcmdzKS5ldmVudChldmVudCksXG4gICAgICAgICAgICAgIGUgPSBleHRlbnQuYXBwbHkodGhhdCwgYXJncyksXG4gICAgICAgICAgICAgIHAgPSBwb2ludCA9PSBudWxsID8gY2VudHJvaWQoZSkgOiB0eXBlb2YgcG9pbnQgPT09IFwiZnVuY3Rpb25cIiA/IHBvaW50LmFwcGx5KHRoYXQsIGFyZ3MpIDogcG9pbnQsXG4gICAgICAgICAgICAgIHcgPSBNYXRoLm1heChlWzFdWzBdIC0gZVswXVswXSwgZVsxXVsxXSAtIGVbMF1bMV0pLFxuICAgICAgICAgICAgICBhID0gdGhhdC5fX3pvb20sXG4gICAgICAgICAgICAgIGIgPSB0eXBlb2YgdHJhbnNmb3JtID09PSBcImZ1bmN0aW9uXCIgPyB0cmFuc2Zvcm0uYXBwbHkodGhhdCwgYXJncykgOiB0cmFuc2Zvcm0sXG4gICAgICAgICAgICAgIGkgPSBpbnRlcnBvbGF0ZShhLmludmVydChwKS5jb25jYXQodyAvIGEuayksIGIuaW52ZXJ0KHApLmNvbmNhdCh3IC8gYi5rKSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICh0ID09PSAxKSB0ID0gYjsgLy8gQXZvaWQgcm91bmRpbmcgZXJyb3Igb24gZW5kLlxuICAgICAgICAgICAgZWxzZSB7IHZhciBsID0gaSh0KSwgayA9IHcgLyBsWzJdOyB0ID0gbmV3IFRyYW5zZm9ybShrLCBwWzBdIC0gbFswXSAqIGssIHBbMV0gLSBsWzFdICogayk7IH1cbiAgICAgICAgICAgIGcuem9vbShudWxsLCB0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdlc3R1cmUodGhhdCwgYXJncywgY2xlYW4pIHtcbiAgICByZXR1cm4gKCFjbGVhbiAmJiB0aGF0Ll9fem9vbWluZykgfHwgbmV3IEdlc3R1cmUodGhhdCwgYXJncyk7XG4gIH1cblxuICBmdW5jdGlvbiBHZXN0dXJlKHRoYXQsIGFyZ3MpIHtcbiAgICB0aGlzLnRoYXQgPSB0aGF0O1xuICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgdGhpcy5hY3RpdmUgPSAwO1xuICAgIHRoaXMuc291cmNlRXZlbnQgPSBudWxsO1xuICAgIHRoaXMuZXh0ZW50ID0gZXh0ZW50LmFwcGx5KHRoYXQsIGFyZ3MpO1xuICAgIHRoaXMudGFwcyA9IDA7XG4gIH1cblxuICBHZXN0dXJlLnByb3RvdHlwZSA9IHtcbiAgICBldmVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudCkgdGhpcy5zb3VyY2VFdmVudCA9IGV2ZW50O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoKyt0aGlzLmFjdGl2ZSA9PT0gMSkge1xuICAgICAgICB0aGlzLnRoYXQuX196b29taW5nID0gdGhpcztcbiAgICAgICAgdGhpcy5lbWl0KFwic3RhcnRcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHpvb206IGZ1bmN0aW9uKGtleSwgdHJhbnNmb3JtKSB7XG4gICAgICBpZiAodGhpcy5tb3VzZSAmJiBrZXkgIT09IFwibW91c2VcIikgdGhpcy5tb3VzZVsxXSA9IHRyYW5zZm9ybS5pbnZlcnQodGhpcy5tb3VzZVswXSk7XG4gICAgICBpZiAodGhpcy50b3VjaDAgJiYga2V5ICE9PSBcInRvdWNoXCIpIHRoaXMudG91Y2gwWzFdID0gdHJhbnNmb3JtLmludmVydCh0aGlzLnRvdWNoMFswXSk7XG4gICAgICBpZiAodGhpcy50b3VjaDEgJiYga2V5ICE9PSBcInRvdWNoXCIpIHRoaXMudG91Y2gxWzFdID0gdHJhbnNmb3JtLmludmVydCh0aGlzLnRvdWNoMVswXSk7XG4gICAgICB0aGlzLnRoYXQuX196b29tID0gdHJhbnNmb3JtO1xuICAgICAgdGhpcy5lbWl0KFwiem9vbVwiKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRoaXMuYWN0aXZlID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnRoYXQuX196b29taW5nO1xuICAgICAgICB0aGlzLmVtaXQoXCJlbmRcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGVtaXQ6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHZhciBkID0gc2VsZWN0KHRoaXMudGhhdCkuZGF0dW0oKTtcbiAgICAgIGxpc3RlbmVycy5jYWxsKFxuICAgICAgICB0eXBlLFxuICAgICAgICB0aGlzLnRoYXQsXG4gICAgICAgIG5ldyBab29tRXZlbnQodHlwZSwge1xuICAgICAgICAgIHNvdXJjZUV2ZW50OiB0aGlzLnNvdXJjZUV2ZW50LFxuICAgICAgICAgIHRhcmdldDogem9vbSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy50aGF0Ll9fem9vbSxcbiAgICAgICAgICBkaXNwYXRjaDogbGlzdGVuZXJzXG4gICAgICAgIH0pLFxuICAgICAgICBkXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB3aGVlbGVkKGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgaWYgKCFmaWx0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgcmV0dXJuO1xuICAgIHZhciBnID0gZ2VzdHVyZSh0aGlzLCBhcmdzKS5ldmVudChldmVudCksXG4gICAgICAgIHQgPSB0aGlzLl9fem9vbSxcbiAgICAgICAgayA9IE1hdGgubWF4KHNjYWxlRXh0ZW50WzBdLCBNYXRoLm1pbihzY2FsZUV4dGVudFsxXSwgdC5rICogTWF0aC5wb3coMiwgd2hlZWxEZWx0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSkpLFxuICAgICAgICBwID0gcG9pbnRlcihldmVudCk7XG5cbiAgICAvLyBJZiB0aGUgbW91c2UgaXMgaW4gdGhlIHNhbWUgbG9jYXRpb24gYXMgYmVmb3JlLCByZXVzZSBpdC5cbiAgICAvLyBJZiB0aGVyZSB3ZXJlIHJlY2VudCB3aGVlbCBldmVudHMsIHJlc2V0IHRoZSB3aGVlbCBpZGxlIHRpbWVvdXQuXG4gICAgaWYgKGcud2hlZWwpIHtcbiAgICAgIGlmIChnLm1vdXNlWzBdWzBdICE9PSBwWzBdIHx8IGcubW91c2VbMF1bMV0gIT09IHBbMV0pIHtcbiAgICAgICAgZy5tb3VzZVsxXSA9IHQuaW52ZXJ0KGcubW91c2VbMF0gPSBwKTtcbiAgICAgIH1cbiAgICAgIGNsZWFyVGltZW91dChnLndoZWVsKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGlzIHdoZWVsIGV2ZW50IHdvblx1MjAxOXQgdHJpZ2dlciBhIHRyYW5zZm9ybSBjaGFuZ2UsIGlnbm9yZSBpdC5cbiAgICBlbHNlIGlmICh0LmsgPT09IGspIHJldHVybjtcblxuICAgIC8vIE90aGVyd2lzZSwgY2FwdHVyZSB0aGUgbW91c2UgcG9pbnQgYW5kIGxvY2F0aW9uIGF0IHRoZSBzdGFydC5cbiAgICBlbHNlIHtcbiAgICAgIGcubW91c2UgPSBbcCwgdC5pbnZlcnQocCldO1xuICAgICAgaW50ZXJydXB0KHRoaXMpO1xuICAgICAgZy5zdGFydCgpO1xuICAgIH1cblxuICAgIG5vZXZlbnQoZXZlbnQpO1xuICAgIGcud2hlZWwgPSBzZXRUaW1lb3V0KHdoZWVsaWRsZWQsIHdoZWVsRGVsYXkpO1xuICAgIGcuem9vbShcIm1vdXNlXCIsIGNvbnN0cmFpbih0cmFuc2xhdGUoc2NhbGUodCwgayksIGcubW91c2VbMF0sIGcubW91c2VbMV0pLCBnLmV4dGVudCwgdHJhbnNsYXRlRXh0ZW50KSk7XG5cbiAgICBmdW5jdGlvbiB3aGVlbGlkbGVkKCkge1xuICAgICAgZy53aGVlbCA9IG51bGw7XG4gICAgICBnLmVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdXNlZG93bmVkKGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgaWYgKHRvdWNoZW5kaW5nIHx8ICFmaWx0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgcmV0dXJuO1xuICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgICAgZyA9IGdlc3R1cmUodGhpcywgYXJncywgdHJ1ZSkuZXZlbnQoZXZlbnQpLFxuICAgICAgICB2ID0gc2VsZWN0KGV2ZW50LnZpZXcpLm9uKFwibW91c2Vtb3ZlLnpvb21cIiwgbW91c2Vtb3ZlZCwgdHJ1ZSkub24oXCJtb3VzZXVwLnpvb21cIiwgbW91c2V1cHBlZCwgdHJ1ZSksXG4gICAgICAgIHAgPSBwb2ludGVyKGV2ZW50LCBjdXJyZW50VGFyZ2V0KSxcbiAgICAgICAgeDAgPSBldmVudC5jbGllbnRYLFxuICAgICAgICB5MCA9IGV2ZW50LmNsaWVudFk7XG5cbiAgICBkcmFnRGlzYWJsZShldmVudC52aWV3KTtcbiAgICBub3Byb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICBnLm1vdXNlID0gW3AsIHRoaXMuX196b29tLmludmVydChwKV07XG4gICAgaW50ZXJydXB0KHRoaXMpO1xuICAgIGcuc3RhcnQoKTtcblxuICAgIGZ1bmN0aW9uIG1vdXNlbW92ZWQoZXZlbnQpIHtcbiAgICAgIG5vZXZlbnQoZXZlbnQpO1xuICAgICAgaWYgKCFnLm1vdmVkKSB7XG4gICAgICAgIHZhciBkeCA9IGV2ZW50LmNsaWVudFggLSB4MCwgZHkgPSBldmVudC5jbGllbnRZIC0geTA7XG4gICAgICAgIGcubW92ZWQgPSBkeCAqIGR4ICsgZHkgKiBkeSA+IGNsaWNrRGlzdGFuY2UyO1xuICAgICAgfVxuICAgICAgZy5ldmVudChldmVudClcbiAgICAgICAuem9vbShcIm1vdXNlXCIsIGNvbnN0cmFpbih0cmFuc2xhdGUoZy50aGF0Ll9fem9vbSwgZy5tb3VzZVswXSA9IHBvaW50ZXIoZXZlbnQsIGN1cnJlbnRUYXJnZXQpLCBnLm1vdXNlWzFdKSwgZy5leHRlbnQsIHRyYW5zbGF0ZUV4dGVudCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdXNldXBwZWQoZXZlbnQpIHtcbiAgICAgIHYub24oXCJtb3VzZW1vdmUuem9vbSBtb3VzZXVwLnpvb21cIiwgbnVsbCk7XG4gICAgICBkcmFnRW5hYmxlKGV2ZW50LnZpZXcsIGcubW92ZWQpO1xuICAgICAgbm9ldmVudChldmVudCk7XG4gICAgICBnLmV2ZW50KGV2ZW50KS5lbmQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkYmxjbGlja2VkKGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgaWYgKCFmaWx0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgcmV0dXJuO1xuICAgIHZhciB0MCA9IHRoaXMuX196b29tLFxuICAgICAgICBwMCA9IHBvaW50ZXIoZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IGV2ZW50LCB0aGlzKSxcbiAgICAgICAgcDEgPSB0MC5pbnZlcnQocDApLFxuICAgICAgICBrMSA9IHQwLmsgKiAoZXZlbnQuc2hpZnRLZXkgPyAwLjUgOiAyKSxcbiAgICAgICAgdDEgPSBjb25zdHJhaW4odHJhbnNsYXRlKHNjYWxlKHQwLCBrMSksIHAwLCBwMSksIGV4dGVudC5hcHBseSh0aGlzLCBhcmdzKSwgdHJhbnNsYXRlRXh0ZW50KTtcblxuICAgIG5vZXZlbnQoZXZlbnQpO1xuICAgIGlmIChkdXJhdGlvbiA+IDApIHNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyYXRpb24pLmNhbGwoc2NoZWR1bGUsIHQxLCBwMCwgZXZlbnQpO1xuICAgIGVsc2Ugc2VsZWN0KHRoaXMpLmNhbGwoem9vbS50cmFuc2Zvcm0sIHQxLCBwMCwgZXZlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG91Y2hzdGFydGVkKGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgaWYgKCFmaWx0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgcmV0dXJuO1xuICAgIHZhciB0b3VjaGVzID0gZXZlbnQudG91Y2hlcyxcbiAgICAgICAgbiA9IHRvdWNoZXMubGVuZ3RoLFxuICAgICAgICBnID0gZ2VzdHVyZSh0aGlzLCBhcmdzLCBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPT09IG4pLmV2ZW50KGV2ZW50KSxcbiAgICAgICAgc3RhcnRlZCwgaSwgdCwgcDtcblxuICAgIG5vcHJvcGFnYXRpb24oZXZlbnQpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIHQgPSB0b3VjaGVzW2ldLCBwID0gcG9pbnRlcih0LCB0aGlzKTtcbiAgICAgIHAgPSBbcCwgdGhpcy5fX3pvb20uaW52ZXJ0KHApLCB0LmlkZW50aWZpZXJdO1xuICAgICAgaWYgKCFnLnRvdWNoMCkgZy50b3VjaDAgPSBwLCBzdGFydGVkID0gdHJ1ZSwgZy50YXBzID0gMSArICEhdG91Y2hzdGFydGluZztcbiAgICAgIGVsc2UgaWYgKCFnLnRvdWNoMSAmJiBnLnRvdWNoMFsyXSAhPT0gcFsyXSkgZy50b3VjaDEgPSBwLCBnLnRhcHMgPSAwO1xuICAgIH1cblxuICAgIGlmICh0b3VjaHN0YXJ0aW5nKSB0b3VjaHN0YXJ0aW5nID0gY2xlYXJUaW1lb3V0KHRvdWNoc3RhcnRpbmcpO1xuXG4gICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgIGlmIChnLnRhcHMgPCAyKSB0b3VjaGZpcnN0ID0gcFswXSwgdG91Y2hzdGFydGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRvdWNoc3RhcnRpbmcgPSBudWxsOyB9LCB0b3VjaERlbGF5KTtcbiAgICAgIGludGVycnVwdCh0aGlzKTtcbiAgICAgIGcuc3RhcnQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b3VjaG1vdmVkKGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgaWYgKCF0aGlzLl9fem9vbWluZykgcmV0dXJuO1xuICAgIHZhciBnID0gZ2VzdHVyZSh0aGlzLCBhcmdzKS5ldmVudChldmVudCksXG4gICAgICAgIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgbiA9IHRvdWNoZXMubGVuZ3RoLCBpLCB0LCBwLCBsO1xuXG4gICAgbm9ldmVudChldmVudCk7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgdCA9IHRvdWNoZXNbaV0sIHAgPSBwb2ludGVyKHQsIHRoaXMpO1xuICAgICAgaWYgKGcudG91Y2gwICYmIGcudG91Y2gwWzJdID09PSB0LmlkZW50aWZpZXIpIGcudG91Y2gwWzBdID0gcDtcbiAgICAgIGVsc2UgaWYgKGcudG91Y2gxICYmIGcudG91Y2gxWzJdID09PSB0LmlkZW50aWZpZXIpIGcudG91Y2gxWzBdID0gcDtcbiAgICB9XG4gICAgdCA9IGcudGhhdC5fX3pvb207XG4gICAgaWYgKGcudG91Y2gxKSB7XG4gICAgICB2YXIgcDAgPSBnLnRvdWNoMFswXSwgbDAgPSBnLnRvdWNoMFsxXSxcbiAgICAgICAgICBwMSA9IGcudG91Y2gxWzBdLCBsMSA9IGcudG91Y2gxWzFdLFxuICAgICAgICAgIGRwID0gKGRwID0gcDFbMF0gLSBwMFswXSkgKiBkcCArIChkcCA9IHAxWzFdIC0gcDBbMV0pICogZHAsXG4gICAgICAgICAgZGwgPSAoZGwgPSBsMVswXSAtIGwwWzBdKSAqIGRsICsgKGRsID0gbDFbMV0gLSBsMFsxXSkgKiBkbDtcbiAgICAgIHQgPSBzY2FsZSh0LCBNYXRoLnNxcnQoZHAgLyBkbCkpO1xuICAgICAgcCA9IFsocDBbMF0gKyBwMVswXSkgLyAyLCAocDBbMV0gKyBwMVsxXSkgLyAyXTtcbiAgICAgIGwgPSBbKGwwWzBdICsgbDFbMF0pIC8gMiwgKGwwWzFdICsgbDFbMV0pIC8gMl07XG4gICAgfVxuICAgIGVsc2UgaWYgKGcudG91Y2gwKSBwID0gZy50b3VjaDBbMF0sIGwgPSBnLnRvdWNoMFsxXTtcbiAgICBlbHNlIHJldHVybjtcblxuICAgIGcuem9vbShcInRvdWNoXCIsIGNvbnN0cmFpbih0cmFuc2xhdGUodCwgcCwgbCksIGcuZXh0ZW50LCB0cmFuc2xhdGVFeHRlbnQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvdWNoZW5kZWQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuX196b29taW5nKSByZXR1cm47XG4gICAgdmFyIGcgPSBnZXN0dXJlKHRoaXMsIGFyZ3MpLmV2ZW50KGV2ZW50KSxcbiAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICBuID0gdG91Y2hlcy5sZW5ndGgsIGksIHQ7XG5cbiAgICBub3Byb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICBpZiAodG91Y2hlbmRpbmcpIGNsZWFyVGltZW91dCh0b3VjaGVuZGluZyk7XG4gICAgdG91Y2hlbmRpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0b3VjaGVuZGluZyA9IG51bGw7IH0sIHRvdWNoRGVsYXkpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIHQgPSB0b3VjaGVzW2ldO1xuICAgICAgaWYgKGcudG91Y2gwICYmIGcudG91Y2gwWzJdID09PSB0LmlkZW50aWZpZXIpIGRlbGV0ZSBnLnRvdWNoMDtcbiAgICAgIGVsc2UgaWYgKGcudG91Y2gxICYmIGcudG91Y2gxWzJdID09PSB0LmlkZW50aWZpZXIpIGRlbGV0ZSBnLnRvdWNoMTtcbiAgICB9XG4gICAgaWYgKGcudG91Y2gxICYmICFnLnRvdWNoMCkgZy50b3VjaDAgPSBnLnRvdWNoMSwgZGVsZXRlIGcudG91Y2gxO1xuICAgIGlmIChnLnRvdWNoMCkgZy50b3VjaDBbMV0gPSB0aGlzLl9fem9vbS5pbnZlcnQoZy50b3VjaDBbMF0pO1xuICAgIGVsc2Uge1xuICAgICAgZy5lbmQoKTtcbiAgICAgIC8vIElmIHRoaXMgd2FzIGEgZGJsdGFwLCByZXJvdXRlIHRvIHRoZSAob3B0aW9uYWwpIGRibGNsaWNrLnpvb20gaGFuZGxlci5cbiAgICAgIGlmIChnLnRhcHMgPT09IDIpIHtcbiAgICAgICAgdCA9IHBvaW50ZXIodCwgdGhpcyk7XG4gICAgICAgIGlmIChNYXRoLmh5cG90KHRvdWNoZmlyc3RbMF0gLSB0WzBdLCB0b3VjaGZpcnN0WzFdIC0gdFsxXSkgPCB0YXBEaXN0YW5jZSkge1xuICAgICAgICAgIHZhciBwID0gc2VsZWN0KHRoaXMpLm9uKFwiZGJsY2xpY2suem9vbVwiKTtcbiAgICAgICAgICBpZiAocCkgcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgem9vbS53aGVlbERlbHRhID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHdoZWVsRGVsdGEgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgem9vbSkgOiB3aGVlbERlbHRhO1xuICB9O1xuXG4gIHpvb20uZmlsdGVyID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGZpbHRlciA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoISFfKSwgem9vbSkgOiBmaWx0ZXI7XG4gIH07XG5cbiAgem9vbS50b3VjaGFibGUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodG91Y2hhYmxlID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCghIV8pLCB6b29tKSA6IHRvdWNoYWJsZTtcbiAgfTtcblxuICB6b29tLmV4dGVudCA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChleHRlbnQgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KFtbK19bMF1bMF0sICtfWzBdWzFdXSwgWytfWzFdWzBdLCArX1sxXVsxXV1dKSwgem9vbSkgOiBleHRlbnQ7XG4gIH07XG5cbiAgem9vbS5zY2FsZUV4dGVudCA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChzY2FsZUV4dGVudFswXSA9ICtfWzBdLCBzY2FsZUV4dGVudFsxXSA9ICtfWzFdLCB6b29tKSA6IFtzY2FsZUV4dGVudFswXSwgc2NhbGVFeHRlbnRbMV1dO1xuICB9O1xuXG4gIHpvb20udHJhbnNsYXRlRXh0ZW50ID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRyYW5zbGF0ZUV4dGVudFswXVswXSA9ICtfWzBdWzBdLCB0cmFuc2xhdGVFeHRlbnRbMV1bMF0gPSArX1sxXVswXSwgdHJhbnNsYXRlRXh0ZW50WzBdWzFdID0gK19bMF1bMV0sIHRyYW5zbGF0ZUV4dGVudFsxXVsxXSA9ICtfWzFdWzFdLCB6b29tKSA6IFtbdHJhbnNsYXRlRXh0ZW50WzBdWzBdLCB0cmFuc2xhdGVFeHRlbnRbMF1bMV1dLCBbdHJhbnNsYXRlRXh0ZW50WzFdWzBdLCB0cmFuc2xhdGVFeHRlbnRbMV1bMV1dXTtcbiAgfTtcblxuICB6b29tLmNvbnN0cmFpbiA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChjb25zdHJhaW4gPSBfLCB6b29tKSA6IGNvbnN0cmFpbjtcbiAgfTtcblxuICB6b29tLmR1cmF0aW9uID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGR1cmF0aW9uID0gK18sIHpvb20pIDogZHVyYXRpb247XG4gIH07XG5cbiAgem9vbS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChpbnRlcnBvbGF0ZSA9IF8sIHpvb20pIDogaW50ZXJwb2xhdGU7XG4gIH07XG5cbiAgem9vbS5vbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IGxpc3RlbmVycy5vbi5hcHBseShsaXN0ZW5lcnMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHZhbHVlID09PSBsaXN0ZW5lcnMgPyB6b29tIDogdmFsdWU7XG4gIH07XG5cbiAgem9vbS5jbGlja0Rpc3RhbmNlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGNsaWNrRGlzdGFuY2UyID0gKF8gPSArXykgKiBfLCB6b29tKSA6IE1hdGguc3FydChjbGlja0Rpc3RhbmNlMik7XG4gIH07XG5cbiAgem9vbS50YXBEaXN0YW5jZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0YXBEaXN0YW5jZSA9ICtfLCB6b29tKSA6IHRhcERpc3RhbmNlO1xuICB9O1xuXG4gIHJldHVybiB6b29tO1xufVxuIiwgIi8qKlxuICogVW5kb01hbmFnZXJcbiAqXG4gKiBNYW5hZ2VzIHVuZG8vcmVkbyBmdW5jdGlvbmFsaXR5IHVzaW5nIG1lbWVudG8gcGF0dGVybiAoZnVsbCBzdGF0ZSBzbmFwc2hvdHMpXG4gKi9cblxuaW1wb3J0IHsgTWluZE1hcERhdGEsIE1pbmRNYXBOb2RlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgVW5kb01hbmFnZXIge1xuICAgIHByaXZhdGUgdW5kb1N0YWNrOiBNaW5kTWFwRGF0YVtdID0gW107XG4gICAgcHJpdmF0ZSByZWRvU3RhY2s6IE1pbmRNYXBEYXRhW10gPSBbXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IE1BWF9TVEFDS19TSVpFID0gNTtcblxuICAgIC8qKlxuICAgICAqIFNhdmUgY3VycmVudCBzdGF0ZSBhcyBhIHNuYXBzaG90IGJlZm9yZSBtb2RpZmljYXRpb25cbiAgICAgKi9cbiAgICBzYXZlU25hcHNob3QoZGF0YTogTWluZE1hcERhdGEpOiB2b2lkIHtcblxuICAgICAgICAvLyBEZWVwIGNsb25lIHRoZSBkYXRhIHRvIGF2b2lkIHJlZmVyZW5jZSBpc3N1ZXNcbiAgICAgICAgY29uc3Qgc25hcHNob3Q6IE1pbmRNYXBEYXRhID0ge1xuICAgICAgICAgICAgcm9vdE5vZGU6IGRhdGEucm9vdE5vZGUgPyB0aGlzLmRlZXBDbG9uZU5vZGUoZGF0YS5yb290Tm9kZSkgOiBudWxsLFxuICAgICAgICAgICAgYWxsTm9kZXM6IGRhdGEuYWxsTm9kZXMubWFwKG5vZGUgPT4gdGhpcy5kZWVwQ2xvbmVOb2RlKG5vZGUpKSxcbiAgICAgICAgICAgIG1heExldmVsOiBkYXRhLm1heExldmVsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUmVidWlsZCBwYXJlbnQgcmVmZXJlbmNlcyBhZnRlciBjbG9uaW5nXG4gICAgICAgIGlmIChzbmFwc2hvdC5yb290Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkUGFyZW50UmVmZXJlbmNlcyhzbmFwc2hvdC5yb290Tm9kZSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMudW5kb1N0YWNrLnB1c2goc25hcHNob3QpO1xuXG4gICAgICAgIC8vIExpbWl0IHN0YWNrIHNpemUgdG8gTUFYX1NUQUNLX1NJWkUgKEZJRk8pXG4gICAgICAgIGlmICh0aGlzLnVuZG9TdGFjay5sZW5ndGggPiB0aGlzLk1BWF9TVEFDS19TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLnVuZG9TdGFjay5zaGlmdCgpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBDbGVhciByZWRvIHN0YWNrIHdoZW4gbmV3IGFjdGlvbiBpcyBwZXJmb3JtZWRcbiAgICAgICAgdGhpcy5yZWRvU3RhY2sgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmRvIHRvIHByZXZpb3VzIHN0YXRlXG4gICAgICogQHBhcmFtIGN1cnJlbnRTdGF0ZSBUaGUgY3VycmVudCBzdGF0ZSB0byBzYXZlIGJlZm9yZSB1bmRvaW5nXG4gICAgICogQHJldHVybnMgVGhlIHByZXZpb3VzIHN0YXRlLCBvciBudWxsIGlmIG5vdGhpbmcgdG8gdW5kb1xuICAgICAqL1xuICAgIHVuZG8oY3VycmVudFN0YXRlOiBNaW5kTWFwRGF0YSk6IE1pbmRNYXBEYXRhIHwgbnVsbCB7XG4gICAgICAgIGlmICh0aGlzLnVuZG9TdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSBjdXJyZW50IHN0YXRlIHRvIHJlZG8gc3RhY2sgKGRlZXAgY2xvbmUpXG4gICAgICAgIGNvbnN0IHNuYXBzaG90OiBNaW5kTWFwRGF0YSA9IHtcbiAgICAgICAgICAgIHJvb3ROb2RlOiBjdXJyZW50U3RhdGUucm9vdE5vZGUgPyB0aGlzLmRlZXBDbG9uZU5vZGUoY3VycmVudFN0YXRlLnJvb3ROb2RlKSA6IG51bGwsXG4gICAgICAgICAgICBhbGxOb2RlczogY3VycmVudFN0YXRlLmFsbE5vZGVzLm1hcChub2RlID0+IHRoaXMuZGVlcENsb25lTm9kZShub2RlKSksXG4gICAgICAgICAgICBtYXhMZXZlbDogY3VycmVudFN0YXRlLm1heExldmVsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChzbmFwc2hvdC5yb290Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkUGFyZW50UmVmZXJlbmNlcyhzbmFwc2hvdC5yb290Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWRvU3RhY2sucHVzaChzbmFwc2hvdCk7XG5cbiAgICAgICAgLy8gUG9wIGFuZCByZXR1cm4gcHJldmlvdXMgc3RhdGUgZnJvbSB1bmRvIHN0YWNrXG4gICAgICAgIHJldHVybiB0aGlzLnVuZG9TdGFjay5wb3AoKSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZG8gdG8gbmV4dCBzdGF0ZVxuICAgICAqIEBwYXJhbSBjdXJyZW50U3RhdGUgVGhlIGN1cnJlbnQgc3RhdGUgdG8gc2F2ZSBiZWZvcmUgcmVkb2luZ1xuICAgICAqIEByZXR1cm5zIFRoZSBuZXh0IHN0YXRlLCBvciBudWxsIGlmIG5vdGhpbmcgdG8gcmVkb1xuICAgICAqL1xuICAgIHJlZG8oY3VycmVudFN0YXRlOiBNaW5kTWFwRGF0YSk6IE1pbmRNYXBEYXRhIHwgbnVsbCB7XG4gICAgICAgIGlmICh0aGlzLnJlZG9TdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSBjdXJyZW50IHN0YXRlIHRvIHVuZG8gc3RhY2sgKGRlZXAgY2xvbmUpXG4gICAgICAgIGNvbnN0IHNuYXBzaG90OiBNaW5kTWFwRGF0YSA9IHtcbiAgICAgICAgICAgIHJvb3ROb2RlOiBjdXJyZW50U3RhdGUucm9vdE5vZGUgPyB0aGlzLmRlZXBDbG9uZU5vZGUoY3VycmVudFN0YXRlLnJvb3ROb2RlKSA6IG51bGwsXG4gICAgICAgICAgICBhbGxOb2RlczogY3VycmVudFN0YXRlLmFsbE5vZGVzLm1hcChub2RlID0+IHRoaXMuZGVlcENsb25lTm9kZShub2RlKSksXG4gICAgICAgICAgICBtYXhMZXZlbDogY3VycmVudFN0YXRlLm1heExldmVsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChzbmFwc2hvdC5yb290Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZWJ1aWxkUGFyZW50UmVmZXJlbmNlcyhzbmFwc2hvdC5yb290Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bmRvU3RhY2sucHVzaChzbmFwc2hvdCk7XG5cbiAgICAgICAgLy8gUG9wIGFuZCByZXR1cm4gbmV4dCBzdGF0ZSBmcm9tIHJlZG8gc3RhY2tcbiAgICAgICAgcmV0dXJuIHRoaXMucmVkb1N0YWNrLnBvcCgpIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdW5kbyBpcyBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBjYW5VbmRvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRvU3RhY2subGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZWRvIGlzIGF2YWlsYWJsZVxuICAgICAqL1xuICAgIGNhblJlZG8oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZG9TdGFjay5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB1bmRvIHN0YWNrIHNpemUgKGZvciBkZWJ1Z2dpbmcvVUkgZGlzcGxheSlcbiAgICAgKi9cbiAgICBnZXRVbmRvQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kb1N0YWNrLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcmVkbyBzdGFjayBzaXplIChmb3IgZGVidWdnaW5nL1VJIGRpc3BsYXkpXG4gICAgICovXG4gICAgZ2V0UmVkb0NvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZG9TdGFjay5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIGhpc3RvcnkgKGNhbGxlZCB3aGVuIGxvYWRpbmcgbmV3IGZpbGUpXG4gICAgICovXG4gICAgY2xlYXJIaXN0b3J5KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnVuZG9TdGFjayA9IFtdO1xuICAgICAgICB0aGlzLnJlZG9TdGFjayA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZXAgY2xvbmUgYSBNaW5kTWFwTm9kZSByZWN1cnNpdmVseVxuICAgICAqL1xuICAgIHByaXZhdGUgZGVlcENsb25lTm9kZShub2RlOiBNaW5kTWFwTm9kZSk6IE1pbmRNYXBOb2RlIHtcbiAgICAgICAgY29uc3QgY2xvbmUgPSB7IC4uLm5vZGUgfTtcblxuICAgICAgICAvLyBEZWVwIGNsb25lIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmIChub2RlLmNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGNsb25lLmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAoKGNoaWxkOiBNaW5kTWFwTm9kZSkgPT4gdGhpcy5kZWVwQ2xvbmVOb2RlKGNoaWxkKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgcGFyZW50IHJlZmVyZW5jZSAod2lsbCBiZSByZWNvbnN0cnVjdGVkKVxuICAgICAgICBjbG9uZS5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWJ1aWxkIHBhcmVudCByZWZlcmVuY2VzIGZvciBhbGwgbm9kZXMgaW4gdGhlIHRyZWVcbiAgICAgKiBUaGlzIG11c3QgYmUgY2FsbGVkIGFmdGVyIGRlZXAgY2xvbmluZyB0byByZXN0b3JlIHBhcmVudCBsaW5rc1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVidWlsZFBhcmVudFJlZmVyZW5jZXMobm9kZTogTWluZE1hcE5vZGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFub2RlIHx8ICFub2RlLmNoaWxkcmVuIHx8ICFBcnJheS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgcGFyZW50IGZvciBlYWNoIGNoaWxkIGFuZCByZWN1cnNpdmVseSByZWJ1aWxkXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgIHRoaXMucmVidWlsZFBhcmVudFJlZmVyZW5jZXMoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwgIi8qKlxuICogTWluZCBNYXAgUGx1Z2luIENvbnN0YW50c1xuICpcbiAqIENlbnRyYWxpemVkIGNvbnN0YW50cyBmb3IgY29uc2lzdGVudCBjb25maWd1cmF0aW9uXG4gKi9cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVmlldyBUeXBlIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgTUlORF9NQVBfVklFV19UWVBFID0gXCJtaW5kLW1hcC12aWV3XCI7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEZpbGUgRGV0ZWN0aW9uIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgTUlORE1BUF9JREVOVElGSUVSID0gXCIjbWluZG1hcFwiO1xuZXhwb3J0IGNvbnN0IE1BUktET1dOX0VYVEVOU0lPTiA9IFwibWRcIjtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTGF5b3V0IENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgTEFZT1VUX0NPTlNUQU5UUyA9IHtcbiAgICAvLyBTcGFjaW5nIGNvbnN0YW50c1xuICAgIE1JTl9OT0RFX0dBUDogMjUsICAgICAgICAgICAgICAgICAgICAvLyBcdTY3MDBcdTVDMEZcdTgyODJcdTcwQjlcdTk1RjRcdThERERcbiAgICBIT1JJWk9OVEFMX1NQQUNJTkc6IDIyMCwgICAgICAgICAgICAgLy8gXHU2QzM0XHU1RTczXHU1N0ZBXHU3ODQwXHU5NUY0XHU4REREXHVGRjA4XHU1OTA3XHU3NTI4XHU1MDNDXHVGRjA5XG4gICAgVkVSVElDQUxfU1BBQ0lORzogMTEwLCAgICAgICAgICAgICAgIC8vIFx1NTc4Mlx1NzZGNFx1NTdGQVx1Nzg0MFx1OTVGNFx1OERERFxuICAgIE1JTl9WRVJUSUNBTF9HQVA6IDI1LCAgICAgICAgICAgICAgICAvLyBcdTY3MDBcdTVDMEZcdTU3ODJcdTc2RjRcdTk1RjRcdThERERcblxuICAgIC8vIFx1ODFFQVx1OTAwMlx1NUU5NFx1NkMzNFx1NUU3M1x1OTVGNFx1OERERFx1OTE0RFx1N0Y2RVxuICAgIEFEQVBUSVZFX0hPUklaT05UQUxfU1BBQ0lORzoge1xuICAgICAgICBNSU5fU1BBQ0lORzogODAsICAgICAgICAgICAgICAgICAvLyBcdTY3MDBcdTVDMEZcdTZDMzRcdTVFNzNcdTk1RjRcdThERERcdUZGMDhcdTk2MzJcdTZCNjJcdTkxQ0RcdTUzRTBcdUZGMDlcbiAgICAgICAgTUFYX1NQQUNJTkc6IDMwMCwgICAgICAgICAgICAgICAgLy8gXHU2NzAwXHU1OTI3XHU2QzM0XHU1RTczXHU5NUY0XHU4REREXHVGRjA4XHU5MDdGXHU1MTREXHU4RkM3XHU1RUE2XHU1MjA2XHU2NTYzXHVGRjA5XG4gICAgICAgIFNPVVJDRV9OT0RFX1JBVElPOiAwLjE1LCAgICAgICAgIC8vIFx1NTdGQVx1NEU4RVx1NkU5MFx1ODI4Mlx1NzBCOVx1NUJCRFx1NUVBNlx1NzY4NFx1NkJENFx1NEY4QlxuICAgICAgICBUQVJHRVRfTk9ERV9SQVRJTzogMC4xMCwgICAgICAgICAvLyBcdTU3RkFcdTRFOEVcdTc2RUVcdTY4MDdcdTgyODJcdTcwQjlcdTVCQkRcdTVFQTZcdTc2ODRcdTZCRDRcdTRGOEJcbiAgICAgICAgQkFTRV9TUEFDSU5HOiA2MCwgICAgICAgICAgICAgICAgLy8gXHU1N0ZBXHU3ODQwXHU5NUY0XHU4REREXG4gICAgICAgIFNBRkVUWV9NQVJHSU46IDEwLCAgICAgICAgICAgICAgIC8vIFx1NUI4OVx1NTE2OFx1OEZCOVx1OERERFxuICAgIH0gYXMgY29uc3QsXG5cbiAgICAvLyBDYW52YXMgZGltZW5zaW9ucyAod2lsbCBiZWNvbWUgZHluYW1pYylcbiAgICBUUkVFX0hFSUdIVDogODAwLCAgICAgICAgICAgICAgICAgICAgLy8gXHU2ODExXHU5QUQ4XHU1RUE2XG4gICAgVFJFRV9XSURUSDogMTQwMCwgICAgICAgICAgICAgICAgICAgIC8vIFx1NjgxMVx1NUJCRFx1NUVBNlxuICAgIENBTlZBU19XSURUSDogMTYwMCwgICAgICAgICAgICAgICAgICAvLyBcdTc1M0JcdTVFMDNcdTVCQkRcdTVFQTZcbiAgICBDQU5WQVNfSEVJR0hUOiAxMDAwLCAgICAgICAgICAgICAgICAgLy8gXHU3NTNCXHU1RTAzXHU5QUQ4XHU1RUE2XG5cbiAgICAvLyBOb2RlIHNwYWNpbmdcbiAgICBOT0RFX0hFSUdIVF9CVUZGRVI6IDE1LCAgICAgICAgICAgICAgLy8gXHU4MjgyXHU3MEI5XHU5QUQ4XHU1RUE2XHU3RjEzXHU1MUIyXG5cbiAgICAvLyBDZW50ZXJpbmcgY2FsY3VsYXRpb25zXG4gICAgQ0VOVEVSX09GRlNFVF9YOiAoMTYwMCAtIDE2MDApIC8gMiwgIC8vIFx1NkMzNFx1NUU3M1x1NUM0NVx1NEUyRFx1NTA0Rlx1NzlGQlxuICAgIENFTlRFUl9PRkZTRVRfWTogKDEwMDAgLSAxMDAwKSAvIDIsICAvLyBcdTU3ODJcdTc2RjRcdTVDNDVcdTRFMkRcdTUwNEZcdTc5RkJcbn0gYXMgY29uc3Q7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFN0eWxlIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgU1RZTEVfQ09OU1RBTlRTID0ge1xuICAgIC8vIEZvbnQgc2l6ZXMgYnkgbm9kZSBsZXZlbFxuICAgIFJPT1RfRk9OVF9TSVpFOiBcIjIwcHhcIiwgICAgICAgICAgICAgIC8vIFx1NjgzOVx1ODI4Mlx1NzBCOVx1NUI1N1x1NEY1M1x1NTkyN1x1NUMwRlxuICAgIExFVkVMXzFfRk9OVF9TSVpFOiBcIjE4cHhcIiwgICAgICAgICAgIC8vIFx1NEUwMFx1N0VBN1x1ODI4Mlx1NzBCOVx1NUI1N1x1NEY1M1x1NTkyN1x1NUMwRlxuICAgIERFRkFVTFRfRk9OVF9TSVpFOiBcIjE1cHhcIiwgICAgICAgICAgIC8vIFx1OUVEOFx1OEJBNFx1NUI1N1x1NEY1M1x1NTkyN1x1NUMwRlx1RkYwOFx1NEVDRTEzcHhcdTU4OUVcdTUyQTBcdTUyMzAxNXB4XHVGRjA5XG5cbiAgICAvLyBBZGRpdGlvbmFsIGZvbnQgc2l6ZXMgZm9yIFVJIGNvbXBvbmVudHNcbiAgICBURVhUX01FQVNVUkVNRU5UX0ZPTlRfU0laRTogXCIxNHB4XCIsICAvLyBcdTY1ODdcdTY3MkNcdTZENEJcdTkxQ0ZcdTVCNTdcdTRGNTNcdTU5MjdcdTVDMEZcbiAgICBJTlRFUkFDVElPTl9VSV9GT05UX1NJWkU6IFwiMTRweFwiLCAgICAvLyBcdTRFQTRcdTRFOTJVSVx1NUI1N1x1NEY1M1x1NTkyN1x1NUMwRlxuXG4gICAgLy8gTm9kZSBkaW1lbnNpb25zXG4gICAgUk9PVF9OT0RFX01JTl9XSURUSDogMTIwLCAgICAgICAgICAgIC8vIFx1NjgzOVx1ODI4Mlx1NzBCOVx1NjcwMFx1NUMwRlx1NUJCRFx1NUVBNlxuICAgIE5PREVfTUlOX1dJRFRIOiAxMDAsICAgICAgICAgICAgICAgICAvLyBcdTY2NkVcdTkwMUFcdTgyODJcdTcwQjlcdTY3MDBcdTVDMEZcdTVCQkRcdTVFQTZcblxuICAgIC8vIFRleHQgY2FsY3VsYXRpb25zXG4gICAgQ0hBUl9XSURUSF9SQVRJTzogMC42MiwgICAgICAgICAgICAgIC8vIFx1NUI1N1x1N0IyNlx1NUJCRFx1NUVBNlx1NkJENFx1NEY4QlxuXG4gICAgLy8gVGltaW5nIGNvbnN0YW50c1xuICAgIFJFTkRFUl9GUkFNRV9ERUxBWTogMTYsICAgICAgICAgICAgICAvLyBcdTZFMzJcdTY3RDNcdTVFMjdcdTVFRjZcdThGREZcdUZGMDhcdTdFQTZcdTRFMDBcdTVFMjdcdTc2ODRcdTY1RjZcdTk1RjRcdUZGMDlcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogR2V0IGZvbnQgc2l6ZSBieSBub2RlIGRlcHRoXG4gKiBAcGFyYW0gZGVwdGggLSBUaGUgZGVwdGggbGV2ZWwgb2YgdGhlIG5vZGUgKDAgPSByb290LCAxID0gZmlyc3QgbGV2ZWwsIGV0Yy4pXG4gKiBAcmV0dXJucyBGb250IHNpemUgc3RyaW5nIHdpdGggcHggdW5pdFxuICovXG5leHBvcnQgY29uc3QgZ2V0Rm9udFNpemVCeURlcHRoID0gKGRlcHRoOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAoZGVwdGgpIHtcbiAgICAgICAgY2FzZSAwOiByZXR1cm4gU1RZTEVfQ09OU1RBTlRTLlJPT1RfRk9OVF9TSVpFO1xuICAgICAgICBjYXNlIDE6IHJldHVybiBTVFlMRV9DT05TVEFOVFMuTEVWRUxfMV9GT05UX1NJWkU7XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiBTVFlMRV9DT05TVEFOVFMuREVGQVVMVF9GT05UX1NJWkU7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgbnVtZXJpYyBmb250IHNpemUgYnkgbm9kZSBkZXB0aFxuICogQHBhcmFtIGRlcHRoIC0gVGhlIGRlcHRoIGxldmVsIG9mIHRoZSBub2RlICgwID0gcm9vdCwgMSA9IGZpcnN0IGxldmVsLCBldGMuKVxuICogQHJldHVybnMgTnVtZXJpYyBmb250IHNpemUgd2l0aG91dCBweCB1bml0XG4gKi9cbmV4cG9ydCBjb25zdCBnZXROdW1lcmljRm9udFNpemVCeURlcHRoID0gKGRlcHRoOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBwYXJzZUludChnZXRGb250U2l6ZUJ5RGVwdGgoZGVwdGgpLnJlcGxhY2UoJ3B4JywgJycpKTtcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENvbG9yIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgQ09MT1JfQ09OU1RBTlRTID0ge1xuICAgIC8vIERlZmF1bHQgbm9kZSBjb2xvcnMgYnkgbGV2ZWxcbiAgICBST09UX05PREVfQ09MT1I6IFwiIzRDQUY1MFwiLCAgICAgICAgICAvLyBcdTY4MzlcdTgyODJcdTcwQjlcdTk4OUNcdTgyNzJcbiAgICBMRVZFTF8xX0NPTE9SOiBcIiMyMTk2RjNcIiwgICAgICAgICAgICAvLyBcdTRFMDBcdTdFQTdcdTgyODJcdTcwQjlcdTk4OUNcdTgyNzJcbiAgICBERUZBVUxUX05PREVfQ09MT1I6IFwiIzY2NjY2NlwiLCAgICAgICAvLyBcdTlFRDhcdThCQTRcdTgyODJcdTcwQjlcdTk4OUNcdTgyNzJcblxuICAgIC8vIFNlbGVjdGlvbiBjb2xvcnNcbiAgICBTRUxFQ1RFRF9OT0RFX0NPTE9SOiBcIiNGRjk4MDBcIiwgICAgICAvLyBcdTkwMDlcdTRFMkRcdTgyODJcdTcwQjlcdTk4OUNcdTgyNzJcbiAgICBIT1ZFUl9OT0RFX0NPTE9SOiBcIiNGRkMxMDdcIiwgICAgICAgICAvLyBcdTYwQUNcdTUwNUNcdTgyODJcdTcwQjlcdTk4OUNcdTgyNzJcblxuICAgIC8vIExpbmsgY29sb3JzXG4gICAgTElOS19DT0xPUjogXCIjOTk5OTk5XCIsICAgICAgICAgICAgICAgLy8gXHU4RkRFXHU2M0E1XHU3RUJGXHU5ODlDXHU4MjcyXG4gICAgTElOS19XSURUSDogMiwgICAgICAgICAgICAgICAgICAgICAgIC8vIFx1OEZERVx1NjNBNVx1N0VCRlx1NUJCRFx1NUVBNlxufSBhcyBjb25zdDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQW5pbWF0aW9uIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgQU5JTUFUSU9OX0NPTlNUQU5UUyA9IHtcbiAgICAvLyBUcmFuc2l0aW9uIGR1cmF0aW9ucyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgIEZBU1RfVFJBTlNJVElPTjogMTUwLCAgICAgICAgICAgICAgICAvLyBcdTVGRUJcdTkwMUZcdThGQzdcdTZFMjFcbiAgICBOT1JNQUxfVFJBTlNJVElPTjogMzAwLCAgICAgICAgICAgICAgLy8gXHU2QjYzXHU1RTM4XHU4RkM3XHU2RTIxXG4gICAgU0xPV19UUkFOU0lUSU9OOiA1MDAsICAgICAgICAgICAgICAgIC8vIFx1NjE2Mlx1OTAxRlx1OEZDN1x1NkUyMVxuXG4gICAgLy8gRWFzaW5nIGZ1bmN0aW9uc1xuICAgIEVBU0lOR19ERUZBVUxUOiBcImVhc2UtaW4tb3V0XCIsICAgICAgIC8vIFx1OUVEOFx1OEJBNFx1N0YxM1x1NTJBOFx1NTFGRFx1NjU3MFxuICAgIEVBU0lOR19FTEFTVElDOiBcImVsYXN0aWNcIiwgICAgICAgICAgIC8vIFx1NUYzOVx1NjAyN1x1N0YxM1x1NTJBOFxufSBhcyBjb25zdDtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUGVyZm9ybWFuY2UgQ29uc3RhbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBQRVJGT1JNQU5DRV9DT05TVEFOVFMgPSB7XG4gICAgLy8gUmVuZGVyaW5nIHRocmVzaG9sZHNcbiAgICBNQVhfTk9ERVNfQkVGT1JFX1ZJUlRVQUxJWkFUSU9OOiA1MDAsIC8vIFx1ODY1QVx1NjJERlx1NTMxNlx1OTYwOFx1NTAzQ1xuXG4gICAgLy8gRGVib3VuY2UgZGVsYXlzIChpbiBtaWxsaXNlY29uZHMpXG4gICAgUkVOREVSX0RFQk9VTkNFX0RFTEFZOiAxMDAsICAgICAgICAgIC8vIFx1NkUzMlx1NjdEM1x1OTYzMlx1NjI5Nlx1NUVGNlx1OEZERlxuICAgIElOUFVUX0RFQk9VTkNFX0RFTEFZOiAzMDAsICAgICAgICAgICAvLyBcdThGOTNcdTUxNjVcdTk2MzJcdTYyOTZcdTVFRjZcdThGREZcblxuICAgIC8vIENhY2hlIHNldHRpbmdzXG4gICAgTUFYX0NBQ0hFX1NJWkU6IDEwMDAsICAgICAgICAgICAgICAgIC8vIFx1NjcwMFx1NTkyN1x1N0YxM1x1NUI1OFx1NTkyN1x1NUMwRlxuICAgIENBQ0hFX0VYUElSWV9USU1FOiAzMDAwMDAsICAgICAgICAgICAvLyBcdTdGMTNcdTVCNThcdThGQzdcdTY3MUZcdTY1RjZcdTk1RjRcdUZGMDg1XHU1MjA2XHU5NDlGXHVGRjA5XG59IGFzIGNvbnN0O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBET00gQ29uc3RhbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBET01fQ09OU1RBTlRTID0ge1xuICAgIC8vIFN0eWxlIGVsZW1lbnQgSURcbiAgICBTVFlMRV9FTEVNRU5UX0lEOiBcIm1pbmQtbWFwLXN0eWxlc1wiLFxuXG4gICAgLy8gQ1NTIGNsYXNzZXNcbiAgICBNSU5EX01BUF9DT05UQUlORVJfQ0xBU1M6IFwibWluZC1tYXAtY29udGFpbmVyXCIsXG4gICAgTUlORF9NQVBfUklCQk9OX0NMQVNTOiBcIm1pbmQtbWFwLXJpYmJvbi1jbGFzc1wiLFxuXG4gICAgLy8gU3RhdHVzIGJhciB0ZXh0XG4gICAgU1RBVFVTX1JFQURZX1RFWFQ6IFwib3Blbk1pbmRNYXAgUmVhZHlcIixcblxuICAgIC8vIENvbW1hbmQgSURzXG4gICAgQ09NTUFORF9PUEVOX01JTkRfTUFQOiBcIm9wZW4tbWluZC1tYXBcIixcbiAgICBDT01NQU5EX09QRU5fQ1VSUkVOVDogXCJvcGVuLW1pbmQtbWFwLWN1cnJlbnRcIixcbn0gYXMgY29uc3Q7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZhbGlkYXRpb24gQ29uc3RhbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBWQUxJREFUSU9OX0NPTlNUQU5UUyA9IHtcbiAgICAvLyBUZXh0IHZhbGlkYXRpb25cbiAgICBNQVhfVEVYVF9MRU5HVEg6IDUwMCwgICAgICAgICAgICAgICAgLy8gXHU2NzAwXHU1OTI3XHU2NTg3XHU2NzJDXHU5NTdGXHU1RUE2XG4gICAgSU5WQUxJRF9DSEFSQUNURVJTOiBbJ1xcdCddLCAgICAgICAgICAvLyBcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjZcdUZGMDhcdTUzRUFcdTc5ODFcdTZCNjJcdTUyMzZcdTg4NjhcdTdCMjZcdUZGMENcdTRGRERcdTc1NTlcdTdGMjlcdThGREJcdTdFRDNcdTY3ODRcdUZGMDlcblxuICAgIC8vIEZpbGUgdmFsaWRhdGlvblxuICAgIE1BWF9GSUxFX1NJWkU6IDEwMjQgKiAxMDI0LCAgICAgICAgICAvLyBcdTY3MDBcdTU5MjdcdTY1ODdcdTRFRjZcdTU5MjdcdTVDMEZcdUZGMDgxTUJcdUZGMDlcbn0gYXMgY29uc3Q7IiwgIi8qKlxuICogTWluZCBNYXAgVXRpbGl0eSBGdW5jdGlvbnNcbiAqXG4gKiBQdXJlIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBtaW5kIG1hcCBwcm9jZXNzaW5nXG4gKi9cblxuaW1wb3J0IHsgTWluZE1hcE5vZGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21pbmRtYXAtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBNSU5ETUFQX0lERU5USUZJRVIsIE1BUktET1dOX0VYVEVOU0lPTiwgVkFMSURBVElPTl9DT05TVEFOVFMgfSBmcm9tICcuLi9jb25zdGFudHMvbWluZG1hcC1jb25zdGFudHMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUZXh0IFByb2Nlc3NpbmcgVXRpbGl0aWVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQ2xlYW4gdGV4dCBjb250ZW50IGJ5IHJlbW92aW5nIGF0dHJpYnV0ZXMgd2hpbGUgcHJlc2VydmluZyBvcmlnaW5hbCB3aGl0ZXNwYWNlXG4gKiBQcmVzZXJ2ZXMgbmV3bGluZXMgYW5kIG9yaWdpbmFsIHNwYWNpbmcgZm9yIG11bHRpLWxpbmUgdGV4dCBzdXBwb3J0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhblRleHRDb250ZW50KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gXCJcIjtcblxuICAgIHJldHVybiB0ZXh0XG4gICAgICAgIC5yZXBsYWNlKC9cXFsoW2EtekEtWl9dW2EtekEtWjAtOV9dKjpbXlxcXV0rKVxcXS9nLCAnJykgLy8gXHU3OUZCXHU5NjY0W2tleTp2YWx1ZV1cdTY4M0NcdTVGMEZcdTc2ODRcdTVDNUVcdTYwMjdcbiAgICAgICAgLnRyaW0oKTsgLy8gXHU3OUZCXHU5NjY0XHU5OTk2XHU1QzNFXHU3QTdBXHU2ODNDXG59XG5cbi8qKlxuICogV3JhcCB0ZXh0IGludGVsbGlnZW50bHkgYmFzZWQgb24gbWF4IHdpZHRoIGFuZCBmb250IHNpemVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBUZXh0KHRleHQ6IHN0cmluZywgbWF4V2lkdGg6IG51bWJlciB8IG51bGwsIGZvbnRTaXplOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCF0ZXh0IHx8IHRleHQubGVuZ3RoID09PSAwKSByZXR1cm4gW1wiXCJdO1xuXG4gICAgLy8gXHU1OTgyXHU2NzlDbWF4V2lkdGhcdTRFM0FudWxsXHVGRjBDXHU4ODY4XHU3OTNBXHU1MTQxXHU4QkI4XHU1MzU1XHU4ODRDXHU2NjNFXHU3OTNBXHVGRjBDXHU0RTBEXHU4RkRCXHU4ODRDXHU2MzYyXHU4ODRDXG4gICAgaWYgKG1heFdpZHRoID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbdGV4dF07XG4gICAgfVxuXG4gICAgLy8gXHU1QjU3XHU3QjI2XHU1QkJEXHU1RUE2XHU0RjMwXHU3Qjk3XG4gICAgY29uc3QgY2hhcldpZHRoID0gZm9udFNpemUgKiAwLjYyOyAvLyBcdTVFNzNcdTg4NjFcdTc2ODRcdTVCNTdcdTdCMjZcdTVCQkRcdTVFQTZcdTRGMzBcdTdCOTdcbiAgICBjb25zdCBtYXhDaGFycyA9IE1hdGguZmxvb3IobWF4V2lkdGggLyBjaGFyV2lkdGgpO1xuXG4gICAgaWYgKHRleHQubGVuZ3RoIDw9IG1heENoYXJzKSB7XG4gICAgICAgIHJldHVybiBbdGV4dF07XG4gICAgfVxuXG4gICAgY29uc3Qgd29yZHMgPSB0ZXh0LnNwbGl0KC9cXHMrLyk7XG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGN1cnJlbnRMaW5lID0gXCJcIjtcblxuICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgICAgICBjb25zdCB0ZXN0TGluZSA9IGN1cnJlbnRMaW5lID8gYCR7Y3VycmVudExpbmV9ICR7d29yZH1gIDogd29yZDtcblxuICAgICAgICBpZiAodGVzdExpbmUubGVuZ3RoIDw9IG1heENoYXJzKSB7XG4gICAgICAgICAgICBjdXJyZW50TGluZSA9IHRlc3RMaW5lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMaW5lKSB7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChjdXJyZW50TGluZSk7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUgPSB3b3JkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBcdTUzNTVcdTRFMkFcdTUzNTVcdThCQ0RcdTU5MkFcdTk1N0ZcdUZGMENcdTVGM0FcdTUyMzZcdTUyMDZcdTUyNzJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKHdvcmQuc3Vic3RyaW5nKDAsIG1heENoYXJzKSk7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUgPSB3b3JkLnN1YnN0cmluZyhtYXhDaGFycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VycmVudExpbmUpIHtcbiAgICAgICAgbGluZXMucHVzaChjdXJyZW50TGluZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmVzLmxlbmd0aCA+IDAgPyBsaW5lcyA6IFt0ZXh0XTtcbn1cblxuLyoqXG4gKiBNZWFzdXJlIHRleHQgZGltZW5zaW9ucyBiYXNlZCBvbiBsaW5lcyBhbmQgZm9udCBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlVGV4dFNpemUobGluZXM6IHN0cmluZ1tdLCBmb250U2l6ZTogbnVtYmVyKToge1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG59IHtcbiAgICBpZiAobGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiA2MCwgaGVpZ2h0OiBmb250U2l6ZSAqIDEuMiB9O1xuICAgIH1cblxuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBmb250U2l6ZSAqIDEuMjsgLy8gXHU4ODRDXHU5QUQ4XHU0RTNBXHU1QjU3XHU0RjUzXHU1OTI3XHU1QzBGXHU3Njg0MS4yXHU1MDBEXG4gICAgbGV0IG1heFdpZHRoID0gMDtcblxuICAgIC8vIFx1OEJBMVx1N0I5N1x1NjcwMFx1OTU3Rlx1ODg0Q1x1NzY4NFx1NUJCRFx1NUVBNlxuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICBjb25zdCBsaW5lV2lkdGggPSBsaW5lcy5sZW5ndGggPT09IDEgPyBsaW5lLmxlbmd0aCAqIGZvbnRTaXplICogMC42IDogbGluZS5sZW5ndGggKiBmb250U2l6ZSAqIDAuNTtcbiAgICAgICAgbWF4V2lkdGggPSBNYXRoLm1heChtYXhXaWR0aCwgbGluZVdpZHRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogbWF4V2lkdGgsXG4gICAgICAgIGhlaWdodDogbGluZXMubGVuZ3RoICogbGluZUhlaWdodFxuICAgIH07XG59XG5cbi8qKlxuICogR2V0IGZpbGUgbmFtZSB3aXRob3V0IGV4dGVuc2lvbiBmcm9tIGZpbGUgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZU5hbWVXaXRob3V0RXh0ZW5zaW9uKGZpbGVQYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghZmlsZVBhdGgpIHJldHVybiAnVW50aXRsZWQnO1xuXG4gICAgLy8gUmVtb3ZlIHBhdGggYW5kIGtlZXAgb25seSBmaWxlbmFtZSwgdGhlbiByZW1vdmUgLm1kIGV4dGVuc2lvblxuICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZVBhdGgucmVwbGFjZSgvXi4qW1xcXFwvXS8sICcnKTtcbiAgICByZXR1cm4gZmlsZU5hbWUucmVwbGFjZSgvXFwubWQkLywgJycpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNYXJrZG93biBQYXJzaW5nIFV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENoZWNrIGlmIGEgbGluZSBpcyBhIG1hcmtkb3duIGxpc3QgaXRlbVxuICogUmVxdWlyZXMgbGlzdCBtYXJrZXIgdG8gYmUgcHJlc2VudCAobm90IG9wdGlvbmFsKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaXN0SXRlbShsaW5lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gL15bIFxcdF0qWypcXC0rXVxccytcXFMvLnRlc3QobGluZSkgfHwgL15bIFxcdF0qXFxkK1xcLlxccytcXFMvLnRlc3QobGluZSk7XG59XG5cbi8qKlxuICogUGFyc2UgYSBzaW5nbGUgbWFya2Rvd24gbGlzdCBpdGVtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUxpc3RJdGVtKGxpbmU6IHN0cmluZyk6IHsgbGV2ZWw6IG51bWJlcjsgY29udGVudDogc3RyaW5nOyBpbmRlbnQ6IHN0cmluZyB9IHwgbnVsbCB7XG4gICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxccyopKFsqXFwtK10/XFxkKlxcLj8pXFxzKyguKykkLyk7XG4gICAgaWYgKCFtYXRjaCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBbLCBpbmRlbnQsICwgY29udGVudF0gPSBtYXRjaDtcbiAgICBjb25zdCBsZXZlbCA9IE1hdGguZmxvb3IoaW5kZW50Lmxlbmd0aCAvIDQpOyAvLyA0IHNwYWNlcyA9IDEgbGV2ZWxcblxuICAgIHJldHVybiB7XG4gICAgICAgIGxldmVsLFxuICAgICAgICBjb250ZW50OiBjbGVhblRleHRDb250ZW50KGNvbnRlbnQpLFxuICAgICAgICBpbmRlbnRcbiAgICB9O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIG1hcmtkb3duIGNvbnRlbnQgZnJvbSBtaW5kIG1hcCBub2Rlc1xuICogU3VwcG9ydHMgbXVsdGktbGluZSB0ZXh0IHdpdGggcHJvcGVyIGNvbnRpbnVhdGlvbiBsaW5lIGluZGVudGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU1hcmtkb3duRnJvbU5vZGVzKHJvb3ROb2RlOiBNaW5kTWFwTm9kZSk6IHN0cmluZyB7XG4gICAgbGV0IG1hcmtkb3duID0gTUlORE1BUF9JREVOVElGSUVSICsgXCJcXG5cXG5cIjtcblxuICAgIC8vIFx1OTAxMlx1NUY1Mlx1NzUxRlx1NjIxMFx1NUI1MFx1ODI4Mlx1NzBCOVx1NzY4NG1hcmtkb3duXG4gICAgY29uc3QgZ2VuZXJhdGVOb2RlTWFya2Rvd24gPSAobm9kZTogTWluZE1hcE5vZGUsIGluZGVudExldmVsOiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKG5vZGUubGV2ZWwgPT09IDApIHJldHVybjsgLy8gXHU4REYzXHU4RkM3XHU2ODM5XHU4MjgyXHU3MEI5XHVGRjA4XHU2NTg3XHU0RUY2XHU1NDBEXHVGRjA5XG5cbiAgICAgICAgY29uc3QgaW5kZW50ID0gXCIgICAgXCIucmVwZWF0KGluZGVudExldmVsIC0gMSk7IC8vIGxldmVsIDEgXHU3RjI5XHU4RkRCIDBcdUZGMENsZXZlbCAyIFx1N0YyOVx1OEZEQiA0XHU3QTdBXHU2ODNDXHVGRjBDXHU0RUU1XHU2QjY0XHU3QzdCXHU2M0E4XG4gICAgICAgIGNvbnN0IGxpc3RQcmVmaXggPSBcIipcIjsgLy8gXHU0RjdGXHU3NTI4ICogXHU0RjVDXHU0RTNBXHU1MjE3XHU4ODY4XHU3QjI2XHU1M0Y3XG5cbiAgICAgICAgLy8gXHU1MjA2XHU1MjcyXHU1OTFBXHU4ODRDXHU2NTg3XHU2NzJDXG4gICAgICAgIGNvbnN0IGxpbmVzID0gbm9kZS50ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgbWFya2Rvd24gKz0gYCR7aW5kZW50fSR7bGlzdFByZWZpeH0gJHtsaW5lc1swXX1cXG5gO1xuXG4gICAgICAgIC8vIFx1OEY5M1x1NTFGQVx1N0VFRFx1ODg0Q1x1RkYwQ1x1N0VFRFx1ODg0Q1x1N0YyOVx1OEZEQiA9IFx1NTIxN1x1ODg2OFx1N0YyOVx1OEZEQiArIDJcdTdBN0FcdTY4M0NcdUZGMDhcdTVCRjlcdTVFOTRgKiBgXHVGRjA5XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbkluZGVudCA9IGluZGVudCArIFwiICBcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbWFya2Rvd24gKz0gYCR7Y29udGludWF0aW9uSW5kZW50fSR7bGluZXNbaV19XFxuYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFx1OTAxMlx1NUY1Mlx1NTkwNFx1NzQwNlx1NUI1MFx1ODI4Mlx1NzBCOVxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGdlbmVyYXRlTm9kZU1hcmtkb3duKGNoaWxkLCBpbmRlbnRMZXZlbCArIDEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFx1NzUxRlx1NjIxMFx1NjI0MFx1NjcwOVx1NUI1MFx1ODI4Mlx1NzBCOVx1NzY4NG1hcmtkb3duXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiByb290Tm9kZS5jaGlsZHJlbikge1xuICAgICAgICBnZW5lcmF0ZU5vZGVNYXJrZG93bihjaGlsZCwgY2hpbGQubGV2ZWwpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrZG93bjtcbn1cblxuLyoqXG4gKiBQYXJzZSBtYXJrZG93biBjb250ZW50IHRvIG1pbmQgbWFwIGRhdGFcbiAqIFN1cHBvcnRzIG11bHRpLWxpbmUgdGV4dCB3aXRoIGNvbnRpbnVhdGlvbiBsaW5lc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYXJrZG93bkNvbnRlbnQoY29udGVudDogc3RyaW5nLCBmaWxlUGF0aDogc3RyaW5nKToge1xuICAgIHJvb3ROb2RlOiBNaW5kTWFwTm9kZSB8IG51bGw7XG4gICAgYWxsTm9kZXM6IE1pbmRNYXBOb2RlW107XG4gICAgbWF4TGV2ZWw6IG51bWJlcjtcbn0ge1xuICAgIC8vIFJlbW92ZSAjbWluZG1hcCBpZGVudGlmaWVyIGFuZCBzcGxpdCBieSBsaW5lc1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5yZXBsYWNlKC9eI21pbmRtYXBcXHMqXFxuPy8sICcnKS5zcGxpdCgnXFxuJyk7XG5cbiAgICAvLyBJbml0aWFsaXplIGRhdGEgc3RydWN0dXJlc1xuICAgIGNvbnN0IGFsbE5vZGVzOiBNaW5kTWFwTm9kZVtdID0gW107XG4gICAgY29uc3Qgbm9kZVN0YWNrOiAoTWluZE1hcE5vZGUgfCBudWxsKVtdID0gW107IC8vIFBhcmVudCBub2RlIHN0YWNrXG4gICAgbGV0IG1heExldmVsID0gMDtcbiAgICBsZXQgcm9vdE5vZGU6IE1pbmRNYXBOb2RlIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGxhc3ROb2RlOiBNaW5kTWFwTm9kZSB8IG51bGwgPSBudWxsOyAvLyBcdThEREZcdThFMkFcdTY3MDBcdTU0MEVcdTRFMDBcdTRFMkFcdTgyODJcdTcwQjlcbiAgICBsZXQgbGFzdEluZGVudExlbmd0aCA9IDA7IC8vIFx1NjcwMFx1NTQwRVx1NEUwMFx1NEUyQVx1NTIxN1x1ODg2OFx1OTg3OVx1NzY4NFx1N0YyOVx1OEZEQlx1OTU3Rlx1NUVBNlxuXG4gICAgLy8gMS4gXHU1MjFCXHU1RUZBXHU2NTg3XHU0RUY2XHU1NDBEXHU2ODM5XHU3RUQzXHU3MEI5IChsZXZlbD0wKVxuICAgIGNvbnN0IGZpbGVOYW1lID0gZ2V0RmlsZU5hbWVXaXRob3V0RXh0ZW5zaW9uKGZpbGVQYXRoKTtcbiAgICByb290Tm9kZSA9IHtcbiAgICAgICAgdGV4dDogZmlsZU5hbWUsXG4gICAgICAgIGxldmVsOiAwLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgZXhwYW5kZWQ6IHRydWVcbiAgICB9O1xuICAgIGFsbE5vZGVzLnB1c2gocm9vdE5vZGUpO1xuICAgIG5vZGVTdGFjay5wdXNoKHJvb3ROb2RlKTtcblxuICAgIC8vIDIuIFx1ODlFM1x1Njc5MCBtYXJrZG93biBcdTUyMTdcdTg4NjhcdTk4NzlcdTU0OENcdTdFRURcdTg4NENcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgaWYgKCFsaW5lLnRyaW0oKSkgY29udGludWU7IC8vIFx1OERGM1x1OEZDN1x1N0E3QVx1ODg0Q1xuXG4gICAgICAgIGlmIChpc0xpc3RJdGVtKGxpbmUpKSB7XG4gICAgICAgICAgICAvLyBcdTU5MDRcdTc0MDZcdTUyMTdcdTg4NjhcdTk4NzlcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlTGlzdEl0ZW0obGluZSk7XG4gICAgICAgICAgICBpZiAoIXBhcnNlZCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgbGV2ZWwsIGNvbnRlbnQsIGluZGVudCB9ID0gcGFyc2VkO1xuXG4gICAgICAgICAgICAvLyAzLiBcdTUyMUJcdTVFRkFcdTY1QjBcdTgyODJcdTcwQjlcbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGU6IE1pbmRNYXBOb2RlID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IGxldmVsICsgMSwgLy8gKzEgXHU1NkUwXHU0RTNBXHU2ODM5XHU4MjgyXHU3MEI5XHU2NjJGIGxldmVsIDBcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICAgIGV4cGFuZGVkOiB0cnVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyA0LiBcdTYyN0VcdTUyMzBcdTU0MDhcdTkwMDJcdTc2ODRcdTcyMzZcdTgyODJcdTcwQjlcbiAgICAgICAgICAgIHdoaWxlIChub2RlU3RhY2subGVuZ3RoID4gbGV2ZWwgKyAxKSB7XG4gICAgICAgICAgICAgICAgbm9kZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gbm9kZVN0YWNrW25vZGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5wYXJlbnQgPSBwYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW4ucHVzaChuZXdOb2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWxsTm9kZXMucHVzaChuZXdOb2RlKTtcbiAgICAgICAgICAgIG5vZGVTdGFjay5wdXNoKG5ld05vZGUpO1xuICAgICAgICAgICAgbGFzdE5vZGUgPSBuZXdOb2RlO1xuICAgICAgICAgICAgbGFzdEluZGVudExlbmd0aCA9IGluZGVudC5sZW5ndGg7XG4gICAgICAgICAgICBtYXhMZXZlbCA9IE1hdGgubWF4KG1heExldmVsLCBuZXdOb2RlLmxldmVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFx1NTkwNFx1NzQwNlx1N0VFRFx1ODg0Q1x1RkYwOFx1OTc1RVx1NTIxN1x1ODg2OFx1OTg3OVx1RkYwOVxuICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGVudCA9IGxpbmUubWF0Y2goL15cXHMqLyk/LlswXS5sZW5ndGggfHwgMDtcblxuICAgICAgICAgICAgLy8gXHU3RUVEXHU4ODRDXHU2NzYxXHU0RUY2XHVGRjFBXHU3RjI5XHU4RkRCXHU2QkQ0XHU0RTBBXHU0RTAwXHU1MjE3XHU4ODY4XHU5ODc5XHU2NkY0XHU2REYxXHU1MzczXHU1M0VGXG4gICAgICAgICAgICBpZiAobGFzdE5vZGUgJiYgY3VycmVudEluZGVudCA+IGxhc3RJbmRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lQ29udGVudCA9IGxpbmUudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0Tm9kZS50ZXh0ID0gbGFzdE5vZGUudGV4dCArICdcXG4nICsgbGluZUNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBcdTkxQ0RcdTg5ODFcdUZGMUFcdThERjNcdThGQzdcdTU0MEVcdTdFRURcdTU5MDRcdTc0MDZcdUZGMENcdTk2MzJcdTZCNjJcdTg4QUJcdTVGNTNcdTRGNUNcdTY1QjBcdTgyODJcdTcwQjlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFx1NTQyNlx1NTIxOVx1NUZGRFx1NzU2NVx1RkYwOFx1NTNFRlx1ODBGRFx1NjYyRlx1NjgzQ1x1NUYwRlx1OTUxOVx1OEJFRlx1NzY4NFx1NTE4NVx1NUJCOVx1RkYwOVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm9vdE5vZGUsXG4gICAgICAgIGFsbE5vZGVzLFxuICAgICAgICBtYXhMZXZlbFxuICAgIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5vZGUgVmFsaWRhdGlvbiBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBWYWxpZGF0ZSBub2RlIHRleHQgY29udGVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVOb2RlVGV4dCh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTRFM0FcdTdBN0FcdTYyMTZcdTUzRUFcdTY3MDlcdTdBN0FcdTc2N0RcdTVCNTdcdTdCMjZcbiAgICBpZiAoIXRleHQgfHwgdGV4dC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdTk1N0ZcdTVFQTZcdTk2NTBcdTUyMzZcbiAgICBpZiAodGV4dC5sZW5ndGggPiBWQUxJREFUSU9OX0NPTlNUQU5UUy5NQVhfVEVYVF9MRU5HVEgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFx1NjhDMFx1NjdFNVx1NjVFMFx1NjU0OFx1NUI1N1x1N0IyNlxuICAgIGZvciAoY29uc3QgY2hhciBvZiBWQUxJREFUSU9OX0NPTlNUQU5UUy5JTlZBTElEX0NIQVJBQ1RFUlMpIHtcbiAgICAgICAgaWYgKHRleHQuaW5jbHVkZXMoY2hhcikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFNhbml0aXplIHRleHQgZm9yIG5vZGUgZGlzcGxheVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVOb2RlVGV4dCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAgIC50cmltKClcbiAgICAgICAgLnN1YnN0cmluZygwLCBWQUxJREFUSU9OX0NPTlNUQU5UUy5NQVhfVEVYVF9MRU5HVEgpXG4gICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoYFske1ZBTElEQVRJT05fQ09OU1RBTlRTLklOVkFMSURfQ0hBUkFDVEVSUy5qb2luKCcnKX1dYCwgJ2cnKSwgJycpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBGaWxlIERldGVjdGlvbiBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDaGVjayBpZiBhIGZpbGUgaXMgYSBtaW5kIG1hcCBmaWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc01pbmRNYXBGaWxlKGNvbnRlbnQ6IHN0cmluZywgZXh0ZW5zaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZXh0ZW5zaW9uID09PSBNQVJLRE9XTl9FWFRFTlNJT04gJiZcbiAgICAgICAgICAgY29udGVudC50cmltKCkuc3RhcnRzV2l0aChNSU5ETUFQX0lERU5USUZJRVIpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOb2RlIFJlbGF0aW9uc2hpcCBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBGaW5kIGFsbCBkZXNjZW5kYW50cyBvZiBhIG5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVEZXNjZW5kYW50cyhub2RlOiBNaW5kTWFwTm9kZSk6IE1pbmRNYXBOb2RlW10ge1xuICAgIGNvbnN0IGRlc2NlbmRhbnRzOiBNaW5kTWFwTm9kZVtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgZGVzY2VuZGFudHMucHVzaChjaGlsZCk7XG4gICAgICAgIGRlc2NlbmRhbnRzLnB1c2goLi4uZ2V0Tm9kZURlc2NlbmRhbnRzKGNoaWxkKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2NlbmRhbnRzO1xufVxuXG4vKipcbiAqIEZpbmQgYWxsIGFuY2VzdG9ycyBvZiBhIG5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVBbmNlc3RvcnMobm9kZTogTWluZE1hcE5vZGUpOiBNaW5kTWFwTm9kZVtdIHtcbiAgICBjb25zdCBhbmNlc3RvcnM6IE1pbmRNYXBOb2RlW10gPSBbXTtcbiAgICBsZXQgY3VycmVudCA9IG5vZGUucGFyZW50O1xuXG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgYW5jZXN0b3JzLnB1c2goY3VycmVudCk7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gYW5jZXN0b3JzO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byBub2RlcyBoYXZlIGEgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlRGVzY2VuZGFudChwYXJlbnQ6IE1pbmRNYXBOb2RlLCBjaGlsZDogTWluZE1hcE5vZGUpOiBib29sZWFuIHtcbiAgICBpZiAocGFyZW50LmNoaWxkcmVuLmluY2x1ZGVzKGNoaWxkKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGdyYW5kQ2hpbGQgb2YgcGFyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChpc05vZGVEZXNjZW5kYW50KGdyYW5kQ2hpbGQsIGNoaWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFBlcmZvcm1hbmNlIFV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIERlYm91bmNlIGZ1bmN0aW9uIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duPihcbiAgICBmdW5jOiBULFxuICAgIHdhaXQ6IG51bWJlclxuKTogKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHZvaWQge1xuICAgIGxldCB0aW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gICAgcmV0dXJuICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgICAgICB9LCB3YWl0KTtcbiAgICB9O1xufVxuXG4vKipcbiAqIFRocm90dGxlIGZ1bmN0aW9uIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlPFQgZXh0ZW5kcyAoLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmtub3duPihcbiAgICBmdW5jOiBULFxuICAgIGxpbWl0OiBudW1iZXJcbik6ICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB2b2lkIHtcbiAgICBsZXQgaW5UaHJvdHRsZSA9IGZhbHNlO1xuXG4gICAgcmV0dXJuICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB7XG4gICAgICAgIGlmICghaW5UaHJvdHRsZSkge1xuICAgICAgICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgICAgICAgIGluVGhyb3R0bGUgPSB0cnVlO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5UaHJvdHRsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgbGltaXQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ29sb3IgVXRpbGl0aWVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vZGUgY29sb3IgYmFzZWQgb24gbGV2ZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVDb2xvcihsZXZlbDogbnVtYmVyLCBkZXB0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAvLyBTaW1wbGUgY29sb3IgbWFwcGluZyBiYXNlZCBvbiBsZXZlbCBhbmQgZGVwdGhcbiAgICBjb25zdCBodWUgPSAobGV2ZWwgKiAzMCArIGRlcHRoICogMTUpICUgMzYwO1xuICAgIGNvbnN0IHNhdHVyYXRpb24gPSBNYXRoLm1heCg0MCwgNzAgLSBsZXZlbCAqIDUpO1xuICAgIGNvbnN0IGxpZ2h0bmVzcyA9IE1hdGgubWF4KDMwLCA2MCAtIGxldmVsICogMyk7XG5cbiAgICByZXR1cm4gYGhzbCgke2h1ZX0sICR7c2F0dXJhdGlvbn0lLCAke2xpZ2h0bmVzc30lKWA7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgY29udHJhc3RpbmcgdGV4dCBjb2xvciBmb3IgYmFja2dyb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJhc3RUZXh0Q29sb3IoYmFja2dyb3VuZENvbG9yOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFNpbXBsZSBpbXBsZW1lbnRhdGlvbiAtIGluIHByb2R1Y3Rpb24sIHVzZSBhIHByb3BlciBjb2xvciBjb250cmFzdCBsaWJyYXJ5XG4gICAgcmV0dXJuIGJhY2tncm91bmRDb2xvci5pbmNsdWRlcygnaHNsKCcpICYmIGJhY2tncm91bmRDb2xvci5pbmNsdWRlcygnNTAlJykgPyAnIzAwMCcgOiAnI2ZmZic7XG59IiwgImltcG9ydCB7IGdldEZvbnRTaXplQnlEZXB0aCB9IGZyb20gJy4uL2NvbnN0YW50cy9taW5kbWFwLWNvbnN0YW50cyc7XG5pbXBvcnQgeyBjbGVhblRleHRDb250ZW50IH0gZnJvbSAnLi9taW5kbWFwLXV0aWxzJztcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2V0IG11bHRpcGxlIENTUyBwcm9wZXJ0aWVzIGF0IG9uY2VcbiAqIFRoaXMgcHJvdmlkZXMgYSBjbGVhbmVyIGFsdGVybmF0aXZlIHRvIGRpcmVjdCBzdHlsZSBtYW5pcHVsYXRpb25cbiAqL1xuZnVuY3Rpb24gc2V0Q3NzUHJvcHMoZWxlbWVudDogSFRNTEVsZW1lbnQsIHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogdm9pZCB7XG5cdE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgcHJvcHMpO1xufVxuXG4vKipcbiAqIE5vZGUgZGltZW5zaW9uIGNvbmZpZ3VyYXRpb24gaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZURpbWVuc2lvbnMge1xuXHR3aWR0aDogbnVtYmVyO1xuXHRoZWlnaHQ6IG51bWJlcjtcblx0dGV4dFg6IG51bWJlcjtcblx0dGV4dFk6IG51bWJlcjtcblx0Zm9udFNpemU6IHN0cmluZztcblx0Zm9udFdlaWdodDogc3RyaW5nO1xuXHRsaW5lczogc3RyaW5nW107XG5cdHBhZGRpbmc6IG51bWJlcjtcblx0bWluV2lkdGg6IG51bWJlcjtcblx0bWF4V2lkdGg6IG51bWJlciB8IG51bGw7XG59XG5cbi8qKlxuICogVGV4dCBtZWFzdXJlclxuICpcbiAqIFtSZXNwb25zaWJpbGl0aWVzXVxuICogQWNjdXJhdGVseSBtZWFzdXJlIHRleHQgZGltZW5zaW9ucywgaGFuZGxlIHRleHQgd3JhcHBpbmcsIGNhbGN1bGF0ZSBub2RlIGRpbWVuc2lvbnNcbiAqXG4gKiBbQ29yZSBGdW5jdGlvbnNdXG4gKiAxLiBBY2N1cmF0ZSB0ZXh0IG1lYXN1cmVtZW50OiBVc2UgaGlkZGVuIERPTSBlbGVtZW50cyB0byBhY2N1cmF0ZWx5IG1lYXN1cmUgdGV4dCBkaW1lbnNpb25zXG4gKiAyLiBTbWFydCB0ZXh0IHdyYXBwaW5nOiBBdXRvbWF0aWNhbGx5IHdyYXAgYmFzZWQgb24gbWF4IHdpZHRoIG9yIGtlZXAgc2luZ2xlIGxpbmVcbiAqIDMuIE5vZGUgZGltZW5zaW9uIGNhbGN1bGF0aW9uOiBDYWxjdWxhdGUgY29tcGxldGUgbm9kZSBkaW1lbnNpb24gY29uZmlndXJhdGlvbiBiYXNlZCBvbiBub2RlIGRlcHRoIGFuZCB0ZXh0IGNvbnRlbnRcbiAqIDQuIENhY2hlIG9wdGltaXphdGlvbjogQ2FjaGUgbWVhc3VyZW1lbnQgcmVzdWx0cyB0byBpbXByb3ZlIHBlcmZvcm1hbmNlXG4gKlxuICogW1BlcmZvcm1hbmNlIE9wdGltaXphdGlvbl1cbiAqIC0gdGV4dE1lYXN1cmVtZW50Q2FjaGU6IFRleHQgbWVhc3VyZW1lbnQgcmVzdWx0IGNhY2hlXG4gKiAtIG5vZGVEaW1lbnNpb25zQ2FjaGU6IE5vZGUgZGltZW5zaW9uIGNhY2hlXG4gKiAtIEhpZGRlbiBET00gZWxlbWVudCByZXVzZVxuICpcbiAqIFtVc2FnZSBFeGFtcGxlXVxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgbWVhc3VyZXIgPSBuZXcgVGV4dE1lYXN1cmVyKCk7XG4gKiBjb25zdCBkaW1lbnNpb25zID0gbWVhc3VyZXIuZ2V0Tm9kZURpbWVuc2lvbnMoMCwgXCJDZW50cmFsIFRvcGljXCIpO1xuICogbWVhc3VyZXIuZGVzdHJveSgpOyAvLyBDbGVhbiB1cCBhZnRlciB1c2VcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgVGV4dE1lYXN1cmVyIHtcblx0Ly8gVGV4dCBtZWFzdXJlbWVudCBlbGVtZW50IChoaWRkZW4gRE9NIGVsZW1lbnQgZm9yIGFjY3VyYXRlIG1lYXN1cmVtZW50KVxuXHRwcml2YXRlIHRleHRNZWFzdXJlbWVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cblx0Ly8gVGV4dCBtZWFzdXJlbWVudCBjYWNoZVxuXHRwcml2YXRlIHRleHRNZWFzdXJlbWVudENhY2hlID0gbmV3IE1hcDxzdHJpbmcsIHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfT4oKTtcblxuXHQvLyBOb2RlIGRpbWVuc2lvbiBjYWNoZVxuXHRwcml2YXRlIG5vZGVEaW1lbnNpb25zQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgTm9kZURpbWVuc2lvbnM+KCk7XG5cblx0LyoqXG5cdCAqIEFjY3VyYXRlbHkgbWVhc3VyZSB0ZXh0IGRpbWVuc2lvbnNcblx0ICpcblx0ICogVXNlIGhpZGRlbiBET00gZWxlbWVudHMgdG8gYWNjdXJhdGVseSBtZWFzdXJlIHRleHQgd2lkdGggYW5kIGhlaWdodCwgd2l0aCBjYWNoZSBzdXBwb3J0XG5cdCAqXG5cdCAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gbWVhc3VyZVxuXHQgKiBAcGFyYW0gZm9udFNpemUgRm9udCBzaXplIChwaXhlbHMpXG5cdCAqIEBwYXJhbSBmb250V2VpZ2h0IEZvbnQgd2VpZ2h0IChub3JtYWwvYm9sZCwgZXRjLilcblx0ICogQHJldHVybnMgVGV4dCB3aWR0aCBhbmQgaGVpZ2h0IGRpbWVuc2lvbnNcblx0ICovXG5cdHB1YmxpYyBtZWFzdXJlVGV4dEFjY3VyYXRlbHkodGV4dDogc3RyaW5nLCBmb250U2l6ZTogbnVtYmVyLCBmb250V2VpZ2h0ID0gJ25vcm1hbCcpIHtcblx0XHRjb25zdCBjYWNoZUtleSA9IGAke3RleHR9LSR7Zm9udFNpemV9LSR7Zm9udFdlaWdodH1gO1xuXG5cdFx0aWYgKHRoaXMudGV4dE1lYXN1cmVtZW50Q2FjaGUuaGFzKGNhY2hlS2V5KSkge1xuXHRcdFx0Y29uc3QgY2FjaGVkID0gdGhpcy50ZXh0TWVhc3VyZW1lbnRDYWNoZS5nZXQoY2FjaGVLZXkpO1xuXHRcdFx0aWYgKGNhY2hlZCkge1xuXHRcdFx0XHRyZXR1cm4gY2FjaGVkO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuaW5pdGlhbGl6ZVRleHRNZWFzdXJlbWVudEVsZW1lbnQoKTtcblxuXHRcdGlmICh0aGlzLnRleHRNZWFzdXJlbWVudEVsZW1lbnQpIHtcblx0XHRcdHNldENzc1Byb3BzKHRoaXMudGV4dE1lYXN1cmVtZW50RWxlbWVudCwge1xuXHRcdFx0XHRmb250U2l6ZTogYCR7Zm9udFNpemV9cHhgLFxuXHRcdFx0XHRmb250V2VpZ2h0OiBmb250V2VpZ2h0XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMudGV4dE1lYXN1cmVtZW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XG5cblx0XHRcdGNvbnN0IHJlY3QgPSB0aGlzLnRleHRNZWFzdXJlbWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRjb25zdCByZXN1bHQgPSB7XG5cdFx0XHRcdHdpZHRoOiByZWN0LndpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IHJlY3QuaGVpZ2h0XG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLnRleHRNZWFzdXJlbWVudENhY2hlLnNldChjYWNoZUtleSwgcmVzdWx0KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gZXN0aW1hdGlvbiBtZXRob2Rcblx0XHRjb25zdCBjaGFyV2lkdGggPSBmb250U2l6ZSAqIDAuNjI7XG5cdFx0Y29uc3QgbGluZUhlaWdodCA9IGZvbnRTaXplICogMS4yO1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogdGV4dC5sZW5ndGggKiBjaGFyV2lkdGgsXG5cdFx0XHRoZWlnaHQ6IGxpbmVIZWlnaHRcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIFNtYXJ0IHRleHQgd3JhcHBpbmdcblx0ICpcblx0ICogQXV0b21hdGljYWxseSB3cmFwIGJhc2VkIG9uIG1heCB3aWR0aCwgb3Iga2VlcCBzaW5nbGUgbGluZSBkaXNwbGF5XG5cdCAqXG5cdCAqIEBwYXJhbSB0ZXh0IE9yaWdpbmFsIHRleHRcblx0ICogQHBhcmFtIG1heFdpZHRoIE1heGltdW0gd2lkdGggKG51bGwgbWVhbnMgbm8gd2lkdGggbGltaXQpXG5cdCAqIEBwYXJhbSBmb250U2l6ZSBGb250IHNpemVcblx0ICogQHJldHVybnMgV3JhcHBlZCB0ZXh0IGFycmF5XG5cdCAqL1xuXHRwdWJsaWMgd3JhcFRleHQodGV4dDogc3RyaW5nLCBtYXhXaWR0aDogbnVtYmVyIHwgbnVsbCwgZm9udFNpemU6IG51bWJlcik6IHN0cmluZ1tdIHtcblx0XHRpZiAoIXRleHQgfHwgdGV4dC5sZW5ndGggPT09IDApIHJldHVybiBbXCJcIl07XG5cblx0XHQvLyBJZiBtYXhXaWR0aCBpcyBudWxsLCBhbGxvdyBzaW5nbGUgbGluZSBkaXNwbGF5LCBubyBhdXRvIHdyYXBwaW5nXG5cdFx0aWYgKG1heFdpZHRoID09PSBudWxsKSB7XG5cdFx0XHQvLyBDaGVjayBpZiBjb250YWlucyBtYW51YWwgbGluZSBicmVha3Ncblx0XHRcdGlmICh0ZXh0LmluY2x1ZGVzKCdcXG4nKSkge1xuXHRcdFx0XHRjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRyZXR1cm4gbGluZXM7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gW3RleHRdO1xuXHRcdH1cblxuXHRcdC8vIFNpbXBsZSBjaGFyYWN0ZXIgd2lkdGggZXN0aW1hdGlvbiAoY2FuIGJlIG9wdGltaXplZCBhcyBuZWVkZWQpXG5cdFx0Y29uc3QgY2hhcldpZHRoID0gZm9udFNpemUgKiAwLjYyOyAvLyBCYWxhbmNlZCBjaGFyYWN0ZXIgd2lkdGggZXN0aW1hdGlvblxuXHRcdGNvbnN0IG1heENoYXJzID0gTWF0aC5mbG9vcihtYXhXaWR0aCAvIGNoYXJXaWR0aCk7XG5cblx0XHRpZiAodGV4dC5sZW5ndGggPD0gbWF4Q2hhcnMpIHtcblx0XHRcdHJldHVybiBbdGV4dF07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgd29yZHMgPSB0ZXh0LnNwbGl0KCcgJyk7XG5cdFx0Y29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cdFx0bGV0IGN1cnJlbnRMaW5lID0gXCJcIjtcblxuXHRcdGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuXHRcdFx0Y29uc3QgdGVzdExpbmUgPSBjdXJyZW50TGluZSA/IGAke2N1cnJlbnRMaW5lfSAke3dvcmR9YCA6IHdvcmQ7XG5cdFx0XHRpZiAodGVzdExpbmUubGVuZ3RoIDw9IG1heENoYXJzKSB7XG5cdFx0XHRcdGN1cnJlbnRMaW5lID0gdGVzdExpbmU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoY3VycmVudExpbmUpIHtcblx0XHRcdFx0XHRsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXJyZW50TGluZSA9IHdvcmQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRMaW5lKSB7XG5cdFx0XHRsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGluZXMubGVuZ3RoID4gMCA/IGxpbmVzIDogW3RleHQuc3Vic3RyaW5nKDAsIG1heENoYXJzKV07XG5cdH1cblxuXHQvKipcblx0ICogTWVhc3VyZSBtdWx0aS1saW5lIHRleHQgZGltZW5zaW9ucyAoaW1wcm92ZWQgdmVyc2lvbilcblx0ICpcblx0ICogQHBhcmFtIGxpbmVzIFRleHQgbGluZSBhcnJheVxuXHQgKiBAcGFyYW0gZm9udFNpemUgRm9udCBzaXplXG5cdCAqIEBwYXJhbSBmb250V2VpZ2h0IEZvbnQgd2VpZ2h0XG5cdCAqIEByZXR1cm5zIFRvdGFsIHRleHQgd2lkdGggYW5kIGhlaWdodFxuXHQgKi9cblx0cHVibGljIG1lYXN1cmVUZXh0U2l6ZShsaW5lczogc3RyaW5nW10sIGZvbnRTaXplOiBudW1iZXIsIGZvbnRXZWlnaHQgPSAnbm9ybWFsJyk6IHtcblx0XHR3aWR0aDogbnVtYmVyO1xuXHRcdGhlaWdodDogbnVtYmVyO1xuXHR9IHtcblx0XHRpZiAobGluZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4geyB3aWR0aDogNDAsIGhlaWdodDogZm9udFNpemUgKiAxLjMgfTsgLy8gUmVkdWNlIG1pbmltdW0gd2lkdGg6IDYwXHUyMTkyNDBcblx0XHR9XG5cblx0XHRjb25zdCBsaW5lSGVpZ2h0ID0gZm9udFNpemUgKiAxLjM7IC8vIExpbmUgaGVpZ2h0IGlzIDEuM3ggZm9udCBzaXplIChvcHRpbWl6YXRpb246IDEuNVx1MjE5MjEuMywgc2F2ZSAxMyUpXG5cdFx0bGV0IG1heFdpZHRoID0gMDtcblxuXHRcdC8vIFVzZSBhY2N1cmF0ZSBtZWFzdXJlbWVudCBtZXRob2Rcblx0XHRmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcblx0XHRcdGNvbnN0IG1lYXN1cmVtZW50ID0gdGhpcy5tZWFzdXJlVGV4dEFjY3VyYXRlbHkobGluZSwgZm9udFNpemUsIGZvbnRXZWlnaHQpO1xuXHRcdFx0aWYgKG1lYXN1cmVtZW50LndpZHRoID4gbWF4V2lkdGgpIHtcblx0XHRcdFx0bWF4V2lkdGggPSBtZWFzdXJlbWVudC53aWR0aDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBoZWlnaHQgPSBsaW5lcy5sZW5ndGggKiBsaW5lSGVpZ2h0O1xuXHRcdGNvbnN0IHdpZHRoID0gTWF0aC5tYXgobWF4V2lkdGgsIDM1KTsgLy8gU2lnbmlmaWNhbnRseSByZWR1Y2UgbWluaW11bSB3aWR0aDogNjBcdTIxOTIzNSAoYXBwcm94aW1hdGVseSBvbmUgY2hhcmFjdGVyIHdpZHRoKVxuXG5cdFx0Y29uc3QgcmVzdWx0ID0geyB3aWR0aDogTWF0aC5jZWlsKHdpZHRoKSwgaGVpZ2h0OiBNYXRoLmNlaWwoaGVpZ2h0KSB9O1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgbm9kZSBkaW1lbnNpb24gY29uZmlndXJhdGlvbiAoYWRhcHRpdmUgdmVyc2lvbilcblx0ICpcblx0ICogQ2FsY3VsYXRlIGNvbXBsZXRlIG5vZGUgZGltZW5zaW9uIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gbm9kZSBkZXB0aCBhbmQgdGV4dCBjb250ZW50XG5cdCAqIEluY2x1ZGluZyB3aWR0aCwgaGVpZ2h0LCB0ZXh0IHBvc2l0aW9uLCBmb250IHN0eWxlLCBldGMuXG5cdCAqXG5cdCAqIEBwYXJhbSBkZXB0aCBOb2RlIGRlcHRoICgwPXJvb3QsIDE9Zmlyc3QgbGV2ZWwsIDIrPW90aGVyIGxldmVscylcblx0ICogQHBhcmFtIHRleHQgTm9kZSB0ZXh0IGNvbnRlbnRcblx0ICogQHJldHVybnMgTm9kZSBkaW1lbnNpb24gY29uZmlndXJhdGlvbiBvYmplY3Rcblx0ICovXG5cdHB1YmxpYyBnZXROb2RlRGltZW5zaW9ucyhkZXB0aDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpOiBOb2RlRGltZW5zaW9ucyB7XG5cdFx0Ly8gQ3JlYXRlIGNhY2hlIGtleVxuXHRcdGNvbnN0IGNhY2hlS2V5ID0gYCR7ZGVwdGh9LSR7dGV4dH0tJHt0ZXh0Lmxlbmd0aH1gO1xuXG5cdFx0Ly8gQ2hlY2sgY2FjaGVcblx0XHRpZiAodGhpcy5ub2RlRGltZW5zaW9uc0NhY2hlLmhhcyhjYWNoZUtleSkpIHtcblx0XHRcdGNvbnN0IGNhY2hlZCA9IHRoaXMubm9kZURpbWVuc2lvbnNDYWNoZS5nZXQoY2FjaGVLZXkpO1xuXHRcdFx0aWYgKGNhY2hlZCkge1xuXHRcdFx0XHRyZXR1cm4gY2FjaGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBjbGVhbmVkVGV4dCA9IGNsZWFuVGV4dENvbnRlbnQodGV4dCk7XG5cblx0XHRsZXQgZm9udFNpemU6IHN0cmluZztcblx0XHRsZXQgZm9udFdlaWdodDogc3RyaW5nO1xuXHRcdGxldCBtYXhXaWR0aDogbnVtYmVyIHwgbnVsbDtcblx0XHRsZXQgbWluV2lkdGg6IG51bWJlcjtcblx0XHRsZXQgcGFkZGluZzogbnVtYmVyO1xuXG5cdFx0aWYgKGRlcHRoID09PSAwKSB7XG5cdFx0XHQvLyBSb290IG5vZGU6IGVuaGFuY2VkIHN0eWxlXG5cdFx0XHRmb250U2l6ZSA9IGdldEZvbnRTaXplQnlEZXB0aCgwKTtcblx0XHRcdGZvbnRXZWlnaHQgPSBcImJvbGRcIjtcblx0XHRcdG1heFdpZHRoID0gbnVsbDsgLy8gUmVtb3ZlIHdpZHRoIGxpbWl0LCBhbGxvdyBkeW5hbWljIGFkanVzdG1lbnRcblx0XHRcdG1pbldpZHRoID0gNDA7IC8vIFNpZ25pZmljYW50bHkgcmVkdWNlOiA3MFx1MjE5MjQwLCBhbGxvdyBzaW5nbGUgY2hhcmFjdGVyIG5vZGUgc2VsZi1hZGFwdGF0aW9uIChvbmx5IGFzIGJhc2VsaW5lIHByb3RlY3Rpb24pXG5cdFx0XHRwYWRkaW5nID0gMTg7IC8vIE9wdGltaXplOiAyNFx1MjE5MjE4LCByZWR1Y2UgMjUlXG5cdFx0fSBlbHNlIGlmIChkZXB0aCA9PT0gMSkge1xuXHRcdFx0Ly8gTGV2ZWwgMTogZW5oYW5jZWQgc3R5bGVcblx0XHRcdGZvbnRTaXplID0gZ2V0Rm9udFNpemVCeURlcHRoKDEpO1xuXHRcdFx0Zm9udFdlaWdodCA9IFwiYm9sZFwiO1xuXHRcdFx0bWF4V2lkdGggPSBudWxsOyAvLyBSZW1vdmUgd2lkdGggbGltaXQsIGFsbG93IGR5bmFtaWMgYWRqdXN0bWVudFxuXHRcdFx0bWluV2lkdGggPSAzODsgLy8gU2lnbmlmaWNhbnRseSByZWR1Y2U6IDY1XHUyMTkyMzgsIGFsbG93IHNpbmdsZSBjaGFyYWN0ZXIgbm9kZSBzZWxmLWFkYXB0YXRpb25cblx0XHRcdHBhZGRpbmcgPSAxNjsgLy8gT3B0aW1pemU6IDIwXHUyMTkyMTYsIHJlZHVjZSAyMCVcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gTGV2ZWwgMiBhbmQgYmV5b25kOiBtb3JlIGNvbXBhY3Qgc3R5bGVcblx0XHRcdGZvbnRTaXplID0gZ2V0Rm9udFNpemVCeURlcHRoKGRlcHRoKTtcblx0XHRcdGZvbnRXZWlnaHQgPSBcIm5vcm1hbFwiO1xuXHRcdFx0bWF4V2lkdGggPSBudWxsOyAvLyBSZW1vdmUgd2lkdGggbGltaXQsIGFsbG93IGR5bmFtaWMgYWRqdXN0bWVudFxuXHRcdFx0bWluV2lkdGggPSAyMDsgLy8gRXh0cmVtZSBjb21wcmVzc2lvbjogMzVcdTIxOTIyMCwgbWF4aW1pemUgY29tcGFjdG5lc3Ncblx0XHRcdHBhZGRpbmcgPSAxMDsgLy8gT3B0aW1pemU6IDEyXHUyMTkyMTAsIHJlZHVjZSAxNyVcblx0XHR9XG5cblx0XHRjb25zdCBmb250U2l6ZU51bSA9IHBhcnNlSW50KGZvbnRTaXplKTtcblx0XHRjb25zdCBlZmZlY3RpdmVNYXhXaWR0aCA9IG1heFdpZHRoICE9PSBudWxsID8gbWF4V2lkdGggLSBwYWRkaW5nICogMiA6IG51bGw7XG5cdFx0Y29uc3QgbGluZXMgPSB0aGlzLndyYXBUZXh0KGNsZWFuZWRUZXh0LCBlZmZlY3RpdmVNYXhXaWR0aCwgZm9udFNpemVOdW0pO1xuXHRcdGNvbnN0IHRleHRTaXplID0gdGhpcy5tZWFzdXJlVGV4dFNpemUobGluZXMsIGZvbnRTaXplTnVtLCBmb250V2VpZ2h0KTtcblxuXHRcdC8vIENhbGN1bGF0ZSBmaW5hbCBub2RlIGRpbWVuc2lvbnNcblx0XHRjb25zdCBzYWZldHlCdWZmZXIgPSBNYXRoLm1heCg4LCB0ZXh0U2l6ZS53aWR0aCAqIDAuMDUpOyAvLyBBdCBsZWFzdCA4cHggb3IgNSUgYnVmZmVyXG5cdFx0Y29uc3Qgd2lkdGggPSBNYXRoLm1heCh0ZXh0U2l6ZS53aWR0aCArIHBhZGRpbmcgKiAyICsgc2FmZXR5QnVmZmVyLCBtaW5XaWR0aCk7XG5cdFx0Y29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgodGV4dFNpemUuaGVpZ2h0ICsgcGFkZGluZyAqIDIsIGZvbnRTaXplTnVtICogMi4wKTsgLy8gTWluaW11bSBoZWlnaHQgaXMgMi4weCBmb250IHNpemUgKG9wdGltaXphdGlvbjogMi41XHUyMTkyMi4wLCBzYXZlIDIwJSlcblxuXHRcdC8vIENhbGN1bGF0ZSB0ZXh0IHBvc2l0aW9uIChjZW50ZXIgYWxpZ25lZClcblx0XHRjb25zdCB0ZXh0WCA9IHdpZHRoIC8gMjtcblx0XHRjb25zdCB0ZXh0WSA9IHRleHRTaXplLmhlaWdodCAvIDIgKyBwYWRkaW5nIC8gMjsgLy8gRml4IHZlcnRpY2FsIGNlbnRlcmluZyAvLyBGaW5lLXR1bmUgWSBwb3NpdGlvblxuXG5cdFx0Y29uc3QgcmVzdWx0OiBOb2RlRGltZW5zaW9ucyA9IHtcblx0XHRcdHdpZHRoLFxuXHRcdFx0aGVpZ2h0LFxuXHRcdFx0dGV4dFgsXG5cdFx0XHR0ZXh0WSxcblx0XHRcdGZvbnRTaXplLFxuXHRcdFx0Zm9udFdlaWdodCxcblx0XHRcdGxpbmVzLFxuXHRcdFx0cGFkZGluZyxcblx0XHRcdG1pbldpZHRoLFxuXHRcdFx0bWF4V2lkdGhcblx0XHR9O1xuXG5cdFx0Ly8gQ2FjaGUgY2FsY3VsYXRpb24gcmVzdWx0XG5cdFx0dGhpcy5ub2RlRGltZW5zaW9uc0NhY2hlLnNldChjYWNoZUtleSwgcmVzdWx0KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQ2xlYXIgY2FjaGUgZm9yIHNwZWNpZmljIHRleHRcblx0ICpcblx0ICogQ2xlYXIgcmVsYXRlZCBjYWNoZSB3aGVuIHRleHQgY29udGVudCBpcyBtb2RpZmllZCB0byBhdm9pZCB1c2luZyBzdGFsZSBkYXRhXG5cdCAqXG5cdCAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gY2xlYXIgY2FjaGUgZm9yXG5cdCAqL1xuXHRwdWJsaWMgY2xlYXJOb2RlRGltZW5zaW9uc0NhY2hlRm9yVGV4dCh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcblx0XHRjb25zdCBrZXlzVG9EZWxldGU6IHN0cmluZ1tdID0gW107XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgdGhpcy5ub2RlRGltZW5zaW9uc0NhY2hlLmtleXMoKSkge1xuXHRcdFx0aWYgKGtleS5pbmNsdWRlcyh0ZXh0KSkge1xuXHRcdFx0XHRrZXlzVG9EZWxldGUucHVzaChrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRrZXlzVG9EZWxldGUuZm9yRWFjaChrZXkgPT4gdGhpcy5ub2RlRGltZW5zaW9uc0NhY2hlLmRlbGV0ZShrZXkpKTtcblxuXHRcdC8vIFx1NTQwQ1x1NjVGNlx1NkUwNVx1OTY2NFx1NjU4N1x1NjcyQ1x1NkQ0Qlx1OTFDRlx1N0YxM1x1NUI1OFxuXHRcdGNvbnN0IHRleHRLZXlzVG9EZWxldGU6IHN0cmluZ1tdID0gW107XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgdGhpcy50ZXh0TWVhc3VyZW1lbnRDYWNoZS5rZXlzKCkpIHtcblx0XHRcdGlmIChrZXkuaW5jbHVkZXModGV4dCkpIHtcblx0XHRcdFx0dGV4dEtleXNUb0RlbGV0ZS5wdXNoKGtleSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRleHRLZXlzVG9EZWxldGUuZm9yRWFjaChrZXkgPT4gdGhpcy50ZXh0TWVhc3VyZW1lbnRDYWNoZS5kZWxldGUoa2V5KSk7XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZSB0ZXh0IG1lYXN1cmVtZW50IGVsZW1lbnQgKHByaXZhdGUgbWV0aG9kKVxuXHQgKlxuXHQgKiBDcmVhdGUgYSBoaWRkZW4gRE9NIGVsZW1lbnQgZm9yIGFjY3VyYXRlbHkgbWVhc3VyaW5nIHRleHQgZGltZW5zaW9uc1xuXHQgKi9cblx0cHJpdmF0ZSBpbml0aWFsaXplVGV4dE1lYXN1cmVtZW50RWxlbWVudCgpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMudGV4dE1lYXN1cmVtZW50RWxlbWVudCkge1xuXHRcdFx0dGhpcy50ZXh0TWVhc3VyZW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHR0aGlzLnRleHRNZWFzdXJlbWVudEVsZW1lbnQuYWRkQ2xhc3MoJ21pbmRtYXAtdGV4dC1tZWFzdXJlcicpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRleHRNZWFzdXJlbWVudEVsZW1lbnQpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZXN0cm95IG1lYXN1cmVyLCBjbGVhbiB1cCByZXNvdXJjZXNcblx0ICpcblx0ICogQ2xlYW4gdXAgaGlkZGVuIERPTSBlbGVtZW50cyBhbmQgYWxsIGNhY2hlc1xuXHQgKi9cblx0cHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG5cdFx0Ly8gQ2xlYW4gdXAgdGV4dCBtZWFzdXJlbWVudCBlbGVtZW50XG5cdFx0aWYgKHRoaXMudGV4dE1lYXN1cmVtZW50RWxlbWVudCAmJiB0aGlzLnRleHRNZWFzdXJlbWVudEVsZW1lbnQucGFyZW50Tm9kZSkge1xuXHRcdFx0dGhpcy50ZXh0TWVhc3VyZW1lbnRFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy50ZXh0TWVhc3VyZW1lbnRFbGVtZW50KTtcblx0XHRcdHRoaXMudGV4dE1lYXN1cmVtZW50RWxlbWVudCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gQ2xlYW4gdXAgY2FjaGVzXG5cdFx0dGhpcy50ZXh0TWVhc3VyZW1lbnRDYWNoZS5jbGVhcigpO1xuXHRcdHRoaXMubm9kZURpbWVuc2lvbnNDYWNoZS5jbGVhcigpO1xuXHR9XG59XG4iLCAiLyoqXG4gKiBNaW5kIE1hcCBMYXlvdXQgQ2FsY3VsYXRvclxuICpcbiAqIFx1MzAxMFx1ODA0Q1x1OEQyM1x1MzAxMVxuICogXHU4QkExXHU3Qjk3XHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU4MjgyXHU3MEI5XHU3Njg0XHU0RjREXHU3RjZFXHU1NDhDXHU1QzNBXHU1QkY4XHVGRjBDXHU1QjlFXHU3M0IwXHU4MUVBXHU1QjlBXHU0RTQ5XHU3Njg0XHU2ODExXHU1RjYyXHU1RTAzXHU1QzQwXHU3Qjk3XHU2Q0Q1XG4gKlxuICogXHUzMDEwXHU1RTAzXHU1QzQwXHU3Qjk3XHU2Q0Q1XHU1MzlGXHU3NDA2XHUzMDExXG4gKlxuICogXHU2NzJDXHU3QzdCXHU0RjdGXHU3NTI4XHU0RTI0XHU5NjM2XHU2QkI1XHU5MDEyXHU1RjUyXHU3Qjk3XHU2Q0Q1XHU4QkExXHU3Qjk3XHU4MjgyXHU3MEI5XHU0RjREXHU3RjZFXHVGRjFBXG4gKlxuICogXHUyNTBDXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTEwXG4gKiBcdTI1MDIgICAgICAgICAgIFx1NEUyNFx1OTYzNlx1NkJCNVx1NUUwM1x1NUM0MFx1N0I5N1x1NkNENSAgICAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAqIFx1MjUxNFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUxOFxuICpcbiAqIFx1OTYzNlx1NkJCNTFcdUZGMUFcdTgxRUFcdTVFOTVcdTU0MTFcdTRFMEFcdUZGMDhCb3R0b20tVXBcdUZGMDlcdTdFRjRcdTVFQTZcdThCQTFcdTdCOTdcbiAqIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICogXHU3NkVFXHU2ODA3XHVGRjFBXHU4QkExXHU3Qjk3XHU2QkNGXHU0RTJBXHU4MjgyXHU3MEI5XHU1M0NBXHU1MTc2XHU1QjUwXHU2ODExXHU1MzYwXHU2MzZFXHU3Njg0XHU3QTdBXHU5NUY0XG4gKlxuICogXHU2RDQxXHU3QTBCXHVGRjFBXG4gKiAgIDEuIFx1NEY3Rlx1NzUyOCBEMy5lYWNoQWZ0ZXIoKSBcdThGREJcdTg4NENcdTU0MEVcdTVFOEZcdTkwNERcdTUzODZcbiAqICAgMi4gXHU1MTQ4XHU1OTA0XHU3NDA2XHU2MjQwXHU2NzA5XHU1QjUwXHU4MjgyXHU3MEI5XHVGRjBDXHU1MThEXHU1OTA0XHU3NDA2XHU3MjM2XHU4MjgyXHU3MEI5XG4gKiAgIDMuIFx1NUJGOVx1NEU4RVx1NTNGNlx1NUI1MFx1ODI4Mlx1NzBCOVx1RkYxQVxuICogICAgICAtIHN1YnRyZWVXaWR0aCA9IG5vZGVXaWR0aFx1RkYwOFx1ODFFQVx1OEVBQlx1NUJCRFx1NUVBNlx1RkYwOVxuICogICAgICAtIHN1YnRyZWVIZWlnaHQgPSBub2RlSGVpZ2h0XHVGRjA4XHU4MUVBXHU4RUFCXHU5QUQ4XHU1RUE2XHVGRjA5XG4gKiAgIDQuIFx1NUJGOVx1NEU4RVx1NTIwNlx1NjUyRlx1ODI4Mlx1NzBCOVx1RkYxQVxuICogICAgICAtIHN1YnRyZWVXaWR0aCA9IG1heChcdTgxRUFcdThFQUJcdTVCQkRcdTVFQTYsIFx1NjcwMFx1NUJCRFx1NUI1MFx1ODI4Mlx1NzBCOVx1NUJCRFx1NUVBNilcbiAqICAgICAgLSBzdWJ0cmVlSGVpZ2h0ID0gc3VtKFx1NjI0MFx1NjcwOVx1NUI1MFx1ODI4Mlx1NzBCOXN1YnRyZWVIZWlnaHQpICsgXHU5NUY0XHU4REREXG4gKlxuICogXHU2NUY2XHU5NUY0XHU1OTBEXHU2NzQyXHU1RUE2XHVGRjFBTyhOKVx1RkYwQ05cdTRFM0FcdTgyODJcdTcwQjlcdTY1NzBcdTkxQ0ZcbiAqXG4gKlxuICogXHU5NjM2XHU2QkI1Mlx1RkYxQVx1ODFFQVx1OTg3Nlx1NTQxMVx1NEUwQlx1RkYwOFRvcC1Eb3duXHVGRjA5XHU0RjREXHU3RjZFXHU1MjA2XHU5MTREXG4gKiBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAqIFx1NzZFRVx1NjgwN1x1RkYxQVx1NEUzQVx1NkJDRlx1NEUyQVx1ODI4Mlx1NzBCOVx1NTIwNlx1OTE0RFx1NTE3N1x1NEY1M1x1NzY4NCAoeCwgeSkgXHU1NzUwXHU2ODA3XG4gKlxuICogXHU2RDQxXHU3QTBCXHVGRjFBXG4gKiAgIDEuIFx1NEVDRVx1NjgzOVx1ODI4Mlx1NzBCOVx1NUYwMFx1NTlDQlx1OTAxMlx1NUY1Mlx1NTkwNFx1NzQwNlxuICogICAyLiBcdTVCRjlcdTZCQ0ZcdTRFMkFcdTgyODJcdTcwQjlcdUZGMUFcbiAqICAgICAgYS4gXHU4QkJFXHU3RjZFXHU4MUVBXHU4RUFCXHU3Njg0ICh4LCB5KSBcdTU3NTBcdTY4MDdcbiAqICAgICAgYi4gXHU4QkExXHU3Qjk3XHU2MjQwXHU2NzA5XHU1QjUwXHU4MjgyXHU3MEI5XHU3Njg0XHU2MDNCXHU5QUQ4XHU1RUE2XG4gKiAgICAgIGMuIFx1Nzg2RVx1NUI5QVx1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVx1RkYwOFx1NEY3Rlx1NUI1MFx1ODI4Mlx1NzBCOVx1N0VDNFx1NTc4Mlx1NzZGNFx1NUM0NVx1NEUyRFx1RkYwOVxuICogICAgICBkLiBcdTRFM0FcdTZCQ0ZcdTRFMkFcdTVCNTBcdTgyODJcdTcwQjlcdTUyMDZcdTkxNERcdTRGNERcdTdGNkVcbiAqICAgICAgZS4gXHU5MDEyXHU1RjUyXHU1OTA0XHU3NDA2XHU1QjUwXHU4MjgyXHU3MEI5XG4gKlxuICogXHU1NzUwXHU2ODA3XHU1MjA2XHU5MTREXHVGRjFBXG4gKiAgIC0gXHU1NzgyXHU3NkY0XHU0RjREXHU3RjZFXHVGRjA4eFx1RkYwOVx1RkYxQVx1NjgzOVx1NjM2RVx1NUI1MFx1NjgxMVx1OUFEOFx1NUVBNlx1OEJBMVx1N0I5N1x1RkYwQ1x1Nzg2RVx1NEZERFx1NUI1MFx1ODI4Mlx1NzBCOVx1NTc4Mlx1NzZGNFx1NTIwNlx1NUUwM1xuICogICAtIFx1NkMzNFx1NUU3M1x1NEY0RFx1N0Y2RVx1RkYwOHlcdUZGMDlcdUZGMUFcdTYyNDBcdTY3MDlcdTUxNDRcdTVGMUZcdTgyODJcdTcwQjlcdTc2RjhcdTU0MENcdUZGMDhcdTVERTZcdTVCRjlcdTlGNTBcdUZGMDlcbiAqXG4gKlxuICogXHUzMDEwXHU1NzUwXHU2ODA3XHU3Q0ZCXHU3RURGXHU3RUE2XHU1QjlBXHUzMDExXHUyNkEwXHVGRTBGIFx1OTFDRFx1ODk4MVxuICpcbiAqIFx1NUUwM1x1NUM0MFx1NTc1MFx1NjgwN1x1N0NGQlx1RkYwOFx1NzUzMSBMYXlvdXRDYWxjdWxhdG9yIFx1OEJBMVx1N0I5N1x1RkYwOVx1RkYxQVxuICogICBcdTI1MENcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MTBcbiAqICAgXHUyNTAyIGQueDogXHU1NzgyXHU3NkY0XHU0RjREXHU3RjZFXHVGRjA4XHU0RUNFXHU0RTBBXHU1MjMwXHU0RTBCXHU1ODlFXHU1MkEwXHVGRjA5ICAgICAgICAgXHUyNTAyXG4gKiAgIFx1MjUwMiAgICAgIC0gXHU4ODY4XHU3OTNBXHU4MjgyXHU3MEI5XHU3Njg0XHU0RTJEXHU1RkMzXHU0RjREXHU3RjZFICAgICAgICAgICAgXHUyNTAyXG4gKiAgIFx1MjUwMiAgICAgIC0gXHU3NTI4XHU0RThFXHU1NzgyXHU3NkY0XHU1QzQ1XHU0RTJEXHU4QkExXHU3Qjk3ICAgICAgICAgICAgICBcdTI1MDJcbiAqICAgXHUyNTAyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MjUwMlxuICogICBcdTI1MDIgZC55OiBcdTZDMzRcdTVFNzNcdTRGNERcdTdGNkVcdUZGMDhcdTRFQ0VcdTVERTZcdTUyMzBcdTUzRjNcdTU4OUVcdTUyQTBcdUZGMDkgICAgICAgICBcdTI1MDJcbiAqICAgXHUyNTAyICAgICAgLSBcdTg4NjhcdTc5M0FcdTgyODJcdTcwQjlcdTc2ODRcdTVERTZcdThGQjlcdTdGMThcdTRGNERcdTdGNkUgICAgICAgICAgXHUyNTAyXG4gKiAgIFx1MjUwMiAgICAgIC0gXHU3ODZFXHU0RkREXHU1MTQ0XHU1RjFGXHU4MjgyXHU3MEI5XHU1REU2XHU1QkY5XHU5RjUwICAgICAgICAgICAgXHUyNTAyXG4gKiAgIFx1MjUxNFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUxOFxuICpcbiAqIFx1NzkzQVx1NEY4Qlx1RkYxQVxuICogICBcdTcyMzZcdTgyODJcdTcwQjkoZC54PTEwMCwgZC55PTIwMClcbiAqICAgXHUyNTFDXHUyNTAwIFx1NUI1MFx1ODI4Mlx1NzBCOTEoZC54PTUwLCBkLnk9MzUwKSAgXHUyMTkwIFx1NEUwRVx1NUI1MFx1ODI4Mlx1NzBCOTJcdTc2ODR5XHU3NkY4XHU1NDBDXHVGRjA4XHU1REU2XHU1QkY5XHU5RjUwXHVGRjA5XG4gKiAgIFx1MjUxNFx1MjUwMCBcdTVCNTBcdTgyODJcdTcwQjkyKGQueD0xNTAsIGQueT0zNTApIFx1MjE5MCBcdTRFMEVcdTVCNTBcdTgyODJcdTcwQjkxXHU3Njg0eVx1NzZGOFx1NTQwQ1x1RkYwOFx1NURFNlx1NUJGOVx1OUY1MFx1RkYwOVxuICpcbiAqXG4gKiBcdTMwMTBcdTVDM0FcdTVCRjhcdTY5ODJcdTVGRjVcdTMwMTFcbiAqXG4gKiBub2RlV2lkdGggKFx1ODI4Mlx1NzBCOVx1NUJCRFx1NUVBNilcdUZGMUFcbiAqICAgLSBcdTgyODJcdTcwQjlcdTgxRUFcdThFQUJcdTc2ODRcdTVCQkRcdTVFQTZcbiAqICAgLSBcdTUzMDVcdTU0MkJcdUZGMUFcdTY1ODdcdTY3MkNcdTVCQkRcdTVFQTYgKyBwYWRkaW5nXHUwMEQ3MiArIFx1NUI4OVx1NTE2OFx1OEZCOVx1OERERFxuICpcbiAqIG5vZGVIZWlnaHQgKFx1ODI4Mlx1NzBCOVx1OUFEOFx1NUVBNilcdUZGMUFcbiAqICAgLSBcdTgyODJcdTcwQjlcdTgxRUFcdThFQUJcdTc2ODRcdTlBRDhcdTVFQTZcbiAqICAgLSBcdTUzMDVcdTU0MkJcdUZGMUFcdTY1ODdcdTY3MkNcdTlBRDhcdTVFQTYgKyBwYWRkaW5nXHUwMEQ3MlxuICogICAtIFx1NTkxQVx1ODg0Q1x1NjU4N1x1NjcyQ1x1RkYxQVx1ODg0Q1x1NjU3MCBcdTAwRDcgXHU4ODRDXHU5QUQ4ICsgcGFkZGluZ1x1MDBENzJcbiAqXG4gKiBzdWJ0cmVlV2lkdGggKFx1NUI1MFx1NjgxMVx1NUJCRFx1NUVBNilcdUZGMUFcbiAqICAgLSBcdTVCRjlcdTRFOEVcdTUzRjZcdTVCNTBcdTgyODJcdTcwQjlcdUZGMUE9IG5vZGVXaWR0aFxuICogICAtIFx1NUJGOVx1NEU4RVx1NTIwNlx1NjUyRlx1ODI4Mlx1NzBCOVx1RkYxQT0gbWF4KFx1ODFFQVx1OEVBQlx1NUJCRFx1NUVBNiwgXHU2NzAwXHU1QkJEXHU1QjUwXHU4MjgyXHU3MEI5XHU1QkJEXHU1RUE2KVxuICogICAtIFx1NzUyOFx1OTAxNFx1RkYxQVx1Nzg2RVx1NUI5QVx1NzIzNlx1ODI4Mlx1NzBCOVx1OTcwMFx1ODk4MVx1NzY4NFx1NjcwMFx1NUMwRlx1NUJCRFx1NUVBNlxuICpcbiAqIHN1YnRyZWVIZWlnaHQgKFx1NUI1MFx1NjgxMVx1OUFEOFx1NUVBNilcdUZGMUFcbiAqICAgLSBcdTVCRjlcdTRFOEVcdTUzRjZcdTVCNTBcdTgyODJcdTcwQjlcdUZGMUE9IG5vZGVIZWlnaHRcbiAqICAgLSBcdTVCRjlcdTRFOEVcdTUyMDZcdTY1MkZcdTgyODJcdTcwQjlcdUZGMUE9IHN1bShcdTYyNDBcdTY3MDlcdTVCNTBcdTgyODJcdTcwQjlzdWJ0cmVlSGVpZ2h0KSArIFx1OTVGNFx1OERERFxuICogICAtIFx1NzUyOFx1OTAxNFx1RkYxQVx1Nzg2RVx1NUI5QVx1NzIzNlx1ODI4Mlx1NzBCOVx1OTcwMFx1ODk4MVx1NzY4NFx1NjcwMFx1NUMwRlx1OUFEOFx1NUVBNlxuICogICAtIFx1Nzg2RVx1NEZERFx1NUI1MFx1ODI4Mlx1NzBCOVx1NEU0Qlx1OTVGNFx1NEUwRFx1OTFDRFx1NTNFMFxuICpcbiAqXG4gKiBcdTMwMTBcdTRGN0ZcdTc1MjhcdTc5M0FcdTRGOEJcdTMwMTFcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBjYWxjdWxhdG9yID0gbmV3IExheW91dENhbGN1bGF0b3IoKTtcbiAqXG4gKiAvLyBcdTgxRUFcdTVCOUFcdTRFNDlcdTVFMDNcdTVDNDBcbiAqIGNvbnN0IHJvb3QgPSBjYWxjdWxhdG9yLmNyZWF0ZUN1c3RvbVRyZWVMYXlvdXQoXG4gKiAgICAgZmxhdERhdGEsICAgICAgICAgICAvLyBcdTYyNDFcdTVFNzNcdTc2ODRcdTgyODJcdTcwQjlcdTY1NzBcdTYzNkVcbiAqICAgICBub2RlRGltZW5zaW9uc0ZuICAgICAvLyBcdTgzQjdcdTUzRDZcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcdTc2ODRcdTU2REVcdThDMDNcdTUxRkRcdTY1NzBcbiAqICk7XG4gKlxuICogLy8gcm9vdC5jaGlsZHJlbiBcdTRFMkRcdTc2ODRcdTZCQ0ZcdTRFMkFcdTgyODJcdTcwQjlcdTczQjBcdTU3MjhcdTkwRkRcdTY3MDlcdUZGMUFcbiAqIC8vIC0gbm9kZS54LCBub2RlLnk6IFx1NUUwM1x1NUM0MFx1NTc1MFx1NjgwN1xuICogLy8gLSBub2RlLmRhdGEuc3VidHJlZVdpZHRoLCBub2RlLmRhdGEuc3VidHJlZUhlaWdodDogXHU1QjUwXHU2ODExXHU1QzNBXHU1QkY4XG4gKiBgYGBcbiAqXG4gKlxuICogXHUzMDEwXHU0RTBFXHU1MTc2XHU0RUQ2XHU3RUM0XHU0RUY2XHU3Njg0XHU1MTczXHU3Q0ZCXHUzMDExXG4gKlxuICogTGF5b3V0Q2FsY3VsYXRvciAoXHU1RTAzXHU1QzQwXHU4QkExXHU3Qjk3KVxuICogICBcdTIxOTMgXHU4RjkzXHU1MUZBXHVGRjFBXHU1RTI2XHU1NzUwXHU2ODA3XHU3Njg0XHU1QzQyXHU3RUE3XHU3RUQzXHU2Nzg0XG4gKiBEM1RyZWVSZW5kZXJlciAoRDNcdTZFMzJcdTY3RDMpXG4gKiAgIFx1MjE5MyBcdThGOTNcdTUxRkFcdUZGMUFTVkdcdTUxNDNcdTdEMjBcbiAqIFx1NzUyOFx1NjIzN1x1NzU0Q1x1OTc2MlxuICpcbiAqXG4gKiBcdTMwMTBcdTYwMjdcdTgwRkRcdTgwMDNcdTg2NTFcdTMwMTFcbiAqXG4gKiAtIFx1NjVGNlx1OTVGNFx1NTkwRFx1Njc0Mlx1NUVBNlx1RkYxQU8oTilcdUZGMENcdTZCQ0ZcdTRFMkFcdTgyODJcdTcwQjlcdThCQkZcdTk1RUVcdTRFMjRcdTZCMjFcbiAqIC0gXHU3QTdBXHU5NUY0XHU1OTBEXHU2NzQyXHU1RUE2XHVGRjFBTyhOKVx1RkYwQ1x1NUI1OFx1NTBBOFx1NUI1MFx1NjgxMVx1NUMzQVx1NUJGOFxuICogLSBcdTkwMDJcdTc1MjhcdTg5QzRcdTZBMjFcdUZGMUFcdTZENEJcdThCRDVcdTkwMUFcdThGQzcgMTAwMCsgXHU4MjgyXHU3MEI5XG4gKlxuICpcbiAqIEBzZWUgRDNUcmVlUmVuZGVyZXIgLSBcdTRGN0ZcdTc1MjhcdTZCNjRcdTVFMDNcdTVDNDBcdThGREJcdTg4NENcdTZFMzJcdTY3RDNcbiAqIEBzZWUgTm9kZURpbWVuc2lvbnMgLSBcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcdTYzQTVcdTUzRTNcbiAqIEBzZWUgTEFZT1VUX0NPTlNUQU5UUyAtIFx1NUUwM1x1NUM0MFx1NUUzOFx1OTFDRlx1OTE0RFx1N0Y2RVxuICovXG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IE1pbmRNYXBOb2RlLCBOb2RlRGltZW5zaW9ucyB9IGZyb20gJy4uL2ludGVyZmFjZXMvbWluZG1hcC1pbnRlcmZhY2VzJztcbmltcG9ydCB7IExBWU9VVF9DT05TVEFOVFMgfSBmcm9tICcuLi9jb25zdGFudHMvbWluZG1hcC1jb25zdGFudHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExheW91dENvbmZpZyB7XG4gICAgbWluTm9kZUdhcDogbnVtYmVyO1xuICAgIGhvcml6b250YWxTcGFjaW5nOiBudW1iZXI7XG4gICAgdmVydGljYWxTcGFjaW5nOiBudW1iZXI7XG4gICAgbWluVmVydGljYWxHYXA6IG51bWJlcjtcbiAgICB0cmVlSGVpZ2h0OiBudW1iZXI7XG4gICAgdHJlZVdpZHRoOiBudW1iZXI7XG4gICAgbm9kZUhlaWdodEJ1ZmZlcjogbnVtYmVyO1xufVxuXG4vKipcbiAqIExheW91dCBjYWxjdWxhdG9yIGNsYXNzXG4gKlxuICogXHU4RDFGXHU4RDIzXHU4QkExXHU3Qjk3XHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU3Njg0XHU2ODExXHU1RjYyXHU1RTAzXHU1QzQwXG4gKi9cbmV4cG9ydCBjbGFzcyBMYXlvdXRDYWxjdWxhdG9yIHtcbiAgICBwcml2YXRlIGNvbmZpZzogTGF5b3V0Q29uZmlnO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBQYXJ0aWFsPExheW91dENvbmZpZz4gPSB7fSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG1pbk5vZGVHYXA6IExBWU9VVF9DT05TVEFOVFMuTUlOX05PREVfR0FQLFxuICAgICAgICAgICAgaG9yaXpvbnRhbFNwYWNpbmc6IExBWU9VVF9DT05TVEFOVFMuSE9SSVpPTlRBTF9TUEFDSU5HLFxuICAgICAgICAgICAgdmVydGljYWxTcGFjaW5nOiBMQVlPVVRfQ09OU1RBTlRTLlZFUlRJQ0FMX1NQQUNJTkcsXG4gICAgICAgICAgICBtaW5WZXJ0aWNhbEdhcDogTEFZT1VUX0NPTlNUQU5UUy5NSU5fVkVSVElDQUxfR0FQLFxuICAgICAgICAgICAgdHJlZUhlaWdodDogTEFZT1VUX0NPTlNUQU5UUy5UUkVFX0hFSUdIVCxcbiAgICAgICAgICAgIHRyZWVXaWR0aDogTEFZT1VUX0NPTlNUQU5UUy5UUkVFX1dJRFRILFxuICAgICAgICAgICAgbm9kZUhlaWdodEJ1ZmZlcjogTEFZT1VUX0NPTlNUQU5UUy5OT0RFX0hFSUdIVF9CVUZGRVIsXG4gICAgICAgICAgICAuLi5jb25maWdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgRDMgdHJlZSBsYXlvdXRcbiAgICAgKi9cbiAgICBjcmVhdGVUcmVlTGF5b3V0KCk6IGQzLlRyZWVMYXlvdXQ8TWluZE1hcE5vZGU+IHtcbiAgICAgICAgcmV0dXJuIGQzLnRyZWU8TWluZE1hcE5vZGU+KClcbiAgICAgICAgICAgIC5ub2RlU2l6ZShbdGhpcy5jb25maWcubWluTm9kZUdhcCwgdGhpcy5jb25maWcubWluTm9kZUdhcF0pXG4gICAgICAgICAgICAuc2VwYXJhdGlvbigoYSwgYikgPT4gdGhpcy5jYWxjdWxhdGVEeW5hbWljU2VwYXJhdGlvbihhLCBiKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGR5bmFtaWMgc2VwYXJhdGlvbiBiZXR3ZWVuIG5vZGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVEeW5hbWljU2VwYXJhdGlvbihhOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgYjogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiBudW1iZXIge1xuICAgICAgICAvLyBGb3Igbm93LCByZXR1cm4gZGVmYXVsdCBzZXBhcmF0aW9uXG4gICAgICAgIC8vIEluIGEgZnVsbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3b3VsZCBjb25zaWRlciBub2RlIGRpbWVuc2lvbnNcbiAgICAgICAgcmV0dXJuIChhLnBhcmVudCA9PT0gYi5wYXJlbnQgPyAxIDogMikgLyBhLmRlcHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFx1OEJBMVx1N0I5N1x1ODFFQVx1OTAwMlx1NUU5NFx1NkMzNFx1NUU3M1x1OTVGNFx1OERERFxuICAgICAqIFx1NTdGQVx1NEU4RVx1NkU5MFx1ODI4Mlx1NzBCOVx1NTQ4Q1x1NzZFRVx1NjgwN1x1ODI4Mlx1NzBCOVx1NzY4NFx1NUI5RVx1OTY0NVx1NUJCRFx1NUVBNlx1NTJBOFx1NjAwMVx1OEJBMVx1N0I5N1x1OTVGNFx1OERERFxuICAgICAqIEBwYXJhbSBzb3VyY2VXaWR0aCBcdTZFOTBcdTgyODJcdTcwQjlcdTVCQkRcdTVFQTZcbiAgICAgKiBAcGFyYW0gdGFyZ2V0V2lkdGggXHU3NkVFXHU2ODA3XHU4MjgyXHU3MEI5XHU1QkJEXHU1RUE2XG4gICAgICogQHJldHVybnMgXHU4QkExXHU3Qjk3XHU1MUZBXHU3Njg0XHU2QzM0XHU1RTczXHU5NUY0XHU4REREXG4gICAgICovXG4gICAgY2FsY3VsYXRlQWRhcHRpdmVIb3Jpem9udGFsU3BhY2luZyhzb3VyY2VXaWR0aDogbnVtYmVyLCB0YXJnZXRXaWR0aDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgeyBBREFQVElWRV9IT1JJWk9OVEFMX1NQQUNJTkcgfSA9IExBWU9VVF9DT05TVEFOVFM7XG5cbiAgICAgICAgLy8gXHU1N0ZBXHU0RThFXHU2RTkwXHU4MjgyXHU3MEI5XHU1QkJEXHU1RUE2XHU3Njg0XHU5NUY0XHU4REREXG4gICAgICAgIGNvbnN0IHNvdXJjZUJhc2VkU3BhY2luZyA9IHNvdXJjZVdpZHRoICogQURBUFRJVkVfSE9SSVpPTlRBTF9TUEFDSU5HLlNPVVJDRV9OT0RFX1JBVElPO1xuXG4gICAgICAgIC8vIFx1NTdGQVx1NEU4RVx1NzZFRVx1NjgwN1x1ODI4Mlx1NzBCOVx1NUJCRFx1NUVBNlx1NzY4NFx1OTVGNFx1OERERFxuICAgICAgICBjb25zdCB0YXJnZXRCYXNlZFNwYWNpbmcgPSB0YXJnZXRXaWR0aCAqIEFEQVBUSVZFX0hPUklaT05UQUxfU1BBQ0lORy5UQVJHRVRfTk9ERV9SQVRJTztcblxuICAgICAgICAvLyBcdTRGN0ZcdTc1MjhcdTY3MDBcdTU5MjdcdTUwM0NcdTc4NkVcdTRGRERcdThEQjNcdTU5MUZcdTdBN0FcdTk1RjRcdUZGMENcdTUyQTBcdTRFMEFcdTU3RkFcdTc4NDBcdTk1RjRcdThERERcbiAgICAgICAgY29uc3QgY2FsY3VsYXRlZFNwYWNpbmcgPSBNYXRoLm1heChzb3VyY2VCYXNlZFNwYWNpbmcsIHRhcmdldEJhc2VkU3BhY2luZykgKyBBREFQVElWRV9IT1JJWk9OVEFMX1NQQUNJTkcuQkFTRV9TUEFDSU5HO1xuXG4gICAgICAgIC8vIFx1OTY1MFx1NTIzNlx1NTcyOFx1NjcwMFx1NUMwRlx1NTQ4Q1x1NjcwMFx1NTkyN1x1OTVGNFx1OERERFx1NEU0Qlx1OTVGNFxuICAgICAgICBjb25zdCBmaW5hbFNwYWNpbmcgPSBNYXRoLm1heChcbiAgICAgICAgICAgIEFEQVBUSVZFX0hPUklaT05UQUxfU1BBQ0lORy5NSU5fU1BBQ0lORyxcbiAgICAgICAgICAgIE1hdGgubWluKEFEQVBUSVZFX0hPUklaT05UQUxfU1BBQ0lORy5NQVhfU1BBQ0lORywgY2FsY3VsYXRlZFNwYWNpbmcpXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGZpbmFsU3BhY2luZyArIEFEQVBUSVZFX0hPUklaT05UQUxfU1BBQ0lORy5TQUZFVFlfTUFSR0lOO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFx1ODNCN1x1NTNENlx1ODI4Mlx1NzBCOVx1NUMzQVx1NUJGOFx1RkYwOFx1N0I4MFx1NTMxNlx1NzI0OFx1NjcyQ1x1RkYwQ1x1NUI5RVx1OTY0NVx1NUU5NFx1OEJFNVx1NEVDRVx1NkUzMlx1NjdEM1x1NTY2OFx1ODNCN1x1NTNENlx1RkYwOVxuICAgICAqIEBwYXJhbSBub2RlIFx1ODI4Mlx1NzBCOVxuICAgICAqIEByZXR1cm5zIFx1ODI4Mlx1NzBCOVx1NUMzQVx1NUJGOFx1NEYzMFx1N0I5N1xuICAgICAqL1xuICAgIHByaXZhdGUgZXN0aW1hdGVOb2RlRGltZW5zaW9ucyhub2RlOiBNaW5kTWFwTm9kZSk6IE5vZGVEaW1lbnNpb25zIHtcbiAgICAgICAgLy8gXHU1N0ZBXHU3ODQwXHU1QjU3XHU3QjI2XHU1QkJEXHU1RUE2XHU0RjMwXHU3Qjk3XHVGRjA4XHU2ODM5XHU2MzZFXHU1QjU3XHU0RjUzXHU1OTI3XHU1QzBGXHVGRjA5XG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gMTQ7IC8vIFx1OUVEOFx1OEJBNFx1NUI1N1x1NEY1M1x1NTkyN1x1NUMwRlxuICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBmb250U2l6ZSAqIDAuNjsgLy8gXHU1QjU3XHU3QjI2XHU1QkJEXHU1RUE2XHU2QkQ0XHU0RjhCXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSAxNTsgLy8gXHU4MjgyXHU3MEI5XHU1MTg1XHU4RkI5XHU4REREXG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCgxMDAsIG5vZGUudGV4dC5sZW5ndGggKiBjaGFyV2lkdGggKyBwYWRkaW5nICogMik7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGZvbnRTaXplICsgcGFkZGluZyAqIDI7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgZm9udFNpemU6IGAke2ZvbnRTaXplfXB4YCxcbiAgICAgICAgICAgIHBhZGRpbmdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcdTRFM0FcdTcyMzZcdTgyODJcdTcwQjlcdTU0OENcdTYyNDBcdTY3MDlcdTVCNTBcdTgyODJcdTcwQjlcdThCQTFcdTdCOTdcdTdFREZcdTRFMDBcdTc2ODRcdTZDMzRcdTVFNzNcdTk1RjRcdThERERcbiAgICAgKiBAcGFyYW0gcGFyZW50Tm9kZSBcdTcyMzZcdTgyODJcdTcwQjlcbiAgICAgKiBAcGFyYW0gY2hpbGROb2RlcyBcdTVCNTBcdTgyODJcdTcwQjlcdTY1NzBcdTdFQzRcbiAgICAgKiBAcmV0dXJucyBcdTZDMzRcdTVFNzNcdTk1RjRcdThERERcdTUwM0NcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVIb3Jpem9udGFsU3BhY2luZ0ZvckZhbWlseShwYXJlbnROb2RlOiBNaW5kTWFwTm9kZSwgY2hpbGROb2RlczogTWluZE1hcE5vZGVbXSk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHBhcmVudERpbWVuc2lvbnMgPSB0aGlzLmVzdGltYXRlTm9kZURpbWVuc2lvbnMocGFyZW50Tm9kZSk7XG5cbiAgICAgICAgLy8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU1QjUwXHU4MjgyXHU3MEI5XHVGRjBDXHU4RkQ0XHU1NkRFXHU5RUQ4XHU4QkE0XHU5NUY0XHU4REREXG4gICAgICAgIGlmICghY2hpbGROb2RlcyB8fCBjaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlQWRhcHRpdmVIb3Jpem9udGFsU3BhY2luZyhwYXJlbnREaW1lbnNpb25zLndpZHRoLCAxMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gXHU4QkExXHU3Qjk3XHU2MjQwXHU2NzA5XHU1QjUwXHU4MjgyXHU3MEI5XHU3Njg0XHU2NzAwXHU1OTI3XHU1QkJEXHU1RUE2XG4gICAgICAgIGxldCBtYXhDaGlsZFdpZHRoID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZE5vZGUgb2YgY2hpbGROb2Rlcykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGREaW1lbnNpb25zID0gdGhpcy5lc3RpbWF0ZU5vZGVEaW1lbnNpb25zKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICBtYXhDaGlsZFdpZHRoID0gTWF0aC5tYXgobWF4Q2hpbGRXaWR0aCwgY2hpbGREaW1lbnNpb25zLndpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFx1NEY3Rlx1NzUyOFx1NjcwMFx1NTkyN1x1NUI1MFx1ODI4Mlx1NzBCOVx1NUJCRFx1NUVBNlx1OEJBMVx1N0I5N1x1OTVGNFx1OERERFxuICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVBZGFwdGl2ZUhvcml6b250YWxTcGFjaW5nKHBhcmVudERpbWVuc2lvbnMud2lkdGgsIG1heENoaWxkV2lkdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFx1NTIxQlx1NUVGQVx1ODFFQVx1NUI5QVx1NEU0OVx1NUUwM1x1NUM0MFx1NTFGRFx1NjU3MFx1RkYwQ1x1NEY3Rlx1NzUyOFx1OTAxMlx1NUY1Mlx1ODFFQVx1NUU5NVx1NTQxMVx1NEUwQVx1N0I5N1x1NkNENVxuICAgICAqIEBwYXJhbSByb290IEQzXHU1QzQyXHU2QjIxXHU3RUQzXHU2Nzg0XHU2ODM5XHU4MjgyXHU3MEI5XG4gICAgICogQHBhcmFtIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2sgXHU4M0I3XHU1M0Q2XHU4MjgyXHU3MEI5XHU1QzNBXHU1QkY4XHU3Njg0XHU1NkRFXHU4QzAzXHU1MUZEXHU2NTcwXG4gICAgICovXG4gICAgY3JlYXRlQ3VzdG9tVHJlZUxheW91dChcbiAgICAgICAgcm9vdDogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sXG4gICAgICAgIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2s6IChkZXB0aDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpID0+IE5vZGVEaW1lbnNpb25zXG4gICAgKTogdm9pZCB7XG4gICAgICAgIC8vIFx1NEY3Rlx1NzUyOFx1NjVCMFx1NzY4NFx1OTAxMlx1NUY1Mlx1NUUwM1x1NUM0MFx1N0I5N1x1NkNENVxuICAgICAgICB0aGlzLmNyZWF0ZVJlY3Vyc2l2ZVRyZWVMYXlvdXQocm9vdCwgbm9kZURpbWVuc2lvbnNDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXHU5MDEyXHU1RjUyXHU4MUVBXHU1RTk1XHU1NDExXHU0RTBBXHU1RTAzXHU1QzQwXHU3Qjk3XHU2Q0Q1XHVGRjA4XHU2ODM4XHU1RkMzXHU2NUI5XHU2Q0Q1XHVGRjA5XG4gICAgICpcbiAgICAgKiBcdTMwMTBcdTdCOTdcdTZDRDVcdTY5ODJcdThGRjBcdTMwMTFcbiAgICAgKlxuICAgICAqIFx1NUI5RVx1NzNCMFx1ODFFQVx1NUI5QVx1NEU0OVx1NzY4NFx1NEUyNFx1OTYzNlx1NkJCNVx1OTAxMlx1NUY1Mlx1NjgxMVx1NUY2Mlx1NUUwM1x1NUM0MFx1N0I5N1x1NkNENVx1RkYxQVxuICAgICAqXG4gICAgICogXHUyNTBDXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTEwXG4gICAgICogXHUyNTAyICBcdThGOTNcdTUxNjVcdUZGMUFcdTYyNDFcdTVFNzNcdTc2ODRcdTgyODJcdTcwQjlcdTY1NzBcdTYzNkVcdUZGMDhNYXJrZG93blx1ODlFM1x1Njc5MFx1N0VEM1x1Njc5Q1x1RkYwOSBcdTI1MDJcbiAgICAgKiBcdTI1MDIgIFx1OEY5M1x1NTFGQVx1RkYxQVx1NUUyNlx1NTc1MFx1NjgwN1x1NzY4NCBEMyBcdTVDNDJcdTdFQTdcdTdFRDNcdTY3ODQgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiBcdTI1MTRcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MThcbiAgICAgKlxuICAgICAqXG4gICAgICogXHUzMDEwXHU4QkU2XHU3RUM2XHU2RDQxXHU3QTBCXHUzMDExXG4gICAgICpcbiAgICAgKiBcdTZCNjVcdTlBQTQxXHVGRjFBXHU0RjdGXHU3NTI4IEQzLmhpZXJhcmNoeSgpIFx1NTIxQlx1NUVGQVx1NUM0Mlx1N0VBN1x1N0VEM1x1Njc4NFxuICAgICAqICAgLSBcdThGOTNcdTUxNjVcdUZGMUF7IHRleHQ6IFwicm9vdFwiLCBjaGlsZHJlbjogWy4uLl0gfVxuICAgICAqICAgLSBcdThGOTNcdTUxRkFcdUZGMUFcdTUxNzdcdTY3MDkgcGFyZW50LCBjaGlsZHJlbiwgZGVwdGggXHU3QjQ5XHU1QzVFXHU2MDI3XHU3Njg0XHU1QkY5XHU4QzYxXG4gICAgICpcbiAgICAgKiBcdTZCNjVcdTlBQTQyXHVGRjFBXHU5NjM2XHU2QkI1MSAtIFx1ODFFQVx1NUU5NVx1NTQxMVx1NEUwQVx1OEJBMVx1N0I5N1x1NUMzQVx1NUJGOFx1RkYwOGNhbGN1bGF0ZUFsbFN1YnRyZWVEaW1lbnNpb25zXHVGRjA5XG4gICAgICogICBcdTI1MENcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MTBcbiAgICAgKiAgIFx1MjUwMiAgZnJvbSBsZWF2ZXMgdG8gcm9vdCAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUwMiAgXHUyNTBDXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTEwICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUwMiAgXHUyNTAyIFx1NTNGNlx1NUI1MCBcdTI1MDIgc3VidHJlZUhlaWdodCA9IG5vZGVIZWlnaHQgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUwMiAgXHUyNTE0XHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTE4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUwMiAgICAgXHUyMTkzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUyNTAyXG4gICAgICogICBcdTI1MDIgIFx1MjUwQ1x1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUxMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUyNTAyXG4gICAgICogICBcdTI1MDIgIFx1MjUwMiBcdTcyMzZcdTgyODJcdTcwQjkgXHUyNTAyIHN1YnRyZWVIZWlnaHQgPSBzdW0oXHU1QjUwXHU4MjgyXHU3MEI5KSBcdTI1MDJcbiAgICAgKiAgIFx1MjUwMiAgXHUyNTE0XHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTE4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUxNFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUxOFxuICAgICAqICAgLSBcdTRGN0ZcdTc1MjggRDMuZWFjaEFmdGVyKCkgXHU4RkRCXHU4ODRDXHU1NDBFXHU1RThGXHU5MDREXHU1Mzg2XG4gICAgICogICAtIFx1NTE0OFx1OEJBMVx1N0I5N1x1NjI0MFx1NjcwOVx1NUI1MFx1ODI4Mlx1NzBCOVx1RkYwQ1x1NTE4RFx1OEJBMVx1N0I5N1x1NzIzNlx1ODI4Mlx1NzBCOVxuICAgICAqICAgLSBcdTZCQ0ZcdTRFMkFcdTgyODJcdTcwQjlcdTVCNThcdTUwQTggc3VidHJlZVdpZHRoIFx1NTQ4QyBzdWJ0cmVlSGVpZ2h0XG4gICAgICpcbiAgICAgKiBcdTZCNjVcdTlBQTQzXHVGRjFBXHU5NjM2XHU2QkI1MiAtIFx1ODFFQVx1OTg3Nlx1NTQxMVx1NEUwQlx1NTIwNlx1OTE0RFx1NEY0RFx1N0Y2RVx1RkYwOHNldE5vZGVQb3NpdGlvbnNUb3BEb3duXHVGRjA5XG4gICAgICogICBcdTI1MENcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MTBcbiAgICAgKiAgIFx1MjUwMiAgZnJvbSByb290IHRvIGxlYXZlcyAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUwMiAgXHUyNTBDXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTEwICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUwMiAgXHUyNTAyXHU2ODM5XHU4MjgyXHU3MEI5IFx1MjUwMiB4PTEwMCwgeT0xMDAgICAgICAgICAgICAgICAgXHUyNTAyXG4gICAgICogICBcdTI1MDIgIFx1MjUxNFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUxOCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUyNTAyXG4gICAgICogICBcdTI1MDIgICAgIFx1MjE5MyBcdTIxOTMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUyNTAyXG4gICAgICogICBcdTI1MDIgIFx1MjUwQ1x1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUyQ1x1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUxMCAgICAgICAgICAgICAgICAgICAgICAgIFx1MjUwMlxuICAgICAqICAgXHUyNTAyICBcdTI1MDJcdTVCNTAxICBcdTI1MDJcdTVCNTAyICBcdTI1MDIgIHlcdTU3NTBcdTY4MDdcdTc2RjhcdTU0MENcdUZGMDhcdTVERTZcdTVCRjlcdTlGNTBcdUZGMDkgICAgXHUyNTAyXG4gICAgICogICBcdTI1MDIgIFx1MjUwMng9NTAgXHUyNTAyeD0xNTBcdTI1MDIgIHhcdTU3NTBcdTY4MDdcdTRFMERcdTU0MENcdUZGMDhcdTU3ODJcdTc2RjRcdTUyMDZcdTVFMDNcdUZGMDkgIFx1MjUwMlxuICAgICAqICAgXHUyNTAyICBcdTI1MTRcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MzRcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MTggICAgICAgICAgICAgICAgICAgICAgICBcdTI1MDJcbiAgICAgKiAgIFx1MjUxNFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUxOFxuICAgICAqICAgLSBcdTRFQ0VcdTY4MzlcdTgyODJcdTcwQjlcdTVGMDBcdTU5Q0JcdTkwMTJcdTVGNTJcbiAgICAgKiAgIC0gXHU0RTNBXHU2QkNGXHU0RTJBXHU4MjgyXHU3MEI5XHU1MjA2XHU5MTREICh4LCB5KSBcdTU3NTBcdTY4MDdcbiAgICAgKiAgIC0gXHU3ODZFXHU0RkREXHU1QjUwXHU4MjgyXHU3MEI5XHU3RUM0XHU3NkY4XHU1QkY5XHU0RThFXHU3MjM2XHU4MjgyXHU3MEI5XHU1NzgyXHU3NkY0XHU1QzQ1XHU0RTJEXG4gICAgICogICAtIFx1NTE0NFx1NUYxRlx1ODI4Mlx1NzBCOVx1NURFNlx1NUJGOVx1OUY1MFx1RkYwOFx1NTE3MVx1NEVBQlx1NzZGOFx1NTQwQ1x1NzY4NCB5IFx1NTc1MFx1NjgwN1x1RkYwOVxuICAgICAqXG4gICAgICpcbiAgICAgKiBcdTMwMTBcdTU3NTBcdTY4MDdcdTdDRkJcdTdFREZcdTMwMTFcdTI2QTBcdUZFMEYgXHU5MUNEXHU4OTgxXG4gICAgICpcbiAgICAgKiBcdTVFMDNcdTVDNDBcdTU3NTBcdTY4MDdcdTdDRkJcdUZGMDhcdTc1MzFcdTZCNjRcdTY1QjlcdTZDRDVcdThCQTFcdTdCOTdcdUZGMDlcdUZGMUFcbiAgICAgKiAgIC0gbm9kZS54OiBcdTU3ODJcdTc2RjRcdTRGNERcdTdGNkVcdUZGMDhcdTRFMkRcdTVGQzNcdTcwQjlcdUZGMDlcbiAgICAgKiAgIC0gbm9kZS55OiBcdTZDMzRcdTVFNzNcdTRGNERcdTdGNkVcdUZGMDhcdTVERTZcdThGQjlcdTdGMThcdUZGMDlcbiAgICAgKlxuICAgICAqIFx1OEQ3N1x1NTlDQlx1NEY0RFx1N0Y2RVx1RkYxQVxuICAgICAqICAgLSBzdGFydFggPSAxMDA6IFx1NjgzOVx1ODI4Mlx1NzBCOVx1NzY4NFx1NTc4Mlx1NzZGNFx1NEY0RFx1N0Y2RVxuICAgICAqICAgLSBzdGFydFkgPSAxMDA6IFx1NjgzOVx1ODI4Mlx1NzBCOVx1NzY4NFx1NkMzNFx1NUU3M1x1NEY0RFx1N0Y2RVxuICAgICAqXG4gICAgICpcbiAgICAgKiBcdTMwMTBcdTY1RjZcdTk1RjRcdTU5MERcdTY3NDJcdTVFQTZcdTMwMTFcbiAgICAgKlxuICAgICAqIE8oTilcdUZGMENcdTUxNzZcdTRFMkQgTiBcdTY2MkZcdTgyODJcdTcwQjlcdTY1NzBcdTkxQ0ZcdUZGMUFcbiAgICAgKiAtIFx1OTYzNlx1NkJCNTE6IFx1NkJDRlx1NEUyQVx1ODI4Mlx1NzBCOVx1OEJCRlx1OTVFRVx1NEUwMFx1NkIyMVx1RkYwOFx1NTQwRVx1NUU4Rlx1OTA0RFx1NTM4Nlx1RkYwOVxuICAgICAqIC0gXHU5NjM2XHU2QkI1MjogXHU2QkNGXHU0RTJBXHU4MjgyXHU3MEI5XHU4QkJGXHU5NUVFXHU0RTAwXHU2QjIxXHVGRjA4XHU1MjREXHU1RThGXHU5MDREXHU1Mzg2XHVGRjA5XG4gICAgICogLSBcdTYwM0JcdThCQTE6IDJOIFx1NkIyMVx1OEJCRlx1OTVFRSA9IE8oTilcbiAgICAgKlxuICAgICAqXG4gICAgICogXHUzMDEwXHU0RjdGXHU3NTI4XHU3OTNBXHU0RjhCXHUzMDExXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgY2FsY3VsYXRvciA9IG5ldyBMYXlvdXRDYWxjdWxhdG9yKCk7XG4gICAgICpcbiAgICAgKiAvLyBcdTUxQzZcdTU5MDdcdTY1NzBcdTYzNkVcbiAgICAgKiBjb25zdCBmbGF0RGF0YSA9IHtcbiAgICAgKiAgICAgdGV4dDogXCJSb290XCIsXG4gICAgICogICAgIGNoaWxkcmVuOiBbXG4gICAgICogICAgICAgICB7IHRleHQ6IFwiQ2hpbGQgMVwiIH0sXG4gICAgICogICAgICAgICB7IHRleHQ6IFwiQ2hpbGQgMlwiIH1cbiAgICAgKiAgICAgXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvLyBcdTUyMUJcdTVFRkFcdTVDNDJcdTdFQTdcdTdFRDNcdTY3ODRcbiAgICAgKiBjb25zdCByb290ID0gZDMuaGllcmFyY2h5KGZsYXREYXRhKTtcbiAgICAgKlxuICAgICAqIC8vIFx1OEJBMVx1N0I5N1x1NUUwM1x1NUM0MFxuICAgICAqIGNhbGN1bGF0b3IuY3JlYXRlUmVjdXJzaXZlVHJlZUxheW91dChyb290LCBub2RlRGltZW5zaW9uc0ZuKTtcbiAgICAgKlxuICAgICAqIC8vIFx1NzNCMFx1NTcyOFx1NTNFRlx1NEVFNVx1OEJCRlx1OTVFRVx1RkYxQVxuICAgICAqIC8vIHJvb3QueCwgcm9vdC55OiBcdTY4MzlcdTgyODJcdTcwQjlcdTU3NTBcdTY4MDdcbiAgICAgKiAvLyByb290LmNoaWxkcmVuWzBdLngsIHJvb3QuY2hpbGRyZW5bMF0ueTogXHU1QjUwXHU4MjgyXHU3MEI5XHU1NzUwXHU2ODA3XG4gICAgICogLy8gcm9vdC5kYXRhLnN1YnRyZWVXaWR0aCwgcm9vdC5kYXRhLnN1YnRyZWVIZWlnaHQ6IFx1NUI1MFx1NjgxMVx1NUMzQVx1NUJGOFxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiBcdTMwMTBcdTZDRThcdTYxMEZcdTRFOEJcdTk4NzlcdTMwMTFcbiAgICAgKlxuICAgICAqIFx1MjZBMFx1RkUwRiBcdTZCNjRcdTY1QjlcdTZDRDVcdTRGMUFcdTRGRUVcdTY1Mzkgcm9vdCBcdTVCRjlcdThDNjFcdUZGMENcdTRFM0FcdTUxNzZcdTZERkJcdTUyQTAgeCwgeSBcdTU3NTBcdTY4MDdcbiAgICAgKiBcdTI2QTBcdUZFMEYgbm9kZURpbWVuc2lvbnNDYWxsYmFjayBcdTVGQzVcdTk4N0JcdThGRDRcdTU2REVcdTUxQzZcdTc4NkVcdTc2ODRcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcbiAgICAgKiBcdTI2QTBcdUZFMEYgXHU1OTFBXHU4ODRDXHU2NTg3XHU2NzJDXHU3Njg0XHU4MjgyXHU3MEI5XHU5QUQ4XHU1RUE2XHU0RjFBXHU1RjcxXHU1NENEXHU2NTc0XHU0RjUzXHU1RTAzXHU1QzQwXG4gICAgICogXHUyNkEwXHVGRTBGIFx1NTk4Mlx1Njc5Q1x1NUI1MFx1ODI4Mlx1NzBCOVx1NjAzQlx1OUFEOFx1NUVBNlx1OEQ4NVx1OEZDN1x1NzIzNlx1ODI4Mlx1NzBCOVx1OUFEOFx1NUVBNlx1RkYwQ1x1NzIzNlx1ODI4Mlx1NzBCOVx1NEYxQVx1NjI2OVx1NUM1NVxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm9vdCBEM1x1NUM0Mlx1NkIyMVx1N0VEM1x1Njc4NFx1NjgzOVx1ODI4Mlx1NzBCOVx1RkYwOFx1NzUzMSBkMy5oaWVyYXJjaHkoKSBcdTUyMUJcdTVFRkFcdUZGMDlcbiAgICAgKiBAcGFyYW0gbm9kZURpbWVuc2lvbnNDYWxsYmFjayBcdTgzQjdcdTUzRDZcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcdTc2ODRcdTU2REVcdThDMDNcdTUxRkRcdTY1NzBcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1NTNDMlx1NjU3MFx1RkYxQShkZXB0aDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdThGRDRcdTU2REVcdUZGMUF7IHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH1cbiAgICAgKiBAcmV0dXJucyB2b2lkXHVGRjA4XHU3NkY0XHU2M0E1XHU0RkVFXHU2NTM5IHJvb3QgXHU1QkY5XHU4QzYxXHVGRjA5XG4gICAgICpcbiAgICAgKiBAc2VlIGNhbGN1bGF0ZUFsbFN1YnRyZWVEaW1lbnNpb25zKCkgLSBcdTk2MzZcdTZCQjUxXHVGRjFBXHU1QzNBXHU1QkY4XHU4QkExXHU3Qjk3XG4gICAgICogQHNlZSBzZXROb2RlUG9zaXRpb25zVG9wRG93bigpIC0gXHU5NjM2XHU2QkI1Mlx1RkYxQVx1NEY0RFx1N0Y2RVx1NTIwNlx1OTE0RFxuICAgICAqIEBzZWUgZGlzdHJpYnV0ZUNoaWxkcmVuVmVydGljYWxTcGFjZSgpIC0gXHU1QjUwXHU4MjgyXHU3MEI5XHU1NzgyXHU3NkY0XHU1MjA2XHU1RTAzXG4gICAgICovXG4gICAgcHJpdmF0ZSBjcmVhdGVSZWN1cnNpdmVUcmVlTGF5b3V0KFxuICAgICAgICByb290OiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcbiAgICAgICAgbm9kZURpbWVuc2lvbnNDYWxsYmFjazogKGRlcHRoOiBudW1iZXIsIHRleHQ6IHN0cmluZykgPT4gTm9kZURpbWVuc2lvbnNcbiAgICApOiB2b2lkIHtcbiAgICAgICAgLy8gXHU5NjM2XHU2QkI1MVx1RkYxQVx1ODFFQVx1NUU5NVx1NTQxMVx1NEUwQVx1OEJBMVx1N0I5N1x1NjI0MFx1NjcwOVx1ODI4Mlx1NzBCOVx1NzY4NFx1NUI1MFx1NjgxMVx1NUMzQVx1NUJGOFxuICAgICAgICB0aGlzLmNhbGN1bGF0ZUFsbFN1YnRyZWVEaW1lbnNpb25zKHJvb3QsIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2spO1xuXG4gICAgICAgIC8vIFx1OTYzNlx1NkJCNTJcdUZGMUFcdTgxRUFcdTk4NzZcdTU0MTFcdTRFMEJcdThCQkVcdTdGNkVcdTgyODJcdTcwQjlcdTRGNERcdTdGNkVcbiAgICAgICAgLy8gXHU2ODM5XHU4MjgyXHU3MEI5XHU4RDc3XHU1OUNCXHU0RjREXHU3RjZFXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IDEwMDsgICAgICAgICAvLyBcdTU3ODJcdTc2RjRcdTRGNERcdTdGNkVcdUZGMDhcdTRFQ0VcdTk4NzZcdTkwRThcdTVGMDBcdTU5Q0JcdUZGMDlcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gMTAwOyAgICAgICAgIC8vIFx1NkMzNFx1NUU3M1x1NEY0RFx1N0Y2RVx1RkYwOFx1NEVDRVx1NURFNlx1NEZBN1x1NUYwMFx1NTlDQlx1RkYwOVxuXG4gICAgICAgIHRoaXMuc2V0Tm9kZVBvc2l0aW9uc1RvcERvd24ocm9vdCwgc3RhcnRYLCBzdGFydFksIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFx1ODFFQVx1NUU5NVx1NTQxMVx1NEUwQVx1OEJBMVx1N0I5N1x1NjI0MFx1NjcwOVx1ODI4Mlx1NzBCOVx1NzY4NFx1NUI1MFx1NjgxMVx1NUMzQVx1NUJGOFx1RkYwOFx1NTQwRVx1NUU4Rlx1OTA0RFx1NTM4Nlx1RkYwOVxuICAgICAqIFx1NEY3Rlx1NzUyOCBEMyBcdTc2ODQgZWFjaEFmdGVyIFx1NjVCOVx1NkNENVx1Nzg2RVx1NEZERFx1NTE0OFx1NTkwNFx1NzQwNlx1NUI1MFx1ODI4Mlx1NzBCOVx1NTE4RFx1NTkwNFx1NzQwNlx1NzIzNlx1ODI4Mlx1NzBCOVxuICAgICAqIEBwYXJhbSByb290IFx1NjgzOVx1ODI4Mlx1NzBCOVxuICAgICAqIEBwYXJhbSBub2RlRGltZW5zaW9uc0NhbGxiYWNrIFx1ODNCN1x1NTNENlx1ODI4Mlx1NzBCOVx1NUMzQVx1NUJGOFx1NzY4NFx1NTZERVx1OEMwM1x1NTFGRFx1NjU3MFxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY3VsYXRlQWxsU3VidHJlZURpbWVuc2lvbnMoXG4gICAgICAgIHJvb3Q6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuICAgICAgICBub2RlRGltZW5zaW9uc0NhbGxiYWNrOiAoZGVwdGg6IG51bWJlciwgdGV4dDogc3RyaW5nKSA9PiBOb2RlRGltZW5zaW9uc1xuICAgICk6IHZvaWQge1xuICAgICAgICByb290LmVhY2hBZnRlcihub2RlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpbXMgPSBub2RlRGltZW5zaW9uc0NhbGxiYWNrKG5vZGUuZGVwdGgsIG5vZGUuZGF0YS50ZXh0KTtcblxuICAgICAgICAgICAgLy8gXHU1QjU4XHU1MEE4XHU4MjgyXHU3MEI5XHU4MUVBXHU4RUFCXHU1QzNBXHU1QkY4XHU1MjMwXHU2NTcwXHU2MzZFXHU0RTJEXG4gICAgICAgICAgICBub2RlLmRhdGEubm9kZVdpZHRoID0gZGltcy53aWR0aDtcbiAgICAgICAgICAgIG5vZGUuZGF0YS5ub2RlSGVpZ2h0ID0gZGltcy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmICghbm9kZS5jaGlsZHJlbiB8fCBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFx1NTNGNlx1NUI1MFx1ODI4Mlx1NzBCOVx1RkYxQVx1NUI1MFx1NjgxMVx1NUMzQVx1NUJGOCA9IFx1ODI4Mlx1NzBCOVx1ODFFQVx1OEVBQlx1NUMzQVx1NUJGOFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YS5zdWJ0cmVlV2lkdGggPSBkaW1zLndpZHRoO1xuICAgICAgICAgICAgICAgIG5vZGUuZGF0YS5zdWJ0cmVlSGVpZ2h0ID0gZGltcy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFx1NTIwNlx1NjUyRlx1ODI4Mlx1NzBCOVx1RkYxQVx1ODA1QVx1NTQwOFx1NUI1MFx1ODI4Mlx1NzBCOVx1NUMzQVx1NUJGOFxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU3VidHJlZXMgPSBub2RlLmNoaWxkcmVuLm1hcChjID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjLmRhdGEuc3VidHJlZVdpZHRoIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogYy5kYXRhLnN1YnRyZWVIZWlnaHQgfHwgMFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIC8vIFx1NUI1MFx1NjgxMVx1NUJCRFx1NUVBNiA9IG1heChcdTgxRUFcdThFQUJcdTVCQkRcdTVFQTYsIFx1NjcwMFx1NUJCRFx1NzY4NFx1NUI1MFx1NjgxMSlcbiAgICAgICAgICAgICAgICAvLyBcdTU2RTBcdTRFM0FcdTVCNTBcdTgyODJcdTcwQjlcdTY2MkZcdTU3ODJcdTc2RjRcdTYzOTJcdTUyMTdcdTc2ODRcdUZGMENcdTYyNDBcdTRFRTVcdTVCQkRcdTVFQTZcdTUzRDZcdTY3MDBcdTU5MjdcdTUwM0NcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhDaGlsZFdpZHRoID0gTWF0aC5tYXgoLi4uY2hpbGRTdWJ0cmVlcy5tYXAocyA9PiBzLndpZHRoKSk7XG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhLnN1YnRyZWVXaWR0aCA9IE1hdGgubWF4KGRpbXMud2lkdGgsIG1heENoaWxkV2lkdGgpO1xuXG4gICAgICAgICAgICAgICAgLy8gXHU1QjUwXHU2ODExXHU5QUQ4XHU1RUE2ID0gXHU2MjQwXHU2NzA5XHU1QjUwXHU4MjgyXHU3MEI5XHU5QUQ4XHU1RUE2XHU0RTRCXHU1NDhDICsgXHU5NUY0XHU4REREXG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGljYWxHYXAgPSAxMDsgLy8gXHU1QjUwXHU4MjgyXHU3MEI5XHU0RTRCXHU5NUY0XHU3Njg0XHU1NzgyXHU3NkY0XHU5NUY0XHU4REREXHVGRjA4XHU0RTBFZGlzdHJpYnV0ZUNoaWxkcmVuVmVydGljYWxTcGFjZVx1NEUwMFx1ODFGNFx1RkYwOVxuICAgICAgICAgICAgICAgIGxldCB0b3RhbEhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxIZWlnaHQgKz0gY2hpbGQuZGF0YS5zdWJ0cmVlSGVpZ2h0IHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxIZWlnaHQgKz0gdmVydGljYWxHYXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YS5zdWJ0cmVlSGVpZ2h0ID0gTWF0aC5tYXgoZGltcy5oZWlnaHQsIHRvdGFsSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXHU4MUVBXHU5ODc2XHU1NDExXHU0RTBCXHU4QkJFXHU3RjZFXHU4MjgyXHU3MEI5XHU0RjREXHU3RjZFXHVGRjA4XHU1MjREXHU1RThGXHU5MDREXHU1Mzg2XHVGRjA5XG4gICAgICogQHBhcmFtIG5vZGUgXHU1RjUzXHU1MjREXHU4MjgyXHU3MEI5XG4gICAgICogQHBhcmFtIHggXHU4MjgyXHU3MEI5WFx1NTc1MFx1NjgwN1x1RkYwOFx1NTc4Mlx1NzZGNFx1NEY0RFx1N0Y2RVx1RkYwOVxuICAgICAqIEBwYXJhbSB5IFx1ODI4Mlx1NzBCOVlcdTU3NTBcdTY4MDdcdUZGMDhcdTZDMzRcdTVFNzNcdTRGNERcdTdGNkVcdUZGMDlcbiAgICAgKiBAcGFyYW0gbm9kZURpbWVuc2lvbnNDYWxsYmFjayBcdTgzQjdcdTUzRDZcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcdTc2ODRcdTU2REVcdThDMDNcdTUxRkRcdTY1NzBcbiAgICAgKi9cbiAgICBwcml2YXRlIHNldE5vZGVQb3NpdGlvbnNUb3BEb3duKFxuICAgICAgICBub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcbiAgICAgICAgeDogbnVtYmVyLFxuICAgICAgICB5OiBudW1iZXIsXG4gICAgICAgIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2s6IChkZXB0aDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpID0+IE5vZGVEaW1lbnNpb25zXG4gICAgKTogdm9pZCB7XG4gICAgICAgIC8vIFx1OEJCRVx1N0Y2RVx1NUY1M1x1NTI0RFx1ODI4Mlx1NzBCOVx1NEY0RFx1N0Y2RVxuICAgICAgICBub2RlLnggPSB4O1xuICAgICAgICBub2RlLnkgPSB5O1xuXG4gICAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NkNBMVx1NjcwOVx1NUI1MFx1ODI4Mlx1NzBCOVx1RkYwQ1x1NzZGNFx1NjNBNVx1OEZENFx1NTZERVxuICAgICAgICBpZiAoIW5vZGUuY2hpbGRyZW4gfHwgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFx1NEUzQVx1NUI1MFx1ODI4Mlx1NzBCOVx1NTIwNlx1OTE0RFx1NTc4Mlx1NzZGNFx1N0E3QVx1OTVGNFxuICAgICAgICB0aGlzLmRpc3RyaWJ1dGVDaGlsZHJlblZlcnRpY2FsU3BhY2Uobm9kZSwgbm9kZURpbWVuc2lvbnNDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXHU0RTNBXHU1QjUwXHU4MjgyXHU3MEI5XHU1MjA2XHU5MTREXHU1NzgyXHU3NkY0XHU3QTdBXHU5NUY0XHVGRjA4XHU1NzgyXHU3NkY0XHU1QzQ1XHU0RTJEXHU1QkY5XHU5RjUwXHVGRjA5XG4gICAgICogQHBhcmFtIHBhcmVudE5vZGUgXHU3MjM2XHU4MjgyXHU3MEI5XG4gICAgICogQHBhcmFtIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2sgXHU4M0I3XHU1M0Q2XHU4MjgyXHU3MEI5XHU1QzNBXHU1QkY4XHU3Njg0XHU1NkRFXHU4QzAzXHU1MUZEXHU2NTcwXG4gICAgICovXG4gICAgcHJpdmF0ZSBkaXN0cmlidXRlQ2hpbGRyZW5WZXJ0aWNhbFNwYWNlKFxuICAgICAgICBwYXJlbnROb2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcbiAgICAgICAgbm9kZURpbWVuc2lvbnNDYWxsYmFjazogKGRlcHRoOiBudW1iZXIsIHRleHQ6IHN0cmluZykgPT4gTm9kZURpbWVuc2lvbnNcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnROb2RlLmNoaWxkcmVuO1xuICAgICAgICBpZiAoIWNoaWxkcmVuIHx8IGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1NkMzNFx1NUU3M1x1OTVGNFx1OERERFx1RkYwOFx1NTdGQVx1NEU4RVx1NkRGMVx1NUVBNlx1RkYwOVxuICAgICAgICAvLyBcdTdCMkMwXHU1QzQyXHVGRjA4XHU2ODM5XHU1MjMwXHU3QjJDXHU0RTAwXHU1QzQyXHVGRjA5XHU0RjdGXHU3NTI4ODBweFx1OTVGNFx1OERERFx1RkYwQ1x1NTE3Nlx1NEVENlx1NUM0Mlx1N0VERlx1NEUwMFx1NEY3Rlx1NzUyODMwcHhcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbFNwYWNpbmcgPSAocGFyZW50Tm9kZS5kZXB0aCA9PT0gMCkgPyA4MCA6IDMwO1xuXG4gICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1NjI0MFx1NjcwOVx1NUI1MFx1ODI4Mlx1NzBCOVx1NzY4NFx1NjAzQlx1OUFEOFx1NUVBNlxuICAgICAgICBjb25zdCB2ZXJ0aWNhbEdhcCA9IDEwOyAvLyBcdTVCNTBcdTgyODJcdTcwQjlcdTRFNEJcdTk1RjRcdTc2ODRcdTU3ODJcdTc2RjRcdTk1RjRcdThERERcdUZGMDhcdTY2RjRcdTdEMjdcdTUxRDFcdUZGMDlcbiAgICAgICAgbGV0IHRvdGFsQ2hpbGRyZW5IZWlnaHQgPSAwO1xuXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRIZWlnaHQgPSBjaGlsZC5kYXRhLnN1YnRyZWVIZWlnaHQgfHwgMDtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW5IZWlnaHQgKz0gY2hpbGRIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCBjaGlsZHJlbi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdG90YWxDaGlsZHJlbkhlaWdodCArPSB2ZXJ0aWNhbEdhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gXHU4QkExXHU3Qjk3XHU4RDc3XHU1OUNCWVx1NEY0RFx1N0Y2RVx1RkYwOFx1NEY3Rlx1NUI1MFx1ODI4Mlx1NzBCOVx1N0VDNFx1NzZGOFx1NUJGOVx1NEU4RVx1NzIzNlx1ODI4Mlx1NzBCOVx1NTc4Mlx1NzZGNFx1NUM0NVx1NEUyRFx1RkYwOVxuICAgICAgICBsZXQgY3VycmVudFkgPSBwYXJlbnROb2RlLnggLSB0b3RhbENoaWxkcmVuSGVpZ2h0IC8gMjtcblxuICAgICAgICAvLyBcdTRFM0FcdTZCQ0ZcdTRFMkFcdTVCNTBcdTgyODJcdTcwQjlcdThCQkVcdTdGNkVcdTRGNERcdTdGNkVcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAvLyBjaGlsZFggXHU2NjJGXHU1NzgyXHU3NkY0XHU0RjREXHU3RjZFXHVGRjBDY2hpbGRZIFx1NjYyRlx1NkMzNFx1NUU3M1x1NEY0RFx1N0Y2RVxuICAgICAgICAgICAgY29uc3QgY2hpbGRYID0gY3VycmVudFkgKyAoY2hpbGQuZGF0YS5zdWJ0cmVlSGVpZ2h0IHx8IDApIC8gMjtcbiAgICAgICAgICAgIC8vIGNoaWxkWVx1RkYwOFx1NkMzNFx1NUU3M1x1NEY0RFx1N0Y2RVx1RkYwOT0gXHU3MjM2XHU4MjgyXHU3MEI5XHU3Njg0XHU1M0YzXHU4RkI5XHU3RjE4ICsgXHU2QzM0XHU1RTczXHU5NUY0XHU4REREXG4gICAgICAgICAgICAvLyBcdThGRDlcdTY4MzdcdTc4NkVcdTRGRERcdTU0MENcdTRFMDBcdTcyMzZcdTgyODJcdTcwQjlcdTc2ODRcdTYyNDBcdTY3MDlcdTVCNTBcdTgyODJcdTcwQjlcdTVERTZcdThGQjlcdTdGMThcdTVCRjlcdTlGNTBcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkWSA9IHBhcmVudE5vZGUueSArIChwYXJlbnROb2RlLmRhdGEubm9kZVdpZHRoIHx8IDApICsgaG9yaXpvbnRhbFNwYWNpbmc7XG5cbiAgICAgICAgICAgIC8vIFx1OTAxMlx1NUY1Mlx1OEJCRVx1N0Y2RVx1NUI1MFx1ODI4Mlx1NzBCOVx1NzY4NFx1NEY0RFx1N0Y2RVxuICAgICAgICAgICAgdGhpcy5zZXROb2RlUG9zaXRpb25zVG9wRG93bihjaGlsZCwgY2hpbGRYLCBjaGlsZFksIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2spO1xuXG4gICAgICAgICAgICAvLyBcdTY2RjRcdTY1QjBcdTVGNTNcdTUyNERZXHU0RjREXHU3RjZFXHVGRjA4XHU1NzgyXHU3NkY0XHU2NUI5XHU1NDExXHVGRjA5XG4gICAgICAgICAgICBjdXJyZW50WSArPSAoY2hpbGQuZGF0YS5zdWJ0cmVlSGVpZ2h0IHx8IDApICsgdmVydGljYWxHYXA7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFx1OEJBMVx1N0I5N1x1ODFFQVx1NUI5QVx1NEU0OVx1NkMzNFx1NUU3M1x1NEY0RFx1N0Y2RVx1RkYwQ1x1Nzg2RVx1NEZERFx1NTQwQ1x1NzIzNlx1ODI4Mlx1NzBCOVx1NUI1MFx1ODI4Mlx1NzBCOVx1NzY4NFx1NURFNlx1OEZCOVx1N0YxOFx1NUI4Q1x1NTE2OFx1NUJGOVx1OUY1MFxuICAgICAqIEBwYXJhbSByb290IFx1NjgzOVx1ODI4Mlx1NzBCOVxuICAgICAqIEBwYXJhbSBub2RlRGltZW5zaW9uc0NhbGxiYWNrIFx1ODNCN1x1NTNENlx1ODI4Mlx1NzBCOVx1NUMzQVx1NUJGOFx1NzY4NFx1NTZERVx1OEMwM1x1NTFGRFx1NjU3MFxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY3VsYXRlTGVmdEFsaWduZWRIb3Jpem9udGFsUG9zaXRpb25zKFxuICAgICAgICByb290OiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcbiAgICAgICAgbm9kZURpbWVuc2lvbnNDYWxsYmFjazogKGRlcHRoOiBudW1iZXIsIHRleHQ6IHN0cmluZykgPT4gTm9kZURpbWVuc2lvbnNcbiAgICApOiB2b2lkIHtcbiAgICAgICAgLy8gXHU2NTM2XHU5NkM2XHU2MjQwXHU2NzA5XHU4MjgyXHU3MEI5XHVGRjBDXHU2MzA5XHU2REYxXHU1RUE2XHU1NDhDXHU3MjM2XHU4MjgyXHU3MEI5XHU1MjA2XHU3RUM0XG4gICAgICAgIGNvbnN0IG5vZGVHcm91cHMgPSB0aGlzLmdyb3VwTm9kZXNCeVBhcmVudChyb290KTtcblxuICAgICAgICAvLyBcdThCQkVcdTdGNkVcdTY4MzlcdTgyODJcdTcwQjlcdTRGNERcdTdGNkVcbiAgICAgICAgcm9vdC55ID0gNTA7IC8vIFx1NjgzOVx1ODI4Mlx1NzBCOVx1NTZGQVx1NUI5QVx1NURFNlx1OEZCOVx1OERERFxuXG4gICAgICAgIC8vIFx1NjMwOVx1NUM0Mlx1N0VBN1x1NTkwNFx1NzQwNlx1NkJDRlx1NEUyQVx1NzIzNlx1ODI4Mlx1NzBCOVx1NzY4NFx1NUI1MFx1ODI4Mlx1NzBCOVxuICAgICAgICB0aGlzLnByb2Nlc3NOb2RlR3JvdXBzQnlMZXZlbChub2RlR3JvdXBzLCBub2RlRGltZW5zaW9uc0NhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcdTYzMDlcdTcyMzZcdTgyODJcdTcwQjlcdTUyMDZcdTdFQzRcdTYyNDBcdTY3MDlcdTgyODJcdTcwQjlcbiAgICAgKiBAcGFyYW0gcm9vdCBcdTY4MzlcdTgyODJcdTcwQjlcbiAgICAgKiBAcmV0dXJucyBcdTYzMDlcdTcyMzZcdTgyODJcdTcwQjlJRFx1NTIwNlx1N0VDNFx1NzY4NFx1ODI4Mlx1NzBCOVx1NjYyMFx1NUMwNFxuICAgICAqL1xuICAgIHByaXZhdGUgZ3JvdXBOb2Rlc0J5UGFyZW50KHJvb3Q6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KTogTWFwPHN0cmluZywgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT5bXT4ge1xuICAgICAgICBjb25zdCBncm91cHMgPSBuZXcgTWFwPHN0cmluZywgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT5bXT4oKTtcblxuICAgICAgICAvLyBcdTkwNERcdTUzODZcdTYyNDBcdTY3MDlcdTgyODJcdTcwQjlcdUZGMENcdTYzMDlcdTcyMzZcdTgyODJcdTcwQjlcdTUyMDZcdTdFQzRcbiAgICAgICAgcm9vdC5lYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUuZGVwdGggPiAwICYmIG5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SWQgPSBub2RlLnBhcmVudC5kYXRhLnRleHQ7IC8vIFx1NEY3Rlx1NzUyOFx1NzIzNlx1ODI4Mlx1NzBCOVx1NjU4N1x1NjcyQ1x1NEY1Q1x1NEUzQVx1NTUyRlx1NEUwMFx1NjgwN1x1OEJDNlxuICAgICAgICAgICAgICAgIGlmICghZ3JvdXBzLmhhcyhwYXJlbnRJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBzLnNldChwYXJlbnRJZCwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IGdyb3Vwcy5nZXQocGFyZW50SWQpO1xuICAgICAgICAgICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcdTYzMDlcdTVDNDJcdTdFQTdcdTU5MDRcdTc0MDZcdTgyODJcdTcwQjlcdTdFQzRcdUZGMENcdTc4NkVcdTRGRERcdTU0MENcdTcyMzZcdTgyODJcdTcwQjlcdTVCNTBcdTgyODJcdTcwQjlcdTVERTZcdThGQjlcdTdGMThcdTVCRjlcdTlGNTBcbiAgICAgKiBAcGFyYW0gbm9kZUdyb3VwcyBcdTYzMDlcdTcyMzZcdTgyODJcdTcwQjlcdTUyMDZcdTdFQzRcdTc2ODRcdTgyODJcdTcwQjlcbiAgICAgKiBAcGFyYW0gbm9kZURpbWVuc2lvbnNDYWxsYmFjayBcdTgzQjdcdTUzRDZcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcdTc2ODRcdTU2REVcdThDMDNcdTUxRkRcdTY1NzBcbiAgICAgKi9cbiAgICBwcml2YXRlIHByb2Nlc3NOb2RlR3JvdXBzQnlMZXZlbChcbiAgICAgICAgbm9kZUdyb3VwczogTWFwPHN0cmluZywgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT5bXT4sXG4gICAgICAgIG5vZGVEaW1lbnNpb25zQ2FsbGJhY2s6IChkZXB0aDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpID0+IE5vZGVEaW1lbnNpb25zXG4gICAgKTogdm9pZCB7XG4gICAgICAgIC8vIFx1NEUzQVx1NkJDRlx1NEUyQVx1NzIzNlx1ODI4Mlx1NzBCOVx1N0VDNFx1N0VERlx1NEUwMFx1OEJCRVx1N0Y2RVx1NUI1MFx1ODI4Mlx1NzBCOVx1NEY0RFx1N0Y2RVxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZXMgb2Ygbm9kZUdyb3Vwcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gXHU4M0I3XHU1M0Q2XHU3QjJDXHU0RTAwXHU0RTJBXHU1QjUwXHU4MjgyXHU3MEI5XHU2NzY1XHU4M0I3XHU1M0Q2XHU3MjM2XHU4MjgyXHU3MEI5XHU1RjE1XHU3NTI4XG4gICAgICAgICAgICBjb25zdCBmaXJzdENoaWxkID0gY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgIGlmICghZmlyc3RDaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSBmaXJzdENoaWxkLnBhcmVudDtcblxuICAgICAgICAgICAgLy8gXHU4M0I3XHU1M0Q2XHU3MjM2XHU4MjgyXHU3MEI5XHU1QzNBXHU1QkY4XHU1NDhDXHU0RjREXHU3RjZFXG4gICAgICAgICAgICBjb25zdCBwYXJlbnREaW1lbnNpb25zID0gbm9kZURpbWVuc2lvbnNDYWxsYmFjayhwYXJlbnROb2RlLmRlcHRoLCBwYXJlbnROb2RlLmRhdGEudGV4dCk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRSaWdodEVkZ2UgPSBwYXJlbnROb2RlLnkgKyBwYXJlbnREaW1lbnNpb25zLndpZHRoO1xuXG4gICAgICAgICAgICAvLyBcdThCQTFcdTdCOTdcdTYyNDBcdTY3MDlcdTVCNTBcdTgyODJcdTcwQjlcdTc2ODRcdTY3MDBcdTU5MjdcdTVCQkRcdTVFQTZcdUZGMDhcdTc1MjhcdTRFOEVcdTk1RjRcdThERERcdThCQTFcdTdCOTdcdUZGMDlcbiAgICAgICAgICAgIGxldCBtYXhDaGlsZFdpZHRoID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGROb2Rlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRGltZW5zaW9ucyA9IG5vZGVEaW1lbnNpb25zQ2FsbGJhY2soY2hpbGQuZGVwdGgsIGNoaWxkLmRhdGEudGV4dCk7XG4gICAgICAgICAgICAgICAgbWF4Q2hpbGRXaWR0aCA9IE1hdGgubWF4KG1heENoaWxkV2lkdGgsIGNoaWxkRGltZW5zaW9ucy53aWR0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1ODFFQVx1OTAwMlx1NUU5NFx1OTVGNFx1OERERFxuICAgICAgICAgICAgY29uc3QgYWRhcHRpdmVTcGFjaW5nID0gdGhpcy5jYWxjdWxhdGVBZGFwdGl2ZUhvcml6b250YWxTcGFjaW5nKFxuICAgICAgICAgICAgICAgIHBhcmVudERpbWVuc2lvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgbWF4Q2hpbGRXaWR0aFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gXHU4QkExXHU3Qjk3XHU3RURGXHU0RTAwXHU3Njg0XHU1REU2XHU4RkI5XHU3RjE4XHU0RjREXHU3RjZFXHVGRjA4XHU2MjQwXHU2NzA5XHU1QjUwXHU4MjgyXHU3MEI5XHU3Njg0XHU1REU2XHU4RkI5XHU3RjE4XHU1QkY5XHU5RjUwXHVGRjA5XG4gICAgICAgICAgICBjb25zdCB1bmlmaWVkTGVmdEVkZ2UgPSBwYXJlbnRSaWdodEVkZ2UgKyBhZGFwdGl2ZVNwYWNpbmc7XG5cbiAgICAgICAgICAgIC8vIFx1NEUzQVx1NjI0MFx1NjcwOVx1NUI1MFx1ODI4Mlx1NzBCOVx1OEJCRVx1N0Y2RVx1NzZGOFx1NTQwQ1x1NzY4NFx1NURFNlx1OEZCOVx1N0YxOFx1NEY0RFx1N0Y2RVxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQueSA9IHVuaWZpZWRMZWZ0RWRnZTsgLy8gXHUyNzA1IFx1NURFNlx1OEZCOVx1N0YxOFx1NUJGOVx1OUY1MFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gXHU5MDEyXHU1RjUyXHU1OTA0XHU3NDA2XHU0RTBCXHU0RTAwXHU1QzQyXHU3RUE3XHU3Njg0XHU4MjgyXHU3MEI5XHU3RUM0XG4gICAgICAgIHRoaXMucHJvY2Vzc05leHRMZXZlbEdyb3Vwcyhub2RlR3JvdXBzLCBub2RlRGltZW5zaW9uc0NhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcdTU5MDRcdTc0MDZcdTRFMEJcdTRFMDBcdTVDNDJcdTdFQTdcdTc2ODRcdTgyODJcdTcwQjlcdTdFQzRcbiAgICAgKiBAcGFyYW0gbm9kZUdyb3VwcyBcdTVGNTNcdTUyNERcdTVDNDJcdTdFQTdcdTc2ODRcdTgyODJcdTcwQjlcdTdFQzRcbiAgICAgKiBAcGFyYW0gbm9kZURpbWVuc2lvbnNDYWxsYmFjayBcdTgzQjdcdTUzRDZcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcdTc2ODRcdTU2REVcdThDMDNcdTUxRkRcdTY1NzBcbiAgICAgKi9cbiAgICBwcml2YXRlIHByb2Nlc3NOZXh0TGV2ZWxHcm91cHMoXG4gICAgICAgIG5vZGVHcm91cHM6IE1hcDxzdHJpbmcsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+W10+LFxuICAgICAgICBub2RlRGltZW5zaW9uc0NhbGxiYWNrOiAoZGVwdGg6IG51bWJlciwgdGV4dDogc3RyaW5nKSA9PiBOb2RlRGltZW5zaW9uc1xuICAgICk6IHZvaWQge1xuICAgICAgICAvLyBcdTY1MzZcdTk2QzZcdTYyNDBcdTY3MDlcdTRFMEJcdTRFMDBcdTVDNDJcdTdFQTdcdTc2ODRcdTVCNTBcdTgyODJcdTcwQjlcbiAgICAgICAgY29uc3QgbmV4dExldmVsR3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+W10+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZE5vZGVzIG9mIG5vZGVHcm91cHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGROb2Rlcykge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5jaGlsZHJlbiAmJiBjaGlsZC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkVGV4dCA9IGNoaWxkLmRhdGEudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0TGV2ZWxHcm91cHMuaGFzKGNoaWxkVGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRMZXZlbEdyb3Vwcy5zZXQoY2hpbGRUZXh0LCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXh0TGV2ZWxHcm91cHMuZ2V0KGNoaWxkVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAucHVzaCguLi5jaGlsZC5jaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBcdTU5ODJcdTY3OUNcdThGRDhcdTY3MDlcdTRFMEJcdTRFMDBcdTVDNDJcdTdFQTdcdUZGMENcdTdFRTdcdTdFRURcdTU5MDRcdTc0MDZcbiAgICAgICAgaWYgKG5leHRMZXZlbEdyb3Vwcy5zaXplID4gMCkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzTm9kZUdyb3Vwc0J5TGV2ZWwobmV4dExldmVsR3JvdXBzLCBub2RlRGltZW5zaW9uc0NhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0cmVlIGRpbWVuc2lvbnNcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVUcmVlRGltZW5zaW9ucyhyb290OiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPik6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB7XG4gICAgICAgIGxldCBtaW5YID0gSW5maW5pdHksIG1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIGxldCBtaW5ZID0gSW5maW5pdHksIG1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgcm9vdC5lYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUueCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIG5vZGUueCk7XG4gICAgICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIG5vZGUueCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS55ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgbm9kZS55KTtcbiAgICAgICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgbm9kZS55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBtYXhYIC0gbWluWCB8fCB0aGlzLmNvbmZpZy50cmVlV2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IG1heFkgLSBtaW5ZIHx8IHRoaXMuY29uZmlnLnRyZWVIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IG9mZnNldHMgdG8gY2VudGVyIHRoZSB0cmVlXG4gICAgICovXG4gICAgY2VudGVyVHJlZShyb290OiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgY2FudmFzV2lkdGg6IG51bWJlciwgY2FudmFzSGVpZ2h0OiBudW1iZXIpOiB7IG9mZnNldFg6IG51bWJlcjsgb2Zmc2V0WTogbnVtYmVyIH0ge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuY2FsY3VsYXRlVHJlZURpbWVuc2lvbnMocm9vdCk7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IChjYW52YXNXaWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSAoY2FudmFzSGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG5cbiAgICAgICAgLy8gQXBwbHkgb2Zmc2V0cyB0byBhbGwgbm9kZXNcbiAgICAgICAgcm9vdC5lYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUueCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbm9kZS54ICs9IG9mZnNldFg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS55ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBub2RlLnkgKz0gb2Zmc2V0WTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHsgb2Zmc2V0WCwgb2Zmc2V0WSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBsYXlvdXQgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIGdldENvbmZpZygpOiBMYXlvdXRDb25maWcge1xuICAgICAgICByZXR1cm4geyAuLi50aGlzLmNvbmZpZyB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBsYXlvdXQgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIHVwZGF0ZUNvbmZpZyhuZXdDb25maWc6IFBhcnRpYWw8TGF5b3V0Q29uZmlnPik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHsgLi4udGhpcy5jb25maWcsIC4uLm5ld0NvbmZpZyB9O1xuICAgIH1cbn0iLCAiLyoqXG4gKiBcdTU3NTBcdTY4MDdcdTdDRkJcdTdFREZcdThGNkNcdTYzNjJcdTVERTVcdTUxNzdcbiAqXG4gKiBcdTMwMTBcdTc2RUVcdTc2ODRcdTMwMTFcbiAqXG4gKiBcdTY3MkNcdTk4NzlcdTc2RUVcdTRGN0ZcdTc1MjhcdTZERjdcdTU0MDhcdTU3NTBcdTY4MDdcdTdDRkJcdTdFREZcdUZGMDhcdThCRTZcdTg5QzFcdTdDN0JcdTY1ODdcdTY4NjNcdUZGMDlcdUZGMENcdThCRTVcdTVERTVcdTUxNzdcdTYzRDBcdTRGOUJcdUZGMUFcbiAqIDEuIFx1NkUwNVx1NjY3MFx1NzY4NFx1NTc1MFx1NjgwN1x1OEY2Q1x1NjM2Mlx1NjVCOVx1NkNENVxuICogMi4gXHU5MDdGXHU1MTREXHU3NkY0XHU2M0E1XHU2NENEXHU0RjVDXHU1NzUwXHU2ODA3XHU1QkZDXHU4MUY0XHU3Njg0XHU2REY3XHU0RTcxXG4gKiAzLiBcdTgxRUFcdTY1ODdcdTY4NjNcdTUzMTZcdTc2ODRBUElcdThCQkVcdThCQTFcbiAqIDQuIFx1NEZCRlx1NEU4RVx1NkQ0Qlx1OEJENVx1NTQ4Q1x1OEMwM1x1OEJENVxuICpcbiAqIFx1MzAxMFx1NkRGN1x1NTQwOFx1NTc1MFx1NjgwN1x1N0NGQlx1N0VERlx1MzAxMVxuICpcbiAqIFx1NUUwM1x1NUM0MFx1NTc1MFx1NjgwN1x1N0NGQlx1RkYwOExheW91dENhbGN1bGF0b3IgXHU4QkExXHU3Qjk3XHVGRjA5XHVGRjFBXG4gKiAgIC0gbGF5b3V0WDogXHU1NzgyXHU3NkY0XHU0RjREXHU3RjZFXHVGRjBDXHU4ODY4XHU3OTNBXHU4MjgyXHU3MEI5XHU3Njg0XHU0RTJEXHU1RkMzXG4gKiAgIC0gbGF5b3V0WTogXHU2QzM0XHU1RTczXHU0RjREXHU3RjZFXHVGRjBDXHU4ODY4XHU3OTNBXHU4MjgyXHU3MEI5XHU3Njg0XHU1REU2XHU4RkI5XHU3RjE4XG4gKlxuICogXHU3NTNCXHU1RTAzXHU1NzUwXHU2ODA3XHU3Q0ZCXHVGRjA4U1ZHIFx1NkUzMlx1NjdEM1x1RkYwOVx1RkYxQVxuICogICAtIGNhbnZhc1g6IFx1NkMzNFx1NUU3M1x1NEY0RFx1N0Y2RVx1RkYwQ1x1NEVDRVx1NURFNlx1NTIzMFx1NTNGM1xuICogICAtIGNhbnZhc1k6IFx1NTc4Mlx1NzZGNFx1NEY0RFx1N0Y2RVx1RkYwQ1x1NEVDRVx1NEUwQVx1NTIzMFx1NEUwQlxuICpcbiAqIFx1OEY2Q1x1NjM2Mlx1NTE3M1x1N0NGQlx1RkYxQVxuICogICAtIGNhbnZhc1ggPSBsYXlvdXRZXHVGRjA4XHU3NkY0XHU2M0E1XHU2NjIwXHU1QzA0XHVGRjA5XG4gKiAgIC0gY2FudmFzWSA9IGxheW91dFggLSBub2RlSGVpZ2h0LzJcdUZGMDhcdTRFMkRcdTVGQzNcdTUyMzBcdTk4NzZcdThGQjlcdUZGMDlcbiAqXG4gKiBcdTMwMTBcdTRGN0ZcdTc1MjhcdTc5M0FcdTRGOEJcdTMwMTFcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBDb29yZGluYXRlQ29udmVydGVyIH0gZnJvbSAnLi91dGlscy9jb29yZGluYXRlLXN5c3RlbSc7XG4gKlxuICogLy8gXHU1NzNBXHU2NjZGMVx1RkYxQVx1OEJBMVx1N0I5N1x1ODI4Mlx1NzBCOVx1N0VDNFx1NzY4NHRyYW5zZm9ybVxuICogY29uc3QgY2FudmFzWCA9IENvb3JkaW5hdGVDb252ZXJ0ZXIudG9DYW52YXNYKGxheW91dFksIG9mZnNldFgpO1xuICogY29uc3QgY2FudmFzWSA9IENvb3JkaW5hdGVDb252ZXJ0ZXIudG9DYW52YXNZKGxheW91dFgsIG5vZGVIZWlnaHQsIG9mZnNldFkpO1xuICogY29uc3QgdHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2NhbnZhc1h9LCAke2NhbnZhc1l9KWA7XG4gKlxuICogLy8gXHU1NzNBXHU2NjZGMlx1RkYxQVx1OEJBMVx1N0I5N1x1OEZERVx1N0VCRlx1NzY4NFx1OEQ3N1x1NzBCOVxuICogY29uc3Qgc291cmNlQ2FudmFzWCA9IENvb3JkaW5hdGVDb252ZXJ0ZXIudG9SaWdodEVkZ2UobGF5b3V0WSwgbm9kZVdpZHRoLCBwYWRkaW5nLCBsaW5lT2Zmc2V0KTtcbiAqXG4gKiAvLyBcdTU3M0FcdTY2NkYzXHVGRjFBXHU4QkExXHU3Qjk3XHU4MjgyXHU3MEI5XHU4RkI5XHU3NTRDXG4gKiBjb25zdCBib3VuZHMgPSBDb29yZGluYXRlQ29udmVydGVyLmdldE5vZGVCb3VuZHMoY2FudmFzWCwgY2FudmFzWSwgd2lkdGgsIGhlaWdodCk7XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIFx1NTc1MFx1NjgwN1x1OEY2Q1x1NjM2Mlx1NURFNVx1NTE3N1x1N0M3QlxuICpcbiAqIFx1NjNEMFx1NEY5Qlx1NUUwM1x1NUM0MFx1NTc1MFx1NjgwN1x1NTQ4Q1x1NzUzQlx1NUUwM1x1NTc1MFx1NjgwN1x1NEU0Qlx1OTVGNFx1NzY4NFx1NTNDQ1x1NTQxMVx1OEY2Q1x1NjM2MlxuICovXG5leHBvcnQgY2xhc3MgQ29vcmRpbmF0ZUNvbnZlcnRlciB7XG5cdC8qKlxuXHQgKiBcdTVDMDZcdTVFMDNcdTVDNDBZXHU1NzUwXHU2ODA3XHVGRjA4XHU1REU2XHU4RkI5XHU3RjE4XHVGRjA5XHU4RjZDXHU2MzYyXHU0RTNBXHU3NTNCXHU1RTAzWFx1NTc1MFx1NjgwN1xuXHQgKlxuXHQgKiBcdTMwMTBcdThCRjRcdTY2MEVcdTMwMTFcblx0ICogXHU1NzI4XHU1RTAzXHU1QzQwXHU3Q0ZCXHU3RURGXHU0RTJEXHVGRjBDWVx1NTc1MFx1NjgwN1x1ODg2OFx1NzkzQVx1ODI4Mlx1NzBCOVx1NzY4NFx1NURFNlx1OEZCOVx1N0YxOFx1NEY0RFx1N0Y2RVx1RkYwOFx1NkMzNFx1NUU3M1x1NjVCOVx1NTQxMVx1RkYwOVxuXHQgKiBcdTU3MjhcdTc1M0JcdTVFMDNcdTdDRkJcdTdFREZcdTRFMkRcdUZGMENYXHU1NzUwXHU2ODA3XHU4ODY4XHU3OTNBXHU2QzM0XHU1RTczXHU0RjREXHU3RjZFXG5cdCAqIFx1NEUyNFx1ODAwNVx1NzZGNFx1NjNBNVx1NjYyMFx1NUMwNFx1RkYwQ1x1NEUwRFx1OTcwMFx1ODk4MVx1OEY2Q1x1NjM2MlxuXHQgKlxuXHQgKiBAcGFyYW0gbGF5b3V0WSBcdTVFMDNcdTVDNDBZXHU1NzUwXHU2ODA3XHVGRjA4XHU4MjgyXHU3MEI5XHU3Njg0XHU1REU2XHU4RkI5XHU3RjE4XHVGRjBDXHU2QzM0XHU1RTczXHU0RjREXHU3RjZFXHVGRjA5XG5cdCAqIEBwYXJhbSBvZmZzZXRYIFhcdThGNzRcdTUwNEZcdTc5RkJcdTkxQ0ZcdUZGMDhcdTkwMUFcdTVFMzhcdTRFM0EwXHVGRjA5XG5cdCAqIEByZXR1cm5zIFx1NzUzQlx1NUUwM1hcdTU3NTBcdTY4MDdcdUZGMDhcdTZDMzRcdTVFNzNcdTRGNERcdTdGNkVcdUZGMDlcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgdHlwZXNjcmlwdFxuXHQgKiBjb25zdCBjYW52YXNYID0gQ29vcmRpbmF0ZUNvbnZlcnRlci50b0NhbnZhc1goMjAwLCAwKTtcblx0ICogLy8gXHU4RkQ0XHU1NkRFOiAyMDAgKFx1NzZGNFx1NjNBNVx1NjYyMFx1NUMwNClcblx0ICogYGBgXG5cdCAqL1xuXHRzdGF0aWMgdG9DYW52YXNYKGxheW91dFk6IG51bWJlciwgb2Zmc2V0WCA9IDApOiBudW1iZXIge1xuXHRcdHJldHVybiBsYXlvdXRZICsgb2Zmc2V0WDtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTVDMDZcdTVFMDNcdTVDNDBYXHU1NzUwXHU2ODA3XHVGRjA4XHU0RTJEXHU1RkMzXHVGRjA5XHU4RjZDXHU2MzYyXHU0RTNBXHU3NTNCXHU1RTAzWVx1NTc1MFx1NjgwN1x1RkYwOFx1OTg3Nlx1OEZCOVx1RkYwOVxuXHQgKlxuXHQgKiBcdTMwMTBcdThCRjRcdTY2MEVcdTMwMTFcblx0ICogXHU1NzI4XHU1RTAzXHU1QzQwXHU3Q0ZCXHU3RURGXHU0RTJEXHVGRjBDWFx1NTc1MFx1NjgwN1x1ODg2OFx1NzkzQVx1ODI4Mlx1NzBCOVx1NzY4NFx1NEUyRFx1NUZDM1x1NEY0RFx1N0Y2RVx1RkYwOFx1NTc4Mlx1NzZGNFx1NjVCOVx1NTQxMVx1RkYwOVxuXHQgKiBcdTU3MjhcdTc1M0JcdTVFMDNcdTdDRkJcdTdFREZcdTRFMkRcdUZGMENZXHU1NzUwXHU2ODA3XHU4ODY4XHU3OTNBXHU5ODc2XHU4RkI5XHU0RjREXHU3RjZFXHVGRjA4XHU0RUNFXHU0RTBBXHU1MjMwXHU0RTBCXHVGRjA5XG5cdCAqIFx1OTcwMFx1ODk4MVx1NTFDRlx1NTNCQlx1ODI4Mlx1NzBCOVx1OUFEOFx1NUVBNlx1NzY4NFx1NEUwMFx1NTM0QVx1RkYwQ1x1NUMwNlx1NEUyRFx1NUZDM1x1OEY2Q1x1NjM2Mlx1NEUzQVx1OTg3Nlx1OEZCOVxuXHQgKlxuXHQgKiBcdTMwMTBcdTRFM0FcdTRFQzBcdTRFNDhcdThGRDlcdTY4MzdcdThGNkNcdTYzNjJcdUZGMUZcdTMwMTFcblx0ICogU1ZHXHU3Njg0cmVjdFx1NTE0M1x1N0QyMFx1NEVDRSgwLCAwKVx1NUYwMFx1NTlDQlx1N0VEOFx1NTIzNlxuXHQgKiBcdTU5ODJcdTY3OUNcdTYyMTFcdTRFRUNcdTVFMENcdTY3MUJcdTgyODJcdTcwQjlcdTc2ODRcdTRFMkRcdTVGQzNcdTU3MjggbGF5b3V0WFx1RkYwQ3JlY3RcdTc2ODR5XHU1RTk0XHU4QkU1XHU2NjJGIGxheW91dFggLSBoZWlnaHQvMlxuXHQgKlxuXHQgKiBAcGFyYW0gbGF5b3V0WCBcdTVFMDNcdTVDNDBYXHU1NzUwXHU2ODA3XHVGRjA4XHU4MjgyXHU3MEI5XHU3Njg0XHU0RTJEXHU1RkMzXHVGRjBDXHU1NzgyXHU3NkY0XHU0RjREXHU3RjZFXHVGRjA5XG5cdCAqIEBwYXJhbSBub2RlSGVpZ2h0IFx1ODI4Mlx1NzBCOVx1OUFEOFx1NUVBNlx1RkYwOFx1NTBDRlx1N0QyMFx1RkYwOVxuXHQgKiBAcGFyYW0gb2Zmc2V0WSBZXHU4Rjc0XHU1MDRGXHU3OUZCXHU5MUNGXHVGRjA4XHU5MDFBXHU1RTM4XHU0RTNBMFx1RkYwOVxuXHQgKiBAcmV0dXJucyBcdTc1M0JcdTVFMDNZXHU1NzUwXHU2ODA3XHVGRjA4XHU5ODc2XHU4RkI5XHU0RjREXHU3RjZFXHVGRjA5XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYHR5cGVzY3JpcHRcblx0ICogY29uc3QgY2FudmFzWSA9IENvb3JkaW5hdGVDb252ZXJ0ZXIudG9DYW52YXNZKDEwMCwgNTAsIDApO1xuXHQgKiAvLyBcdThGRDRcdTU2REU6IDc1ICgxMDAgLSA1MC8yKVxuXHQgKiAvLyBcdTg5RTNcdTkxQ0E6IFx1ODI4Mlx1NzBCOVx1NEUyRFx1NUZDM1x1NTcyODEwMFx1RkYwQ1x1OUFEOFx1NUVBNjUwXHVGRjBDXHU5ODc2XHU4RkI5XHU1RTk0XHU4QkU1XHU1NzI4NzVcblx0ICogYGBgXG5cdCAqL1xuXHRzdGF0aWMgdG9DYW52YXNZKGxheW91dFg6IG51bWJlciwgbm9kZUhlaWdodDogbnVtYmVyLCBvZmZzZXRZID0gMCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIGxheW91dFggKyBvZmZzZXRZIC0gbm9kZUhlaWdodCAvIDI7XG5cdH1cblxuXHQvKipcblx0ICogXHU1QzA2XHU3NTNCXHU1RTAzWVx1NTc1MFx1NjgwN1x1RkYwOFx1OTg3Nlx1OEZCOVx1RkYwOVx1OEY2Q1x1NjM2Mlx1NEUzQVx1NUUwM1x1NUM0MFhcdTU3NTBcdTY4MDdcdUZGMDhcdTRFMkRcdTVGQzNcdUZGMDlcblx0ICpcblx0ICogXHUzMDEwXHU4QkY0XHU2NjBFXHUzMDExXG5cdCAqIHRvQ2FudmFzWSBcdTc2ODRcdTkwMDZcdTY0Q0RcdTRGNUNcblx0ICogXHU0RUNFXHU3NTNCXHU1RTAzXHU3Njg0XHU5ODc2XHU4RkI5XHU0RjREXHU3RjZFXHU2MDYyXHU1OTBEXHU1MjMwXHU1RTAzXHU1QzQwXHU3Njg0XHU0RTJEXHU1RkMzXHU0RjREXHU3RjZFXG5cdCAqXG5cdCAqIEBwYXJhbSBjYW52YXNZIFx1NzUzQlx1NUUwM1lcdTU3NTBcdTY4MDdcdUZGMDhcdTk4NzZcdThGQjlcdTRGNERcdTdGNkVcdUZGMDlcblx0ICogQHBhcmFtIG5vZGVIZWlnaHQgXHU4MjgyXHU3MEI5XHU5QUQ4XHU1RUE2XHVGRjA4XHU1MENGXHU3RDIwXHVGRjA5XG5cdCAqIEBwYXJhbSBvZmZzZXRZIFlcdThGNzRcdTUwNEZcdTc5RkJcdTkxQ0ZcdUZGMDhcdTkwMUFcdTVFMzhcdTRFM0EwXHVGRjA5XG5cdCAqIEByZXR1cm5zIFx1NUUwM1x1NUM0MFhcdTU3NTBcdTY4MDdcdUZGMDhcdTRFMkRcdTVGQzNcdTRGNERcdTdGNkVcdUZGMDlcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgdHlwZXNjcmlwdFxuXHQgKiBjb25zdCBsYXlvdXRYID0gQ29vcmRpbmF0ZUNvbnZlcnRlci50b0xheW91dFgoNzUsIDUwLCAwKTtcblx0ICogLy8gXHU4RkQ0XHU1NkRFOiAxMDAgKDc1ICsgNTAvMilcblx0ICogYGBgXG5cdCAqL1xuXHRzdGF0aWMgdG9MYXlvdXRYKGNhbnZhc1k6IG51bWJlciwgbm9kZUhlaWdodDogbnVtYmVyLCBvZmZzZXRZID0gMCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIGNhbnZhc1kgLSBvZmZzZXRZICsgbm9kZUhlaWdodCAvIDI7XG5cdH1cblxuXHQvKipcblx0ICogXHU4QkExXHU3Qjk3XHU4MjgyXHU3MEI5XHU1M0YzXHU4RkI5XHU3RjE4XHU3Njg0XHU3NTNCXHU1RTAzWFx1NTc1MFx1NjgwN1xuXHQgKlxuXHQgKiBcdTMwMTBcdTc1MjhcdTkwMTRcdTMwMTFcblx0ICogXHU3NTI4XHU0RThFXHU4QkExXHU3Qjk3XHU4RkRFXHU3RUJGXHU3Njg0XHU4RDc3XHU3MEI5XHVGRjA4XHU3MjM2XHU4MjgyXHU3MEI5XHU1M0YzXHU4RkI5XHU3RjE4XHVGRjA5XG5cdCAqXG5cdCAqIEBwYXJhbSBsYXlvdXRZIFx1NUUwM1x1NUM0MFlcdTU3NTBcdTY4MDdcdUZGMDhcdTVERTZcdThGQjlcdTdGMThcdUZGMDlcblx0ICogQHBhcmFtIG5vZGVXaWR0aCBcdTgyODJcdTcwQjlcdTVCQkRcdTVFQTZcblx0ICogQHBhcmFtIHBhZGRpbmcgXHU1MTg1XHU4RkI5XHU4REREXG5cdCAqIEBwYXJhbSBsaW5lT2Zmc2V0IFx1OEZERVx1N0VCRlx1NTA0Rlx1NzlGQlx1RkYwOFx1NEUwRVx1OEZCOVx1N0YxOFx1NzY4NFx1OTVGNFx1OERERFx1RkYwOVxuXHQgKiBAcGFyYW0gb2Zmc2V0WCBYXHU4Rjc0XHU1MDRGXHU3OUZCXHU5MUNGXG5cdCAqIEByZXR1cm5zIFx1NTNGM1x1OEZCOVx1N0YxOFx1NzY4NFx1NzUzQlx1NUUwM1hcdTU3NTBcdTY4MDdcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgdHlwZXNjcmlwdFxuXHQgKiBjb25zdCByaWdodEVkZ2UgPSBDb29yZGluYXRlQ29udmVydGVyLnRvUmlnaHRFZGdlKDIwMCwgMTAwLCAyMCwgNiwgMCk7XG5cdCAqIC8vIFx1OEZENFx1NTZERTogMjg2ICgyMDAgKyAxMDAgLSAyMCArIDYpXG5cdCAqIGBgYFxuXHQgKi9cblx0c3RhdGljIHRvUmlnaHRFZGdlKFxuXHRcdGxheW91dFk6IG51bWJlcixcblx0XHRub2RlV2lkdGg6IG51bWJlcixcblx0XHRwYWRkaW5nOiBudW1iZXIsXG5cdFx0bGluZU9mZnNldDogbnVtYmVyLFxuXHRcdG9mZnNldFggPSAwXG5cdCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIGxheW91dFkgKyBub2RlV2lkdGggLSBwYWRkaW5nICsgbGluZU9mZnNldCArIG9mZnNldFg7XG5cdH1cblxuXHQvKipcblx0ICogXHU4QkExXHU3Qjk3XHU4MjgyXHU3MEI5XHU1REU2XHU4RkI5XHU3RjE4XHU3Njg0XHU3NTNCXHU1RTAzWFx1NTc1MFx1NjgwN1x1RkYwOFx1NUUyNnBhZGRpbmdcdUZGMDlcblx0ICpcblx0ICogXHUzMDEwXHU3NTI4XHU5MDE0XHUzMDExXG5cdCAqIFx1NzUyOFx1NEU4RVx1OEJBMVx1N0I5N1x1OEZERVx1N0VCRlx1NzY4NFx1N0VDOFx1NzBCOVx1RkYwOFx1NUI1MFx1ODI4Mlx1NzBCOVx1NURFNlx1OEZCOVx1N0YxOFx1RkYwOVxuXHQgKlxuXHQgKiBAcGFyYW0gbGF5b3V0WSBcdTVFMDNcdTVDNDBZXHU1NzUwXHU2ODA3XHVGRjA4XHU1REU2XHU4RkI5XHU3RjE4XHVGRjA5XG5cdCAqIEBwYXJhbSBwYWRkaW5nIFx1NTE4NVx1OEZCOVx1OERERFxuXHQgKiBAcGFyYW0gbGluZU9mZnNldCBcdThGREVcdTdFQkZcdTUwNEZcdTc5RkJcdUZGMDhcdTRFMEVcdThGQjlcdTdGMThcdTc2ODRcdTk1RjRcdThERERcdUZGMDlcblx0ICogQHBhcmFtIG9mZnNldFggWFx1OEY3NFx1NTA0Rlx1NzlGQlx1OTFDRlxuXHQgKiBAcmV0dXJucyBcdTVERTZcdThGQjlcdTdGMThcdTc2ODRcdTc1M0JcdTVFMDNYXHU1NzUwXHU2ODA3XHVGRjA4XHU1MzA1XHU1NDJCcGFkZGluZ1x1RkYwOVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIGNvbnN0IGxlZnRFZGdlID0gQ29vcmRpbmF0ZUNvbnZlcnRlci50b0xlZnRFZGdlKDQwMCwgMjAsIDYsIDApO1xuXHQgKiAvLyBcdThGRDRcdTU2REU6IDQxNCAoNDAwICsgMjAgLSA2KVxuXHQgKiBgYGBcblx0ICovXG5cdHN0YXRpYyB0b0xlZnRFZGdlKFxuXHRcdGxheW91dFk6IG51bWJlcixcblx0XHRwYWRkaW5nOiBudW1iZXIsXG5cdFx0bGluZU9mZnNldDogbnVtYmVyLFxuXHRcdG9mZnNldFggPSAwXG5cdCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIGxheW91dFkgKyBwYWRkaW5nIC0gbGluZU9mZnNldCArIG9mZnNldFg7XG5cdH1cblxuXHQvKipcblx0ICogXHU4QkExXHU3Qjk3XHU4MjgyXHU3MEI5XHU3Njg0XHU2RTMyXHU2N0QzXHU4RkI5XHU3NTRDXHU3N0U5XHU1RjYyXG5cdCAqXG5cdCAqIFx1MzAxMFx1OEJGNFx1NjYwRVx1MzAxMVxuXHQgKiBcdTY4MzlcdTYzNkVcdTgyODJcdTcwQjlcdTc2ODRcdTVERTZcdTRFMEFcdTg5RDJcdTU3NTBcdTY4MDdcdTU0OENcdTVDM0FcdTVCRjhcdUZGMENcdThCQTFcdTdCOTdcdTUxNzZcdThGQjlcdTc1NENcblx0ICogXHU3NTI4XHU0RThFXHU3OEIwXHU2NDlFXHU2OEMwXHU2RDRCXHUzMDAxXHU3MEI5XHU1MUZCXHU2OEMwXHU2RDRCXHU3QjQ5XHU1NzNBXHU2NjZGXG5cdCAqXG5cdCAqIEBwYXJhbSBjYW52YXNYIFx1ODI4Mlx1NzBCOVx1NURFNlx1NEUwQVx1ODlEMlx1NzY4NFhcdTU3NTBcdTY4MDdcblx0ICogQHBhcmFtIGNhbnZhc1kgXHU4MjgyXHU3MEI5XHU1REU2XHU0RTBBXHU4OUQyXHU3Njg0WVx1NTc1MFx1NjgwN1xuXHQgKiBAcGFyYW0gd2lkdGggXHU4MjgyXHU3MEI5XHU1QkJEXHU1RUE2XG5cdCAqIEBwYXJhbSBoZWlnaHQgXHU4MjgyXHU3MEI5XHU5QUQ4XHU1RUE2XG5cdCAqIEByZXR1cm5zIFx1OEZCOVx1NzU0Q1x1NzdFOVx1NUY2Mlx1NUJGOVx1OEM2MVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIGNvbnN0IGJvdW5kcyA9IENvb3JkaW5hdGVDb252ZXJ0ZXIuZ2V0Tm9kZUJvdW5kcygxMDAsIDc1LCA1MCwgNTApO1xuXHQgKiAvLyBcdThGRDRcdTU2REU6IHsgeDogMTAwLCB5OiA3NSwgcmlnaHQ6IDE1MCwgYm90dG9tOiAxMjUsIHdpZHRoOiA1MCwgaGVpZ2h0OiA1MCB9XG5cdCAqIGBgYFxuXHQgKi9cblx0c3RhdGljIGdldE5vZGVCb3VuZHMoXG5cdFx0Y2FudmFzWDogbnVtYmVyLFxuXHRcdGNhbnZhc1k6IG51bWJlcixcblx0XHR3aWR0aDogbnVtYmVyLFxuXHRcdGhlaWdodDogbnVtYmVyXG5cdCk6IHtcblx0XHR4OiBudW1iZXI7XG5cdFx0eTogbnVtYmVyO1xuXHRcdHJpZ2h0OiBudW1iZXI7XG5cdFx0Ym90dG9tOiBudW1iZXI7XG5cdFx0d2lkdGg6IG51bWJlcjtcblx0XHRoZWlnaHQ6IG51bWJlcjtcblx0fSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IGNhbnZhc1gsXG5cdFx0XHR5OiBjYW52YXNZLFxuXHRcdFx0cmlnaHQ6IGNhbnZhc1ggKyB3aWR0aCxcblx0XHRcdGJvdHRvbTogY2FudmFzWSArIGhlaWdodCxcblx0XHRcdHdpZHRoOiB3aWR0aCxcblx0XHRcdGhlaWdodDogaGVpZ2h0XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdThCQTFcdTdCOTdcdTRFMjRcdTRFMkFcdTgyODJcdTcwQjlcdTRFNEJcdTk1RjRcdTc2ODRcdTU3ODJcdTc2RjRcdThERERcdTc5QkJcblx0ICpcblx0ICogXHUzMDEwXHU4QkY0XHU2NjBFXHUzMDExXG5cdCAqIFx1OEJBMVx1N0I5N1x1NEUyNFx1NEUyQVx1ODI4Mlx1NzBCOVx1NEUyRFx1NUZDM1x1NzBCOVx1NEU0Qlx1OTVGNFx1NzY4NFx1NTc4Mlx1NzZGNFx1OERERFx1NzlCQlxuXHQgKiBcdTc1MjhcdTRFOEVcdTUyMjRcdTY1QURcdTgyODJcdTcwQjlcdTY2MkZcdTU0MjZcdTkxQ0RcdTUzRTBcdTYyMTZcdThERERcdTc5QkJcdThGQzdcdThGRDFcblx0ICpcblx0ICogQHBhcmFtIGxheW91dFgxIFx1N0IyQ1x1NEUwMFx1NEUyQVx1ODI4Mlx1NzBCOVx1NzY4NFx1NUUwM1x1NUM0MFhcdUZGMDhcdTRFMkRcdTVGQzNcdUZGMDlcblx0ICogQHBhcmFtIGxheW91dFgyIFx1N0IyQ1x1NEU4Q1x1NEUyQVx1ODI4Mlx1NzBCOVx1NzY4NFx1NUUwM1x1NUM0MFhcdUZGMDhcdTRFMkRcdTVGQzNcdUZGMDlcblx0ICogQHJldHVybnMgXHU1NzgyXHU3NkY0XHU4REREXHU3OUJCXHVGRjA4XHU3RUREXHU1QkY5XHU1MDNDXHVGRjA5XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYHR5cGVzY3JpcHRcblx0ICogY29uc3QgZGlzdGFuY2UgPSBDb29yZGluYXRlQ29udmVydGVyLmdldFZlcnRpY2FsRGlzdGFuY2UoNzUsIDE5Myk7XG5cdCAqIC8vIFx1OEZENFx1NTZERTogMTE4ICh8NzUgLSAxOTN8KVxuXHQgKiBgYGBcblx0ICovXG5cdHN0YXRpYyBnZXRWZXJ0aWNhbERpc3RhbmNlKGxheW91dFgxOiBudW1iZXIsIGxheW91dFgyOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBNYXRoLmFicyhsYXlvdXRYMSAtIGxheW91dFgyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTY4QzBcdTY3RTVcdTRFMjRcdTRFMkFcdTgyODJcdTcwQjlcdTU3MjhcdTU3ODJcdTc2RjRcdTY1QjlcdTU0MTFcdTRFMEFcdTY2MkZcdTU0MjZcdTkxQ0RcdTUzRTBcblx0ICpcblx0ICogXHUzMDEwXHU4QkY0XHU2NjBFXHUzMDExXG5cdCAqIFx1NTdGQVx1NEU4RVx1ODI4Mlx1NzBCOVx1NzY4NFx1OUFEOFx1NUVBNlx1NTQ4Q1x1NEUyRFx1NUZDM1x1NEY0RFx1N0Y2RVx1RkYwQ1x1NTIyNFx1NjVBRFx1NEUyNFx1NEUyQVx1ODI4Mlx1NzBCOVx1NjYyRlx1NTQyNlx1OTFDRFx1NTNFMFxuXHQgKiBcdTgwMDNcdTg2NTFcdTRFODZcdTVCODlcdTUxNjhcdTk1RjRcdThERERcblx0ICpcblx0ICogQHBhcmFtIGxheW91dFgxIFx1N0IyQ1x1NEUwMFx1NEUyQVx1ODI4Mlx1NzBCOVx1NzY4NFx1NUUwM1x1NUM0MFhcdUZGMDhcdTRFMkRcdTVGQzNcdUZGMDlcblx0ICogQHBhcmFtIGhlaWdodDEgXHU3QjJDXHU0RTAwXHU0RTJBXHU4MjgyXHU3MEI5XHU3Njg0XHU5QUQ4XHU1RUE2XG5cdCAqIEBwYXJhbSBsYXlvdXRYMiBcdTdCMkNcdTRFOENcdTRFMkFcdTgyODJcdTcwQjlcdTc2ODRcdTVFMDNcdTVDNDBYXHVGRjA4XHU0RTJEXHU1RkMzXHVGRjA5XG5cdCAqIEBwYXJhbSBoZWlnaHQyIFx1N0IyQ1x1NEU4Q1x1NEUyQVx1ODI4Mlx1NzBCOVx1NzY4NFx1OUFEOFx1NUVBNlxuXHQgKiBAcGFyYW0gZ2FwIFx1NUI4OVx1NTE2OFx1OTVGNFx1OERERFx1RkYwOFx1OUVEOFx1OEJBNFx1NEUzQTBcdUZGMDlcblx0ICogQHJldHVybnMgXHU2NjJGXHU1NDI2XHU5MUNEXHU1M0UwXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYHR5cGVzY3JpcHRcblx0ICogY29uc3Qgb3ZlcmxhcHMgPSBDb29yZGluYXRlQ29udmVydGVyLmlzT3ZlcmxhcHBpbmcoXG5cdCAqICAgNzUsIDE3NiwgIC8vIFx1ODI4Mlx1NzBCOTE6IFx1NEUyRFx1NUZDM1x1NTcyODc1XHVGRjBDXHU5QUQ4XHU1RUE2MTc2XG5cdCAqICAgMTkzLCA0MCwgIC8vIFx1ODI4Mlx1NzBCOTI6IFx1NEUyRFx1NUZDM1x1NTcyODE5M1x1RkYwQ1x1OUFEOFx1NUVBNjQwXG5cdCAqICAgMTAgICAgICAgIC8vIFx1NUI4OVx1NTE2OFx1OTVGNFx1OERERDEwcHhcblx0ICogKTtcblx0ICogLy8gXHU4QkExXHU3Qjk3XHVGRjFBXG5cdCAqIC8vIFx1ODI4Mlx1NzBCOTFcdTgzMDNcdTU2RjQ6IDc1IC0gODggPSAtMTMgXHU1MjMwIDc1ICsgODggPSAxNjNcblx0ICogLy8gXHU4MjgyXHU3MEI5Mlx1ODMwM1x1NTZGNDogMTkzIC0gMjAgPSAxNzMgXHU1MjMwIDE5MyArIDIwID0gMjEzXG5cdCAqIC8vIFx1OTVGNFx1OERERDogMTczIC0gMTYzID0gMTBweFx1RkYwQ1x1NEUwRFx1OTFDRFx1NTNFMFxuXHQgKiAvLyBcdThGRDRcdTU2REU6IGZhbHNlXG5cdCAqIGBgYFxuXHQgKi9cblx0c3RhdGljIGlzT3ZlcmxhcHBpbmcoXG5cdFx0bGF5b3V0WDE6IG51bWJlcixcblx0XHRoZWlnaHQxOiBudW1iZXIsXG5cdFx0bGF5b3V0WDI6IG51bWJlcixcblx0XHRoZWlnaHQyOiBudW1iZXIsXG5cdFx0Z2FwID0gMFxuXHQpOiBib29sZWFuIHtcblx0XHQvLyBcdThCQTFcdTdCOTdcdTZCQ0ZcdTRFMkFcdTgyODJcdTcwQjlcdTc2ODRcdTRFMEFcdTRFMEJcdThGQjlcdTc1NENcblx0XHRjb25zdCB0b3AxID0gbGF5b3V0WDEgLSBoZWlnaHQxIC8gMjtcblx0XHRjb25zdCBib3R0b20xID0gbGF5b3V0WDEgKyBoZWlnaHQxIC8gMjtcblx0XHRjb25zdCB0b3AyID0gbGF5b3V0WDIgLSBoZWlnaHQyIC8gMjtcblx0XHRjb25zdCBib3R0b20yID0gbGF5b3V0WDIgKyBoZWlnaHQyIC8gMjtcblxuXHRcdC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1OTFDRFx1NTNFMFx1RkYwOFx1ODAwM1x1ODY1MVx1NUI4OVx1NTE2OFx1OTVGNFx1OERERFx1RkYwOVxuXHRcdHJldHVybiAhKGJvdHRvbTEgKyBnYXAgPD0gdG9wMiB8fCBib3R0b20yICsgZ2FwIDw9IHRvcDEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTIxQlx1NUVGQVx1ODI4Mlx1NzBCOVx1NzY4NHRyYW5zZm9ybVx1NUI1N1x1N0IyNlx1NEUzMlxuXHQgKlxuXHQgKiBcdTMwMTBcdThCRjRcdTY2MEVcdTMwMTFcblx0ICogXHU0RkJGXHU2Mzc3XHU2NUI5XHU2Q0Q1XHVGRjBDXHU3NkY0XHU2M0E1XHU3NTFGXHU2MjEwU1ZHIHRyYW5zZm9ybVx1NUM1RVx1NjAyN1x1NTAzQ1xuXHQgKlxuXHQgKiBAcGFyYW0gbGF5b3V0WCBcdTVFMDNcdTVDNDBYXHU1NzUwXHU2ODA3XHVGRjA4XHU0RTJEXHU1RkMzXHVGRjA5XG5cdCAqIEBwYXJhbSBsYXlvdXRZIFx1NUUwM1x1NUM0MFlcdTU3NTBcdTY4MDdcdUZGMDhcdTVERTZcdThGQjlcdTdGMThcdUZGMDlcblx0ICogQHBhcmFtIG5vZGVXaWR0aCBcdTgyODJcdTcwQjlcdTVCQkRcdTVFQTZcblx0ICogQHBhcmFtIG5vZGVIZWlnaHQgXHU4MjgyXHU3MEI5XHU5QUQ4XHU1RUE2XG5cdCAqIEBwYXJhbSBvZmZzZXRYIFhcdThGNzRcdTUwNEZcdTc5RkJcblx0ICogQHBhcmFtIG9mZnNldFkgWVx1OEY3NFx1NTA0Rlx1NzlGQlxuXHQgKiBAcmV0dXJucyB0cmFuc2Zvcm1cdTVCNTdcdTdCMjZcdTRFMzJcdUZGMENcdTU5ODIgXCJ0cmFuc2xhdGUoMjAwLCA3NSlcIlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIGNvbnN0IHRyYW5zZm9ybSA9IENvb3JkaW5hdGVDb252ZXJ0ZXIuY3JlYXRlVHJhbnNmb3JtKDEwMCwgMjAwLCAxMDAsIDUwLCAwLCAwKTtcblx0ICogLy8gXHU4RkQ0XHU1NkRFOiBcInRyYW5zbGF0ZSgyMDAsIDc1KVwiXG5cdCAqIC8vIFx1ODlFM1x1OTFDQTogWD0yMDAgKFx1NURFNlx1OEZCOVx1N0YxOCksIFk9NzUgKFx1NEUyRFx1NUZDMzEwMCAtIFx1OUFEOFx1NUVBNjUwLzIpXG5cdCAqIGBgYFxuXHQgKi9cblx0c3RhdGljIGNyZWF0ZVRyYW5zZm9ybShcblx0XHRsYXlvdXRYOiBudW1iZXIsXG5cdFx0bGF5b3V0WTogbnVtYmVyLFxuXHRcdG5vZGVXaWR0aDogbnVtYmVyLFxuXHRcdG5vZGVIZWlnaHQ6IG51bWJlcixcblx0XHRvZmZzZXRYID0gMCxcblx0XHRvZmZzZXRZID0gMFxuXHQpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGNhbnZhc1ggPSB0aGlzLnRvQ2FudmFzWChsYXlvdXRZLCBvZmZzZXRYKTtcblx0XHRjb25zdCBjYW52YXNZID0gdGhpcy50b0NhbnZhc1kobGF5b3V0WCwgbm9kZUhlaWdodCwgb2Zmc2V0WSk7XG5cdFx0cmV0dXJuIGB0cmFuc2xhdGUoJHtjYW52YXNYfSwgJHtjYW52YXNZfSlgO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1OEJBMVx1N0I5N1x1NEUyNFx1NEUyQVx1ODI4Mlx1NzBCOVx1NEU0Qlx1OTVGNFx1NzY4NFx1NUI5RVx1OTY0NVx1OTVGNFx1OERERFxuXHQgKlxuXHQgKiBcdTMwMTBcdThCRjRcdTY2MEVcdTMwMTFcblx0ICogXHU4QkExXHU3Qjk3XHU0RTI0XHU0RTJBXHU3NkY4XHU5MEJCXHU4MjgyXHU3MEI5XHU0RTRCXHU5NUY0XHU3Njg0XHU1QjlFXHU5NjQ1XHU1NzgyXHU3NkY0XHU5NUY0XHU4REREXG5cdCAqIFx1NkI2M1x1NTAzQ1x1ODg2OFx1NzkzQVx1NjcwOVx1OTVGNFx1OERERFx1RkYwQ1x1OEQxRlx1NTAzQ1x1ODg2OFx1NzkzQVx1OTFDRFx1NTNFMFxuXHQgKlxuXHQgKiBAcGFyYW0gbGF5b3V0WDEgXHU0RTBBXHU2NUI5XHU4MjgyXHU3MEI5XHU3Njg0XHU1RTAzXHU1QzQwWFx1RkYwOFx1NEUyRFx1NUZDM1x1RkYwOVxuXHQgKiBAcGFyYW0gaGVpZ2h0MSBcdTRFMEFcdTY1QjlcdTgyODJcdTcwQjlcdTc2ODRcdTlBRDhcdTVFQTZcblx0ICogQHBhcmFtIGxheW91dFgyIFx1NEUwQlx1NjVCOVx1ODI4Mlx1NzBCOVx1NzY4NFx1NUUwM1x1NUM0MFhcdUZGMDhcdTRFMkRcdTVGQzNcdUZGMDlcblx0ICogQHBhcmFtIGhlaWdodDIgXHU0RTBCXHU2NUI5XHU4MjgyXHU3MEI5XHU3Njg0XHU5QUQ4XHU1RUE2XG5cdCAqIEByZXR1cm5zIFx1NUI5RVx1OTY0NVx1OTVGNFx1OERERFx1RkYwOFx1NTBDRlx1N0QyMFx1RkYwOVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIGNvbnN0IGdhcCA9IENvb3JkaW5hdGVDb252ZXJ0ZXIuY2FsY3VsYXRlQWN0dWFsR2FwKFxuXHQgKiAgIDc1LCAxNzYsICAgLy8gXHU4MjgyXHU3MEI5MTogXHU0RTJEXHU1RkMzNzUsIFx1OUFEOFx1NUVBNjE3NlxuXHQgKiAgIDE5MywgNDAgICAgLy8gXHU4MjgyXHU3MEI5MjogXHU0RTJEXHU1RkMzMTkzLCBcdTlBRDhcdTVFQTY0MFxuXHQgKiApO1xuXHQgKiAvLyBcdThCQTFcdTdCOTdcdUZGMUFcblx0ICogLy8gXHU4MjgyXHU3MEI5MVx1NEUwQlx1OEZCOVx1N0YxODogNzUgKyA4OCA9IDE2M1xuXHQgKiAvLyBcdTgyODJcdTcwQjkyXHU0RTBBXHU4RkI5XHU3RjE4OiAxOTMgLSAyMCA9IDE3M1xuXHQgKiAvLyBcdTk1RjRcdThEREQ6IDE3MyAtIDE2MyA9IDEwcHhcblx0ICogLy8gXHU4RkQ0XHU1NkRFOiAxMFxuXHQgKiBgYGBcblx0ICovXG5cdHN0YXRpYyBjYWxjdWxhdGVBY3R1YWxHYXAoXG5cdFx0bGF5b3V0WDE6IG51bWJlcixcblx0XHRoZWlnaHQxOiBudW1iZXIsXG5cdFx0bGF5b3V0WDI6IG51bWJlcixcblx0XHRoZWlnaHQyOiBudW1iZXJcblx0KTogbnVtYmVyIHtcblx0XHRjb25zdCBib3R0b20xID0gbGF5b3V0WDEgKyBoZWlnaHQxIC8gMjtcblx0XHRjb25zdCB0b3AyID0gbGF5b3V0WDIgLSBoZWlnaHQyIC8gMjtcblx0XHRyZXR1cm4gdG9wMiAtIGJvdHRvbTE7XG5cdH1cbn1cbiIsICJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBNaW5kTWFwTm9kZSwgTm9kZURpbWVuc2lvbnMgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL21pbmRtYXAtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBUZXh0TWVhc3VyZXIgfSBmcm9tICcuLi8uLi91dGlscy9UZXh0TWVhc3VyZXInO1xuaW1wb3J0IHsgTGF5b3V0Q2FsY3VsYXRvciB9IGZyb20gJy4uL2xheW91dC1jYWxjdWxhdG9yJztcbmltcG9ydCB7IENvb3JkaW5hdGVDb252ZXJ0ZXIgfSBmcm9tICcuLi8uLi91dGlscy9jb29yZGluYXRlLXN5c3RlbSc7XG5cbi8qKlxuICogXHU4MjgyXHU3MEI5XHU2RTMyXHU2N0QzXHU1NjY4XG4gKlxuICogXHUzMDEwXHU4MDRDXHU4RDIzXHUzMDExXG4gKiAtIFx1NTIxQlx1NUVGQVNWR1x1ODI4Mlx1NzBCOVx1N0VDNFxuICogLSBcdTZFMzJcdTY3RDNcdTgyODJcdTcwQjlcdTc3RTlcdTVGNjJcdUZGMDhiYWNrZ3JvdW5kLCBib3JkZXIsIGNvbG9yc1x1RkYwOVxuICogLSBcdTU5MDRcdTc0MDZcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcdTU0OENcdTRGNERcdTdGNkVcbiAqIC0gXHU1RTk0XHU3NTI4XHU4MjgyXHU3MEI5XHU2ODM3XHU1RjBGXHVGRjA4ZGVwdGgtYmFzZWQgc3R5bGluZ1x1RkYwOVxuICpcbiAqIFx1MzAxMFx1NEY5RFx1OEQ1Nlx1MzAxMVxuICogLSBUZXh0TWVhc3VyZXI6IFx1NjU4N1x1NjcyQ1x1NUMzQVx1NUJGOFx1NkQ0Qlx1OTFDRlxuICogLSBMYXlvdXRDYWxjdWxhdG9yOiBcdTVFMDNcdTVDNDBcdThCQTFcdTdCOTdcbiAqIC0gQ29vcmRpbmF0ZUNvbnZlcnRlcjogXHU1NzUwXHU2ODA3XHU4RjZDXHU2MzYyXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlUmVuZGVyZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHRleHRNZWFzdXJlcjogVGV4dE1lYXN1cmVyLFxuXHRcdHByaXZhdGUgbGF5b3V0Q2FsY3VsYXRvcjogTGF5b3V0Q2FsY3VsYXRvclxuXHQpIHt9XG5cblx0LyoqXG5cdCAqIFx1NkUzMlx1NjdEM1x1NjI0MFx1NjcwOVx1ODI4Mlx1NzBCOVxuXHQgKlxuXHQgKiBAcGFyYW0gc3ZnIFNWR1x1NUJCOVx1NTY2OFxuXHQgKiBAcGFyYW0gbm9kZXMgRDNcdTVDNDJcdTZCMjFcdTgyODJcdTcwQjlcdTY1NzBcdTdFQzRcblx0ICogQHBhcmFtIG9mZnNldFggWFx1OEY3NFx1NTA0Rlx1NzlGQlx1OTFDRlxuXHQgKiBAcGFyYW0gb2Zmc2V0WSBZXHU4Rjc0XHU1MDRGXHU3OUZCXHU5MUNGXG5cdCAqIEByZXR1cm5zIFx1ODI4Mlx1NzBCOVx1NTE0M1x1N0QyMFx1NzY4NEQzXHU5MDA5XHU2MkU5XG5cdCAqL1xuXHRyZW5kZXJOb2Rlcyhcblx0XHRzdmc6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgdW5rbm93biwgbnVsbCwgdW5kZWZpbmVkPixcblx0XHRub2RlczogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT5bXSxcblx0XHRvZmZzZXRYOiBudW1iZXIsXG5cdFx0b2Zmc2V0WTogbnVtYmVyXG5cdCk6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sIFNWR0dFbGVtZW50LCB1bmtub3duPiB7XG5cdFx0Y29uc3Qgbm9kZUdyb3VwID0gc3ZnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwibm9kZXNcIik7XG5cblx0XHRjb25zdCBub2RlRWxlbWVudHMgPSBub2RlR3JvdXAuc2VsZWN0QWxsKFwiZ1wiKVxuXHRcdFx0LmRhdGEobm9kZXMpXG5cdFx0XHQuZW50ZXIoKVxuXHRcdFx0LmFwcGVuZChcImdcIilcblx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XG5cdFx0XHRcdC8vIFx1ODNCN1x1NTNENlx1ODI4Mlx1NzBCOVx1NUMzQVx1NUJGOFxuXHRcdFx0XHRjb25zdCBkaW1zID0gdGhpcy50ZXh0TWVhc3VyZXIuZ2V0Tm9kZURpbWVuc2lvbnMoZC5kZXB0aCwgZC5kYXRhLnRleHQpO1xuXG5cdFx0XHRcdC8vIFx1NEY3Rlx1NzUyOFx1NTc1MFx1NjgwN1x1OEY2Q1x1NjM2Mlx1NURFNVx1NTE3N1x1OEJBMVx1N0I5N3RyYW5zZm9ybVxuXHRcdFx0XHRjb25zdCB0cmFuc2Zvcm0gPSBDb29yZGluYXRlQ29udmVydGVyLmNyZWF0ZVRyYW5zZm9ybShcblx0XHRcdFx0XHRkLngsICAgICAgICAgICAgICAvLyBcdTVFMDNcdTVDNDBYXHVGRjA4XHU0RTJEXHU1RkMzXHVGRjA5XG5cdFx0XHRcdFx0ZC55LCAgICAgICAgICAgICAgLy8gXHU1RTAzXHU1QzQwWVx1RkYwOFx1NURFNlx1OEZCOVx1N0YxOFx1RkYwOVxuXHRcdFx0XHRcdGRpbXMud2lkdGgsICAgICAgIC8vIFx1ODI4Mlx1NzBCOVx1NUJCRFx1NUVBNlxuXHRcdFx0XHRcdGRpbXMuaGVpZ2h0LCAgICAgIC8vIFx1ODI4Mlx1NzBCOVx1OUFEOFx1NUVBNlxuXHRcdFx0XHRcdG9mZnNldFgsICAgICAgICAgIC8vIFhcdTUwNEZcdTc5RkJcblx0XHRcdFx0XHRvZmZzZXRZICAgICAgICAgICAvLyBZXHU1MDRGXHU3OUZCXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0cmV0dXJuIHRyYW5zZm9ybTtcblx0XHRcdH0pXG5cdFx0XHQvLyBBY2Nlc3NpYmlsaXR5OiBBZGQgQVJJQSBhdHRyaWJ1dGVzIHRvIG5vZGVzXG5cdFx0XHQuYXR0cihcInJvbGVcIiwgXCJidXR0b25cIilcblx0XHRcdC5hdHRyKFwiYXJpYS1sYWJlbFwiLCAoZCkgPT4gYE1pbmQgbWFwIG5vZGU6ICR7ZC5kYXRhLnRleHR9YClcblx0XHRcdC5hdHRyKFwidGFiaW5kZXhcIiwgXCIwXCIpXG5cdFx0XHQuYXR0cihcImFyaWEtbGV2ZWxcIiwgKGQpID0+IGQuZGVwdGggKyAxKTtcblxuXHRcdC8vIFx1ODI4Mlx1NzBCOVx1NzdFOVx1NUY2MlxuXHRcdGNvbnN0IG5vZGVSZWN0cyA9IG5vZGVFbGVtZW50cy5hcHBlbmQoXCJyZWN0XCIpXG5cdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibm9kZS1yZWN0XCIpXG5cdFx0XHQuYXR0cihcIndpZHRoXCIsIChkKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGRpbXMgPSB0aGlzLnRleHRNZWFzdXJlci5nZXROb2RlRGltZW5zaW9ucyhkLmRlcHRoLCBkLmRhdGEudGV4dCk7XG5cdFx0XHRcdHJldHVybiBkaW1zLndpZHRoO1xuXHRcdFx0fSlcblx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGRpbXMgPSB0aGlzLnRleHRNZWFzdXJlci5nZXROb2RlRGltZW5zaW9ucyhkLmRlcHRoLCBkLmRhdGEudGV4dCk7XG5cdFx0XHRcdHJldHVybiBkaW1zLmhlaWdodDtcblx0XHRcdH0pXG5cdFx0XHQuYXR0cihcInhcIiwgMClcblx0XHRcdC5hdHRyKFwieVwiLCAwKVxuXHRcdFx0LmF0dHIoXCJyeFwiLCA2KVxuXHRcdFx0LmF0dHIoXCJyeVwiLCA2KVxuXHRcdFx0LmF0dHIoXCJmaWxsXCIsIChkKSA9PiB7XG5cdFx0XHRcdGlmIChkLmRlcHRoID09PSAwKSByZXR1cm4gXCIjMjk3MmY0XCI7ICAvLyBcdTY4MzlcdTgyODJcdTcwQjlcdUZGMUFcdTg0RERcdTgyNzJcblx0XHRcdFx0cmV0dXJuIFwiI2YzZjVmN1wiOyAgLy8gXHU1MTc2XHU0RUQ2XHU4MjgyXHU3MEI5XHVGRjFBXHU2RDQ1XHU3MDcwXHU4MjcyXG5cdFx0XHR9KVxuXHRcdFx0LmF0dHIoXCJzdHJva2VcIiwgKGQpID0+IHtcblx0XHRcdFx0aWYgKGQuZGVwdGggPT09IDApIHJldHVybiBcIiMyOTcyZjRcIjsgIC8vIFx1NjgzOVx1ODI4Mlx1NzBCOVx1OEZCOVx1Njg0Nlx1RkYxQVx1NEZERFx1NjMwMVx1NTM5Rlx1ODI3MlxuXHRcdFx0XHRyZXR1cm4gXCJub25lXCI7ICAvLyBcdTUxNzZcdTRFRDZcdTgyODJcdTcwQjlcdUZGMUFcdTY1RTBcdThGQjlcdTY4NDZcblx0XHRcdH0pXG5cdFx0XHQuYXR0cihcInN0cm9rZS13aWR0aFwiLCAoZCkgPT4gZC5kZXB0aCA9PT0gMCA/IDIgOiAwKSAgLy8gXHU1M0VBXHU2NzA5XHU2ODM5XHU4MjgyXHU3MEI5XHU2NzA5XHU4RkI5XHU2ODQ2XG5cdFx0XHQuc3R5bGUoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpOyAgLy8gXHU2REZCXHU1MkEwXHU2MjRCXHU1NzhCXHU1MTQ5XHU2ODA3XG5cblx0XHQvLyBcdTgxRUFcdTUyQThcdTVFOTRcdTc1MjhcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcdUZGMDhcdTlBRDhcdTRFQUVcdThGQjlcdTY4NDZcdUZGMDlcblx0XHRub2RlUmVjdHMuY2xhc3NlZChcInNlbGVjdGVkLXJlY3RcIiwgKGQpID0+IGQuZGF0YS5zZWxlY3RlZCB8fCBmYWxzZSk7XG5cblx0XHRyZXR1cm4gbm9kZUVsZW1lbnRzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTIxQlx1NUVGQVx1NTM1NVx1NEUyQVx1ODI4Mlx1NzBCOVx1N0VDNFx1RkYwOFx1NTNFRlx1OTAwOVx1NjVCOVx1NkNENVx1RkYwQ1x1NzUyOFx1NEU4RVx1NTJBOFx1NjAwMVx1NkRGQlx1NTJBMFx1ODI4Mlx1NzBCOVx1RkYwOVxuXHQgKlxuXHQgKiBAcGFyYW0gbm9kZURhdGEgXHU4MjgyXHU3MEI5XHU2NTcwXHU2MzZFXG5cdCAqIEBwYXJhbSBkaW1lbnNpb25zIFx1ODI4Mlx1NzBCOVx1NUMzQVx1NUJGOFxuXHQgKiBAcGFyYW0gb2Zmc2V0WCBYXHU4Rjc0XHU1MDRGXHU3OUZCXHU5MUNGXG5cdCAqIEBwYXJhbSBvZmZzZXRZIFlcdThGNzRcdTUwNEZcdTc5RkJcdTkxQ0Zcblx0ICogQHJldHVybnMgXHU4MjgyXHU3MEI5XHU3RUM0XHU1MTQzXHU3RDIwXG5cdCAqL1xuXHRjcmVhdGVOb2RlR3JvdXAoXG5cdFx0bm9kZURhdGE6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuXHRcdGRpbWVuc2lvbnM6IE5vZGVEaW1lbnNpb25zLFxuXHRcdG9mZnNldFg6IG51bWJlcixcblx0XHRvZmZzZXRZOiBudW1iZXJcblx0KTogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+IHtcblx0XHQvLyBcdTZCNjRcdTY1QjlcdTZDRDVcdTUzRUZcdTc1MjhcdTRFOEVcdTUyQThcdTYwMDFcdTZERkJcdTUyQTBcdTUzNTVcdTRFMkFcdTgyODJcdTcwQjlcblx0XHQvLyBcdTVGNTNcdTUyNERcdTVCOUVcdTczQjBcdTRFMkRcdTRGN0ZcdTc1MjggcmVuZGVyTm9kZXMgXHU2Mjc5XHU5MUNGXHU1MjFCXHU1RUZBXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4gVXNlIHJlbmRlck5vZGVzKCkgaW5zdGVhZC5cIik7XG5cdH1cblxuXHQvKipcblx0ICogXHU1MjFCXHU1RUZBXHU4MjgyXHU3MEI5XHU3N0U5XHU1RjYyXHU4MENDXHU2NjZGXHVGRjA4XHU1M0VGXHU5MDA5XHU2NUI5XHU2Q0Q1XHVGRjBDXHU3NTI4XHU0RThFXHU2ODM3XHU1RjBGXHU4MUVBXHU1QjlBXHU0RTQ5XHVGRjA5XG5cdCAqXG5cdCAqIEBwYXJhbSBub2RlRWxlbWVudCBcdTgyODJcdTcwQjlcdTdFQzRcdTUxNDNcdTdEMjBcblx0ICogQHBhcmFtIG5vZGVEYXRhIFx1ODI4Mlx1NzBCOVx1NjU3MFx1NjM2RVxuXHQgKiBAcGFyYW0gZGltZW5zaW9ucyBcdTgyODJcdTcwQjlcdTVDM0FcdTVCRjhcblx0ICogQHJldHVybnMgXHU3N0U5XHU1RjYyXHU1MTQzXHU3RDIwXG5cdCAqL1xuXHRjcmVhdGVOb2RlUmVjdChcblx0XHRub2RlRWxlbWVudDogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+LFxuXHRcdG5vZGVEYXRhOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHRkaW1lbnNpb25zOiBOb2RlRGltZW5zaW9uc1xuXHQpOiBkMy5TZWxlY3Rpb248U1ZHUmVjdEVsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBTVkdFbGVtZW50LCB1bmtub3duPiB7XG5cdFx0Ly8gXHU2QjY0XHU2NUI5XHU2Q0Q1XHU1M0VGXHU3NTI4XHU0RThFXHU4MUVBXHU1QjlBXHU0RTQ5XHU3N0U5XHU1RjYyXHU2ODM3XHU1RjBGXG5cdFx0Ly8gXHU1RjUzXHU1MjREXHU1QjlFXHU3M0IwXHU0RTJEXHU3N0U5XHU1RjYyXHU1REYyXHU1NzI4IHJlbmRlck5vZGVzKCkgXHU0RTJEXHU1MjFCXHU1RUZBXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4gUmVjdHMgYXJlIGNyZWF0ZWQgaW4gcmVuZGVyTm9kZXMoKS5cIik7XG5cdH1cblxuXHQvKipcblx0ICogXHU4M0I3XHU1M0Q2XHU4MjgyXHU3MEI5cGFkZGluZ1x1NTAzQ1xuXHQgKlxuXHQgKiBAcGFyYW0gZGVwdGggXHU4MjgyXHU3MEI5XHU2REYxXHU1RUE2XG5cdCAqIEByZXR1cm5zIHBhZGRpbmdcdTUwM0NcdUZGMDhcdTUwQ0ZcdTdEMjBcdUZGMDlcblx0ICovXG5cdGdldE5vZGVQYWRkaW5nKGRlcHRoOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdGlmIChkZXB0aCA9PT0gMCkgcmV0dXJuIDI0OyAgICAvLyBcdTY4MzlcdTgyODJcdTcwQjlwYWRkaW5nXG5cdFx0ZWxzZSBpZiAoZGVwdGggPT09IDEpIHJldHVybiAyMDsgLy8gXHU3QjJDMVx1NUM0MnBhZGRpbmdcblx0XHRlbHNlIHJldHVybiAxNjsgICAgICAgICAgICAgICAgIC8vIFx1N0IyQzJcdTVDNDJcdTUzQ0FcdTRFRTVcdTU0MEVwYWRkaW5nXG5cdH1cbn1cbiIsICJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBNaW5kTWFwTm9kZSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvbWluZG1hcC1pbnRlcmZhY2VzJztcbmltcG9ydCB7IFRleHRNZWFzdXJlciB9IGZyb20gJy4uLy4uL3V0aWxzL1RleHRNZWFzdXJlcic7XG5pbXBvcnQgeyBDb29yZGluYXRlQ29udmVydGVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29vcmRpbmF0ZS1zeXN0ZW0nO1xuXG4vKipcbiAqIExpbmsgcmVuZGVyaW5nIGNvbmZpZ3VyYXRpb24gaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlua1JlbmRlcmVyQ29uZmlnIHtcblx0bGluZU9mZnNldDogbnVtYmVyO1xufVxuXG4vKipcbiAqIExpbmsgcmVuZGVyZXJcbiAqXG4gKiBbUmVzcG9uc2liaWxpdGllc11cbiAqIC0gUmVuZGVyIGxpbmtzIGJldHdlZW4gbm9kZXNcbiAqIC0gRHJhdyBjdWJpYyBiZXppZXIgY3VydmVzIChyb290IFx1MjE5MiBsZXZlbCAxKVxuICogLSBEcmF3IHJvdW5kZWQgbGlua3MgKG90aGVyIGxldmVscylcbiAqIC0gQ2FsY3VsYXRlIGNvbm5lY3Rpb24gcG9pbnQgY29vcmRpbmF0ZXNcbiAqIC0gSGFuZGxlIGxpbmsgc3R5bGVzIGZvciBkaWZmZXJlbnQgbGV2ZWxzXG4gKlxuICogW0RlcGVuZGVuY2llc11cbiAqIC0gVGV4dE1lYXN1cmVyOiBHZXQgbm9kZSBkaW1lbnNpb25zXG4gKiAtIENvb3JkaW5hdGVDb252ZXJ0ZXI6IENvb3JkaW5hdGUgY29udmVyc2lvblxuICovXG5leHBvcnQgY2xhc3MgTGlua1JlbmRlcmVyIHtcblx0cHJpdmF0ZSBjb25maWc6IExpbmtSZW5kZXJlckNvbmZpZztcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHRleHRNZWFzdXJlcjogVGV4dE1lYXN1cmVyLFxuXHRcdGNvbmZpZz86IFBhcnRpYWw8TGlua1JlbmRlcmVyQ29uZmlnPlxuXHQpIHtcblx0XHR0aGlzLmNvbmZpZyA9IHtcblx0XHRcdGxpbmVPZmZzZXQ6IGNvbmZpZz8ubGluZU9mZnNldCB8fCA2XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW5kZXIgYWxsIGxpbmtzXG5cdCAqXG5cdCAqIEBwYXJhbSBzdmcgU1ZHIGNvbnRhaW5lclxuXHQgKiBAcGFyYW0gbGlua3MgRDMgaGllcmFyY2h5IGxpbmsgYXJyYXlcblx0ICogQHBhcmFtIG9mZnNldFggWC1heGlzIG9mZnNldFxuXHQgKiBAcGFyYW0gb2Zmc2V0WSBZLWF4aXMgb2Zmc2V0XG5cdCAqL1xuXHRyZW5kZXJMaW5rcyhcblx0XHRzdmc6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgdW5rbm93biwgbnVsbCwgdW5kZWZpbmVkPixcblx0XHRsaW5rczogZDMuSGllcmFyY2h5TGluazxNaW5kTWFwTm9kZT5bXSxcblx0XHRvZmZzZXRYOiBudW1iZXIsXG5cdFx0b2Zmc2V0WTogbnVtYmVyXG5cdCk6IHZvaWQge1xuXHRcdGNvbnN0IGxpbmtHcm91cCA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImxpbmtzXCIpO1xuXG5cdFx0aWYgKGxpbmtzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG5cdFx0Ly8gU2VwYXJhdGUgbGlua3MgYnkgbGV2ZWw6IGxldmVsIDAgdG8gMSB1c2UgY3ViaWMgYmV6aWVyIGN1cnZlcywgb3RoZXIgbGV2ZWxzIHVzZSByb3VuZGVkIGxpbmtzXG5cdFx0Y29uc3Qgcm9vdFRvRmlyc3RMZXZlbExpbmtzOiBkMy5IaWVyYXJjaHlMaW5rPE1pbmRNYXBOb2RlPltdID0gW107XG5cdFx0Y29uc3Qgcm91bmRlZExpbmtzOiBkMy5IaWVyYXJjaHlMaW5rPE1pbmRNYXBOb2RlPltdID0gW107XG5cblx0XHRsaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuXHRcdFx0aWYgKGxpbmsuc291cmNlLmRlcHRoID09PSAwICYmIGxpbmsudGFyZ2V0LmRlcHRoID09PSAxKSB7XG5cdFx0XHRcdHJvb3RUb0ZpcnN0TGV2ZWxMaW5rcy5wdXNoKGxpbmspO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cm91bmRlZExpbmtzLnB1c2gobGluayk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBSZW5kZXIgY3ViaWMgYmV6aWVyIGN1cnZlIGxpbmtzIGZyb20gbGV2ZWwgMCB0byAxXG5cdFx0aWYgKHJvb3RUb0ZpcnN0TGV2ZWxMaW5rcy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLnJlbmRlclJvb3RUb0ZpcnN0TGV2ZWxDdWJpY0xpbmtzKGxpbmtHcm91cCwgcm9vdFRvRmlyc3RMZXZlbExpbmtzLCBvZmZzZXRYLCBvZmZzZXRZKTtcblx0XHR9XG5cblx0XHQvLyBSZW5kZXIgcm91bmRlZCBsaW5rcyBmb3Igb3RoZXIgbGV2ZWxzXG5cdFx0aWYgKHJvdW5kZWRMaW5rcy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLnJlbmRlclJvdW5kZWRMaW5rcyhsaW5rR3JvdXAsIHJvdW5kZWRMaW5rcywgb2Zmc2V0WCwgb2Zmc2V0WSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlciBjdWJpYyBiZXppZXIgY3VydmVzIGZyb20gcm9vdCB0byBsZXZlbCAxXG5cdCAqXG5cdCAqIEBwYXJhbSBncm91cCBTVkcgZ3JvdXAgZWxlbWVudFxuXHQgKiBAcGFyYW0gbGlua3MgTGluayBhcnJheVxuXHQgKiBAcGFyYW0gb2Zmc2V0WCBYLWF4aXMgb2Zmc2V0XG5cdCAqIEBwYXJhbSBvZmZzZXRZIFktYXhpcyBvZmZzZXRcblx0ICovXG5cdHByaXZhdGUgcmVuZGVyUm9vdFRvRmlyc3RMZXZlbEN1YmljTGlua3MoXG5cdFx0Z3JvdXA6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgdW5rbm93biwgbnVsbCwgdW5kZWZpbmVkPixcblx0XHRsaW5rczogZDMuSGllcmFyY2h5TGluazxNaW5kTWFwTm9kZT5bXSxcblx0XHRvZmZzZXRYOiBudW1iZXIsXG5cdFx0b2Zmc2V0WTogbnVtYmVyXG5cdCk6IHZvaWQge1xuXHRcdGxpbmtzLmZvckVhY2gobGluayA9PiB7XG5cdFx0XHRjb25zdCBjb25uZWN0aW9uUG9pbnRzID0gdGhpcy5nZXRMaW5rQ29ubmVjdGlvblBvaW50cyhsaW5rLCBvZmZzZXRYLCBvZmZzZXRZKTtcblx0XHRcdGNvbnN0IHNvdXJjZVggPSBjb25uZWN0aW9uUG9pbnRzLnNvdXJjZVg7XG5cdFx0XHRjb25zdCBzb3VyY2VZID0gY29ubmVjdGlvblBvaW50cy5zb3VyY2VZO1xuXHRcdFx0Y29uc3QgdGFyZ2V0WCA9IGNvbm5lY3Rpb25Qb2ludHMudGFyZ2V0WDtcblx0XHRcdGNvbnN0IHRhcmdldFkgPSBjb25uZWN0aW9uUG9pbnRzLnRhcmdldFk7XG5cblx0XHRcdC8vIENhbGN1bGF0ZSBjdWJpYyBiZXppZXIgY3VydmUgY29udHJvbCBwb2ludHNcblx0XHRcdGNvbnN0IGRlbHRhWCA9IHRhcmdldFggLSBzb3VyY2VYO1xuXG5cdFx0XHQvLyBGaXJzdCBjb250cm9sIHBvaW50OiBmcm9tIHNvdXJjZSBub2RlLCBhbG9uZyBwb3NpdGl2ZSBYIGRpcmVjdGlvblxuXHRcdFx0Y29uc3QgY29udHJvbDFYID0gc291cmNlWCArIGRlbHRhWCAqIDAuMztcblx0XHRcdGNvbnN0IGNvbnRyb2wxWSA9IHNvdXJjZVk7XG5cblx0XHRcdC8vIFNlY29uZCBjb250cm9sIHBvaW50OiBuZWFyIHRhcmdldCBub2RlLCBrZWVwaW5nIHRhcmdldCBub2RlJ3MgWSBjb29yZGluYXRlXG5cdFx0XHRjb25zdCBjb250cm9sMlggPSB0YXJnZXRYIC0gZGVsdGFYICogMC4zO1xuXHRcdFx0Y29uc3QgY29udHJvbDJZID0gdGFyZ2V0WTtcblxuXHRcdFx0Ly8gQ3JlYXRlIGN1YmljIGJlemllciBjdXJ2ZSBwYXRoXG5cdFx0XHRjb25zdCBwYXRoRGF0YSA9IGBNICR7c291cmNlWH0sJHtzb3VyY2VZfSBDICR7Y29udHJvbDFYfSwke2NvbnRyb2wxWX0gJHtjb250cm9sMlh9LCR7Y29udHJvbDJZfSAke3RhcmdldFh9LCR7dGFyZ2V0WX1gO1xuXG5cdFx0XHQvLyBVc2UgdW5pZmllZCBsaW5rIGNvbG9yXG5cdFx0XHRncm91cC5hcHBlbmQoXCJwYXRoXCIpXG5cdFx0XHRcdC5hdHRyKFwiZFwiLCBwYXRoRGF0YSlcblx0XHRcdFx0LmF0dHIoXCJzdHJva2VcIiwgXCIjYjhiOGI4XCIpXG5cdFx0XHRcdC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDIpXG5cdFx0XHRcdC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcblx0XHRcdFx0LmF0dHIoXCJzdHJva2UtbGluZWNhcFwiLCBcInJvdW5kXCIpXG5cdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgMC44KVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwicm9vdC10by1maXJzdC1sZXZlbC1saW5rXCIpO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlciByb3VuZGVkIGxpbmtzIChmb3IgYWxsIGxldmVscyBleGNlcHQgMC0xKVxuXHQgKlxuXHQgKiBAcGFyYW0gZ3JvdXAgU1ZHIGdyb3VwIGVsZW1lbnRcblx0ICogQHBhcmFtIGxpbmtzIExpbmsgYXJyYXlcblx0ICogQHBhcmFtIG9mZnNldFggWC1heGlzIG9mZnNldFxuXHQgKiBAcGFyYW0gb2Zmc2V0WSBZLWF4aXMgb2Zmc2V0XG5cdCAqL1xuXHRwcml2YXRlIHJlbmRlclJvdW5kZWRMaW5rcyhcblx0XHRncm91cDogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCB1bmtub3duLCBudWxsLCB1bmRlZmluZWQ+LFxuXHRcdGxpbmtzOiBkMy5IaWVyYXJjaHlMaW5rPE1pbmRNYXBOb2RlPltdLFxuXHRcdG9mZnNldFg6IG51bWJlcixcblx0XHRvZmZzZXRZOiBudW1iZXJcblx0KTogdm9pZCB7XG5cdFx0bGlua3MuZm9yRWFjaChsaW5rID0+IHtcblx0XHRcdGNvbnN0IGNvbm5lY3Rpb25Qb2ludHMgPSB0aGlzLmdldExpbmtDb25uZWN0aW9uUG9pbnRzKGxpbmssIG9mZnNldFgsIG9mZnNldFkpO1xuXHRcdFx0Y29uc3Qgc291cmNlWCA9IGNvbm5lY3Rpb25Qb2ludHMuc291cmNlWDtcblx0XHRcdGNvbnN0IHNvdXJjZVkgPSBjb25uZWN0aW9uUG9pbnRzLnNvdXJjZVk7XG5cdFx0XHRjb25zdCB0YXJnZXRYID0gY29ubmVjdGlvblBvaW50cy50YXJnZXRYO1xuXHRcdFx0Y29uc3QgdGFyZ2V0WSA9IGNvbm5lY3Rpb25Qb2ludHMudGFyZ2V0WTtcblxuXHRcdFx0Ly8gR2VuZXJhdGUgcm91bmRlZCBwYXRoICh1c2luZyBkZWZhdWx0IDhweCBjb3JuZXIgcmFkaXVzKVxuXHRcdFx0Y29uc3QgcGF0aERhdGEgPSB0aGlzLmdlbmVyYXRlUm91bmRlZFBhdGgoc291cmNlWCwgc291cmNlWSwgdGFyZ2V0WCwgdGFyZ2V0WSwgOCk7XG5cblx0XHRcdC8vIFVzZSBleGlzdGluZyBsaW5rIGNvbG9yICNiOGI4Yjhcblx0XHRcdGdyb3VwLmFwcGVuZChcInBhdGhcIilcblx0XHRcdFx0LmF0dHIoXCJkXCIsIHBhdGhEYXRhKVxuXHRcdFx0XHQuYXR0cihcInN0cm9rZVwiLCBcIiNiOGI4YjhcIilcblx0XHRcdFx0LmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMilcblx0XHRcdFx0LmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuXHRcdFx0XHQuYXR0cihcInN0cm9rZS1saW5lY2FwXCIsIFwicm91bmRcIilcblx0XHRcdFx0LmF0dHIoXCJzdHJva2UtbGluZWpvaW5cIiwgXCJyb3VuZFwiKSAgLy8gQWRkIGNvbm5lY3Rpb24gcG9pbnQgcm91bmRpbmdcblx0XHRcdFx0LnN0eWxlKFwib3BhY2l0eVwiLCAwLjgpXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJyb3VuZGVkLWxpbmtcIik7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR2VuZXJhdGUgcm91bmRlZCBsaW5rIHBhdGhcblx0ICpcblx0ICogQHBhcmFtIHNvdXJjZVggU291cmNlIG5vZGUgWCBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSBzb3VyY2VZIFNvdXJjZSBub2RlIFkgY29vcmRpbmF0ZVxuXHQgKiBAcGFyYW0gdGFyZ2V0WCBUYXJnZXQgbm9kZSBYIGNvb3JkaW5hdGVcblx0ICogQHBhcmFtIHRhcmdldFkgVGFyZ2V0IG5vZGUgWSBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSBjb3JuZXJSYWRpdXMgQ29ybmVyIHJhZGl1c1xuXHQgKiBAcmV0dXJucyBTVkcgcGF0aCBkIGF0dHJpYnV0ZSBzdHJpbmdcblx0ICovXG5cdHByaXZhdGUgZ2VuZXJhdGVSb3VuZGVkUGF0aChcblx0XHRzb3VyY2VYOiBudW1iZXIsXG5cdFx0c291cmNlWTogbnVtYmVyLFxuXHRcdHRhcmdldFg6IG51bWJlcixcblx0XHR0YXJnZXRZOiBudW1iZXIsXG5cdFx0Y29ybmVyUmFkaXVzID0gOFxuXHQpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGhvcml6b250YWxEaXN0YW5jZSA9IHRhcmdldFggLSBzb3VyY2VYO1xuXHRcdGNvbnN0IHR1cm4xWCA9IHNvdXJjZVggKyBob3Jpem9udGFsRGlzdGFuY2UgKiAwLjQ1O1xuXG5cdFx0Ly8gU21hcnQgY29ybmVyIHJhZGl1cyBjYWxjdWxhdGlvbiwgYXZvaWQgdG9vIGxhcmdlIG9yIHRvbyBzbWFsbCBjb3JuZXJzXG5cdFx0Y29uc3QgcmFkaXVzID0gTWF0aC5taW4oXG5cdFx0XHRjb3JuZXJSYWRpdXMsXG5cdFx0XHRNYXRoLmFicyh0YXJnZXRYIC0gdHVybjFYKSAqIDAuNCxcblx0XHRcdE1hdGguYWJzKHRhcmdldFkgLSBzb3VyY2VZKSAqIDAuNFxuXHRcdCk7XG5cblx0XHQvLyBDYWxjdWxhdGUgY29ybmVyIHR1cm5pbmcgcG9pbnRzXG5cdFx0Y29uc3QgdmVydGljYWxFbmRZID0gdGFyZ2V0WSArIChzb3VyY2VZIDwgdGFyZ2V0WSA/IC1yYWRpdXMgOiByYWRpdXMpO1xuXHRcdGNvbnN0IGNvcm5lclN0YXJ0WCA9IHR1cm4xWDtcblx0XHRjb25zdCBjb3JuZXJTdGFydFkgPSB2ZXJ0aWNhbEVuZFk7XG5cdFx0Y29uc3QgY29ybmVyRW5kWCA9IHR1cm4xWCArICh0YXJnZXRYID4gdHVybjFYID8gcmFkaXVzIDogLXJhZGl1cyk7XG5cdFx0Y29uc3QgY29ybmVyRW5kWSA9IHRhcmdldFk7XG5cblx0XHQvLyBCdWlsZCByb3VuZGVkIHBhdGg6IGhvcml6b250YWwgbGluZSBcdTIxOTIgdmVydGljYWwgbGluZSBcdTIxOTIgY29ybmVyIHRyYW5zaXRpb24gXHUyMTkyIGhvcml6b250YWwgbGluZVxuXHRcdHJldHVybiBgTSAke3NvdXJjZVh9LCR7c291cmNlWX1cblx0XHRcdEwgJHt0dXJuMVh9LCR7c291cmNlWX1cblx0XHRcdEwgJHtjb3JuZXJTdGFydFh9LCR7Y29ybmVyU3RhcnRZfVxuXHRcdFx0USAke2Nvcm5lclN0YXJ0WH0sJHt0YXJnZXRZfSAke2Nvcm5lckVuZFh9LCR7Y29ybmVyRW5kWX1cblx0XHRcdEwgJHt0YXJnZXRYfSwke3RhcmdldFl9YDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxjdWxhdGUgbGluayBjb25uZWN0aW9uIHBvaW50IGNvb3JkaW5hdGVzXG5cdCAqXG5cdCAqIFtDb29yZGluYXRlIFN5c3RlbV0gTWl4ZWQgY29vcmRpbmF0ZSBzeXN0ZW1cblx0ICogLSBTb3VyY2Ugbm9kZTogbGluay5zb3VyY2UueSAobGVmdCBlZGdlIFgpLCBsaW5rLnNvdXJjZS54IChjZW50ZXIgWSlcblx0ICogLSBUYXJnZXQgbm9kZTogbGluay50YXJnZXQueSAobGVmdCBlZGdlIFgpLCBsaW5rLnRhcmdldC54IChjZW50ZXIgWSlcblx0ICpcblx0ICogQHBhcmFtIGxpbmsgRDMgaGllcmFyY2h5IGxpbmsgb2JqZWN0XG5cdCAqIEBwYXJhbSBvZmZzZXRYIFgtYXhpcyBvZmZzZXRcblx0ICogQHBhcmFtIG9mZnNldFkgWS1heGlzIG9mZnNldFxuXHQgKiBAcmV0dXJucyBDb25uZWN0aW9uIHBvaW50IGNvb3JkaW5hdGVzXG5cdCAqL1xuXHRwcml2YXRlIGdldExpbmtDb25uZWN0aW9uUG9pbnRzKFxuXHRcdGxpbms6IGQzLkhpZXJhcmNoeUxpbms8TWluZE1hcE5vZGU+LFxuXHRcdG9mZnNldFg6IG51bWJlcixcblx0XHRvZmZzZXRZOiBudW1iZXJcblx0KToge1xuXHRcdHNvdXJjZVg6IG51bWJlcjtcblx0XHRzb3VyY2VZOiBudW1iZXI7XG5cdFx0dGFyZ2V0WDogbnVtYmVyO1xuXHRcdHRhcmdldFk6IG51bWJlcjtcblx0fSB7XG5cdFx0Ly8gR2V0IHNvdXJjZSBhbmQgdGFyZ2V0IG5vZGUgZGltZW5zaW9uc1xuXHRcdGNvbnN0IHNvdXJjZURpbWVuc2lvbnMgPSB0aGlzLnRleHRNZWFzdXJlci5nZXROb2RlRGltZW5zaW9ucyhcblx0XHRcdGxpbmsuc291cmNlLmRlcHRoLFxuXHRcdFx0bGluay5zb3VyY2UuZGF0YS50ZXh0XG5cdFx0KTtcblxuXHRcdC8vIEdldCBjb3JyZXNwb25kaW5nIHBhZGRpbmcgdmFsdWVzXG5cdFx0Y29uc3Qgc291cmNlUGFkZGluZyA9IHRoaXMuZ2V0Tm9kZVBhZGRpbmcobGluay5zb3VyY2UuZGVwdGgpO1xuXHRcdGNvbnN0IHRhcmdldFBhZGRpbmcgPSB0aGlzLmdldE5vZGVQYWRkaW5nKGxpbmsudGFyZ2V0LmRlcHRoKTtcblxuXHRcdC8vIFVzZSBjb29yZGluYXRlIGNvbnZlcnNpb24gdG9vbCB0byBjYWxjdWxhdGUgY29ubmVjdGlvbiBwb2ludHNcblx0XHRjb25zdCBzb3VyY2VYID0gQ29vcmRpbmF0ZUNvbnZlcnRlci50b1JpZ2h0RWRnZShcblx0XHRcdGxpbmsuc291cmNlLnksICAgICAgICAgICAvLyBMYXlvdXQgWSAobGVmdCBlZGdlKVxuXHRcdFx0c291cmNlRGltZW5zaW9ucy53aWR0aCwgIC8vIE5vZGUgd2lkdGhcblx0XHRcdHNvdXJjZVBhZGRpbmcsICAgICAgICAgICAgLy8gcGFkZGluZ1xuXHRcdFx0dGhpcy5jb25maWcubGluZU9mZnNldCwgICAvLyBMaW5rIG9mZnNldFxuXHRcdFx0b2Zmc2V0WFxuXHRcdCk7XG5cblx0XHRjb25zdCB0YXJnZXRYID0gQ29vcmRpbmF0ZUNvbnZlcnRlci50b0xlZnRFZGdlKFxuXHRcdFx0bGluay50YXJnZXQueSwgICAgICAgIC8vIExheW91dCBZIChsZWZ0IGVkZ2UpXG5cdFx0XHR0YXJnZXRQYWRkaW5nLCAgICAgICAgIC8vIHBhZGRpbmdcblx0XHRcdHRoaXMuY29uZmlnLmxpbmVPZmZzZXQsICAvLyBMaW5rIG9mZnNldFxuXHRcdFx0b2Zmc2V0WFxuXHRcdCk7XG5cblx0XHQvLyBZIGNvb3JkaW5hdGU6IGxheW91dCBYIGlzIGNlbnRlciwganVzdCBhZGQgb2Zmc2V0XG5cdFx0Y29uc3Qgc291cmNlWSA9IENvb3JkaW5hdGVDb252ZXJ0ZXIudG9DYW52YXNZKGxpbmsuc291cmNlLngsIDAsIG9mZnNldFkpO1xuXHRcdGNvbnN0IHRhcmdldFkgPSBDb29yZGluYXRlQ29udmVydGVyLnRvQ2FudmFzWShsaW5rLnRhcmdldC54LCAwLCBvZmZzZXRZKTtcblxuXHRcdHJldHVybiB7IHNvdXJjZVgsIHNvdXJjZVksIHRhcmdldFgsIHRhcmdldFkgfTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgbm9kZSBwYWRkaW5nIHZhbHVlXG5cdCAqXG5cdCAqIEBwYXJhbSBkZXB0aCBOb2RlIGRlcHRoXG5cdCAqIEByZXR1cm5zIFBhZGRpbmcgdmFsdWUgKHBpeGVscylcblx0ICovXG5cdHByaXZhdGUgZ2V0Tm9kZVBhZGRpbmcoZGVwdGg6IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKGRlcHRoID09PSAwKSByZXR1cm4gMjQ7ICAgIC8vIFJvb3Qgbm9kZSBwYWRkaW5nXG5cdFx0ZWxzZSBpZiAoZGVwdGggPT09IDEpIHJldHVybiAyMDsgLy8gTGV2ZWwgMSBwYWRkaW5nXG5cdFx0ZWxzZSByZXR1cm4gMTY7ICAgICAgICAgICAgICAgICAvLyBMZXZlbCAyIGFuZCBiZXlvbmQgcGFkZGluZ1xuXHR9XG59XG4iLCAiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgTWluZE1hcE5vZGUsIE5vZGVEaW1lbnNpb25zIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgVGV4dE1lYXN1cmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvVGV4dE1lYXN1cmVyJztcbmltcG9ydCB7IE1pbmRNYXBDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcvdHlwZXMnO1xuaW1wb3J0IHsgRWRpdGluZ1N0YXRlIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuXG4vKipcbiAqIFx1NjU4N1x1NjcyQ1x1NkUzMlx1NjdEM1x1NTY2OFxuICpcbiAqIFx1MzAxMFx1ODA0Q1x1OEQyM1x1MzAxMVxuICogLSBcdTUyMUJcdTVFRkFmb3JlaWduT2JqZWN0XHU1QkI5XHU1NjY4XG4gKiAtIFx1NkUzMlx1NjdEM1x1ODI4Mlx1NzBCOVx1NjU4N1x1NjcyQ1x1NTE4NVx1NUJCOVxuICogLSBcdTU5MDRcdTc0MDZcdTU5MUFcdTg4NENcdTY1ODdcdTY3MkNcbiAqIC0gXHU1RTk0XHU3NTI4XHU2NTg3XHU2NzJDXHU2ODM3XHU1RjBGXHVGRjA4Zm9udC1zaXplLCBwYWRkaW5nLCBhbGlnbm1lbnRcdUZGMDlcbiAqIC0gXHU1OTA0XHU3NDA2XHU2NTg3XHU2NzJDXHU3RjE2XHU4RjkxXHU3NkY4XHU1MTczXHU0RThCXHU0RUY2XHVGRjA4Ymx1ciwga2V5ZG93biwga2V5dXBcdUZGMDlcbiAqXG4gKiBcdTMwMTBcdTRGOURcdThENTZcdTMwMTFcbiAqIC0gVGV4dE1lYXN1cmVyOiBcdTgzQjdcdTUzRDZcdTVDM0FcdTVCRjhcdTRGRTFcdTYwNkZcbiAqIC0gTWluZE1hcENvbmZpZzogXHU4QkJFXHU1OTA3XHU3QzdCXHU1NzhCXHU1MjI0XHU2NUFEXHVGRjA4XHU3OUZCXHU1MkE4XHU3QUVGRW50ZXJcdTg4NENcdTRFM0FcdTRFMERcdTU0MENcdUZGMDlcbiAqXG4gKiBcdTMwMTBcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcdTMwMTFcbiAqIC0ga2V5ZG93bjogRW50ZXJcdTRGRERcdTVCNTgvRXNjYXBlXHU1M0Q2XHU2RDg4L0JhY2tzcGFjZVx1NTkwNFx1NzQwNlx1NjM2Mlx1ODg0Q1xuICogLSBrZXl1cDogQWx0K0VudGVyXHU2M0QyXHU1MTY1XHU2MzYyXHU4ODRDXG4gKiAtIGJsdXI6IFx1ODFFQVx1NTJBOFx1NEZERFx1NUI1OFxuICogLSBjbGljazogXHU5NjNCXHU2QjYyXHU0RThCXHU0RUY2XHU1MTkyXHU2Q0UxXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0UmVuZGVyZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHRleHRNZWFzdXJlcjogVGV4dE1lYXN1cmVyLFxuXHRcdHByaXZhdGUgY29uZmlnPzogTWluZE1hcENvbmZpZyxcblx0XHRwcml2YXRlIGVkaXRpbmdTdGF0ZT86IEVkaXRpbmdTdGF0ZSxcblx0XHRwcml2YXRlIG9uVGV4dEVkaXQ/OiAoXG5cdFx0XHRldmVudDogS2V5Ym9hcmRFdmVudCxcblx0XHRcdHRleHREaXZOb2RlOiBIVE1MRGl2RWxlbWVudCxcblx0XHRcdHNlbGY6IFRleHRSZW5kZXJlclxuXHRcdCkgPT4gdm9pZFxuXHQpIHt9XG5cblx0LyoqXG5cdCAqIFx1NEUzQVx1ODI4Mlx1NzBCOVx1NkUzMlx1NjdEM1x1NjU4N1x1NjcyQ1xuXHQgKlxuXHQgKiBAcGFyYW0gbm9kZUVsZW1lbnRzIFx1ODI4Mlx1NzBCOVx1NTE0M1x1N0QyMFx1OTAwOVx1NjJFOVxuXHQgKiBAcGFyYW0gb25FZGl0Q2FsbGJhY2sgXHU3RjE2XHU4RjkxXHU0RThCXHU0RUY2XHU1NkRFXHU4QzAzXHU1MUZEXHU2NTcwXG5cdCAqIEBwYXJhbSBwYXJlbnRDb250ZXh0IFx1NzIzNlx1N0VBN1x1NEUwQVx1NEUwQlx1NjU4N1x1RkYwOFx1NzUyOFx1NEU4RVx1OEJCRlx1OTVFRXNhdmVOb2RlVGV4dFx1N0I0OVx1NjVCOVx1NkNENVx1RkYwOVxuXHQgKi9cblx0cmVuZGVyVGV4dChcblx0XHRub2RlRWxlbWVudHM6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sIFNWR0dFbGVtZW50LCB1bmtub3duPixcblx0XHRvbkVkaXRDYWxsYmFjaz86IChldmVudDogS2V5Ym9hcmRFdmVudCwgdGV4dERpdk5vZGU6IEhUTUxEaXZFbGVtZW50KSA9PiB2b2lkLFxuXHRcdHBhcmVudENvbnRleHQ/OiB7XG5cdFx0XHRjb25maWc/OiBNaW5kTWFwQ29uZmlnO1xuXHRcdFx0ZWRpdGluZ1N0YXRlPzogRWRpdGluZ1N0YXRlO1xuXHRcdFx0c2F2ZU5vZGVUZXh0PzogKCkgPT4gdm9pZDtcblx0XHRcdGNhbmNlbEVkaXRNb2RlPzogKCkgPT4gdm9pZDtcblx0XHRcdHRleHRNZWFzdXJlcj86IFRleHRNZWFzdXJlcjtcblx0XHR9XG5cdCk6IHZvaWQge1xuXHRcdGNvbnN0IHNlbGYgPSBwYXJlbnRDb250ZXh0IHx8IHRoaXM7XG5cblx0XHRub2RlRWxlbWVudHMuZWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRjb25zdCBkaW1lbnNpb25zID0gKHNlbGYgYXMgVGV4dFJlbmRlcmVyKS50ZXh0TWVhc3VyZXIuZ2V0Tm9kZURpbWVuc2lvbnMoZC5kZXB0aCwgZC5kYXRhLnRleHQpO1xuXHRcdFx0Y29uc3Qgbm9kZUVsZW1lbnQgPSBkMy5zZWxlY3QodGhpcyk7XG5cblx0XHRcdC8vIFx1NjgzOVx1NjM2RVx1NUM0Mlx1N0VBN1x1OEJCRVx1N0Y2RVx1NUJGOVx1OUY1MFx1NjVCOVx1NUYwRlxuXHRcdFx0Y29uc3QgaXNDZW50ZXJBbGlnbmVkID0gZC5kZXB0aCA9PT0gMCB8fCBkLmRlcHRoID09PSAxO1xuXG5cdFx0XHQvLyBcdTUyMUJcdTVFRkFcdTdFREZcdTRFMDBcdTc2ODRcdTY1ODdcdTY3MkNcdTVCQjlcdTU2NjggLSBcdTU0MENcdTY1RjZcdTc1MjhcdTRFOEVcdTY2M0VcdTc5M0FcdTU0OENcdTdGMTZcdThGOTFcblx0XHRcdGNvbnN0IHRleHRGb3JlaWduT2JqZWN0ID0gbm9kZUVsZW1lbnQuYXBwZW5kKFwiZm9yZWlnbk9iamVjdFwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibm9kZS10ZXh0LWxheWVyXCIpXG5cdFx0XHRcdC5hdHRyKFwid2lkdGhcIiwgZGltZW5zaW9ucy53aWR0aClcblx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgZGltZW5zaW9ucy5oZWlnaHQpXG5cdFx0XHRcdC5hdHRyKFwieFwiLCAwKVxuXHRcdFx0XHQuYXR0cihcInlcIiwgMCk7XG5cblx0XHRcdGNvbnN0IHRleHREaXYgPSB0ZXh0Rm9yZWlnbk9iamVjdC5hcHBlbmQoXCJ4aHRtbDpkaXZcIilcblx0XHRcdFx0LmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIiwgXCJmYWxzZVwiKSAgLy8gXHU5RUQ4XHU4QkE0XHU0RTBEXHU1M0VGXHU3RjE2XHU4RjkxXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJub2RlLXVuaWZpZWQtdGV4dFwiKVxuXHRcdFx0XHQuc3R5bGUoXCJ3aWR0aFwiLCBcIjEwMCVcIilcblx0XHRcdFx0LnN0eWxlKFwiaGVpZ2h0XCIsIFwiMTAwJVwiKVxuXHRcdFx0XHQuc3R5bGUoXCJwYWRkaW5nXCIsIGAke2RpbWVuc2lvbnMucGFkZGluZ31weGApXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBkaW1lbnNpb25zLmZvbnRTaXplKVxuXHRcdFx0XHQuc3R5bGUoXCJmb250LXdlaWdodFwiLCBkaW1lbnNpb25zLmZvbnRXZWlnaHQpXG5cdFx0XHRcdC5zdHlsZShcImNvbG9yXCIsIGQuZGVwdGggPT09IDAgPyBcIiNmZmZmZmZcIiA6IFwiIzAwMDAwMFwiKVxuXHRcdFx0XHQuc3R5bGUoXCJ0ZXh0LWFsaWduXCIsIGlzQ2VudGVyQWxpZ25lZCA/IFwiY2VudGVyXCIgOiBcImxlZnRcIilcblx0XHRcdFx0LnN0eWxlKFwib3V0bGluZVwiLCBcIm5vbmVcIilcblx0XHRcdFx0LnN0eWxlKFwiYm9yZGVyXCIsIFwibm9uZVwiKVxuXHRcdFx0XHQuc3R5bGUoXCJiYWNrZ3JvdW5kXCIsIFwidHJhbnNwYXJlbnRcIilcblx0XHRcdFx0LnN0eWxlKFwid29yZC13cmFwXCIsIFwibm9ybWFsXCIpICAgICAgIC8vIFx1Nzk4MVx1NzUyOFx1ODFFQVx1NTJBOFx1NjM2Mlx1ODg0Q1xuXHRcdFx0XHQuc3R5bGUoXCJ3aGl0ZS1zcGFjZVwiLCBcInByZVwiKSAgICAgICAgIC8vIFx1NTNFQVx1NEZERFx1NzU1OVx1NjI0Qlx1NTJBOFx1NjM2Mlx1ODg0Q1x1RkYwQ1x1Nzk4MVx1NzUyOFx1ODFFQVx1NTJBOFx1NjM2Mlx1ODg0Q1xuXHRcdFx0XHQuc3R5bGUoXCJvdmVyZmxvd1wiLCBcInZpc2libGVcIilcblx0XHRcdFx0LnN0eWxlKFwiYm94LXNpemluZ1wiLCBcImJvcmRlci1ib3hcIilcblx0XHRcdFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJ2YXIoLS1mb250LXRleHQpXCIpXG5cdFx0XHRcdC5zdHlsZShcImxpbmUtaGVpZ2h0XCIsIFwiMS4zXCIpICAgICAgICAvLyBcdTRGMThcdTUzMTZcdUZGMUExLjVcdTIxOTIxLjNcdUZGMENcdTgyODJcdTc3MDExMyVcblx0XHRcdFx0LnN0eWxlKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKTsgIC8vIFx1OUVEOFx1OEJBNFx1NjMwN1x1OTQ4OFx1NjgzN1x1NUYwRlxuXHRcdFx0XHQvLyB1c2VyLXNlbGVjdCBcdTc1MzEgQ1NTIFx1NzY4NCAuZWRpdGluZyBcdTdDN0JcdTYzQTdcdTUyMzZcdUZGMENcdTRFMERcdTk3MDBcdTg5ODFcdTU3MjhcdThGRDlcdTkxQ0NcdThCQkVcdTdGNkVcblxuXHRcdFx0Ly8gXHU4QkJFXHU3RjZFXHU2NTg3XHU2NzJDXHU1MTg1XHU1QkI5XG5cdFx0XHRjb25zdCB0ZXh0RGl2Tm9kZSA9IHRleHREaXYubm9kZSgpIGFzIEhUTUxEaXZFbGVtZW50O1xuXHRcdFx0aWYgKHRleHREaXZOb2RlKSB7XG5cdFx0XHRcdHRleHREaXZOb2RlLnRleHRDb250ZW50ID0gZC5kYXRhLnRleHQ7XG5cblx0XHRcdFx0Ly8gXHU0RTNBXHU4MjgyXHU3MEI5XHU2REZCXHU1MkEwXHU1NTJGXHU0RTAwY2xhc3NcdTRFRTVcdTRGQkZcdTU0MEVcdTdFRURcdTY3RTVcdTYyN0Vcblx0XHRcdFx0Y29uc3Qgbm9kZVRleHRDbGFzcyA9IGBub2RlLSR7ZC5kYXRhLnRleHQucmVwbGFjZSgvXFxzKy9nLCAnLScpfWA7XG5cdFx0XHRcdG5vZGVFbGVtZW50LmNsYXNzZWQobm9kZVRleHRDbGFzcywgdHJ1ZSk7XG5cblx0XHRcdFx0Ly8gXHU5NjQ0XHU1MkEwXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHU1NjY4XHVGRjA4XHU0RjdGXHU3NTI4IFRleHRSZW5kZXJlciBcdTVCOUVcdTRGOEJcdUZGMDlcblx0XHRcdFx0aWYgKHBhcmVudENvbnRleHQgJiYgcGFyZW50Q29udGV4dCBpbnN0YW5jZW9mIE9iamVjdCkge1xuXHRcdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRiBEM1RyZWVSZW5kZXJlciBcdTVCOUVcdTRGOEJcdUZGMENcdTc2RjRcdTYzQTVcdTk2NDRcdTUyQTBcdTRFOEJcdTRFRjZcblx0XHRcdFx0XHRUZXh0UmVuZGVyZXIuYXR0YWNoVGV4dEVkaXRIYW5kbGVyc1RvTm9kZSh0ZXh0RGl2Tm9kZSwgZCwgb25FZGl0Q2FsbGJhY2ssIHNlbGYgYXMge1xuXHRcdFx0XHRcdFx0Y29uZmlnPzogTWluZE1hcENvbmZpZztcblx0XHRcdFx0XHRcdGVkaXRpbmdTdGF0ZT86IEVkaXRpbmdTdGF0ZTtcblx0XHRcdFx0XHRcdHNhdmVOb2RlVGV4dD86ICgpID0+IHZvaWQ7XG5cdFx0XHRcdFx0XHRjYW5jZWxFZGl0TW9kZT86ICgpID0+IHZvaWQ7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gZWxzZTogTm8gcGFyZW50IGNvbnRleHQsIHNraXAgZXZlbnQgaGFuZGxlciBhdHRhY2htZW50XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogXHU2REZCXHU1MkEwXHU2NTg3XHU2NzJDXHU3RjE2XHU4RjkxXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHU1NjY4XHVGRjA4XHU5NzU5XHU2MDAxXHU2NUI5XHU2Q0Q1XHVGRjA5XG5cdCAqXG5cdCAqIEBwYXJhbSB0ZXh0RGl2Tm9kZSBcdTY1ODdcdTY3MkNkaXZcdTUxNDNcdTdEMjBcblx0ICogQHBhcmFtIG5vZGVEYXRhIFx1ODI4Mlx1NzBCOVx1NjU3MFx1NjM2RVxuXHQgKiBAcGFyYW0gb25FZGl0Q2FsbGJhY2sgXHU3RjE2XHU4RjkxXHU1NkRFXHU4QzAzXHU1MUZEXHU2NTcwXG5cdCAqIEBwYXJhbSBwYXJlbnRDb250ZXh0IFx1NzIzNlx1N0VBN1x1NEUwQVx1NEUwQlx1NjU4N1x1RkYwOEQzVHJlZVJlbmRlcmVyXHU1QjlFXHU0RjhCXHVGRjA5XG5cdCAqL1xuXHRzdGF0aWMgYXR0YWNoVGV4dEVkaXRIYW5kbGVyc1RvTm9kZShcblx0XHR0ZXh0RGl2Tm9kZTogSFRNTERpdkVsZW1lbnQsXG5cdFx0bm9kZURhdGE6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuXHRcdG9uRWRpdENhbGxiYWNrPzogKGV2ZW50OiBLZXlib2FyZEV2ZW50LCB0ZXh0RGl2Tm9kZTogSFRNTERpdkVsZW1lbnQpID0+IHZvaWQsXG5cdFx0cGFyZW50Q29udGV4dD86IHtcblx0XHRcdGNvbmZpZz86IE1pbmRNYXBDb25maWc7XG5cdFx0XHRlZGl0aW5nU3RhdGU/OiBFZGl0aW5nU3RhdGU7XG5cdFx0XHRzYXZlTm9kZVRleHQ/OiAoKSA9PiB2b2lkO1xuXHRcdFx0Y2FuY2VsRWRpdE1vZGU/OiAoKSA9PiB2b2lkO1xuXHRcdH1cblx0KTogdm9pZCB7XG5cdFx0aWYgKCFwYXJlbnRDb250ZXh0KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgY29uZmlnID0gcGFyZW50Q29udGV4dC5jb25maWc7XG5cdFx0Y29uc3QgZWRpdGluZ1N0YXRlID0gcGFyZW50Q29udGV4dC5lZGl0aW5nU3RhdGU7XG5cblx0XHQvLyBrZXlkb3duOiBFbnRlclx1NEZERFx1NUI1OC9Fc2NhcGVcdTUzRDZcdTZEODgvQmFja3NwYWNlXHU1OTA0XHU3NDA2XHU2MzYyXHU4ODRDXG5cdFx0dGV4dERpdk5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAodGV4dERpdk5vZGUuY29udGVudEVkaXRhYmxlID09PSBcInRydWVcIikge1xuXHRcdFx0XHRpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcblx0XHRcdFx0XHQvLyBcdTc5RkJcdTUyQThcdTdBRUZcdUZGMUFFbnRlciBcdTk1MkVcdTRFM0JcdTUyQThcdTYzRDJcdTUxNjVcdTYzNjJcdTg4NENcdTdCMjZcdUZGMDhcdTRFMERcdTRGOURcdThENTZcdTlFRDhcdThCQTRcdTg4NENcdTRFM0FcdUZGMDlcblx0XHRcdFx0XHRpZiAoY29uZmlnPy5pc01vYmlsZSkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0XHRcdFx0XHQvLyBcdTRGN0ZcdTc1MjggU2VsZWN0aW9uIEFQSSBcdTYzRDJcdTUxNjVcdTYzNjJcdTg4NENcdTdCMjZcdUZGMDhcdTRFMEUgQWx0K0VudGVyIFx1OTAzQlx1OEY5MVx1NzZGOFx1NTQwQ1x1RkYwOVxuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdFx0aWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBcdTUyMjBcdTk2NjRcdTkwMDlcdTRFMkRcdTc2ODRcdTY1ODdcdTY3MkNcdUZGMDhcdTU5ODJcdTY3OUNcdTY3MDlcdUZGMDlcblx0XHRcdFx0XHRcdFx0cmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1ODdcdTY3MkNcdTgyODJcdTcwQjlcdUZGMENcdTUzMDVcdTU0MkJcdTYzNjJcdTg4NENcdTdCMjZcblx0XHRcdFx0XHRcdFx0Y29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnXFxuJyk7XG5cdFx0XHRcdFx0XHRcdHJhbmdlLmluc2VydE5vZGUodGV4dE5vZGUpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFx1NzlGQlx1NTJBOFx1NTE0OVx1NjgwN1x1NTIzMFx1NjM2Mlx1ODg0Q1x1N0IyNlx1NTQwRVx1OTc2MlxuXHRcdFx0XHRcdFx0XHRyYW5nZS5zZXRTdGFydEFmdGVyKHRleHROb2RlKTtcblx0XHRcdFx0XHRcdFx0cmFuZ2Uuc2V0RW5kQWZ0ZXIodGV4dE5vZGUpO1xuXHRcdFx0XHRcdFx0XHRzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cdFx0XHRcdFx0XHRcdHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gXHU2ODRDXHU5NzYyXHU3QUVGXHVGRjFBXHU0RkREXHU2MzAxXHU1MzlGXHU2NzA5XHU5MDNCXHU4RjkxXG5cdFx0XHRcdFx0aWYgKGV2ZW50LmFsdEtleSkge1xuXHRcdFx0XHRcdFx0Ly8gQWx0K0VudGVyOiBcdTk2M0JcdTZCNjJcdTlFRDhcdThCQTRcdTg4NENcdTRFM0FcdUZGMENcdTc1MzEga2V5dXAgXHU1OTA0XHU3NDA2XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIEVudGVyOiBcdTRGRERcdTVCNThcdTdGMTZcdThGOTFcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgIC8vIFx1OTYzQlx1NkI2Mlx1NEU4Qlx1NEVGNlx1NTE5Mlx1NkNFMVx1NTIzMFx1NTE2OFx1NUM0MFx1NzZEMVx1NTQyQ1x1NTY2OFxuXHRcdFx0XHRcdFx0cGFyZW50Q29udGV4dC5zYXZlTm9kZVRleHQ/LigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAgLy8gXHU5NjNCXHU2QjYyXHU0RThCXHU0RUY2XHU1MTkyXHU2Q0UxXHU1MjMwXHU1MTY4XHU1QzQwXHU3NkQxXHU1NDJDXHU1NjY4XG5cdFx0XHRcdFx0cGFyZW50Q29udGV4dC5jYW5jZWxFZGl0TW9kZT8uKCk7ICAvLyBcdTUzRDZcdTZEODhcdTdGMTZcdThGOTEsXHU2MDYyXHU1OTBEXHU1MzlGXHU1OUNCXHU2NTg3XHU2NzJDXG5cdFx0XHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkJhY2tzcGFjZVwiKSB7XG5cdFx0XHRcdFx0Ly8gXHU1OTA0XHU3NDA2XHU4ODRDXHU5OTk2XHU1MjIwXHU5NjY0XHVGRjFBXHU2OEMwXHU2RDRCXHU1MTQ5XHU2ODA3XHU2NjJGXHU1NDI2XHU1NzI4XHU4ODRDXHU5OTk2XHVGRjA4XHU1MjREXHU5NzYyXHU2NzA5XFxuXHVGRjA5XG5cdFx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGlmIChzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XG5cdFx0XHRcdFx0XHRjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuXHRcdFx0XHRcdFx0Y29uc3Qgbm9kZSA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuXG5cdFx0XHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTU3MjhcdTY1ODdcdTY3MkNcdTgyODJcdTcwQjlcdTRFMkRcblx0XHRcdFx0XHRcdGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCB0ZXh0Q29udGVudCA9IG5vZGUudGV4dENvbnRlbnQgfHwgJyc7XG5cdFx0XHRcdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NTE0OVx1NjgwN1x1NEUwRFx1NTcyOFx1NUYwMFx1NTkzNFx1RkYwQ1x1NEUxNFx1NTI0RFx1NEUwMFx1NEUyQVx1NUI1N1x1N0IyNlx1NjYyRlxcblxuXHRcdFx0XHRcdFx0XHRpZiAocmFuZ2Uuc3RhcnRPZmZzZXQgPiAwICYmIHRleHRDb250ZW50W3JhbmdlLnN0YXJ0T2Zmc2V0IC0gMV0gPT09ICdcXG4nKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0XHQvLyBcdTUyMjBcdTk2NjRcXG5cdUZGMENcdTU0MDhcdTVFNzZcdTUyMzBcdTRFMEFcdTRFMDBcdTg4NENcblx0XHRcdFx0XHRcdFx0XHRyYW5nZS5zZXRTdGFydChub2RlLCByYW5nZS5zdGFydE9mZnNldCAtIDEpO1xuXHRcdFx0XHRcdFx0XHRcdHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBcdTg5RTZcdTUzRDFcdTgxRUFcdTVCOUFcdTRFNDlcdTU2REVcdThDMDNcblx0XHRcdFx0aWYgKG9uRWRpdENhbGxiYWNrKSB7XG5cdFx0XHRcdFx0b25FZGl0Q2FsbGJhY2soZXZlbnQsIHRleHREaXZOb2RlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8ga2V5dXA6IEFsdCtFbnRlclx1NjNEMlx1NTE2NVx1NjM2Mlx1ODg0Q1x1RkYwOFx1OTA3Rlx1NTE0RFx1NEUwRSBjb250ZW50RWRpdGFibGUgXHU5RUQ4XHU4QkE0XHU4ODRDXHU0RTNBXHU1MUIyXHU3QTgxXHVGRjA5XG5cdFx0dGV4dERpdk5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldmVudCkgPT4ge1xuXHRcdFx0aWYgKHRleHREaXZOb2RlLmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCIpIHtcblx0XHRcdFx0Ly8gXHU2OEMwXHU2RDRCIEFsdCtFbnRlciBcdTdFQzRcdTU0MDhcdTk1MkVcblx0XHRcdFx0aWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiICYmIGV2ZW50LmFsdEtleSkge1xuXHRcdFx0XHRcdC8vIFx1NEY3Rlx1NzUyOCBTZWxlY3Rpb24gQVBJIFx1NjNEMlx1NTE2NVx1NjM2Mlx1ODg0Q1x1N0IyNlxuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcblxuXHRcdFx0XHRcdFx0Ly8gXHU1MjIwXHU5NjY0XHU5MDA5XHU0RTJEXHU3Njg0XHU2NTg3XHU2NzJDXHVGRjA4XHU1OTgyXHU2NzlDXHU2NzA5XHVGRjA5XG5cdFx0XHRcdFx0XHRyYW5nZS5kZWxldGVDb250ZW50cygpO1xuXG5cdFx0XHRcdFx0XHQvLyBcdTUyMUJcdTVFRkFcdTY1ODdcdTY3MkNcdTgyODJcdTcwQjlcdUZGMENcdTUzMDVcdTU0MkJcdTYzNjJcdTg4NENcdTdCMjZcblx0XHRcdFx0XHRcdGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xcbicpO1xuXHRcdFx0XHRcdFx0cmFuZ2UuaW5zZXJ0Tm9kZSh0ZXh0Tm9kZSk7XG5cblx0XHRcdFx0XHRcdC8vIFx1NzlGQlx1NTJBOFx1NTE0OVx1NjgwN1x1NTIzMFx1NjM2Mlx1ODg0Q1x1N0IyNlx1NTQwRVx1OTc2MlxuXHRcdFx0XHRcdFx0cmFuZ2Uuc2V0U3RhcnRBZnRlcih0ZXh0Tm9kZSk7XG5cdFx0XHRcdFx0XHRyYW5nZS5zZXRFbmRBZnRlcih0ZXh0Tm9kZSk7XG5cdFx0XHRcdFx0XHRzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cdFx0XHRcdFx0XHRzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gYmx1cjogXHU4MUVBXHU1MkE4XHU0RkREXHU1QjU4XG5cdFx0dGV4dERpdk5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4ge1xuXHRcdFx0aWYgKHRleHREaXZOb2RlLmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCIgJiYgZWRpdGluZ1N0YXRlPy5lZGl0RWxlbWVudCA9PT0gdGV4dERpdk5vZGUpIHtcblxuXHRcdFx0XHQvLyBcdTVFRjZcdThGREZcdTRGRERcdTVCNThcdUZGMENcdTdFRDlcdTcwQjlcdTUxRkJcdTUxNzZcdTRFRDZcdTUxNDNcdTdEMjBcdTc1NTlcdTUxRkFcdTY1RjZcdTk1RjRcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVkaXRpbmdTdGF0ZT8uZWRpdEVsZW1lbnQgPT09IHRleHREaXZOb2RlKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnRDb250ZXh0LnNhdmVOb2RlVGV4dD8uKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAxNTApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NjZGNFx1NjVCMFx1ODI4Mlx1NzBCOVx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVx1NzY4NFx1NUYxNVx1NzUyOFxuXHQgKlxuXHQgKiBAcGFyYW0gZWRpdGluZ1N0YXRlIFx1NjVCMFx1NzY4NFx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVxuXHQgKi9cblx0dXBkYXRlRWRpdGluZ1N0YXRlKGVkaXRpbmdTdGF0ZTogRWRpdGluZ1N0YXRlKTogdm9pZCB7XG5cdFx0dGhpcy5lZGl0aW5nU3RhdGUgPSBlZGl0aW5nU3RhdGU7XG5cdH1cblxuXHQvKipcblx0ICogXHU2NkY0XHU2NUIwXHU3MjM2XHU3RUE3XHU0RTBBXHU0RTBCXHU2NTg3XG5cdCAqXG5cdCAqIEBwYXJhbSBwYXJlbnRDb250ZXh0IFx1NjVCMFx1NzY4NFx1NzIzNlx1N0VBN1x1NEUwQVx1NEUwQlx1NjU4N1xuXHQgKi9cblx0dXBkYXRlUGFyZW50Q29udGV4dChwYXJlbnRDb250ZXh0OiB7IGNvbmZpZz86IE1pbmRNYXBDb25maWc7IGVkaXRpbmdTdGF0ZT86IEVkaXRpbmdTdGF0ZSB9KTogdm9pZCB7XG5cdFx0dGhpcy5vblRleHRFZGl0ID0gKChldmVudDogS2V5Ym9hcmRFdmVudCwgdGV4dERpdk5vZGU6IEhUTUxEaXZFbGVtZW50KSA9PiB7XG5cdFx0XHQvLyBcdTUzRUZcdTRFRTVcdTU3MjhcdThGRDlcdTkxQ0NcdTZERkJcdTUyQTBcdTgxRUFcdTVCOUFcdTRFNDlcdTU5MDRcdTc0MDZcdTkwM0JcdThGOTFcblx0XHR9KSBhcyAoZXZlbnQ6IEtleWJvYXJkRXZlbnQsIHRleHREaXZOb2RlOiBIVE1MRGl2RWxlbWVudCwgc2VsZjogVGV4dFJlbmRlcmVyKSA9PiB2b2lkO1xuXHR9XG59XG4iLCAiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgTWluZE1hcE5vZGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21pbmRtYXAtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBNb3VzZUludGVyYWN0aW9uQ2FsbGJhY2tzLCBNb3VzZUludGVyYWN0aW9uT3B0aW9ucyB9IGZyb20gJy4vTW91c2VJbnRlcmFjdGlvbkNhbGxiYWNrcyc7XG5cbi8qKlxuICogTW91c2VJbnRlcmFjdGlvbiAtIFx1NTkwNFx1NzQwNlx1NjI0MFx1NjcwOVx1OUYyMFx1NjgwN1x1NEVBNFx1NEU5Mlx1OTAzQlx1OEY5MVxuICpcbiAqIFx1MzAxMFx1ODA0Q1x1OEQyM1x1MzAxMVxuICogLSBcdTgyODJcdTcwQjlcdTcwQjlcdTUxRkJcdTkwMDlcdTYyRTlcdUZGMDhcdTU0MkJcdTUzQ0NcdTUxRkJcdTY4QzBcdTZENEJcdUZGMDlcbiAqIC0gXHU4MjgyXHU3MEI5XHU2MEFDXHU1MDVDXHU2NTQ4XHU2NzlDXG4gKiAtIFx1NzUzQlx1NUUwM1x1NjJENlx1NjJGRFxuICogLSBcdTc1M0JcdTVFMDNcdTcwQjlcdTUxRkJcdUZGMDhcdTUzRDZcdTZEODhcdTkwMDlcdTYyRTlcdUZGMDlcbiAqIC0gXHU0RThCXHU0RUY2XHU1OUQ0XHU2MjU4XHU1NDhDXHU1MjA2XHU1M0QxXG4gKlxuICogXHUzMDEwXHU4QkJFXHU4QkExXHU1MzlGXHU1MjE5XHUzMDExXG4gKiAtIFx1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1NEUwRVx1NTkxNlx1OTBFOFx1OTAxQVx1NEZFMVx1RkYwQ1x1NEUwRFx1NzZGNFx1NjNBNVx1NEY5RFx1OEQ1NiBEM1RyZWVSZW5kZXJlclxuICogLSBcdTdCQTFcdTc0MDZcdTRFQTRcdTRFOTJcdTcyQjZcdTYwMDFcdUZGMDhzZWxlY3RlZE5vZGUsIGhvdmVyZWROb2RlXHVGRjA5XG4gKiAtIFx1NjNEMFx1NEY5Qlx1NkUwNVx1NjY3MFx1NzY4NCBBUEkgXHU3NTI4XHU0RThFXHU5NjQ0XHU1MkEwXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHU1NjY4XG4gKi9cbmV4cG9ydCBjbGFzcyBNb3VzZUludGVyYWN0aW9uIHtcblx0Ly8gPT09PT09PT09PSBcdTcyQjZcdTYwMDEgPT09PT09PT09PVxuXG5cdC8qKiBcdTVGNTNcdTUyNERcdTkwMDlcdTRFMkRcdTc2ODRcdTgyODJcdTcwQjkgKi9cblx0cHJpdmF0ZSBzZWxlY3RlZE5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+IHwgbnVsbCA9IG51bGw7XG5cblx0LyoqIFx1NUY1M1x1NTI0RFx1NjBBQ1x1NTA1Q1x1NzY4NFx1ODI4Mlx1NzBCOSAqL1xuXHRwcml2YXRlIGhvdmVyZWROb2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiB8IG51bGwgPSBudWxsO1xuXG5cdC8vIFx1NTNDQ1x1NTFGQlx1NjhDMFx1NkQ0Qlx1NjczQVx1NTIzNlxuXHRwcml2YXRlIGNsaWNrVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBsYXN0Q2xpY2tUaW1lID0gMDtcblx0cHJpdmF0ZSBjbGlja05vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+IHwgbnVsbCA9IG51bGw7XG5cblx0Ly8gXHU5MTREXHU3RjZFXHU5MDA5XHU5ODc5XG5cdHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczogUmVxdWlyZWQ8TW91c2VJbnRlcmFjdGlvbk9wdGlvbnM+O1xuXG5cdC8vID09PT09PT09PT0gXHU2Nzg0XHU5MDIwXHU1MUZEXHU2NTcwID09PT09PT09PT1cblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIGNhbGxiYWNrczogTW91c2VJbnRlcmFjdGlvbkNhbGxiYWNrc1xuXHQpIHtcblx0XHQvLyBcdTlFRDhcdThCQTRcdTkxNERcdTdGNkVcblx0XHR0aGlzLm9wdGlvbnMgPSB7XG5cdFx0XHRkb3VibGVDbGlja1RpbWVvdXQ6IDMwMCxcblx0XHRcdGVuYWJsZUNhbnZhc0RyYWc6IHRydWUsXG5cdFx0XHQuLi5jYWxsYmFja3Ncblx0XHR9O1xuXHR9XG5cblx0Ly8gPT09PT09PT09PSBcdTUxNkNcdTUxNzEgQVBJID09PT09PT09PT1cblxuXHQvKipcblx0ICogXHU0RTNBXHU4MjgyXHU3MEI5XHU5NjQ0XHU1MkEwXHU3MEI5XHU1MUZCXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHU1NjY4XG5cdCAqXG5cdCAqIEBwYXJhbSBub2RlRWxlbWVudHMgRDMgXHU5MDA5XHU2MkU5XHU5NkM2XHVGRjBDXHU1MzA1XHU1NDJCXHU2MjQwXHU2NzA5XHU4MjgyXHU3MEI5XHU3RUM0XG5cdCAqL1xuXHRhdHRhY2hOb2RlQ2xpY2tIYW5kbGVycyhcblx0XHRub2RlRWxlbWVudHM6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sIFNWR0dFbGVtZW50LCB1bmtub3duPlxuXHQpOiB2b2lkIHtcblx0XHRub2RlRWxlbWVudHMuZWFjaCgoZCwgaSwgbm9kZXMpID0+IHtcblx0XHRcdGNvbnN0IG5vZGVFbGVtZW50ID0gZDMuc2VsZWN0KG5vZGVzW2ldKTtcblx0XHRcdGNvbnN0IG5vZGVSZWN0ID0gbm9kZUVsZW1lbnQuc2VsZWN0PFNWR1JlY3RFbGVtZW50PihcIi5ub2RlLXJlY3RcIik7XG5cblx0XHRcdC8vIFx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1NTY2OFxuXHRcdFx0bm9kZUVsZW1lbnQub24oXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdFx0dGhpcy5oYW5kbGVOb2RlQ2xpY2soZXZlbnQsIGQsIG5vZGVSZWN0IGFzIGQzLlNlbGVjdGlvbjxTVkdSZWN0RWxlbWVudCwgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sIFNWR0dFbGVtZW50LCB1bmtub3duPik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTRFM0FcdTgyODJcdTcwQjlcdTk2NDRcdTUyQTBcdTYwQUNcdTUwNUNcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcdTU2Njhcblx0ICpcblx0ICogQHBhcmFtIG5vZGVFbGVtZW50cyBEMyBcdTkwMDlcdTYyRTlcdTk2QzZcdUZGMENcdTUzMDVcdTU0MkJcdTYyNDBcdTY3MDlcdTgyODJcdTcwQjlcdTdFQzRcblx0ICovXG5cdGF0dGFjaE5vZGVIb3ZlckhhbmRsZXJzKFxuXHRcdG5vZGVFbGVtZW50czogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+XG5cdCk6IHZvaWQge1xuXHRcdG5vZGVFbGVtZW50cy5lYWNoKChkLCBpLCBub2RlcykgPT4ge1xuXHRcdFx0Y29uc3Qgbm9kZUVsZW1lbnQgPSBkMy5zZWxlY3Qobm9kZXNbaV0pO1xuXHRcdFx0Y29uc3Qgbm9kZVJlY3QgPSBub2RlRWxlbWVudC5zZWxlY3Q8U1ZHUmVjdEVsZW1lbnQ+KFwiLm5vZGUtcmVjdFwiKTtcblxuXHRcdFx0Ly8gXHU5RjIwXHU2ODA3XHU4RkRCXHU1MTY1XHU0RThCXHU0RUY2XG5cdFx0XHRub2RlRWxlbWVudC5vbihcIm1vdXNlZW50ZXJcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdHRoaXMuaGFuZGxlTm9kZUhvdmVyKGV2ZW50LCBkLCBub2RlUmVjdCBhcyBkMy5TZWxlY3Rpb248U1ZHUmVjdEVsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBTVkdHRWxlbWVudCwgdW5rbm93bj4pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFx1OUYyMFx1NjgwN1x1NzlCQlx1NUYwMFx1NEU4Qlx1NEVGNlxuXHRcdFx0bm9kZUVsZW1lbnQub24oXCJtb3VzZWxlYXZlXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0XHR0aGlzLmhhbmRsZU5vZGVMZWF2ZShldmVudCwgZCwgbm9kZVJlY3QgYXMgZDMuU2VsZWN0aW9uPFNWR1JlY3RFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NEUzQVx1NzUzQlx1NUUwM1x1OTY0NFx1NTJBMFx1NjJENlx1NjJGRFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1NTY2OFxuXHQgKlxuXHQgKiBAcGFyYW0gc3ZnIFNWRyBcdTUxNDNcdTdEMjBcdTc2ODRcdTkwMDlcdTYyRTlcdTk2QzZcblx0ICovXG5cdGF0dGFjaENhbnZhc0RyYWdIYW5kbGVycyhcblx0XHRzdmc6IGQzLlNlbGVjdGlvbjxTVkdTVkdFbGVtZW50LCB1bmtub3duLCBudWxsLCB1bmRlZmluZWQ+XG5cdCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5vcHRpb25zLmVuYWJsZUNhbnZhc0RyYWcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgaXNEcmFnZ2luZyA9IGZhbHNlO1xuXHRcdGxldCBkcmFnU3RhcnRYID0gMDtcblx0XHRsZXQgZHJhZ1N0YXJ0WSA9IDA7XG5cblx0XHRzdmcub24oXCJtb3VzZWRvd25cIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cblx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NzBCOVx1NTFGQlx1NzY4NFx1NjYyRlx1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVx1NzY4NFx1NTE0M1x1N0QyMFx1RkYwQ1x1NEUwRFx1ODk4MVx1NUU3Mlx1OTg4NFx1RkYwQ1x1OEJBOVx1NEU4Qlx1NEVGNlx1NkI2M1x1NUUzOFx1NEYyMFx1OTAxMlxuXHRcdFx0aWYgKHRhcmdldC5jb250ZW50RWRpdGFibGUgPT09IFwidHJ1ZVwiIHx8IHRhcmdldC5jbG9zZXN0KCdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXScpKSB7XG5cdFx0XHRcdHJldHVybjsgLy8gXHU4QkE5XHU0RThCXHU0RUY2XHU2QjYzXHU1RTM4XHU0RjIwXHU5MDEyXHU1MjMwIGNvbnRlbnRlZGl0YWJsZSBcdTUxNDNcdTdEMjBcblx0XHRcdH1cblxuXHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU3NTNCXHU1RTAzXHU0RUE0XHU0RTkyXHU2NjJGXHU1NDI2XHU1NDJGXHU3NTI4XG5cdFx0XHRpZiAoZXZlbnQuYnV0dG9uID09PSAwICYmIHRoaXMuaXNDYW52YXNJbnRlcmFjdGlvbkVuYWJsZWQoKSkge1xuXHRcdFx0XHRpc0RyYWdnaW5nID0gdHJ1ZTtcblx0XHRcdFx0ZHJhZ1N0YXJ0WCA9IGV2ZW50LmNsaWVudFg7XG5cdFx0XHRcdGRyYWdTdGFydFkgPSBldmVudC5jbGllbnRZO1xuXHRcdFx0XHRzdmcuc3R5bGUoXCJjdXJzb3JcIiwgXCJncmFiYmluZ1wiKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHN2Zy5vbihcIm1vdXNlbW92ZVwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcblx0XHRcdGNvbnN0IGlzQ29udGVudEVkaXRhYmxlID0gdGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCIgfHwgdGFyZ2V0LmNsb3Nlc3QoJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJyk7XG5cdFx0XHRjb25zdCBjYW52YXNFbmFibGVkID0gdGhpcy5pc0NhbnZhc0ludGVyYWN0aW9uRW5hYmxlZCgpO1xuXG5cdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTU3MjhcdTUzRUZcdTdGMTZcdThGOTFcdTUxNDNcdTdEMjBcdTRFMEFcdUZGMENcdTU5ODJcdTY3OUNcdTY2MkZcdTUyMTlcdTRFMERcdTU5MDRcdTc0MDZcdTYyRDZcdTYyRkRcblx0XHRcdGlmIChpc0NvbnRlbnRFZGl0YWJsZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc0RyYWdnaW5nICYmIGNhbnZhc0VuYWJsZWQpIHtcblx0XHRcdFx0Ly8gXHU1MTczXHU5NTJFXHU2NUU1XHU1RkQ3XHVGRjFBXHU1M0VBXHU2NzA5XHU3NzFGXHU2QjYzXHU2MjY3XHU4ODRDXHU2MkQ2XHU2MkZEXHU2NUY2XHU2MjREXHU2MjUzXHU1MzcwXG5cdFx0XHRcdGNvbnNvbGUud2FybihcIltNb3VzZUludGVyYWN0aW9uXSBcdUQ4M0RcdURFQTggQ0FOVkFTIERSQUcgRVhFQ1VURUQhXCIsIHtcblx0XHRcdFx0XHR0YXJnZXQ6IHRhcmdldC50YWdOYW1lLFxuXHRcdFx0XHRcdGlzRHJhZ2dpbmcsXG5cdFx0XHRcdFx0Y2FudmFzRW5hYmxlZCxcblx0XHRcdFx0XHRpc0NvbnRlbnRFZGl0YWJsZVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3QgZHggPSBldmVudC5jbGllbnRYIC0gZHJhZ1N0YXJ0WDtcblx0XHRcdFx0Y29uc3QgZHkgPSBldmVudC5jbGllbnRZIC0gZHJhZ1N0YXJ0WTtcblxuXHRcdFx0XHQvLyBcdTg5RTZcdTUzRDFcdTYyRDZcdTYyRkRcdTU2REVcdThDMDNcblx0XHRcdFx0dGhpcy5jYWxsYmFja3Mub25DYW52YXNEcmFnPy4oZHgsIGR5KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHN2Zy5vbihcIm1vdXNldXBcIiwgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuaXNDYW52YXNJbnRlcmFjdGlvbkVuYWJsZWQoKSkge1xuXHRcdFx0XHRpc0RyYWdnaW5nID0gZmFsc2U7XG5cdFx0XHRcdHN2Zy5zdHlsZShcImN1cnNvclwiLCBcImdyYWJcIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRzdmcub24oXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLmlzQ2FudmFzSW50ZXJhY3Rpb25FbmFibGVkKCkpIHtcblx0XHRcdFx0aXNEcmFnZ2luZyA9IGZhbHNlO1xuXHRcdFx0XHRzdmcuc3R5bGUoXCJjdXJzb3JcIiwgXCJncmFiXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NEUzQVx1NzUzQlx1NUUwM1x1OTY0NFx1NTJBMFx1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1NTY2OFx1RkYwOFx1NzUyOFx1NEU4RVx1NTNENlx1NkQ4OFx1OTAwOVx1NjJFOVx1RkYwOVxuXHQgKlxuXHQgKiBAcGFyYW0gc3ZnIFNWRyBcdTUxNDNcdTdEMjBcdTc2ODRcdTkwMDlcdTYyRTlcdTk2QzZcblx0ICovXG5cdGF0dGFjaENhbnZhc0NsaWNrSGFuZGxlcihcblx0XHRzdmc6IGQzLlNlbGVjdGlvbjxTVkdTVkdFbGVtZW50LCB1bmtub3duLCBudWxsLCB1bmRlZmluZWQ+XG5cdCk6IHZvaWQge1xuXHRcdGNvbnN0IHN2Z05vZGUgPSBzdmcubm9kZSgpIGFzIFNWR1NWR0VsZW1lbnQ7XG5cblx0XHRzdmdOb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0XHRcdGNvbnN0IGlzTm9kZUVsZW1lbnQgPSB0aGlzLmlzTm9kZUVsZW1lbnQodGFyZ2V0IGFzIFNWR0VsZW1lbnQpO1xuXG5cdFx0XHRpZiAoIWlzTm9kZUVsZW1lbnQpIHtcblx0XHRcdFx0dGhpcy5jbGVhclNlbGVjdGlvbigpO1xuXHRcdFx0XHR0aGlzLmNhbGxiYWNrcy5vbkNhbnZhc0NsaWNrPy4oKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpc05vZGVFbGVtZW50KSB7XG5cdFx0XHRcdHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcblx0XHRcdFx0dGhpcy5jYWxsYmFja3Mub25DYW52YXNDbGljaz8uKCk7XG5cdFx0XHR9XG5cdFx0fSwgdHJ1ZSk7IC8vIFx1NEY3Rlx1NzUyOFx1NjM1NVx1ODNCN1x1OTYzNlx1NkJCNVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1OTAwOVx1NjJFOVx1NzJCNlx1NjAwMVxuXHQgKi9cblx0Y2xlYXJTZWxlY3Rpb24oKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWROb2RlKSB7XG5cdFx0XHQvLyBcdTZFMDVcdTk2NjRcdTY1NzBcdTYzNkVcdTVDNDJcdTcyQjZcdTYwMDFcblx0XHRcdHRoaXMuc2VsZWN0ZWROb2RlLmRhdGEuc2VsZWN0ZWQgPSBmYWxzZTtcblxuXHRcdFx0Ly8gXHU2RTA1XHU5NjY0XHU4OUM2XHU4OUM5XHU2NTQ4XHU2NzlDXG5cdFx0XHRkMy5zZWxlY3RBbGw8U1ZHUmVjdEVsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+PihcIi5ub2RlLXJlY3RcIilcblx0XHRcdFx0LmNsYXNzZWQoXCJzZWxlY3RlZC1yZWN0XCIsIGZhbHNlKTtcblxuXHRcdFx0Ly8gXHU3OUZCXHU5NjY0XHU5MDA5XHU0RTJEXHU4MjgyXHU3MEI5XHU3Njg0XHU2MzA5XHU5NEFFXG5cdFx0XHRjb25zdCBzZWxlY3RlZE5vZGVFbGVtZW50ID0gZDMuc2VsZWN0QWxsKCcubm9kZXMgZycpXG5cdFx0XHRcdC5maWx0ZXIoKGQ6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiBkID09PSB0aGlzLnNlbGVjdGVkTm9kZSk7XG5cblx0XHRcdHNlbGVjdGVkTm9kZUVsZW1lbnQuc2VsZWN0KCcucGx1cy1idXR0b24tZ3JvdXAnKS5yZW1vdmUoKTtcblx0XHRcdHNlbGVjdGVkTm9kZUVsZW1lbnQuc2VsZWN0KCcuYWktc3VnZ2VzdC1idXR0b24tZ3JvdXAnKS5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gXHU2RTA1XHU3QTdBXHU5MDA5XHU0RTJEXHU4MjgyXHU3MEI5XHU1RjE1XHU3NTI4XG5cdFx0XHR0aGlzLnNlbGVjdGVkTm9kZSA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1ODNCN1x1NTNENlx1NUY1M1x1NTI0RFx1OTAwOVx1NEUyRFx1NzY4NFx1ODI4Mlx1NzBCOVxuXHQgKi9cblx0Z2V0U2VsZWN0ZWROb2RlKCk6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+IHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMuc2VsZWN0ZWROb2RlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1OTUwMFx1NkJDMVx1OUYyMFx1NjgwN1x1NEVBNFx1NEU5Mlx1NTkwNFx1NzQwNlx1NTY2OFxuXHQgKi9cblx0ZGVzdHJveSgpOiB2b2lkIHtcblx0XHQvLyBcdTZFMDVcdTc0MDZcdTcwQjlcdTUxRkJcdThEODVcdTY1RjZcblx0XHRpZiAodGhpcy5jbGlja1RpbWVvdXQpIHtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLmNsaWNrVGltZW91dCk7XG5cdFx0XHR0aGlzLmNsaWNrVGltZW91dCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gXHU2RTA1XHU3NDA2XHU3MkI2XHU2MDAxXG5cdFx0dGhpcy5zZWxlY3RlZE5vZGUgPSBudWxsO1xuXHRcdHRoaXMuaG92ZXJlZE5vZGUgPSBudWxsO1xuXHRcdHRoaXMuY2xpY2tOb2RlID0gbnVsbDtcblx0fVxuXG5cdC8vID09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU2NUI5XHU2Q0Q1IC0gXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2ID09PT09PT09PT1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU4MjgyXHU3MEI5XHU3MEI5XHU1MUZCXHVGRjA4XHU1NDJCXHU1M0NDXHU1MUZCXHU2OEMwXHU2RDRCXHVGRjA5XG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZU5vZGVDbGljayhcblx0XHRldmVudDogTW91c2VFdmVudCxcblx0XHRub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHRub2RlUmVjdDogZDMuU2VsZWN0aW9uPFNWR1JlY3RFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+XG5cdCk6IHZvaWQge1xuXG5cdFx0Y29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RDbGlja1RpbWU7XG5cdFx0Y29uc3QgaXNEb3VibGVDbGljayA9IHRpbWVEaWZmIDwgdGhpcy5vcHRpb25zLmRvdWJsZUNsaWNrVGltZW91dCAmJiB0aGlzLmNsaWNrTm9kZSA9PT0gbm9kZTtcblxuXHRcdGlmIChpc0RvdWJsZUNsaWNrKSB7XG5cdFx0XHQvLyBcdTUzQ0NcdTUxRkJcdTRFOEJcdTRFRjZcblx0XHRcdHRoaXMubGFzdENsaWNrVGltZSA9IDA7XG5cdFx0XHR0aGlzLmNsaWNrTm9kZSA9IG51bGw7XG5cdFx0XHRpZiAodGhpcy5jbGlja1RpbWVvdXQpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaW1lb3V0KTtcblx0XHRcdFx0dGhpcy5jbGlja1RpbWVvdXQgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBcdTk2M0JcdTZCNjJcdTUzQ0NcdTUxRkJcdTRFOEJcdTRFRjZcdTUxOTJcdTZDRTFcdTUyMzAgU1ZHIFx1NUJCOVx1NTY2OFx1RkYwQ1x1OTYzMlx1NkI2Mlx1ODlFNlx1NTNEMSBEMyB6b29tIFx1N0YyOVx1NjUzRVxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHQvLyBcdTRFMERcdThDMDNcdTc1MjggcHJldmVudERlZmF1bHQoKVx1RkYwQ1x1NTE0MVx1OEJCOFx1NkQ0Rlx1ODlDOFx1NTY2OFx1NzY4NFx1OUVEOFx1OEJBNFx1NTE0OVx1NjgwN1x1NUI5QVx1NEY0RFx1ODg0Q1x1NEUzQVxuXHRcdFx0Ly8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0Ly8gXHU4OUU2XHU1M0QxXHU1M0NDXHU1MUZCXHU1NkRFXHU4QzAzIC0gXHU0RjIwXHU5MDEyXHU1MzlGXHU1OUNCXHU0RThCXHU0RUY2XG5cdFx0XHR0aGlzLmNhbGxiYWNrcy5vbk5vZGVEb3VibGVDbGljaz8uKG5vZGUsIGV2ZW50KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBcdTUzNTVcdTUxRkJcdTU5MDRcdTc0MDZcblx0XHR0aGlzLmxhc3RDbGlja1RpbWUgPSBjdXJyZW50VGltZTtcblx0XHR0aGlzLmNsaWNrTm9kZSA9IG5vZGU7XG5cblx0XHQvLyBcdTZFMDVcdTk2NjRcdTRFNEJcdTUyNERcdTc2ODQgdGltZW91dFxuXHRcdGlmICh0aGlzLmNsaWNrVGltZW91dCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuY2xpY2tUaW1lb3V0KTtcblx0XHR9XG5cblx0XHQvLyBcdTdBQ0JcdTUzNzNcdTYyNjdcdTg4NENcdTkwMDlcdTRFMkRcdTkwM0JcdThGOTFcblx0XHR0aGlzLnBlcmZvcm1Ob2RlU2VsZWN0aW9uKG5vZGUsIG5vZGVSZWN0KTtcblxuXHRcdC8vIFx1OEJCRVx1N0Y2RSB0aW1lb3V0IFx1NzUyOFx1NEU4RVx1NTNDQ1x1NTFGQlx1NjhDMFx1NkQ0Qlx1NzY4NFx1NjVGNlx1OTVGNFx1N0E5N1x1NTNFM1xuXHRcdHRoaXMuY2xpY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLmxhc3RDbGlja1RpbWUgPSAwO1xuXHRcdFx0dGhpcy5jbGlja05vZGUgPSBudWxsO1xuXHRcdFx0dGhpcy5jbGlja1RpbWVvdXQgPSBudWxsO1xuXHRcdH0sIHRoaXMub3B0aW9ucy5kb3VibGVDbGlja1RpbWVvdXQpO1xuXG5cdFx0Ly8gXHU5NjNCXHU2QjYyXHU0RThCXHU0RUY2XHU1MTkyXHU2Q0UxXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cblxuXHQvKipcblx0ICogXHU2MjY3XHU4ODRDXHU4MjgyXHU3MEI5XHU5MDA5XHU2MkU5XHU5MDNCXHU4RjkxXG5cdCAqL1xuXHRwcml2YXRlIHBlcmZvcm1Ob2RlU2VsZWN0aW9uKFxuXHRcdG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuXHRcdG5vZGVSZWN0OiBkMy5TZWxlY3Rpb248U1ZHUmVjdEVsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBTVkdHRWxlbWVudCwgdW5rbm93bj5cblx0KTogdm9pZCB7XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU2QjYzXHU1NzI4XHU3RjE2XHU4RjkxXHVGRjBDXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU3MEI5XHU1MUZCXHU3Njg0XHU2NjJGXHU0RTBEXHU1NDBDXHU3Njg0XHU4MjgyXHU3MEI5XG5cdFx0aWYgKHRoaXMuY2FsbGJhY2tzLmlzRWRpdGluZz8uKCkpIHtcblx0XHRcdGNvbnN0IGVkaXRpbmdOb2RlID0gdGhpcy5jYWxsYmFja3MuZ2V0RWRpdGluZ05vZGU/LigpO1xuXHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU3MEI5XHU1MUZCXHU3Njg0XHU2NjJGXHU2QjYzXHU1NzI4XHU3RjE2XHU4RjkxXHU3Njg0XHU1NDBDXHU0RTAwXHU0RTJBXHU4MjgyXHU3MEI5XHVGRjBDXHU1RkZEXHU3NTY1XHU3MEI5XHU1MUZCXG5cdFx0XHRpZiAoZWRpdGluZ05vZGUgPT09IG5vZGUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU3MEI5XHU1MUZCXHU3Njg0XHU2NjJGXHU0RTBEXHU1NDBDXHU3Njg0XHU4MjgyXHU3MEI5XHVGRjBDXHU1MTQxXHU4QkI4XHU3RUU3XHU3RUVEXHVGRjA4XHU0RjFBXHU4OUU2XHU1M0QxIGJsdXIgXHU0RThCXHU0RUY2XHU0RkREXHU1QjU4XHU1RjUzXHU1MjREXHU4MjgyXHU3MEI5XHVGRjA5XG5cdFx0fVxuXG5cdFx0Ly8gXHU2RTA1XHU5NjY0XHU0RTRCXHU1MjREXHU5MDA5XHU0RTJEXHU3Njg0XHU4MjgyXHU3MEI5XHVGRjA4XHU1OTgyXHU2NzlDXHU1QjU4XHU1NzI4XHU0RTE0XHU0RTBEXHU2NjJGXHU1RjUzXHU1MjREXHU4MjgyXHU3MEI5XHVGRjA5XG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWROb2RlICYmIHRoaXMuc2VsZWN0ZWROb2RlICE9PSBub2RlKSB7XG5cdFx0XHR0aGlzLnNlbGVjdGVkTm9kZS5kYXRhLnNlbGVjdGVkID0gZmFsc2U7XG5cblx0XHRcdC8vIFx1NjZGNFx1NjVCMFx1NEU0Qlx1NTI0RFx1OTAwOVx1NEUyRFx1ODI4Mlx1NzBCOVx1NzY4NFx1ODlDNlx1ODlDOVx1NzJCNlx1NjAwMVxuXHRcdFx0ZDMuc2VsZWN0QWxsPFNWR1JlY3RFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPj4oXCIubm9kZS1yZWN0XCIpXG5cdFx0XHRcdC5maWx0ZXIoKGQ6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiBkID09PSB0aGlzLnNlbGVjdGVkTm9kZSlcblx0XHRcdFx0LmNsYXNzZWQoXCJzZWxlY3RlZC1yZWN0XCIsIGZhbHNlKTtcblxuXHRcdFx0Ly8gXHU3OUZCXHU5NjY0XHU0RTRCXHU1MjREXHU5MDA5XHU0RTJEXHU4MjgyXHU3MEI5XHU3Njg0XHU2MzA5XHU5NEFFXG5cdFx0XHRjb25zdCBwcmV2aW91c05vZGVFbGVtZW50ID0gZDMuc2VsZWN0QWxsKCcubm9kZXMgZycpXG5cdFx0XHRcdC5maWx0ZXIoKGQ6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiBkID09PSB0aGlzLnNlbGVjdGVkTm9kZSk7XG5cblx0XHRcdHByZXZpb3VzTm9kZUVsZW1lbnQuc2VsZWN0KCcucGx1cy1idXR0b24tZ3JvdXAnKS5yZW1vdmUoKTtcblx0XHRcdHByZXZpb3VzTm9kZUVsZW1lbnQuc2VsZWN0KCcuYWktc3VnZ2VzdC1idXR0b24tZ3JvdXAnKS5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHQvLyBcdTZFMDVcdTk2NjRcdTVGNTNcdTUyNERcdTgyODJcdTcwQjlcdTc2ODRcdTYwQUNcdTUwNUNcdTcyQjZcdTYwMDFcdUZGMDhcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcdTRGMThcdTUxNDhcdTdFQTdcdTlBRDhcdTRFOEVcdTYwQUNcdTUwNUNcdTcyQjZcdTYwMDFcdUZGMDlcblx0XHRpZiAobm9kZS5kYXRhLmhvdmVyZWQpIHtcblx0XHRcdHRoaXMuY2xlYXJOb2RlSG92ZXJTdGF0ZShub2RlLCBub2RlUmVjdCk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU4QkJFXHU3RjZFXHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXG5cdFx0bm9kZS5kYXRhLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHR0aGlzLnNlbGVjdGVkTm9kZSA9IG5vZGU7XG5cdFx0bm9kZVJlY3QuY2xhc3NlZChcInNlbGVjdGVkLXJlY3RcIiwgdHJ1ZSk7XG5cblx0XHQvLyBcdTg5RTZcdTUzRDFcdTkwMDlcdTRFMkRcdTU2REVcdThDMDNcblx0XHR0aGlzLmNhbGxiYWNrcy5vbk5vZGVTZWxlY3Q/Lihub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU5MDRcdTc0MDZcdTgyODJcdTcwQjlcdTYwQUNcdTUwNUNcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlTm9kZUhvdmVyKFxuXHRcdGV2ZW50OiBNb3VzZUV2ZW50LFxuXHRcdG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuXHRcdG5vZGVSZWN0OiBkMy5TZWxlY3Rpb248U1ZHUmVjdEVsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBTVkdHRWxlbWVudCwgdW5rbm93bj5cblx0KTogdm9pZCB7XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU4MjgyXHU3MEI5XHU1REYyXHU3RUNGXHU2NjJGXHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXHVGRjBDXHU0RTBEXHU1RTk0XHU3NTI4XHU2MEFDXHU1MDVDXHU2NTQ4XHU2NzlDXG5cdFx0aWYgKG5vZGUuZGF0YS5zZWxlY3RlZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFx1NkUwNVx1OTY2NFx1NEU0Qlx1NTI0RFx1NzY4NFx1NjBBQ1x1NTA1Q1x1NzJCNlx1NjAwMVxuXHRcdGlmICh0aGlzLmhvdmVyZWROb2RlICYmIHRoaXMuaG92ZXJlZE5vZGUgIT09IG5vZGUpIHtcblx0XHRcdHRoaXMuY2xlYXJIb3ZlclN0YXRlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU4QkJFXHU3RjZFXHU2NUIwXHU3Njg0XHU2MEFDXHU1MDVDXHU3MkI2XHU2MDAxXG5cdFx0dGhpcy5ob3ZlcmVkTm9kZSA9IG5vZGU7XG5cdFx0bm9kZS5kYXRhLmhvdmVyZWQgPSB0cnVlO1xuXG5cdFx0Ly8gXHU1RTk0XHU3NTI4XHU2MEFDXHU1MDVDXHU4OUM2XHU4OUM5XHU2NTQ4XHU2NzlDXG5cdFx0bm9kZVJlY3QuY2xhc3NlZChcImhvdmVyZWQtcmVjdFwiLCB0cnVlKTtcblxuXHRcdC8vIFx1ODlFNlx1NTNEMVx1NjBBQ1x1NTA1Q1x1NTZERVx1OEMwM1xuXHRcdHRoaXMuY2FsbGJhY2tzLm9uTm9kZUhvdmVyPy4obm9kZSk7XG5cdH1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU4MjgyXHU3MEI5XHU3OUJCXHU1RjAwXG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZU5vZGVMZWF2ZShcblx0XHRldmVudDogTW91c2VFdmVudCxcblx0XHRub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHRub2RlUmVjdDogZDMuU2VsZWN0aW9uPFNWR1JlY3RFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+XG5cdCk6IHZvaWQge1xuXHRcdC8vIFx1NTk4Mlx1Njc5Q1x1ODI4Mlx1NzBCOVx1NjYyRlx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVx1RkYwQ1x1NEUwRFx1NkUwNVx1OTY2NFx1NjBBQ1x1NTA1Q1x1NzJCNlx1NjAwMVx1RkYwOFx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVx1NEYxOFx1NTE0OFx1N0VBN1x1NjZGNFx1OUFEOFx1RkYwOVxuXHRcdGlmIChub2RlLmRhdGEuc2VsZWN0ZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBcdTZFMDVcdTk2NjRcdTYwQUNcdTUwNUNcdTcyQjZcdTYwMDFcblx0XHR0aGlzLmNsZWFyTm9kZUhvdmVyU3RhdGUobm9kZSwgbm9kZVJlY3QpO1xuXG5cdFx0Ly8gXHU4OUU2XHU1M0QxXHU3OUJCXHU1RjAwXHU1NkRFXHU4QzAzXG5cdFx0dGhpcy5jYWxsYmFja3Mub25Ob2RlTGVhdmU/Lihub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTZFMDVcdTk2NjRcdTUzNTVcdTRFMkFcdTgyODJcdTcwQjlcdTc2ODRcdTYwQUNcdTUwNUNcdTcyQjZcdTYwMDFcblx0ICovXG5cdHByaXZhdGUgY2xlYXJOb2RlSG92ZXJTdGF0ZShcblx0XHRub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHRub2RlUmVjdDogZDMuU2VsZWN0aW9uPFNWR1JlY3RFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+XG5cdCk6IHZvaWQge1xuXHRcdG5vZGUuZGF0YS5ob3ZlcmVkID0gZmFsc2U7XG5cdFx0bm9kZVJlY3QuY2xhc3NlZChcImhvdmVyZWQtcmVjdFwiLCBmYWxzZSk7XG5cblx0XHRpZiAodGhpcy5ob3ZlcmVkTm9kZSA9PT0gbm9kZSkge1xuXHRcdFx0dGhpcy5ob3ZlcmVkTm9kZSA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1NjBBQ1x1NTA1Q1x1NzJCNlx1NjAwMVxuXHQgKi9cblx0cHJpdmF0ZSBjbGVhckhvdmVyU3RhdGUoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuaG92ZXJlZE5vZGUpIHtcblx0XHRcdHRoaXMuaG92ZXJlZE5vZGUuZGF0YS5ob3ZlcmVkID0gZmFsc2U7XG5cblx0XHRcdC8vIFx1NzlGQlx1OTY2NFx1NjI0MFx1NjcwOVx1ODI4Mlx1NzBCOVx1NzY4NFx1NjBBQ1x1NTA1Q1x1ODlDNlx1ODlDOVx1NjU0OFx1Njc5Q1xuXHRcdFx0ZDMuc2VsZWN0QWxsPFNWR1JlY3RFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPj4oXCIubm9kZS1yZWN0XCIpXG5cdFx0XHRcdC5jbGFzc2VkKFwiaG92ZXJlZC1yZWN0XCIsIGZhbHNlKTtcblxuXHRcdFx0dGhpcy5ob3ZlcmVkTm9kZSA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0Ly8gPT09PT09PT09PSBcdTc5QzFcdTY3MDlcdThGODVcdTUyQTlcdTY1QjlcdTZDRDUgPT09PT09PT09PVxuXG5cdC8qKlxuXHQgKiBcdTY4QzBcdTY3RTVcdTc1M0JcdTVFMDNcdTRFQTRcdTRFOTJcdTY2MkZcdTU0MjZcdTU0MkZcdTc1Mjhcblx0ICovXG5cdHByaXZhdGUgaXNDYW52YXNJbnRlcmFjdGlvbkVuYWJsZWQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbGJhY2tzLmlzQ2FudmFzSW50ZXJhY3Rpb25FbmFibGVkPy4oKSA/PyB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NjhDMFx1NjdFNSBTVkcgXHU1MTQzXHU3RDIwXHU2NjJGXHU1NDI2XHU0RTNBXHU4MjgyXHU3MEI5XHU1MTQzXHU3RDIwXG5cdCAqL1xuXHRwcml2YXRlIGlzTm9kZUVsZW1lbnQodGFyZ2V0OiBTVkdFbGVtZW50KTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgdGFyZ2V0VGFnTmFtZSA9IHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0Y29uc3QgdGFyZ2V0Q2xhc3NlcyA9IHRhcmdldC5jbGFzc0xpc3Q7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0KHRhcmdldFRhZ05hbWUgPT09ICdnJyAmJiB0YXJnZXRDbGFzc2VzLmNvbnRhaW5zKCdub2RlJykpIHx8ICAgICAgLy8gXHU4MjgyXHU3MEI5XHU3RUM0XG5cdFx0XHR0YXJnZXRDbGFzc2VzLmNvbnRhaW5zKCdub2RlLXJlY3QnKSB8fCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcdTgyODJcdTcwQjlcdTc3RTlcdTVGNjJcblx0XHRcdHRhcmdldENsYXNzZXMuY29udGFpbnMoJ25vZGUtdGV4dC1sYXllcicpIHx8ICAgICAgICAgICAgICAgICAgICAvLyBcdTgyODJcdTcwQjlcdTY1ODdcdTY3MkNcdTVDNDJcblx0XHRcdHRhcmdldFRhZ05hbWUgPT09ICdmb3JlaWdub2JqZWN0JyB8fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcdTgyODJcdTcwQjkgZm9yZWlnbk9iamVjdFxuXHRcdFx0dGFyZ2V0VGFnTmFtZSA9PT0gJ2RpdicgfHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXHU4MjgyXHU3MEI5XHU2NTg3XHU2NzJDIGRpdlxuXHRcdFx0KHRhcmdldFRhZ05hbWUgPT09ICdnJyAmJiB0YXJnZXRDbGFzc2VzLmNvbnRhaW5zKCdub2RlLWdyb3VwJykpICAvLyBcdTUxNzZcdTRFRDZcdTUzRUZcdTgwRkRcdTc2ODRcdTgyODJcdTcwQjlcdTdFQzRcblx0XHQpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHtcblx0S2V5Ym9hcmRIYW5kbGVycyxcblx0S2V5Ym9hcmRNYW5hZ2VyQ29uZmlnLFxuXHRLZXlib2FyZE1hbmFnZXJPcHRpb25zXG59IGZyb20gJy4vS2V5Ym9hcmRNYW5hZ2VyQ2FsbGJhY2tzJztcblxuLyoqXG4gKiBLZXlib2FyZE1hbmFnZXIgLSBcdTU5MDRcdTc0MDZcdTYyNDBcdTY3MDlcdTk1MkVcdTc2RDhcdTRFQTRcdTRFOTJcdTkwM0JcdThGOTFcbiAqXG4gKiBcdTMwMTBcdTgwNENcdThEMjNcdTMwMTFcbiAqIC0gXHU1MTY4XHU1QzQwXHU5NTJFXHU3NkQ4XHU0RThCXHU0RUY2XHU3NkQxXHU1NDJDXG4gKiAtIFx1NUZFQlx1NjM3N1x1OTUyRVx1NTkwNFx1NzQwNlx1RkYwOFRhYlx1MzAwMURlbGV0ZVx1MzAwMUVudGVyXHUzMDAxQ3RybCtDL1gvVlx1RkYwOVxuICogLSBcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdTY4QzBcdTZENEJcdUZGMDhcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdTRFMEJcdTk2M0JcdTZCNjJcdTU5MjdcdTkwRThcdTUyMDZcdTVGRUJcdTYzNzdcdTk1MkVcdUZGMDlcbiAqIC0gXHU3OUZCXHU1MkE4XHU3QUVGXHU1MTdDXHU1QkI5XHVGRjA4XHU3OUZCXHU1MkE4XHU3QUVGXHU3OTgxXHU3NTI4XHU2N0QwXHU0RTlCXHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjA5XG4gKlxuICogXHUzMDEwXHU4QkJFXHU4QkExXHU1MzlGXHU1MjE5XHUzMDExXG4gKiAtIFx1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1NEUwRVx1NTkxNlx1OTBFOFx1OTAxQVx1NEZFMVx1RkYwQ1x1NEUwRFx1NzZGNFx1NjNBNVx1NEY5RFx1OEQ1NiBEM1RyZWVSZW5kZXJlclxuICogLSBcdTUyQThcdTYwMDFcdTY4QzBcdTZENEJcdTcyQjZcdTYwMDFcdUZGMDhcdTkwN0ZcdTUxNERcdTVGMTVcdTc1MjhcdTU5MzFcdTY1NDhcdUZGMDlcbiAqIC0gXHU1RjAyXHU2QjY1XHU1OTA0XHU3NDA2XHU1MjZBXHU4RDM0XHU2NzdGXHU2NENEXHU0RjVDXG4gKi9cbmV4cG9ydCBjbGFzcyBLZXlib2FyZE1hbmFnZXIge1xuXHQvLyBcdTk1MkVcdTc2RDhcdTRFOEJcdTRFRjZcdTc2RDFcdTU0MkNcdTU2Njhcblx0cHJpdmF0ZSBrZXlib2FyZExpc3RlbmVyOiAoKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuXG5cdC8vIFx1OTE0RFx1N0Y2RVx1OTAwOVx1OTg3OVxuXHRwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IFJlcXVpcmVkPEtleWJvYXJkTWFuYWdlck9wdGlvbnM+O1xuXG5cdC8vID09PT09PT09PT0gXHU2Nzg0XHU5MDIwXHU1MUZEXHU2NTcwID09PT09PT09PT1cblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIGNvbmZpZzogS2V5Ym9hcmRNYW5hZ2VyQ29uZmlnLFxuXHRcdHByaXZhdGUgaGFuZGxlcnM6IEtleWJvYXJkSGFuZGxlcnNcblx0KSB7XG5cdFx0Ly8gXHU5RUQ4XHU4QkE0XHU5MTREXHU3RjZFXG5cdFx0dGhpcy5vcHRpb25zID0ge1xuXHRcdFx0ZW5hYmxlU2hvcnRjdXRzOiB0cnVlLFxuXHRcdFx0ZGlzYWJsZU1vYmlsZVNob3J0Y3V0czogdHJ1ZSxcblx0XHRcdC4uLmhhbmRsZXJzXG5cdFx0fTtcblx0fVxuXG5cdC8vID09PT09PT09PT0gXHU1MTZDXHU1MTcxIEFQSSA9PT09PT09PT09XG5cblx0LyoqXG5cdCAqIFx1NkRGQlx1NTJBMFx1NTE2OFx1NUM0MFx1OTUyRVx1NzZEOFx1NEU4Qlx1NEVGNlx1NzZEMVx1NTQyQ1x1NTY2OFxuXHQgKi9cblx0YXR0YWNoR2xvYmFsTGlzdGVuZXIoKTogdm9pZCB7XG5cdFx0Ly8gXHU3OUZCXHU5NjY0XHU0RTRCXHU1MjREXHU3Njg0XHU0RThCXHU0RUY2XHU3NkQxXHU1NDJDXHU1NjY4XHVGRjA4XHU1OTgyXHU2NzlDXHU1QjU4XHU1NzI4XHVGRjA5XG5cdFx0dGhpcy5yZW1vdmVHbG9iYWxLZXlib2FyZExpc3RlbmVyKCk7XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdTY1QjBcdTc2ODRcdTRFOEJcdTRFRjZcdTc2RDFcdTU0MkNcdTU2Njhcblx0XHR0aGlzLmtleWJvYXJkTGlzdGVuZXIgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcblx0XHRcdHRoaXMuaGFuZGxlS2V5RG93bihldmVudCk7XG5cdFx0fTtcblxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWJvYXJkTGlzdGVuZXIpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NzlGQlx1OTY2NFx1NTE2OFx1NUM0MFx1OTUyRVx1NzZEOFx1NEU4Qlx1NEVGNlx1NzZEMVx1NTQyQ1x1NTY2OFxuXHQgKi9cblx0cmVtb3ZlR2xvYmFsS2V5Ym9hcmRMaXN0ZW5lcigpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5rZXlib2FyZExpc3RlbmVyKSB7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlib2FyZExpc3RlbmVyKTtcblx0XHRcdHRoaXMua2V5Ym9hcmRMaXN0ZW5lciA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1OTUwMFx1NkJDMVx1OTUyRVx1NzZEOFx1N0JBMVx1NzQwNlx1NTY2OFxuXHQgKi9cblx0ZGVzdHJveSgpOiB2b2lkIHtcblx0XHR0aGlzLnJlbW92ZUdsb2JhbEtleWJvYXJkTGlzdGVuZXIoKTtcblx0fVxuXG5cdC8vID09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU2NUI5XHU2Q0Q1IC0gXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2ID09PT09PT09PT1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU5NTJFXHU3NkQ4XHU2MzA5XHU0RTBCXHU0RThCXHU0RUY2XG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcblx0XHQvLyBcdTY4QzBcdTY3RTVcdTgxMTFcdTU2RkVcdTg5QzZcdTU2RkVcdTY2MkZcdTU0MjZcdTRFM0FcdTVGNTNcdTUyNERcdTZEM0JcdTUyQThcdTg5QzZcdTU2RkVcblx0XHQvLyBcdTU5ODJcdTY3OUNcdTg5QzZcdTU2RkVcdTRFMERcdTZEM0JcdTUyQThcdUZGMENcdTRFMERcdTYyRTZcdTYyMkFcdTRFRkJcdTRGNTVcdTVGRUJcdTYzNzdcdTk1MkVcdUZGMENcdTUxNDFcdThCQjhcdTlFRDhcdThCQTRcdTg4NENcdTRFM0Fcblx0XHRpZiAodGhpcy5jb25maWcuaXNBY3RpdmVWaWV3ICYmICF0aGlzLmNvbmZpZy5pc0FjdGl2ZVZpZXcoKSkge1xuXHRcdFx0cmV0dXJuOyAvLyBcdTg5QzZcdTU2RkVcdTRFMERcdTZEM0JcdTUyQThcdUZGMENcdTRFMERcdTYyRTZcdTYyMkFcdTVGRUJcdTYzNzdcdTk1MkVcblx0XHR9XG5cblx0XHQvLyBcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdTRFMEJcdUZGMENcdTUxNDFcdThCQjhcdTUyNkFcdThEMzRcdTY3N0ZcdTY0Q0RcdTRGNUNcdUZGMDhDdHJsK0MvWC9WXHVGRjA5XHVGRjBDXHU4QkE5XHU2RDRGXHU4OUM4XHU1NjY4XHU5RUQ4XHU4QkE0XHU1OTA0XHU3NDA2XG5cdFx0aWYgKHRoaXMuY29uZmlnLmlzRWRpdGluZygpKSB7XG5cdFx0XHQvLyBcdTUxNDFcdThCQjhcdTUyNkFcdThEMzRcdTY3N0ZcdTY0Q0RcdTRGNUNcdTkwMUFcdThGQzdcdUZGMENcdTRGN0ZcdTc1MjhcdTZENEZcdTg5QzhcdTU2NjhcdTlFRDhcdThCQTRcdTg4NENcdTRFM0Fcblx0XHRcdGlmICgoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiAoZXZlbnQua2V5ID09PSBcImNcIiB8fCBldmVudC5rZXkgPT09IFwieFwiIHx8IGV2ZW50LmtleSA9PT0gXCJ2XCIpKSB7XG5cdFx0XHRcdHJldHVybjsgLy8gXHU1MTQxXHU4QkI4XHU0RThCXHU0RUY2XHU0RjIwXHU2NEFEXHVGRjBDXHU0RjdGXHU3NTI4XHU2RDRGXHU4OUM4XHU1NjY4XHU5RUQ4XHU4QkE0XHU1MjZBXHU4RDM0XHU2NzdGXHU4ODRDXHU0RTNBXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47IC8vIFx1OTYzQlx1NkI2Mlx1NTE3Nlx1NEVENlx1NUZFQlx1NjM3N1x1OTUyRVxuXHRcdH1cblxuXHRcdGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLmhhbmRsZVRhYktleSgpO1xuXHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkRlbGV0ZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJEZWxcIikge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuaGFuZGxlRGVsZXRlS2V5KCk7XG5cdFx0fSBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuaGFuZGxlRW50ZXJLZXkoKTtcblx0XHR9XG5cdFx0Ly8gXHU2ODRDXHU5NzYyXHU3QUVGXHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjFBQ3RybCtDIC8gQ21kK0MgLSBcdTU5MERcdTUyMzZcdTgyODJcdTcwQjlcdTY1ODdcdTY3MkNcblx0XHRlbHNlIGlmICghdGhpcy5pc01vYmlsZSgpICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpICYmIGV2ZW50LmtleSA9PT0gXCJjXCIpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLmhhbmRsZUNvcHlTaG9ydGN1dCgpO1xuXHRcdH1cblx0XHQvLyBcdTY4NENcdTk3NjJcdTdBRUZcdTVGRUJcdTYzNzdcdTk1MkVcdUZGMUFDdHJsK1ggLyBDbWQrWCAtIFx1NTI2QVx1NTIwN1x1ODI4Mlx1NzBCOVxuXHRcdGVsc2UgaWYgKCF0aGlzLmlzTW9iaWxlKCkgJiYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgZXZlbnQua2V5ID09PSBcInhcIikge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuaGFuZGxlQ3V0U2hvcnRjdXQoKTtcblx0XHR9XG5cdFx0Ly8gXHU2ODRDXHU5NzYyXHU3QUVGXHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjFBQ3RybCtWIC8gQ21kK1YgLSBcdTdDOThcdThEMzRcdTUyMzBcdTgyODJcdTcwQjlcblx0XHRlbHNlIGlmICghdGhpcy5pc01vYmlsZSgpICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpICYmIGV2ZW50LmtleSA9PT0gXCJ2XCIpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLmhhbmRsZVBhc3RlU2hvcnRjdXQoKTtcblx0XHR9XG5cdFx0Ly8gXHU2ODRDXHU5NzYyXHU3QUVGXHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjFBQ3RybCtaIC8gQ21kK1ogLSBcdTY0QTRcdTk1MDBcblx0XHRlbHNlIGlmICghdGhpcy5pc01vYmlsZSgpICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpICYmIGV2ZW50LmtleSA9PT0gXCJ6XCIgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5oYW5kbGVVbmRvU2hvcnRjdXQoKTtcblx0XHR9XG5cdFx0Ly8gXHU2ODRDXHU5NzYyXHU3QUVGXHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjFBQ3RybCtTaGlmdCtaIC8gQ21kK1NoaWZ0K1ogLyBDdHJsK1kgLyBDbWQrWSAtIFx1OTFDRFx1NTA1QVxuXHRcdGVsc2UgaWYgKCF0aGlzLmlzTW9iaWxlKCkgJiYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgKGV2ZW50LmtleSA9PT0gXCJ5XCIgfHwgKGV2ZW50LmtleSA9PT0gXCJ6XCIgJiYgZXZlbnQuc2hpZnRLZXkpKSkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuaGFuZGxlUmVkb1Nob3J0Y3V0KCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNlRhYlx1OTUyRVx1NEU4Qlx1NEVGNiAtIFx1NkRGQlx1NTJBMFx1NUI1MFx1ODI4Mlx1NzBCOVxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVUYWJLZXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qgc2VsZWN0ZWROb2RlID0gdGhpcy5jb25maWcuZ2V0U2VsZWN0ZWROb2RlKCk7XG5cdFx0aWYgKCFzZWxlY3RlZE5vZGUpIHtcblx0XHRcdHJldHVybjsgLy8gXHU5NzU5XHU5RUQ4XHU1OTMxXHU4RDI1XG5cdFx0fVxuXG5cdFx0Ly8gXHU4QzAzXHU3NTI4XHU0RTBFK1x1NTNGN1x1NjMwOVx1OTRBRVx1NzZGOFx1NTQwQ1x1NzY4NFx1OTAzQlx1OEY5MVxuXHRcdHRoaXMuaGFuZGxlcnMub25UYWI/LihzZWxlY3RlZE5vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNkRlbGV0ZVx1OTUyRVx1NEU4Qlx1NEVGNiAtIFx1NTIyMFx1OTY2NFx1ODI4Mlx1NzBCOVxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVEZWxldGVLZXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qgc2VsZWN0ZWROb2RlID0gdGhpcy5jb25maWcuZ2V0U2VsZWN0ZWROb2RlKCk7XG5cdFx0aWYgKCFzZWxlY3RlZE5vZGUpIHtcblx0XHRcdHJldHVybjsgLy8gXHU5NzU5XHU5RUQ4XHU1OTMxXHU4RDI1XG5cdFx0fVxuXG5cdFx0Ly8gXHU4QzAzXHU3NTI4XHU1MjIwXHU5NjY0XHU1OTA0XHU3NDA2XG5cdFx0dGhpcy5oYW5kbGVycy5vbkRlbGV0ZT8uKHNlbGVjdGVkTm9kZSk7XG5cdH1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2RW50ZXJcdTk1MkVcdTRFOEJcdTRFRjYgLSBcdTUyMUJcdTVFRkFcdTUxNDRcdTVGMUZcdTgyODJcdTcwQjlcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlRW50ZXJLZXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qgc2VsZWN0ZWROb2RlID0gdGhpcy5jb25maWcuZ2V0U2VsZWN0ZWROb2RlKCk7XG5cdFx0aWYgKCFzZWxlY3RlZE5vZGUpIHtcblx0XHRcdHJldHVybjsgLy8gXHU5NzU5XHU5RUQ4XHU1OTMxXHU4RDI1XG5cdFx0fVxuXG5cdFx0Ly8gXHU0RTBEXHU4MEZEXHU0RTNBXHU2ODM5XHU4MjgyXHU3MEI5XHU1MjFCXHU1RUZBXHU1MTQ0XHU1RjFGXHU4MjgyXHU3MEI5XG5cdFx0aWYgKHNlbGVjdGVkTm9kZS5kYXRhLmxldmVsID09PSAwKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gXHU4QzAzXHU3NTI4RW50ZXJcdTU5MDRcdTc0MDZcblx0XHR0aGlzLmhhbmRsZXJzLm9uRW50ZXI/LihzZWxlY3RlZE5vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNiBDdHJsK0MgLyBDbWQrQyBcdTVGRUJcdTYzNzdcdTk1MkUgLSBcdTU5MERcdTUyMzZcdTgyODJcdTcwQjlcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlQ29weVNob3J0Y3V0KCk6IHZvaWQge1xuXHRcdGNvbnN0IHNlbGVjdGVkTm9kZSA9IHRoaXMuY29uZmlnLmdldFNlbGVjdGVkTm9kZSgpO1xuXHRcdGlmICghc2VsZWN0ZWROb2RlKSB7XG5cdFx0XHRyZXR1cm47IC8vIFx1OTc1OVx1OUVEOFx1NTkzMVx1OEQyNVxuXHRcdH1cblxuXHRcdHZvaWQgdGhpcy5oYW5kbGVycy5vbkNvcHk/LihzZWxlY3RlZE5vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNiBDdHJsK1ggLyBDbWQrWCBcdTVGRUJcdTYzNzdcdTk1MkUgLSBcdTUyNkFcdTUyMDdcdTgyODJcdTcwQjlcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlQ3V0U2hvcnRjdXQoKTogdm9pZCB7XG5cdFx0Y29uc3Qgc2VsZWN0ZWROb2RlID0gdGhpcy5jb25maWcuZ2V0U2VsZWN0ZWROb2RlKCk7XG5cdFx0aWYgKCFzZWxlY3RlZE5vZGUpIHtcblx0XHRcdHJldHVybjsgLy8gXHU5NzU5XHU5RUQ4XHU1OTMxXHU4RDI1XG5cdFx0fVxuXG5cdFx0dm9pZCB0aGlzLmhhbmRsZXJzLm9uQ3V0Py4oc2VsZWN0ZWROb2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU5MDRcdTc0MDYgQ3RybCtWIC8gQ21kK1YgXHU1RkVCXHU2Mzc3XHU5NTJFIC0gXHU3Qzk4XHU4RDM0XHU1MjMwXHU4MjgyXHU3MEI5XG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZVBhc3RlU2hvcnRjdXQoKTogdm9pZCB7XG5cdFx0Y29uc3Qgc2VsZWN0ZWROb2RlID0gdGhpcy5jb25maWcuZ2V0U2VsZWN0ZWROb2RlKCk7XG5cdFx0aWYgKCFzZWxlY3RlZE5vZGUpIHtcblx0XHRcdHJldHVybjsgLy8gXHU5NzU5XHU5RUQ4XHU1OTMxXHU4RDI1XG5cdFx0fVxuXG5cdFx0dm9pZCB0aGlzLmhhbmRsZXJzLm9uUGFzdGU/LihzZWxlY3RlZE5vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNiBDdHJsK1ogLyBDbWQrWiBcdTVGRUJcdTYzNzdcdTk1MkUgLSBcdTY0QTRcdTk1MDBcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlVW5kb1Nob3J0Y3V0KCk6IHZvaWQge1xuXHRcdHRoaXMuaGFuZGxlcnMub25VbmRvPy4oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU5MDRcdTc0MDYgQ3RybCtTaGlmdCtaIC8gQ21kK1NoaWZ0K1ogLyBDdHJsK1kgLyBDbWQrWSBcdTVGRUJcdTYzNzdcdTk1MkUgLSBcdTkxQ0RcdTUwNUFcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlUmVkb1Nob3J0Y3V0KCk6IHZvaWQge1xuXHRcdHRoaXMuaGFuZGxlcnMub25SZWRvPy4oKTtcblx0fVxuXG5cdC8vID09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU4Rjg1XHU1MkE5XHU2NUI5XHU2Q0Q1ID09PT09PT09PT1cblxuXHQvKipcblx0ICogXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU0RTNBXHU3OUZCXHU1MkE4XHU3QUVGXG5cdCAqL1xuXHRwcml2YXRlIGlzTW9iaWxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmNvbmZpZy5jb25maWc/LmlzTW9iaWxlIHx8IGZhbHNlO1xuXHR9XG59XG4iLCAiLyoqXG4gKiBJbnRlcmFjdGlvbiBNYW5hZ2VyXG4gKlxuICogTWFuYWdlcyBpbnRlcmFjdGlvbiBoYW5kbGluZyBiYXNlZCBvbiBkZXZpY2UgdHlwZVxuICogSW1wbGVtZW50cyBlYXJseSBicmFuY2hpbmcgcGF0dGVybiB0byBlbnN1cmUgZGVza3RvcCBpbnRlcmFjdGlvbnMgYXJlIG5vdCBhZmZlY3RlZFxuICpcbiAqIFx1MzAxMFx1OTFDRFx1Njc4NFx1OEJGNFx1NjYwRVx1MzAxMVxuICogXHU2ODM5XHU2MzZFIEQzVHJlZVJlbmRlcmVyLVJFRkFDVE9SSU5HLVBMQU4ubWQgUGhhc2UgMi4zIFx1OTFDRFx1Njc4NFxuICogXHU0RUNFXHU1MzlGXHU2NzY1XHU3Njg0IERlc2t0b3BJbnRlcmFjdGlvbi9Nb2JpbGVJbnRlcmFjdGlvbiBcdTUzMDVcdTg4QzVcdTZBMjFcdTVGMEZcbiAqIFx1NjUzOVx1NEUzQSBNb3VzZUludGVyYWN0aW9uICsgS2V5Ym9hcmRNYW5hZ2VyIFx1NTM0Rlx1OEMwM1x1NkEyMVx1NUYwRlxuICpcbiAqIFx1MzAxMFx1ODA0Q1x1OEQyM1x1MzAxMVxuICogLSBcdTUzNEZcdThDMDMgTW91c2VJbnRlcmFjdGlvbiBcdTU0OEMgS2V5Ym9hcmRNYW5hZ2VyXG4gKiAtIFx1N0JBMVx1NzQwNlx1NEVBNFx1NEU5Mlx1NzJCNlx1NjAwMVx1RkYwOHNlbGVjdGVkTm9kZSwgaG92ZXJlZE5vZGUsIGVkaXRpbmdTdGF0ZVx1RkYwOVxuICogLSBcdTYzRDBcdTRGOUJcdTdFREZcdTRFMDBcdTc2ODRcdTRFQTRcdTRFOTIgQVBJXG4gKiAtIFx1NTkwNFx1NzQwNlx1NEVBNFx1NEU5Mlx1NEUwRVx1NkUzMlx1NjdEM1x1NzY4NFx1Njg2NVx1NjNBNVxuICovXG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IE1pbmRNYXBDb25maWcgfSBmcm9tICcuLi9jb25maWcvdHlwZXMnO1xuaW1wb3J0IHsgTWluZE1hcE5vZGUsIEVkaXRpbmdTdGF0ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMvbWluZG1hcC1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE1vdXNlSW50ZXJhY3Rpb24gfSBmcm9tICcuL01vdXNlSW50ZXJhY3Rpb24nO1xuaW1wb3J0IHsgS2V5Ym9hcmRNYW5hZ2VyIH0gZnJvbSAnLi9LZXlib2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgTW91c2VJbnRlcmFjdGlvbkNhbGxiYWNrcyB9IGZyb20gJy4vTW91c2VJbnRlcmFjdGlvbkNhbGxiYWNrcyc7XG5pbXBvcnQgeyBLZXlib2FyZEhhbmRsZXJzLCBLZXlib2FyZE1hbmFnZXJDb25maWcgfSBmcm9tICcuL0tleWJvYXJkTWFuYWdlckNhbGxiYWNrcyc7XG5cbi8qKlxuICogXHU0RUE0XHU0RTkyXHU3MkI2XHU2MDAxXHU2M0E1XHU1M0UzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb25TdGF0ZSB7XG5cdHNlbGVjdGVkTm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4gfCBudWxsO1xuXHRob3ZlcmVkTm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4gfCBudWxsO1xuXHRlZGl0aW5nU3RhdGU6IEVkaXRpbmdTdGF0ZTtcbn1cblxuLyoqXG4gKiBcdTZFMzJcdTY3RDNcdTU2REVcdThDMDNcdTYzQTVcdTUzRTNcdUZGMDhcdTY4NjVcdTYzQTVcdTRFQTRcdTRFOTJcdTU0OENcdTZFMzJcdTY3RDNcdUZGMDlcbiAqL1xuIFxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJDYWxsYmFja3Mge1xuXHRvbk5vZGVTZWxlY3RlZD86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPikgPT4gdm9pZDtcblx0b25Ob2RlSG92ZXJlZD86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPikgPT4gdm9pZDtcblx0b25Ob2RlTGVmdD86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPikgPT4gdm9pZDtcblx0b25TZWxlY3Rpb25DbGVhcmVkPzogKCkgPT4gdm9pZDtcblx0b25Ob2RlRG91YmxlQ2xpY2tlZD86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQ7XG5cdG9uQWRkQ2hpbGROb2RlPzogKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiB2b2lkO1xuXHRvbkFkZFNpYmxpbmdOb2RlPzogKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiB2b2lkO1xuXHRvbkRlbGV0ZU5vZGU/OiAobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pID0+IHZvaWQ7XG5cdG9uQ29weU5vZGU/OiAobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pID0+IFByb21pc2U8dm9pZD47XG5cdG9uQ3V0Tm9kZT86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPikgPT4gUHJvbWlzZTx2b2lkPjtcblx0b25QYXN0ZVRvTm9kZT86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPikgPT4gUHJvbWlzZTx2b2lkPjtcblx0b25FeGl0RWRpdE1vZGU/OiAoKSA9PiB2b2lkO1xuXHRvblVuZG8/OiAoKSA9PiB2b2lkO1xuXHRvblJlZG8/OiAoKSA9PiB2b2lkO1xufVxuIFxuXG4vKipcbiAqIEludGVyYWN0aW9uIG1hbmFnZXIgY2xhc3NcbiAqXG4gKiBBcmNoaXRlY3R1cmUgTm90ZTpcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgZWFybHkgYnJhbmNoaW5nIHBhdHRlcm4gd2hlcmUgZGV2aWNlIGRldGVjdGlvblxuICogaGFwcGVucyBvbmNlIGF0IGluaXRpYWxpemF0aW9uIHRpbWUgYmFzZWQgb24gY29uZmlnLmlzTW9iaWxlLlxuICpcbiAqIEFmdGVyIHJlZmFjdG9yaW5nIChQaGFzZSAyLjMpOlxuICogLSBDb29yZGluYXRlcyBNb3VzZUludGVyYWN0aW9uIGFuZCBLZXlib2FyZE1hbmFnZXJcbiAqIC0gTWFuYWdlcyBpbnRlcmFjdGlvbiBzdGF0ZSBjZW50cmFsbHlcbiAqIC0gUHJvdmlkZXMgdW5pZmllZCBBUEkgZm9yIGludGVyYWN0aW9uIG9wZXJhdGlvbnNcbiAqIC0gQnJpZGdlcyBpbnRlcmFjdGlvbiBldmVudHMgd2l0aCByZW5kZXJpbmcgY2FsbGJhY2tzXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvbk1hbmFnZXIge1xuXHRwcml2YXRlIG1vdXNlSW50ZXJhY3Rpb246IE1vdXNlSW50ZXJhY3Rpb247XG5cdHByaXZhdGUga2V5Ym9hcmRNYW5hZ2VyOiBLZXlib2FyZE1hbmFnZXI7XG5cblx0Ly8gXHU0RUE0XHU0RTkyXHU3MkI2XHU2MDAxXG5cdHByaXZhdGUgc3RhdGU6IEludGVyYWN0aW9uU3RhdGUgPSB7XG5cdFx0c2VsZWN0ZWROb2RlOiBudWxsLFxuXHRcdGhvdmVyZWROb2RlOiBudWxsLFxuXHRcdGVkaXRpbmdTdGF0ZToge1xuXHRcdFx0aXNFZGl0aW5nOiBmYWxzZSxcblx0XHRcdGN1cnJlbnROb2RlOiBudWxsLFxuXHRcdFx0b3JpZ2luYWxUZXh0OiAnJyxcblx0XHRcdGVkaXRFbGVtZW50OiBudWxsXG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgY29uZmlnOiBNaW5kTWFwQ29uZmlnLFxuXHRcdHByaXZhdGUgcmVuZGVyQ2FsbGJhY2tzOiBSZW5kZXJDYWxsYmFja3MgPSB7fSxcblx0XHRwcml2YXRlIGlzQWN0aXZlVmlldz86ICgpID0+IGJvb2xlYW5cblx0KSB7XG5cdFx0Ly8gXHVEODNEXHVERDEyIEVBUkxZIEJSQU5DSElORzogRGV2aWNlLXNwZWNpZmljIGludGVyYWN0aW9uIGhhbmRsZXIgc2VsZWN0aW9uXG5cdFx0Ly8gVGhpcyBpcyB0aGUgb25seSBwbGFjZSB3aGVyZSB3ZSBjaGVjayBkZXZpY2UgdHlwZSBmb3IgaW50ZXJhY3Rpb25zXG5cdFx0Ly8gQWZ0ZXIgdGhpcyBwb2ludCwgdGhlIGhhbmRsZXIgaXMgZml4ZWQgYW5kIG5ldmVyIGNoYW5nZXNcblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1OUYyMFx1NjgwN1x1NEVBNFx1NEU5Mlx1NkEyMVx1NTc1N1xuXHRcdGNvbnN0IG1vdXNlQ2FsbGJhY2tzOiBNb3VzZUludGVyYWN0aW9uQ2FsbGJhY2tzID0ge1xuXHRcdFx0b25Ob2RlU2VsZWN0OiB0aGlzLmhhbmRsZU5vZGVTZWxlY3QuYmluZCh0aGlzKSxcblx0XHRcdG9uTm9kZURvdWJsZUNsaWNrOiB0aGlzLmhhbmRsZU5vZGVEb3VibGVDbGljay5iaW5kKHRoaXMpLFxuXHRcdFx0b25Ob2RlSG92ZXI6IHRoaXMuaGFuZGxlTm9kZUhvdmVyLmJpbmQodGhpcyksXG5cdFx0XHRvbk5vZGVMZWF2ZTogdGhpcy5oYW5kbGVOb2RlTGVhdmUuYmluZCh0aGlzKSxcblx0XHRcdG9uQ2FudmFzQ2xpY2s6IHRoaXMuaGFuZGxlQ2FudmFzQ2xpY2suYmluZCh0aGlzKSxcblx0XHRcdG9uQ2FudmFzRHJhZzogdGhpcy5oYW5kbGVDYW52YXNEcmFnLmJpbmQodGhpcyksXG5cdFx0XHRpc0NhbnZhc0ludGVyYWN0aW9uRW5hYmxlZDogdGhpcy5pc0NhbnZhc0ludGVyYWN0aW9uRW5hYmxlZC5iaW5kKHRoaXMpLFxuXHRcdFx0aXNFZGl0aW5nOiAoKSA9PiB0aGlzLnN0YXRlLmVkaXRpbmdTdGF0ZS5pc0VkaXRpbmcsXG5cdFx0XHRnZXRFZGl0aW5nTm9kZTogKCkgPT4gdGhpcy5zdGF0ZS5lZGl0aW5nU3RhdGUuY3VycmVudE5vZGVcblx0XHR9O1xuXHRcdHRoaXMubW91c2VJbnRlcmFjdGlvbiA9IG5ldyBNb3VzZUludGVyYWN0aW9uKG1vdXNlQ2FsbGJhY2tzKTtcblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1OTUyRVx1NzZEOFx1N0JBMVx1NzQwNlx1NTY2OFxuXHRcdGNvbnN0IGtleWJvYXJkQ29uZmlnOiBLZXlib2FyZE1hbmFnZXJDb25maWcgPSB7XG5cdFx0XHRjb25maWc6IHRoaXMuY29uZmlnLFxuXHRcdFx0aXNFZGl0aW5nOiAoKSA9PiB0aGlzLnN0YXRlLmVkaXRpbmdTdGF0ZS5pc0VkaXRpbmcsXG5cdFx0XHRnZXRTZWxlY3RlZE5vZGU6ICgpID0+IHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlLFxuXHRcdFx0aXNBY3RpdmVWaWV3OiB0aGlzLmlzQWN0aXZlVmlld1xuXHRcdH07XG5cblx0XHRjb25zdCBrZXlib2FyZEhhbmRsZXJzOiBLZXlib2FyZEhhbmRsZXJzID0ge1xuXHRcdFx0b25UYWI6IHRoaXMuaGFuZGxlVGFiS2V5LmJpbmQodGhpcyksXG5cdFx0XHRvbkRlbGV0ZTogdGhpcy5oYW5kbGVEZWxldGVLZXkuYmluZCh0aGlzKSxcblx0XHRcdG9uRW50ZXI6IHRoaXMuaGFuZGxlRW50ZXJLZXkuYmluZCh0aGlzKSxcblx0XHRcdG9uQ29weTogdGhpcy5oYW5kbGVDb3B5U2hvcnRjdXQuYmluZCh0aGlzKSxcblx0XHRcdG9uQ3V0OiB0aGlzLmhhbmRsZUN1dFNob3J0Y3V0LmJpbmQodGhpcyksXG5cdFx0XHRvblBhc3RlOiB0aGlzLmhhbmRsZVBhc3RlU2hvcnRjdXQuYmluZCh0aGlzKSxcblx0XHRcdG9uVW5kbzogdGhpcy5oYW5kbGVVbmRvU2hvcnRjdXQuYmluZCh0aGlzKSxcblx0XHRcdG9uUmVkbzogdGhpcy5oYW5kbGVSZWRvU2hvcnRjdXQuYmluZCh0aGlzKVxuXHRcdH07XG5cdFx0dGhpcy5rZXlib2FyZE1hbmFnZXIgPSBuZXcgS2V5Ym9hcmRNYW5hZ2VyKGtleWJvYXJkQ29uZmlnLCBrZXlib2FyZEhhbmRsZXJzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTk2NDRcdTUyQTBcdTYyNDBcdTY3MDlcdTRFQTRcdTRFOTJcdTU5MDRcdTc0MDZcdTU2Njhcblx0ICpcblx0ICogQHBhcmFtIHN2ZyBTVkcgXHU1MTQzXHU3RDIwXHU5MDA5XHU2MkU5XHU5NkM2XG5cdCAqIEBwYXJhbSBub2RlRWxlbWVudHMgXHU4MjgyXHU3MEI5XHU1MTQzXHU3RDIwXHU5MDA5XHU2MkU5XHU5NkM2XG5cdCAqL1xuXHRhdHRhY2hIYW5kbGVycyhcblx0XHRzdmc6IGQzLlNlbGVjdGlvbjxTVkdTVkdFbGVtZW50LCB1bmtub3duLCBudWxsLCB1bmRlZmluZWQ+LFxuXHRcdG5vZGVFbGVtZW50czogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgU1ZHR0VsZW1lbnQsIHVua25vd24+XG5cdCk6IHZvaWQge1xuXHRcdC8vIFx1OUYyMFx1NjgwN1x1NEVBNFx1NEU5MlxuXHRcdHRoaXMubW91c2VJbnRlcmFjdGlvbi5hdHRhY2hOb2RlQ2xpY2tIYW5kbGVycyhub2RlRWxlbWVudHMpO1xuXHRcdHRoaXMubW91c2VJbnRlcmFjdGlvbi5hdHRhY2hOb2RlSG92ZXJIYW5kbGVycyhub2RlRWxlbWVudHMpO1xuXHRcdHRoaXMubW91c2VJbnRlcmFjdGlvbi5hdHRhY2hDYW52YXNEcmFnSGFuZGxlcnMoc3ZnKTtcblx0XHR0aGlzLm1vdXNlSW50ZXJhY3Rpb24uYXR0YWNoQ2FudmFzQ2xpY2tIYW5kbGVyKHN2Zyk7XG5cblx0XHQvLyBcdTk1MkVcdTc2RDhcdTRFQTRcdTRFOTJcblx0XHR0aGlzLmtleWJvYXJkTWFuYWdlci5hdHRhY2hHbG9iYWxMaXN0ZW5lcigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1ODNCN1x1NTNENlx1NEVBNFx1NEU5Mlx1NTkwNFx1NzQwNlx1NTY2OFx1NUI5RVx1NEY4Qlx1RkYwOFx1NTQxMVx1NTQwRVx1NTE3Q1x1NUJCOVx1RkYwOVxuXHQgKiBAZGVwcmVjYXRlZCBcdTRGN0ZcdTc1MjggZ2V0TW91c2VJbnRlcmFjdGlvbigpIFx1NjIxNiBnZXRLZXlib2FyZE1hbmFnZXIoKSBcdTRFRTNcdTY2RkZcblx0ICovXG5cdGdldEhhbmRsZXIoKToge1xuXHRcdG1vdXNlSW50ZXJhY3Rpb246IE1vdXNlSW50ZXJhY3Rpb247XG5cdFx0a2V5Ym9hcmRNYW5hZ2VyOiBLZXlib2FyZE1hbmFnZXI7XG5cdH0ge1xuXHRcdHJldHVybiB7XG5cdFx0XHRtb3VzZUludGVyYWN0aW9uOiB0aGlzLm1vdXNlSW50ZXJhY3Rpb24sXG5cdFx0XHRrZXlib2FyZE1hbmFnZXI6IHRoaXMua2V5Ym9hcmRNYW5hZ2VyXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTgzQjdcdTUzRDZcdTlGMjBcdTY4MDdcdTRFQTRcdTRFOTJcdTU5MDRcdTc0MDZcdTU2Njhcblx0ICovXG5cdGdldE1vdXNlSW50ZXJhY3Rpb24oKTogTW91c2VJbnRlcmFjdGlvbiB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VJbnRlcmFjdGlvbjtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTgzQjdcdTUzRDZcdTk1MkVcdTc2RDhcdTdCQTFcdTc0MDZcdTU2Njhcblx0ICovXG5cdGdldEtleWJvYXJkTWFuYWdlcigpOiBLZXlib2FyZE1hbmFnZXIge1xuXHRcdHJldHVybiB0aGlzLmtleWJvYXJkTWFuYWdlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTgzQjdcdTUzRDZcdThCQkVcdTU5MDdcdTdDN0JcdTU3OEJcblx0ICogQHJldHVybnMgdHJ1ZSBpZiBtb2JpbGUgaW50ZXJhY3Rpb24gaGFuZGxlciBpcyBhY3RpdmUsIGZhbHNlIGlmIGRlc2t0b3Bcblx0ICovXG5cdGlzTW9iaWxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmNvbmZpZy5pc01vYmlsZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTRFQTRcdTRFOTJcdTcyQjZcdTYwMDFcblx0ICovXG5cdGdldFN0YXRlKCk6IEludGVyYWN0aW9uU3RhdGUge1xuXHRcdHJldHVybiB7IC4uLnRoaXMuc3RhdGUgfTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTkwMDlcdTRFMkRcdTgyODJcdTcwQjlcblx0ICovXG5cdHNlbGVjdE5vZGUobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiB2b2lkIHtcblx0XHR0aGlzLnN0YXRlLnNlbGVjdGVkTm9kZSA9IG5vZGU7XG5cdFx0dGhpcy5yZW5kZXJDYWxsYmFja3Mub25Ob2RlU2VsZWN0ZWQ/Lihub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTYwQUNcdTUwNUNcdTgyODJcdTcwQjlcblx0ICovXG5cdGhvdmVyTm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPik6IHZvaWQge1xuXHRcdHRoaXMuc3RhdGUuaG92ZXJlZE5vZGUgPSBub2RlO1xuXHRcdHRoaXMucmVuZGVyQ2FsbGJhY2tzLm9uTm9kZUhvdmVyZWQ/Lihub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTZFMDVcdTk2NjRcdTYyNDBcdTY3MDlcdTkwMDlcdTYyRTlcblx0ICovXG5cdGNsZWFyU2VsZWN0aW9uKCk6IHZvaWQge1xuXHRcdHRoaXMuc3RhdGUuc2VsZWN0ZWROb2RlID0gbnVsbDtcblx0XHR0aGlzLm1vdXNlSW50ZXJhY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcblx0XHR0aGlzLnJlbmRlckNhbGxiYWNrcy5vblNlbGVjdGlvbkNsZWFyZWQ/LigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1OEZEQlx1NTE2NVx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlxuXHQgKi9cblx0ZW50ZXJFZGl0aW5nKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBlbGVtZW50OiBIVE1MRGl2RWxlbWVudCk6IHZvaWQge1xuXHRcdHRoaXMuc3RhdGUuZWRpdGluZ1N0YXRlID0ge1xuXHRcdFx0aXNFZGl0aW5nOiB0cnVlLFxuXHRcdFx0Y3VycmVudE5vZGU6IG5vZGUsXG5cdFx0XHRvcmlnaW5hbFRleHQ6IG5vZGUuZGF0YS50ZXh0LFxuXHRcdFx0ZWRpdEVsZW1lbnQ6IGVsZW1lbnRcblx0XHR9O1xuXHRcdC8vIE5vdGU6IEFjdHVhbCBlZGl0aW5nIGxvZ2ljIGlzIGhhbmRsZWQgYnkgTm9kZUVkaXRvclxuXHRcdC8vIFRoaXMganVzdCB1cGRhdGVzIHRoZSBzdGF0ZVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1OTAwMFx1NTFGQVx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlxuXHQgKi9cblx0ZXhpdEVkaXRpbmcoKTogdm9pZCB7XG5cdFx0dGhpcy5zdGF0ZS5lZGl0aW5nU3RhdGUgPSB7XG5cdFx0XHRpc0VkaXRpbmc6IGZhbHNlLFxuXHRcdFx0Y3VycmVudE5vZGU6IG51bGwsXG5cdFx0XHRvcmlnaW5hbFRleHQ6ICcnLFxuXHRcdFx0ZWRpdEVsZW1lbnQ6IG51bGxcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NjhDMFx1NjdFNVx1NzUzQlx1NUUwM1x1NEVBNFx1NEU5Mlx1NjYyRlx1NTQyNlx1NTQyRlx1NzUyOFxuXHQgKi9cblx0aXNDYW52YXNJbnRlcmFjdGlvbkVuYWJsZWQoKTogYm9vbGVhbiB7XG5cdFx0Ly8gXHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXHU0RTBCXHU3OTgxXHU3NTI4XHU3NTNCXHU1RTAzXHU0RUE0XHU0RTkyXG5cdFx0cmV0dXJuICF0aGlzLnN0YXRlLmVkaXRpbmdTdGF0ZS5pc0VkaXRpbmc7XG5cdH1cblxuXHQvKipcblx0ICogXHU5NTAwXHU2QkMxXG5cdCAqL1xuXHRkZXN0cm95KCk6IHZvaWQge1xuXHRcdHRoaXMua2V5Ym9hcmRNYW5hZ2VyLmRlc3Ryb3koKTtcblx0XHR0aGlzLm1vdXNlSW50ZXJhY3Rpb24uZGVzdHJveSgpO1xuXG5cdFx0Ly8gXHU2RTA1XHU3NDA2XHU3MkI2XHU2MDAxXG5cdFx0dGhpcy5zdGF0ZS5zZWxlY3RlZE5vZGUgPSBudWxsO1xuXHRcdHRoaXMuc3RhdGUuaG92ZXJlZE5vZGUgPSBudWxsO1xuXHRcdHRoaXMuc3RhdGUuZWRpdGluZ1N0YXRlID0ge1xuXHRcdFx0aXNFZGl0aW5nOiBmYWxzZSxcblx0XHRcdGN1cnJlbnROb2RlOiBudWxsLFxuXHRcdFx0b3JpZ2luYWxUZXh0OiAnJyxcblx0XHRcdGVkaXRFbGVtZW50OiBudWxsXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU0MENcdTZCNjVcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcblx0ICogXHU3NTMxIE5vZGVFZGl0b3IgXHU4QzAzXHU3NTI4XHVGRjBDXHU1NDBDXHU2QjY1XHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXHU3MkI2XHU2MDAxXHU1MjMwIEludGVyYWN0aW9uTWFuYWdlclxuXHQgKlxuXHQgKiBcdTZDRThcdTYxMEZcdUZGMUFSZW5kZXJlckNvb3JkaW5hdG9yIFx1OTAxQVx1OEZDN1x1NTE3MVx1NEVBQiBlZGl0aW5nU3RhdGUgXHU3QkExXHU3NDA2XHU3NzFGXHU1QjlFXHU3MkI2XHU2MDAxXG5cdCAqIEludGVyYWN0aW9uTWFuYWdlciBcdTUzRUFcdTk3MDBcdTg5ODFcdTc3RTVcdTkwNTNcdTY2MkZcdTU0MjZcdTZCNjNcdTU3MjhcdTdGMTZcdThGOTFcdUZGMENcdTc1MjhcdTRFOEVcdTRFQTRcdTRFOTJcdTUyMjRcdTY1QURcblx0ICpcblx0ICogQHBhcmFtIGlzRWRpdGluZyBcdTY2MkZcdTU0MjZcdTU5MDRcdTRFOEVcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcblx0ICovXG5cdHN5bmNFZGl0aW5nU3RhdGUoaXNFZGl0aW5nOiBib29sZWFuKTogdm9pZCB7XG5cdFx0Ly8gXHU3QjgwXHU1MzE2XHVGRjFBXHU1M0VBXHU1NDBDXHU2QjY1IGlzRWRpdGluZyBcdTY4MDdcdTVGRDdcblx0XHQvLyBcdTVCOENcdTY1NzRcdTc2ODRcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcdTc1MzEgUmVuZGVyZXJDb29yZGluYXRvci5lZGl0aW5nU3RhdGUgXHU3QkExXHU3NDA2XG5cdFx0dGhpcy5zdGF0ZS5lZGl0aW5nU3RhdGUuaXNFZGl0aW5nID0gaXNFZGl0aW5nO1xuXG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU5MDAwXHU1MUZBXHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXHVGRjBDXHU2RTA1XHU5NjY0XHU2NzJDXHU1NzMwXHU1RjE1XHU3NTI4XHVGRjA4XHU0RkREXHU2MzAxXHU0RTAwXHU4MUY0XHU2MDI3XHVGRjA5XG5cdFx0aWYgKCFpc0VkaXRpbmcpIHtcblx0XHRcdHRoaXMuc3RhdGUuZWRpdGluZ1N0YXRlLmN1cnJlbnROb2RlID0gbnVsbDtcblx0XHRcdHRoaXMuc3RhdGUuZWRpdGluZ1N0YXRlLm9yaWdpbmFsVGV4dCA9ICcnO1xuXHRcdFx0dGhpcy5zdGF0ZS5lZGl0aW5nU3RhdGUuZWRpdEVsZW1lbnQgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8vID09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHU1NjY4ID09PT09PT09PT1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU4MjgyXHU3MEI5XHU5MDA5XHU2MkU5XHU0RThCXHU0RUY2XG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZU5vZGVTZWxlY3Qobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiB2b2lkIHtcblx0XHR0aGlzLnNlbGVjdE5vZGUobm9kZSk7XG5cdH1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU4MjgyXHU3MEI5XHU1M0NDXHU1MUZCXHU0RThCXHU0RUY2XG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZU5vZGVEb3VibGVDbGljayhub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlckNhbGxiYWNrcy5vbk5vZGVEb3VibGVDbGlja2VkPy4obm9kZSwgZXZlbnQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNlx1ODI4Mlx1NzBCOVx1NjBBQ1x1NTA1Q1x1NEU4Qlx1NEVGNlxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVOb2RlSG92ZXIobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiB2b2lkIHtcblx0XHR0aGlzLmhvdmVyTm9kZShub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU5MDRcdTc0MDZcdTgyODJcdTcwQjlcdTc5QkJcdTVGMDBcdTRFOEJcdTRFRjZcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlTm9kZUxlYXZlKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KTogdm9pZCB7XG5cdFx0dGhpcy5zdGF0ZS5ob3ZlcmVkTm9kZSA9IG51bGw7XG5cdFx0dGhpcy5yZW5kZXJDYWxsYmFja3Mub25Ob2RlTGVmdD8uKG5vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNlx1NzUzQlx1NUUwM1x1NzBCOVx1NTFGQlx1NEU4Qlx1NEVGNlxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVDYW52YXNDbGljaygpOiB2b2lkIHtcblxuXHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NUY1M1x1NTI0RFx1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVx1RkYwQ1x1NTE0OFx1OTAwMFx1NTFGQVx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlxuXHRcdGlmICh0aGlzLnN0YXRlLmVkaXRpbmdTdGF0ZS5pc0VkaXRpbmcpIHtcblx0XHRcdHRoaXMucmVuZGVyQ2FsbGJhY2tzLm9uRXhpdEVkaXRNb2RlPy4oKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5jbGVhclNlbGVjdGlvbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNlx1NzUzQlx1NUUwM1x1NjJENlx1NjJGRFx1NEU4Qlx1NEVGNlxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVDYW52YXNEcmFnKGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiB2b2lkIHtcblx0XHQvLyBOb3RlOiBDYW52YXMgZHJhZyBoYW5kbGluZyBpcyB0eXBpY2FsbHkgZG9uZSBieSBEMyB6b29tIGJlaGF2aW9yXG5cdFx0Ly8gVGhpcyBjYWxsYmFjayBpcyBmb3IgY3VzdG9tIGRyYWcgaGFuZGxpbmcgaWYgbmVlZGVkXG5cdH1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2IFRhYiBcdTk1MkVcdTRFOEJcdTRFRjZcblx0ICovXG5cdHByaXZhdGUgaGFuZGxlVGFiS2V5KG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KTogdm9pZCB7XG5cdFx0dGhpcy5yZW5kZXJDYWxsYmFja3Mub25BZGRDaGlsZE5vZGU/Lihub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU5MDRcdTc0MDYgRGVsZXRlIFx1OTUyRVx1NEU4Qlx1NEVGNlxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVEZWxldGVLZXkobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlckNhbGxiYWNrcy5vbkRlbGV0ZU5vZGU/Lihub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU5MDRcdTc0MDYgRW50ZXIgXHU5NTJFXHU0RThCXHU0RUY2XG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZUVudGVyS2V5KG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KTogdm9pZCB7XG5cdFx0dGhpcy5yZW5kZXJDYWxsYmFja3Mub25BZGRTaWJsaW5nTm9kZT8uKG5vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNlx1NTkwRFx1NTIzNlx1NUZFQlx1NjM3N1x1OTUyRVxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBoYW5kbGVDb3B5U2hvcnRjdXQobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLnJlbmRlckNhbGxiYWNrcy5vbkNvcHlOb2RlPy4obm9kZSk7XG5cdH1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU1MjZBXHU1MjA3XHU1RkVCXHU2Mzc3XHU5NTJFXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIGhhbmRsZUN1dFNob3J0Y3V0KG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy5yZW5kZXJDYWxsYmFja3Mub25DdXROb2RlPy4obm9kZSk7XG5cdH1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU3Qzk4XHU4RDM0XHU1RkVCXHU2Mzc3XHU5NTJFXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIGhhbmRsZVBhc3RlU2hvcnRjdXQobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLnJlbmRlckNhbGxiYWNrcy5vblBhc3RlVG9Ob2RlPy4obm9kZSk7XG5cdH1cblxuXHQvKipcblx0ICogXHU1OTA0XHU3NDA2XHU2NEE0XHU5NTAwXHU1RkVCXHU2Mzc3XHU5NTJFXG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZVVuZG9TaG9ydGN1dCgpOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlckNhbGxiYWNrcy5vblVuZG8/LigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNlx1OTFDRFx1NTA1QVx1NUZFQlx1NjM3N1x1OTUyRVxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVSZWRvU2hvcnRjdXQoKTogdm9pZCB7XG5cdFx0dGhpcy5yZW5kZXJDYWxsYmFja3Mub25SZWRvPy4oKTtcblx0fVxufVxuIiwgIi8qKlxuICogQUkgQXNzaXN0YW50IC0gQUkgbm9kZSBzdWdnZXN0aW9uIGZ1bmN0aW9uYWxpdHlcbiAqXG4gKiBbUmVzcG9uc2liaWxpdGllc11cbiAqIC0gUmVuZGVyIEFJIHN1Z2dlc3Rpb24gYnV0dG9uXG4gKiAtIFRyaWdnZXIgQUkgcmVxdWVzdHMgdG8gZ2V0IGNoaWxkIG5vZGUgc3VnZ2VzdGlvbnNcbiAqIC0gU2hvdyBzdWdnZXN0aW9uIHBhbmVsXG4gKiAtIEhhbmRsZSBzdWdnZXN0aW9uIHNlbGVjdGlvbiBhbmQgbm9kZSBjcmVhdGlvblxuICogLSBNYW5hZ2UgbG9hZGluZyBzdGF0ZSBhbmQgc2VsZWN0ZWQgc3VnZ2VzdGlvbnNcbiAqXG4gKiBbRGVzaWduIFByaW5jaXBsZXNdXG4gKiAtIENvbW11bmljYXRlIHdpdGggZXh0ZXJuYWwgdmlhIGNhbGxiYWNrcywgbm8gZGlyZWN0IGRlcGVuZGVuY3kgb24gRDNUcmVlUmVuZGVyZXJcbiAqIC0gTWFuYWdlIG93biBzdGF0ZSAoc2VsZWN0ZWRTdWdnZXN0aW9ucywgbG9hZGluZ05vdGljZSlcbiAqIC0gUHJvdmlkZSBjbGVhciBBUEkgZm9yIGJ1dHRvbiByZW5kZXJpbmcgYW5kIHRyaWdnZXJpbmdcbiAqXG4gKiBbUmVmYWN0b3JpbmcgU291cmNlXVxuICogRXh0cmFjdGVkIGZyb20gRDNUcmVlUmVuZGVyZXIudHMgKFBoYXNlIDMuMSlcbiAqIC0gcmVuZGVyQUlTdWdnZXN0QnV0dG9uKCkgXHUyMTkyIHJlbmRlckFJQnV0dG9uKClcbiAqIC0gcmVtb3ZlQUlTdWdnZXN0QnV0dG9uKCkgXHUyMTkyIHJlbW92ZUFJQnV0dG9uKClcbiAqIC0gdHJpZ2dlckFJU3VnZ2VzdGlvbnMoKSBcdTIxOTIgdHJpZ2dlclN1Z2dlc3Rpb25zKClcbiAqIC0gc2hvd1N1Z2dlc3Rpb25zUGFuZWwoKSBcdTIxOTIgc2hvd1N1Z2dlc3Rpb25zUGFuZWwoKVxuICogLSBjcmVhdGVDaGlsZEZyb21TdWdnZXN0aW9uKCkgXHUyMTkyIGNyZWF0ZUNoaWxkRnJvbVN1Z2dlc3Rpb24oKVxuICovXG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IE1pbmRNYXBOb2RlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuXG4vKipcbiAqIEFJIEFzc2lzdGFudCBjYWxsYmFjayBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBSUFzc2lzdGFudENhbGxiYWNrcyB7XG5cdC8qKlxuXHQgKiBDYWxsZWQgYWZ0ZXIgbm9kZSBpcyBzdWNjZXNzZnVsbHkgY3JlYXRlZCwgdXNlZCB0byByZWZyZXNoIHJlbmRlcmluZ1xuXHQgKi9cblx0b25Ob2RlQ3JlYXRlZD86ICgpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogTm9kZSBkaW1lbnNpb25zIGludGVyZmFjZSAoc2ltcGxpZmllZCB2ZXJzaW9uKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVEaW1lbnNpb25zIHtcblx0d2lkdGg6IG51bWJlcjtcblx0aGVpZ2h0OiBudW1iZXI7XG59XG5cbi8qKlxuICogQUkgQXNzaXN0YW50IGNsYXNzXG4gKlxuICogTWFuYWdlcyBjb21wbGV0ZSBsaWZlY3ljbGUgb2YgQUkgbm9kZSBzdWdnZXN0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgQUlBc3Npc3RhbnQge1xuXHQvLyBTZWxlY3RlZCBzdWdnZXN0aW9ucyB0cmFja2luZ1xuXHRwcml2YXRlIHNlbGVjdGVkU3VnZ2VzdGlvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuXHQvLyBBSSBzdWdnZXN0aW9uIGxvYWRpbmcgbm90aWNlXG5cdHByaXZhdGUgbG9hZGluZ05vdGljZTogTm90aWNlIHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0Ly8gSW5zdGFuY2UgdmFyaWFibGVzIGFyZSB1c2VkIGluIGNsYXNzIG1ldGhvZHNcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW5kZXIgQUkgc3VnZ2VzdGlvbiBidXR0b25cblx0ICpcblx0ICogQHBhcmFtIG5vZGVFbGVtZW50IE5vZGUgZWxlbWVudCBzZWxlY3Rpb24gc2V0XG5cdCAqIEBwYXJhbSBub2RlIE5vZGUgZGF0YVxuXHQgKiBAcGFyYW0gZGltZW5zaW9ucyBOb2RlIGRpbWVuc2lvbnNcblx0ICovXG5cdHJlbmRlckFJQnV0dG9uKFxuXHRcdG5vZGVFbGVtZW50OiBkMy5TZWxlY3Rpb248U1ZHR0VsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBudWxsLCB1bmRlZmluZWQ+LFxuXHRcdG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuXHRcdGRpbWVuc2lvbnM6IE5vZGVEaW1lbnNpb25zXG5cdCk6IHZvaWQge1xuXHRcdC8vIENoZWNrIGlmIEFJIGJ1dHRvbiBhbHJlYWR5IGV4aXN0c1xuXHRcdGNvbnN0IGV4aXN0aW5nQUlCdXR0b24gPSBub2RlRWxlbWVudC5zZWxlY3QoXCIuYWktc3VnZ2VzdC1idXR0b24tZ3JvdXBcIik7XG5cdFx0aWYgKCFleGlzdGluZ0FJQnV0dG9uLmVtcHR5KCkpIHtcblx0XHRcdHJldHVybjsgLy8gRG9uJ3QgY3JlYXRlIGR1cGxpY2F0ZSBpZiBBSSBidXR0b24gYWxyZWFkeSBleGlzdHNcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgdG90YWwgaGVpZ2h0IG9mIGJvdGggYnV0dG9ucyAocGx1cyBidXR0b24gMjBweCArIHNwYWNpbmcgMTBweCArIEFJIGJ1dHRvbiAyMHB4ID0gNTBweClcblx0XHRjb25zdCB0b3RhbEJ1dHRvbnNIZWlnaHQgPSAyMCArIDEwICsgMjA7XG5cdFx0Ly8gQUkgYnV0dG9uIHBvc2l0aW9uZWQgYXQgYm90dG9tOiBwbHVzIGJ1dHRvbiBZIHBvc2l0aW9uICsgMjBweCAocGx1cyBidXR0b24gaGVpZ2h0KSArIDEwcHggKHNwYWNpbmcpXG5cdFx0Y29uc3QgYnV0dG9uWSA9IChkaW1lbnNpb25zLmhlaWdodCAtIHRvdGFsQnV0dG9uc0hlaWdodCkgLyAyICsgMjAgKyAxMDtcblx0XHRjb25zdCBidXR0b25YID0gZGltZW5zaW9ucy53aWR0aCArIDQ7IC8vIEhvcml6b250YWxseSBhbGlnbmVkIHdpdGggcGx1cyBidXR0b25cblxuXHRcdC8vIENyZWF0ZSBBSSBzdWdnZXN0aW9uIGJ1dHRvbiBncm91cFxuXHRcdGNvbnN0IGJ1dHRvbkdyb3VwID0gbm9kZUVsZW1lbnQuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImFpLXN1Z2dlc3QtYnV0dG9uLWdyb3VwXCIpXG5cdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7YnV0dG9uWH0sICR7YnV0dG9uWX0pYCk7XG5cblx0XHQvLyBBZGQgY2xpY2sgZXZlbnQgaGFuZGxlclxuXHRcdGJ1dHRvbkdyb3VwLm9uKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdHZvaWQgdGhpcy50cmlnZ2VyU3VnZ2VzdGlvbnMobm9kZSk7XG5cdFx0fSk7XG5cblx0XHQvLyBDcmVhdGUgY2lyY3VsYXIgYmFja2dyb3VuZCAocHVycGxlKVxuXHRcdGJ1dHRvbkdyb3VwLmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImFpLXN1Z2dlc3QtYnV0dG9uLWJnXCIpXG5cdFx0XHQuYXR0cihcImN4XCIsIDEwKVxuXHRcdFx0LmF0dHIoXCJjeVwiLCAxMClcblx0XHRcdC5hdHRyKFwiclwiLCAxMClcblx0XHRcdC5hdHRyKFwiZmlsbFwiLCBcIiM5MzMzZWFcIikgIC8vIFB1cnBsZSBiYWNrZ3JvdW5kXG5cdFx0XHQuc3R5bGUoXCJvcGFjaXR5XCIsIDAuOSlcblx0XHRcdC5zdHlsZShcImN1cnNvclwiLCBcInBvaW50ZXJcIik7XG5cblx0XHQvLyBDcmVhdGUgZW1vamkgaWNvblxuXHRcdGJ1dHRvbkdyb3VwLmFwcGVuZChcInRleHRcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJhaS1zdWdnZXN0LWJ1dHRvbi10ZXh0XCIpXG5cdFx0XHQuYXR0cihcInhcIiwgMTApXG5cdFx0XHQuYXR0cihcInlcIiwgMTApXG5cdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG5cdFx0XHQuYXR0cihcImRvbWluYW50LWJhc2VsaW5lXCIsIFwibWlkZGxlXCIpXG5cdFx0XHQuYXR0cihcImZpbGxcIiwgXCJ3aGl0ZVwiKVxuXHRcdFx0LmF0dHIoXCJmb250LXNpemVcIiwgXCIxNHB4XCIpXG5cdFx0XHQuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLCBcIm5vbmVcIilcblx0XHRcdC50ZXh0KFwiXHUyNzI4XCIpO1xuXG5cdFx0Ly8gQWRkIHRpdGxlIHRvb2x0aXBcblx0XHRidXR0b25Hcm91cC5hcHBlbmQoXCJ0aXRsZVwiKVxuXHRcdFx0LnRleHQoXCJBSSBTdWdnZXN0aW9uc1wiKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgQUkgc3VnZ2VzdGlvbiBidXR0b25cblx0ICpcblx0ICogQHBhcmFtIG5vZGVFbGVtZW50IE5vZGUgZWxlbWVudCBzZWxlY3Rpb24gc2V0XG5cdCAqL1xuXHRyZW1vdmVBSUJ1dHRvbihcblx0XHRub2RlRWxlbWVudDogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgbnVsbCwgdW5kZWZpbmVkPlxuXHQpOiB2b2lkIHtcblx0XHRjb25zdCBidXR0b25Hcm91cCA9IG5vZGVFbGVtZW50LnNlbGVjdChcIi5haS1zdWdnZXN0LWJ1dHRvbi1ncm91cFwiKTtcblx0XHRpZiAoIWJ1dHRvbkdyb3VwLmVtcHR5KCkpIHtcblx0XHRcdGJ1dHRvbkdyb3VwLnJlbW92ZSgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBUcmlnZ2VyIEFJIHN1Z2dlc3Rpb24gcmVxdWVzdFxuXHQgKlxuXHQgKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGdldCBzdWdnZXN0aW9ucyBmb3Jcblx0ICovXG5cdGFzeW5jIHRyaWdnZXJTdWdnZXN0aW9ucyhub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPik6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIFZhbGlkYXRlIHNlcnZpY2UgYXZhaWxhYmlsaXR5XG5cdFx0aWYgKCF0aGlzLm1pbmRNYXBTZXJ2aWNlKSB7XG5cdFx0XHRuZXcgTm90aWNlKHRoaXMubWVzc2FnZXMuZXJyb3JzLnNlcnZpY2VOb3RBdmFpbGFibGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEVtcHR5IG5vZGUgdmFsaWRhdGlvblxuXHRcdGNvbnN0IG5vZGVUZXh0ID0gbm9kZS5kYXRhLnRleHQ/LnRyaW0oKSB8fCAnJztcblxuXHRcdGlmICghbm9kZVRleHQpIHtcblx0XHRcdG5ldyBOb3RpY2UodGhpcy5tZXNzYWdlcy5lcnJvcnMuZW1wdHlOb2RlRXJyb3IpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENsZWFuIHVwIHByZXZpb3VzIGxvYWRpbmcgbm90aWNlIChpZiBleGlzdHMpXG5cdFx0aWYgKHRoaXMubG9hZGluZ05vdGljZSkge1xuXHRcdFx0dGhpcy5sb2FkaW5nTm90aWNlLmhpZGUoKTtcblx0XHRcdHRoaXMubG9hZGluZ05vdGljZSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gU2hvdyBwZXJzaXN0ZW50IGxvYWRpbmcgbm90aWNlIChubyB0aW1lb3V0LCB3aWxsIGRpc3BsYXkgdW50aWwgbWFudWFsbHkgaGlkZGVuKVxuXHRcdHRoaXMubG9hZGluZ05vdGljZSA9IG5ldyBOb3RpY2UodGhpcy5tZXNzYWdlcy5mb3JtYXQoXG5cdFx0XHR0aGlzLm1lc3NhZ2VzLm5vdGljZXMuYWlBbmFseXppbmcsXG5cdFx0XHR7IG5vZGVUZXh0IH1cblx0XHQpLCAwKTtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBDYWxsIE1pbmRNYXBTZXJ2aWNlIHRvIGdldCBzdWdnZXN0aW9uc1xuXHRcdFx0Y29uc3Qgc3VnZ2VzdGlvbnMgPSBhd2FpdCB0aGlzLm1pbmRNYXBTZXJ2aWNlLnN1Z2dlc3RDaGlsZE5vZGVzKG5vZGUuZGF0YSk7XG5cblx0XHRcdC8vIEhpZGUgbG9hZGluZyBub3RpY2UgYWZ0ZXIgc3VjY2Vzc1xuXHRcdFx0aWYgKHRoaXMubG9hZGluZ05vdGljZSkge1xuXHRcdFx0XHR0aGlzLmxvYWRpbmdOb3RpY2UuaGlkZSgpO1xuXHRcdFx0XHR0aGlzLmxvYWRpbmdOb3RpY2UgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UodGhpcy5tZXNzYWdlcy5ub3RpY2VzLmFpTm9TdWdnZXN0aW9ucyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyBzdWdnZXN0aW9uIHBhbmVsXG5cdFx0XHR0aGlzLnNob3dTdWdnZXN0aW9uc1BhbmVsKG5vZGUsIHN1Z2dlc3Rpb25zKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXG5cdFx0XHQvLyBIaWRlIGxvYWRpbmcgbm90aWNlIG9uIGVycm9yIHRvb1xuXHRcdFx0aWYgKHRoaXMubG9hZGluZ05vdGljZSkge1xuXHRcdFx0XHR0aGlzLmxvYWRpbmdOb3RpY2UuaGlkZSgpO1xuXHRcdFx0XHR0aGlzLmxvYWRpbmdOb3RpY2UgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBlcnJvck1zZyA9IHRoaXMubWVzc2FnZXMuZm9ybWF0KFxuXHRcdFx0XHR0aGlzLm1lc3NhZ2VzLm5vdGljZXMuYWlGYWlsZWQsXG5cdFx0XHRcdHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuXHRcdFx0KTtcblx0XHRcdG5ldyBOb3RpY2UoZXJyb3JNc2cpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTaG93IHN1Z2dlc3Rpb24gbGlzdCBwYW5lbFxuXHQgKlxuXHQgKiBAcGFyYW0gbm9kZSBQYXJlbnQgbm9kZVxuXHQgKiBAcGFyYW0gc3VnZ2VzdGlvbnMgU3VnZ2VzdGlvbiBsaXN0XG5cdCAqL1xuXHRwcml2YXRlIHNob3dTdWdnZXN0aW9uc1BhbmVsKFxuXHRcdG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuXHRcdHN1Z2dlc3Rpb25zOiBzdHJpbmdbXVxuXHQpOiB2b2lkIHtcblx0XHQvLyBSZW1vdmUgb2xkIHBhbmVsXG5cdFx0dGhpcy5oaWRlU3VnZ2VzdGlvbnNQYW5lbCgpO1xuXG5cdFx0Ly8gQ3JlYXRlIHBhbmVsIGNvbnRhaW5lclxuXHRcdGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRwYW5lbC5jbGFzc05hbWUgPSBcImFpLXN1Z2dlc3Rpb25zLXBhbmVsXCI7XG5cblx0XHQvLyBUaXRsZSBhbmQgYWN0aW9uIGJ1dHRvbnMgYXJlYVxuXHRcdGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0aGVhZGVyLmNsYXNzTmFtZSA9IFwiYWktc3VnZ2VzdGlvbnMtaGVhZGVyXCI7XG5cblx0XHRjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNFwiKTtcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IHRoaXMubWVzc2FnZXMudWkuYWlTdWdnZXN0aW9uc1RpdGxlO1xuXG5cdFx0Ly8gQWN0aW9uIGJ1dHRvbnMgY29udGFpbmVyXG5cdFx0Y29uc3QgYWN0aW9uQnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0YWN0aW9uQnV0dG9ucy5jbGFzc05hbWUgPSBcImFpLXN1Z2dlc3Rpb25zLWFjdGlvbnNcIjtcblxuXHRcdC8vIFNlbGVjdCBhbGwgYnV0dG9uXG5cdFx0Y29uc3Qgc2VsZWN0QWxsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRzZWxlY3RBbGxCdG4uY2xhc3NOYW1lID0gXCJhaS1zdWdnZXN0aW9ucy1zZWxlY3QtYWxsXCI7XG5cdFx0c2VsZWN0QWxsQnRuLnRleHRDb250ZW50ID0gdGhpcy5tZXNzYWdlcy51aS5haUFkZEFsbDtcblx0XHRzZWxlY3RBbGxCdG4udGl0bGUgPSB0aGlzLm1lc3NhZ2VzLnVpLmFpQWRkQWxsVG9vbHRpcDtcblx0XHRzZWxlY3RBbGxCdG4ub25jbGljayA9ICgpID0+IHtcblx0XHRcdHN1Z2dlc3Rpb25zLmZvckVhY2goc3VnZ2VzdGlvbiA9PiB7XG5cdFx0XHRcdGlmICghdGhpcy5zZWxlY3RlZFN1Z2dlc3Rpb25zLmhhcyhzdWdnZXN0aW9uKSkge1xuXHRcdFx0XHRcdC8vIEZpbmQgY29ycmVzcG9uZGluZyBsaXN0IGl0ZW1cblx0XHRcdFx0XHRjb25zdCBsaXN0SXRlbSA9IEFycmF5LmZyb20obGlzdC5jaGlsZHJlbikuZmluZChcblx0XHRcdFx0XHRcdGl0ZW0gPT4gaXRlbS50ZXh0Q29udGVudD8uaW5jbHVkZXMoc3VnZ2VzdGlvbilcblx0XHRcdFx0XHQpIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0XHRcdHRoaXMuY3JlYXRlQ2hpbGRGcm9tU3VnZ2VzdGlvbihub2RlLCBzdWdnZXN0aW9uLCBsaXN0SXRlbSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHQvLyBDbG9zZSBidXR0b25cblx0XHRjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0Y2xvc2VCdG4uY2xhc3NOYW1lID0gXCJhaS1zdWdnZXN0aW9ucy1jbG9zZVwiO1xuXHRcdGNsb3NlQnRuLnRleHRDb250ZW50ID0gdGhpcy5tZXNzYWdlcy51aS5haUNsb3NlO1xuXHRcdGNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmhpZGVTdWdnZXN0aW9uc1BhbmVsKCk7XG5cblx0XHRhY3Rpb25CdXR0b25zLmFwcGVuZENoaWxkKHNlbGVjdEFsbEJ0bik7XG5cdFx0YWN0aW9uQnV0dG9ucy5hcHBlbmRDaGlsZChjbG9zZUJ0bik7XG5cdFx0aGVhZGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcblx0XHRoZWFkZXIuYXBwZW5kQ2hpbGQoYWN0aW9uQnV0dG9ucyk7XG5cdFx0cGFuZWwuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuXHRcdC8vIFN1Z2dlc3Rpb24gbGlzdFxuXHRcdGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG5cdFx0bGlzdC5jbGFzc05hbWUgPSBcImFpLXN1Z2dlc3Rpb25zLWxpc3RcIjtcblxuXHRcdHN1Z2dlc3Rpb25zLmZvckVhY2goKHN1Z2dlc3Rpb24pID0+IHtcblx0XHRcdGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG5cdFx0XHRpdGVtLmNsYXNzTmFtZSA9IFwiYWktc3VnZ2VzdGlvbi1pdGVtXCI7XG5cblx0XHRcdC8vIENoZWNrIGlmIGFscmVhZHkgc2VsZWN0ZWQgKGZvciBwYW5lbCByZW9wZW4gc2NlbmFyaW8pXG5cdFx0XHRjb25zdCBpc1NlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFN1Z2dlc3Rpb25zLmhhcyhzdWdnZXN0aW9uKTtcblx0XHRcdGlmIChpc1NlbGVjdGVkKSB7XG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWktc3VnZ2VzdGlvbi1pdGVtLXNlbGVjdGVkJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENyZWF0ZSBjaGVja21hcmsgcGxhY2Vob2xkZXIgZWxlbWVudFxuXHRcdFx0Y29uc3QgY2hlY2ttYXJrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRjaGVja21hcmsuY2xhc3NOYW1lID0gXCJhaS1zdWdnZXN0aW9uLWNoZWNrbWFya1wiO1xuXHRcdFx0Y2hlY2ttYXJrLnRleHRDb250ZW50ID0gaXNTZWxlY3RlZCA/ICdcdTI3MTMnIDogJyc7XG5cblx0XHRcdC8vIENyZWF0ZSBzdWdnZXN0aW9uIHRleHRcblx0XHRcdGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblx0XHRcdHRleHQuY2xhc3NOYW1lID0gXCJhaS1zdWdnZXN0aW9uLXRleHRcIjtcblx0XHRcdHRleHQudGV4dENvbnRlbnQgPSBzdWdnZXN0aW9uO1xuXG5cdFx0XHRpdGVtLmFwcGVuZENoaWxkKGNoZWNrbWFyayk7XG5cdFx0XHRpdGVtLmFwcGVuZENoaWxkKHRleHQpO1xuXG5cdFx0XHQvLyBDbGljayBldmVudDogb25seSBjcmVhdGUgaWYgbm90IHNlbGVjdGVkXG5cdFx0XHRpdGVtLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGlmICghdGhpcy5zZWxlY3RlZFN1Z2dlc3Rpb25zLmhhcyhzdWdnZXN0aW9uKSkge1xuXHRcdFx0XHRcdHRoaXMuY3JlYXRlQ2hpbGRGcm9tU3VnZ2VzdGlvbihub2RlLCBzdWdnZXN0aW9uLCBpdGVtKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKHRoaXMubWVzc2FnZXMuZm9ybWF0KFxuXHRcdFx0XHRcdFx0dGhpcy5tZXNzYWdlcy5ub3RpY2VzLmFscmVhZHlBZGRlZCB8fCBgQWxyZWFkeSBhZGRlZDoge25vZGVUZXh0fWAsXG5cdFx0XHRcdFx0XHR7IG5vZGVUZXh0OiBzdWdnZXN0aW9uIH1cblx0XHRcdFx0XHQpKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0bGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcblx0XHR9KTtcblxuXHRcdHBhbmVsLmFwcGVuZENoaWxkKGxpc3QpO1xuXG5cdFx0Ly8gQWRkIHRvIGRvY3VtZW50LmJvZHkgKGF2b2lkIGJlaW5nIHJlbW92ZWQgYnkgcmUtcmVuZGVyaW5nKVxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFuZWwpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlIHN1Z2dlc3Rpb24gcGFuZWxcblx0ICovXG5cdHByaXZhdGUgaGlkZVN1Z2dlc3Rpb25zUGFuZWwoKTogdm9pZCB7XG5cdFx0Y29uc3QgcGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFpLXN1Z2dlc3Rpb25zLXBhbmVsXCIpO1xuXHRcdGlmIChwYW5lbCkge1xuXHRcdFx0cGFuZWwucmVtb3ZlKCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBjaGlsZCBub2RlIGZyb20gc3VnZ2VzdGlvblxuXHQgKlxuXHQgKiBAcGFyYW0gcGFyZW50Tm9kZSBQYXJlbnQgbm9kZVxuXHQgKiBAcGFyYW0gc3VnZ2VzdGlvbiBTdWdnZXN0aW9uIHRleHRcblx0ICogQHBhcmFtIGxpc3RJdGVtRWxlbWVudCBMaXN0IGl0ZW0gZWxlbWVudCAob3B0aW9uYWwsIGZvciB1cGRhdGluZyBVSSlcblx0ICovXG5cdHByaXZhdGUgY3JlYXRlQ2hpbGRGcm9tU3VnZ2VzdGlvbihcblx0XHRwYXJlbnROb2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHRzdWdnZXN0aW9uOiBzdHJpbmcsXG5cdFx0bGlzdEl0ZW1FbGVtZW50PzogSFRNTEVsZW1lbnRcblx0KTogdm9pZCB7XG5cdFx0Ly8gUHJldmVudCBkdXBsaWNhdGUgY3JlYXRpb24gb2Ygc2FtZSBzdWdnZXN0aW9uXG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWRTdWdnZXN0aW9ucy5oYXMoc3VnZ2VzdGlvbikpIHtcblx0XHRcdG5ldyBOb3RpY2UodGhpcy5tZXNzYWdlcy5mb3JtYXQoXG5cdFx0XHRcdHRoaXMubWVzc2FnZXMubm90aWNlcy5hbHJlYWR5QWRkZWQgfHwgYEFscmVhZHkgYWRkZWQ6IHtub2RlVGV4dH1gLFxuXHRcdFx0XHR7IG5vZGVUZXh0OiBzdWdnZXN0aW9uIH1cblx0XHRcdCkpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBDcmVhdGUgY2hpbGQgbm9kZVxuXHRcdFx0dGhpcy5taW5kTWFwU2VydmljZS5jcmVhdGVDaGlsZE5vZGUocGFyZW50Tm9kZS5kYXRhLCBzdWdnZXN0aW9uKTtcblxuXHRcdFx0Ly8gVHJhY2sgc2VsZWN0ZWQgc3VnZ2VzdGlvblxuXHRcdFx0dGhpcy5zZWxlY3RlZFN1Z2dlc3Rpb25zLmFkZChzdWdnZXN0aW9uKTtcblxuXHRcdFx0Ly8gUmVmcmVzaCByZW5kZXJpbmdcblx0XHRcdHRoaXMuY2FsbGJhY2tzLm9uTm9kZUNyZWF0ZWQ/LigpO1xuXG5cdFx0XHQvLyBNYXJrIGxpc3QgaXRlbSBhcyBzZWxlY3RlZCAoaWYgbGlzdCBpdGVtIGVsZW1lbnQgcHJvdmlkZWQpXG5cdFx0XHRpZiAobGlzdEl0ZW1FbGVtZW50KSB7XG5cdFx0XHRcdGxpc3RJdGVtRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhaS1zdWdnZXN0aW9uLWl0ZW0tc2VsZWN0ZWQnKTtcblx0XHRcdFx0Ly8gU2hvdyBjaGVja21hcmsgaWNvblxuXHRcdFx0XHRjb25zdCBjaGVja21hcmsgPSBsaXN0SXRlbUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmFpLXN1Z2dlc3Rpb24tY2hlY2ttYXJrJyk7XG5cdFx0XHRcdGlmIChjaGVja21hcmspIHtcblx0XHRcdFx0XHRjaGVja21hcmsudGV4dENvbnRlbnQgPSAnXHUyNzEzJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IHN1Y2Nlc3Mgbm90aWNlXG5cdFx0XHRuZXcgTm90aWNlKHRoaXMubWVzc2FnZXMuZm9ybWF0KFxuXHRcdFx0XHR0aGlzLm1lc3NhZ2VzLm5vdGljZXMubm9kZUNyZWF0ZWQgfHwgYENyZWF0ZWQ6IHtub2RlVGV4dH1gLFxuXHRcdFx0XHR7IG5vZGVUZXh0OiBzdWdnZXN0aW9uIH1cblx0XHRcdCkpO1xuXG5cdFx0XHQvLyBObyBsb25nZXIgYXV0by1jbG9zZSBwYW5lbCwgYWxsb3cgdXNlciB0byBjb250aW51ZSBzZWxlY3Rpbmcgb3RoZXIgc3VnZ2VzdGlvbnNcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bmV3IE5vdGljZSh0aGlzLm1lc3NhZ2VzLmZvcm1hdChcblx0XHRcdFx0dGhpcy5tZXNzYWdlcy5ub3RpY2VzLm5vZGVDcmVhdGVGYWlsZWQgfHwgYEZhaWxlZCB0byBjcmVhdGUgbm9kZToge2Vycm9yfWAsXG5cdFx0XHRcdHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuXHRcdFx0KSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENsZWFyIHNlbGVjdGVkIHN1Z2dlc3Rpb25zIHRyYWNraW5nXG5cdCAqXG5cdCAqIENhbGxlZCB3aGVuIHN3aXRjaGluZyB0byBkaWZmZXJlbnQgbm9kZXMgb3IgcmVvcGVuaW5nIG1pbmQgbWFwXG5cdCAqL1xuXHRjbGVhclNlbGVjdGVkU3VnZ2VzdGlvbnMoKTogdm9pZCB7XG5cdFx0dGhpcy5zZWxlY3RlZFN1Z2dlc3Rpb25zLmNsZWFyKCk7XG5cdH1cblxuXHQvKipcblx0ICogRGVzdHJveSBBSSBBc3Npc3RhbnRcblx0ICpcblx0ICogQ2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBoaWRlIHBhbmVsXG5cdCAqL1xuXHRkZXN0cm95KCk6IHZvaWQge1xuXHRcdC8vIEhpZGUgc3VnZ2VzdGlvbiBwYW5lbFxuXHRcdHRoaXMuaGlkZVN1Z2dlc3Rpb25zUGFuZWwoKTtcblxuXHRcdC8vIEhpZGUgbG9hZGluZyBub3RpY2Vcblx0XHRpZiAodGhpcy5sb2FkaW5nTm90aWNlKSB7XG5cdFx0XHR0aGlzLmxvYWRpbmdOb3RpY2UuaGlkZSgpO1xuXHRcdFx0dGhpcy5sb2FkaW5nTm90aWNlID0gbnVsbDtcblx0XHR9XG5cblx0XHQvLyBDbGVhciBzZWxlY3RlZCBzdWdnZXN0aW9uc1xuXHRcdHRoaXMuc2VsZWN0ZWRTdWdnZXN0aW9ucy5jbGVhcigpO1xuXHR9XG59XG4iLCAiLyoqXG4gKiBOb2RlIEVkaXRvciAtIE5vZGUgZWRpdGluZyBmdW5jdGlvbmFsaXR5XG4gKlxuICogW1Jlc3BvbnNpYmlsaXRpZXNdXG4gKiAtIEVudGVyL2V4aXQgZWRpdCBtb2RlXG4gKiAtIFRleHQgdmFsaWRhdGlvblxuICogLSBTYXZlL2NhbmNlbCBlZGl0aW5nXG4gKiAtIEVkaXQgVUkgaGludHNcbiAqIC0gSGFuZGxlIGVkaXQga2V5Ym9hcmQgc2hvcnRjdXRzXG4gKlxuICogW0Rlc2lnbiBQcmluY2lwbGVzXVxuICogLSBDb21tdW5pY2F0ZSB3aXRoIGV4dGVybmFsIHZpYSBjYWxsYmFja3MsIG5vIGRpcmVjdCBkZXBlbmRlbmN5IG9uIEQzVHJlZVJlbmRlcmVyXG4gKiAtIE1hbmFnZSBvd24gc3RhdGUgKGVkaXRpbmdTdGF0ZSwgY2FudmFzSW50ZXJhY3Rpb25FbmFibGVkKVxuICogLSBQcm92aWRlIGNsZWFyIEFQSSBmb3IgZWRpdCBvcGVyYXRpb25zXG4gKlxuICogW1JlZmFjdG9yaW5nIFNvdXJjZV1cbiAqIEV4dHJhY3RlZCBmcm9tIEQzVHJlZVJlbmRlcmVyLnRzIChQaGFzZSAzLjIpXG4gKiAtIGVuYWJsZU5vZGVFZGl0aW5nKCkgXHUyMTkyIGVuYWJsZUVkaXRpbmcoKVxuICogLSBleGl0RWRpdE1vZGUoKSBcdTIxOTIgZXhpdEVkaXRNb2RlKClcbiAqIC0gY2FuY2VsRWRpdE1vZGUoKSBcdTIxOTIgY2FuY2VsRWRpdCgpXG4gKiAtIHNhdmVOb2RlVGV4dCgpIFx1MjE5MiBzYXZlVGV4dCgpXG4gKiAtIHZhbGlkYXRlTm9kZVRleHQoKSBcdTIxOTIgdmFsaWRhdGVUZXh0KClcbiAqIC0gc2hvd1ZhbGlkYXRpb25FcnJvcigpIFx1MjE5MiBzaG93VmFsaWRhdGlvbkVycm9yKClcbiAqIC0gc2hvd0VkaXRpbmdIaW50KCkgXHUyMTkyIHNob3dFZGl0aW5nSGludCgpXG4gKiAtIGhpZGVFZGl0aW5nSGludCgpIFx1MjE5MiBoaWRlRWRpdGluZ0hpbnQoKVxuICogLSBzaG93Um9vdE5vZGVFZGl0V2FybmluZygpIFx1MjE5MiBzaG93Um9vdE5vZGVFZGl0V2FybmluZygpXG4gKi9cblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWluZE1hcE5vZGUsIEVkaXRpbmdTdGF0ZSB9IGZyb20gJy4uL2ludGVyZmFjZXMvbWluZG1hcC1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE1pbmRNYXBDb25maWcgfSBmcm9tICcuLi9jb25maWcvdHlwZXMnO1xuaW1wb3J0IHsgTWluZE1hcE1lc3NhZ2VzIH0gZnJvbSAnLi4vaTE4bic7XG5pbXBvcnQgeyBWQUxJREFUSU9OX0NPTlNUQU5UUyB9IGZyb20gJy4uL2NvbnN0YW50cy9taW5kbWFwLWNvbnN0YW50cyc7XG5cbi8qKlxuICogTm9kZSBFZGl0b3IgY2FsbGJhY2sgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZUVkaXRvckNhbGxiYWNrcyB7XG5cdC8qKlxuXHQgKiBDYWxsZWQgYmVmb3JlIHRleHQgY2hhbmdlcywgdXNlZCB0byBzYXZlIHVuZG8gc25hcHNob3Rcblx0ICovXG5cdG9uQmVmb3JlVGV4dENoYW5nZT86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPikgPT4gdm9pZDtcblxuXHQvKipcblx0ICogQ2FsbGVkIGFmdGVyIHRleHQgY2hhbmdlcywgdXNlZCB0byB0cmlnZ2VyIGZpbGUgc2F2ZVxuXHQgKi9cblx0b25UZXh0Q2hhbmdlZD86IChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgbmV3VGV4dDogc3RyaW5nKSA9PiB2b2lkO1xuXG5cdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiBjYW52YXMgaW50ZXJhY3Rpb24gc3RhdGUgY2hhbmdlc1xuXHQgKi9cblx0b25DYW52YXNJbnRlcmFjdGlvbkNoYW5nZWQ/OiAoZW5hYmxlZDogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBOb2RlIEVkaXRvciBjbGFzc1xuICpcbiAqIE1hbmFnZXMgY29tcGxldGUgbGlmZWN5Y2xlIG9mIG5vZGUgZWRpdGluZ1xuICovXG5leHBvcnQgY2xhc3MgTm9kZUVkaXRvciB7XG5cdC8vIEVkaXRpbmcgc3RhdGVcblx0cHJpdmF0ZSBlZGl0aW5nU3RhdGU6IEVkaXRpbmdTdGF0ZTtcblxuXHQvLyBDYW52YXMgaW50ZXJhY3Rpb24gc3RhdGVcblx0cHJpdmF0ZSBjYW52YXNJbnRlcmFjdGlvbkVuYWJsZWQgPSB0cnVlO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgY29uZmlnOiBNaW5kTWFwQ29uZmlnLFxuXHRcdHByaXZhdGUgbWVzc2FnZXM6IE1pbmRNYXBNZXNzYWdlcyxcblx0XHRwcml2YXRlIGNhbGxiYWNrczogTm9kZUVkaXRvckNhbGxiYWNrcyA9IHt9LFxuXHRcdGVkaXRpbmdTdGF0ZT86IEVkaXRpbmdTdGF0ZSAgLy8gXHUyNzA1IEFjY2VwdCBleHRlcm5hbCBlZGl0aW5nU3RhdGVcblx0KSB7XG5cdFx0Ly8gSWYgbm90IHByb3ZpZGVkLCBjcmVhdGUgaW50ZXJuYWwgc3RhdGUgKGJhY2t3YXJkIGNvbXBhdGlibGUpXG5cdFx0dGhpcy5lZGl0aW5nU3RhdGUgPSBlZGl0aW5nU3RhdGUgfHwge1xuXHRcdFx0aXNFZGl0aW5nOiBmYWxzZSxcblx0XHRcdGN1cnJlbnROb2RlOiBudWxsLFxuXHRcdFx0b3JpZ2luYWxUZXh0OiAnJyxcblx0XHRcdGVkaXRFbGVtZW50OiBudWxsXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBFbmFibGUgbm9kZSBlZGl0aW5nIG1vZGVcblx0ICpcblx0ICogQHBhcmFtIG5vZGUgTm9kZSB0byBlZGl0XG5cdCAqIEBwYXJhbSBlZGl0RWxlbWVudCBFZGl0YWJsZSB0ZXh0IGVsZW1lbnRcblx0ICovXG5cdGVuYWJsZUVkaXRpbmcoXG5cdFx0bm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sXG5cdFx0ZWRpdEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG5cdCk6IHZvaWQge1xuXHRcdC8vIENoZWNrIGlmIGl0J3Mgcm9vdCBub2RlIChjZW50cmFsIHRvcGljKSwgbm90IGFsbG93ZWQgdG8gZWRpdFxuXHRcdGlmIChub2RlLmRlcHRoID09PSAwKSB7XG5cdFx0XHR0aGlzLnNob3dSb290Tm9kZUVkaXRXYXJuaW5nKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgZWRpdGluZyBhbm90aGVyIG5vZGUsIGV4aXQgZWRpdCBtb2RlIGZpcnN0XG5cdFx0aWYgKHRoaXMuZWRpdGluZ1N0YXRlLmlzRWRpdGluZyAmJiB0aGlzLmVkaXRpbmdTdGF0ZS5jdXJyZW50Tm9kZSAhPT0gbm9kZSkge1xuXHRcdFx0dGhpcy5leGl0RWRpdE1vZGUoKTtcblx0XHR9XG5cblx0XHQvLyBEaXNhYmxlIGNhbnZhcyBpbnRlcmFjdGlvbiAoZHJhZywgem9vbSksIGFsbG93IHRleHQgc2VsZWN0aW9uIGFuZCBlZGl0aW5nXG5cdFx0dGhpcy5zZXRDYW52YXNJbnRlcmFjdGlvbihmYWxzZSk7XG5cblx0XHQvLyBTZXQgZWRpdGluZyBzdGF0ZSAobW9kaWZ5IHByb3BlcnRpZXMsIGRvbid0IHJlYXNzaWduIG9iamVjdClcblx0XHR0aGlzLmVkaXRpbmdTdGF0ZS5pc0VkaXRpbmcgPSB0cnVlO1xuXHRcdHRoaXMuZWRpdGluZ1N0YXRlLmN1cnJlbnROb2RlID0gbm9kZTtcblx0XHR0aGlzLmVkaXRpbmdTdGF0ZS5vcmlnaW5hbFRleHQgPSBub2RlLmRhdGEudGV4dDtcblx0XHR0aGlzLmVkaXRpbmdTdGF0ZS5lZGl0RWxlbWVudCA9IGVkaXRFbGVtZW50O1xuXG5cdFx0dHJ5IHtcblx0XHRcdC8vIFNldCB0byBlZGl0YWJsZVxuXHRcdFx0ZWRpdEVsZW1lbnQuY29udGVudEVkaXRhYmxlID0gXCJ0cnVlXCI7XG5cblx0XHRcdC8vIEFkZCBlZGl0aW5nIHN0eWxlIGNsYXNzXG5cdFx0XHRlZGl0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZWRpdGluZ1wiKTtcblxuXHRcdFx0Ly8gQWRkIG5vZGUgZWRpdGluZyBzdGF0ZVxuXHRcdFx0Y29uc3Qgbm9kZUVsZW1lbnQgPSBkMy5zZWxlY3QoZWRpdEVsZW1lbnQuY2xvc2VzdChcImdcIikpO1xuXHRcdFx0bm9kZUVsZW1lbnQuY2xhc3NlZChcIm5vZGUtZWRpdGluZ1wiLCB0cnVlKTtcblxuXHRcdFx0Ly8gU2V0IGZvY3VzIGFuZCBzZWxlY3QgYWxsIHRleHQgKHVzZSBzZXRUaW1lb3V0IHRvIGVuc3VyZSBldmVudCBoYW5kbGluZyBjb21wbGV0ZXMpXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRlZGl0RWxlbWVudC5mb2N1cygpO1xuXG5cdFx0XHRcdFx0Ly8gU2VsZWN0IGFsbCB0ZXh0IC0gdXNlIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyAoY29uc2lzdGVudCB3aXRoIHRtcCBicmFuY2gpXG5cdFx0XHRcdFx0Y29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXHRcdFx0XHRcdHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlZGl0RWxlbWVudCk7XG5cdFx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGlmIChzZWxlY3Rpb24pIHtcblx0XHRcdFx0XHRcdHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblx0XHRcdFx0XHRcdHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHR0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IodGhpcy5tZXNzYWdlcy5lcnJvcnMuZm9jdXNTZXRGYWlsZWQpO1xuXHRcdFx0XHRcdHRoaXMuZXhpdEVkaXRNb2RlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIDEwKTtcblxuXHRcdFx0Ly8gU2hvdyBlZGl0aW5nIGhpbnQgKGRlbGF5ZWQgY2FsbCB0byBhdm9pZCBpbnRlcmZlcmluZyB3aXRoIGZvY3VzKVxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2hvd0VkaXRpbmdIaW50KCk7XG5cdFx0XHR9LCAxMDApO1xuXG5cdFx0fSBjYXRjaCB7XG5cdFx0XHR0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IodGhpcy5tZXNzYWdlcy5lcnJvcnMuZW50ZXJFZGl0TW9kZUZhaWxlZCk7XG5cdFx0XHR0aGlzLmV4aXRFZGl0TW9kZSgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBFeGl0IGVkaXQgbW9kZVxuXHQgKi9cblx0ZXhpdEVkaXRNb2RlKCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5lZGl0aW5nU3RhdGUuaXNFZGl0aW5nKSByZXR1cm47XG5cblx0XHRjb25zdCB7IGVkaXRFbGVtZW50IH0gPSB0aGlzLmVkaXRpbmdTdGF0ZTtcblxuXHRcdC8vIFJlc3RvcmUgY2FudmFzIGludGVyYWN0aW9uXG5cdFx0dGhpcy5zZXRDYW52YXNJbnRlcmFjdGlvbih0cnVlKTtcblxuXHRcdGlmIChlZGl0RWxlbWVudCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gU2V0IHRvIG5vbi1lZGl0YWJsZVxuXHRcdFx0XHRlZGl0RWxlbWVudC5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG5cdFx0XHRcdGVkaXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJlZGl0aW5nXCIpO1xuXG5cdFx0XHRcdC8vIENsZWFyIHRleHQgc2VsZWN0aW9uIHRvIHByZXZlbnQgdGV4dCByZW1haW5pbmcgc2VsZWN0ZWQgYWZ0ZXIgZXhpdGluZyBlZGl0IG1vZGVcblx0XHRcdFx0Y29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRpZiAoc2VsZWN0aW9uKSB7XG5cdFx0XHRcdFx0c2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIG5vZGUgZWRpdGluZyBzdGF0ZVxuXHRcdFx0XHRjb25zdCBub2RlRWxlbWVudCA9IGQzLnNlbGVjdChlZGl0RWxlbWVudC5jbG9zZXN0KFwiZ1wiKSk7XG5cdFx0XHRcdG5vZGVFbGVtZW50LmNsYXNzZWQoXCJub2RlLWVkaXRpbmdcIiwgZmFsc2UpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdC8vIElnbm9yZSBlcnJvcnMgd2hlbiBjbGVhbmluZyB1cCBET00gZWxlbWVudHNcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBIaWRlIGVkaXRpbmcgaGludFxuXHRcdHRoaXMuaGlkZUVkaXRpbmdIaW50KCk7XG5cblx0XHQvLyBSZXNldCBlZGl0aW5nIHN0YXRlIChjbGVhciBwcm9wZXJ0aWVzLCBkb24ndCByZWFzc2lnbiBvYmplY3QpXG5cdFx0dGhpcy5lZGl0aW5nU3RhdGUuaXNFZGl0aW5nID0gZmFsc2U7XG5cdFx0dGhpcy5lZGl0aW5nU3RhdGUuY3VycmVudE5vZGUgPSBudWxsO1xuXHRcdHRoaXMuZWRpdGluZ1N0YXRlLm9yaWdpbmFsVGV4dCA9ICcnO1xuXHRcdHRoaXMuZWRpdGluZ1N0YXRlLmVkaXRFbGVtZW50ID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYW5jZWwgZWRpdCBtb2RlIChyZXN0b3JlIG9yaWdpbmFsIHRleHQpXG5cdCAqL1xuXHRjYW5jZWxFZGl0KCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5lZGl0aW5nU3RhdGUuaXNFZGl0aW5nKSByZXR1cm47XG5cblx0XHRjb25zdCB7IGVkaXRFbGVtZW50IH0gPSB0aGlzLmVkaXRpbmdTdGF0ZTtcblxuXHRcdC8vIFJlc3RvcmUgb3JpZ2luYWwgdGV4dFxuXHRcdGlmIChlZGl0RWxlbWVudCAmJiB0aGlzLmVkaXRpbmdTdGF0ZS5vcmlnaW5hbFRleHQpIHtcblx0XHRcdGVkaXRFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5lZGl0aW5nU3RhdGUub3JpZ2luYWxUZXh0O1xuXHRcdH1cblxuXHRcdC8vIENhbGwgZXhpdEVkaXRNb2RlIGZvciBjbGVhbnVwXG5cdFx0Ly8gU2luY2UgdGV4dCBpcyByZXN0b3JlZCwgc2F2ZSBjaGVjayBpbiBleGl0RWRpdE1vZGUgd2lsbCBiZSBza2lwcGVkIChiZWNhdXNlIGN1cnJlbnRUZXh0ID09PSBvcmlnaW5hbFRleHQpXG5cdFx0dGhpcy5leGl0RWRpdE1vZGUoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTYXZlIG5vZGUgdGV4dFxuXHQgKi9cblx0c2F2ZVRleHQoKTogdm9pZCB7XG5cblx0XHRpZiAoIXRoaXMuZWRpdGluZ1N0YXRlLmlzRWRpdGluZyB8fFxuXHRcdFx0IXRoaXMuZWRpdGluZ1N0YXRlLmN1cnJlbnROb2RlIHx8XG5cdFx0XHQhdGhpcy5lZGl0aW5nU3RhdGUuZWRpdEVsZW1lbnQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCB7IGVkaXRFbGVtZW50LCBjdXJyZW50Tm9kZSB9ID0gdGhpcy5lZGl0aW5nU3RhdGU7XG5cdFx0Y29uc3QgbmV3VGV4dCA9IGVkaXRFbGVtZW50LnRleHRDb250ZW50Py50cmltKCkgfHwgJyc7XG5cblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBWYWxpZGF0ZSBuZXcgdGV4dFxuXHRcdFx0aWYgKCF0aGlzLnZhbGlkYXRlVGV4dChuZXdUZXh0KSkge1xuXHRcdFx0XHR0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IodGhpcy5tZXNzYWdlcy5lcnJvcnMubm9kZVRleHRFbXB0eSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2hlY2sgaWYgdGV4dCByZWFsbHkgY2hhbmdlZFxuXHRcdFx0aWYgKG5ld1RleHQgPT09IHRoaXMuZWRpdGluZ1N0YXRlLm9yaWdpbmFsVGV4dCkge1xuXHRcdFx0XHR0aGlzLmV4aXRFZGl0TW9kZSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgc25hcHNob3QgYmVmb3JlIG1vZGlmaWNhdGlvblxuXHRcdFx0dGhpcy5jYWxsYmFja3Mub25CZWZvcmVUZXh0Q2hhbmdlPy4oY3VycmVudE5vZGUpO1xuXG5cdFx0XHQvLyBVcGRhdGUgZGF0YSBzdHJ1Y3R1cmVcblx0XHRcdGN1cnJlbnROb2RlLmRhdGEudGV4dCA9IG5ld1RleHQ7XG5cblx0XHRcdC8vIFRyaWdnZXIgZmlsZSBzYXZlIGNhbGxiYWNrXG5cdFx0XHR0aGlzLmNhbGxiYWNrcy5vblRleHRDaGFuZ2VkPy4oY3VycmVudE5vZGUsIG5ld1RleHQpO1xuXG5cdFx0fSBjYXRjaCB7XG5cdFx0XHR0aGlzLnNob3dWYWxpZGF0aW9uRXJyb3IodGhpcy5tZXNzYWdlcy5lcnJvcnMuc2F2ZUZhaWxlZCk7XG5cdFx0XHQvLyBSZXN0b3JlIG9yaWdpbmFsIHRleHRcblx0XHRcdGVkaXRFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5lZGl0aW5nU3RhdGUub3JpZ2luYWxUZXh0O1xuXHRcdH1cblxuXHRcdHRoaXMuZXhpdEVkaXRNb2RlKCk7XG5cdH1cblxuXHQvKipcblx0ICogVmFsaWRhdGUgbm9kZSB0ZXh0XG5cdCAqXG5cdCAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gdmFsaWRhdGVcblx0ICogQHJldHVybnMgV2hldGhlciB2YWxpZFxuXHQgKi9cblx0dmFsaWRhdGVUZXh0KHRleHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdC8vIENoZWNrIGlmIGVtcHR5IG9yIG9ubHkgd2hpdGVzcGFjZVxuXHRcdGlmICghdGV4dCB8fCB0ZXh0LnRyaW0oKS5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBsZW5ndGggbGltaXQgKHVzaW5nIGNvbmZpZyBjb25zdGFudHMpXG5cdFx0aWYgKHRleHQubGVuZ3RoID4gVkFMSURBVElPTl9DT05TVEFOVFMuTUFYX1RFWFRfTEVOR1RIKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgZm9yIGludmFsaWQgY2hhcmFjdGVyc1xuXHRcdGNvbnN0IGludmFsaWRDaGFycyA9IFZBTElEQVRJT05fQ09OU1RBTlRTLklOVkFMSURfQ0hBUkFDVEVSUztcblx0XHRpZiAoaW52YWxpZENoYXJzLnNvbWUoY2hhciA9PiB0ZXh0LmluY2x1ZGVzKGNoYXIpKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBjdXJyZW50IGVkaXRpbmcgc3RhdGUgKHJlYWQtb25seSlcblx0ICogTm90ZTogUmV0dXJucyByZWFsIHJlZmVyZW5jZSwgdXNlZCBieSBUZXh0UmVuZGVyZXIgYW5kIG90aGVyIG1vZHVsZXMgdG8gY2hlY2sgc3RhdGVcblx0ICovXG5cdGdldEVkaXRpbmdTdGF0ZSgpOiBSZWFkb25seTxFZGl0aW5nU3RhdGU+IHtcblx0XHRyZXR1cm4gdGhpcy5lZGl0aW5nU3RhdGU7XG5cdH1cblxuXHQvKipcblx0ICogV2hldGhlciBjdXJyZW50bHkgZWRpdGluZ1xuXHQgKi9cblx0aXNFZGl0aW5nKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmVkaXRpbmdTdGF0ZS5pc0VkaXRpbmc7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgY2FudmFzIGludGVyYWN0aW9uIGlzIGVuYWJsZWRcblx0ICovXG5cdGlzQ2FudmFzSW50ZXJhY3Rpb25FbmFibGVkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmNhbnZhc0ludGVyYWN0aW9uRW5hYmxlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZXN0cm95XG5cdCAqL1xuXHRkZXN0cm95KCk6IHZvaWQge1xuXHRcdC8vIEV4aXQgZWRpdCBtb2RlIChpZiBlZGl0aW5nKVxuXHRcdHRoaXMuZXhpdEVkaXRNb2RlKCk7XG5cdFx0Ly8gSGlkZSBlZGl0aW5nIGhpbnRcblx0XHR0aGlzLmhpZGVFZGl0aW5nSGludCgpO1xuXHR9XG5cblx0Ly8gPT09PT09PT09PSBQcml2YXRlIE1ldGhvZHMgPT09PT09PT09PVxuXG5cdC8qKlxuXHQgKiBTZXQgY2FudmFzIGludGVyYWN0aW9uIHN0YXRlXG5cdCAqL1xuXHRwcml2YXRlIHNldENhbnZhc0ludGVyYWN0aW9uKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcblx0XHR0aGlzLmNhbnZhc0ludGVyYWN0aW9uRW5hYmxlZCA9IGVuYWJsZWQ7XG5cdFx0dGhpcy5jYWxsYmFja3Mub25DYW52YXNJbnRlcmFjdGlvbkNoYW5nZWQ/LihlbmFibGVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTaG93IGVkaXRpbmcgaGludFxuXHQgKi9cblx0cHJpdmF0ZSBzaG93RWRpdGluZ0hpbnQoKTogdm9pZCB7XG5cdFx0bGV0IGhpbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXRpbmctaGludCcpO1xuXHRcdGlmICghaGludEVsZW1lbnQpIHtcblx0XHRcdGhpbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRoaW50RWxlbWVudC5jbGFzc05hbWUgPSAnZWRpdGluZy1oaW50Jztcblx0XHRcdC8vIFNlbGVjdCBkaWZmZXJlbnQgaGludCB0ZXh0IGJhc2VkIG9uIGRldmljZSB0eXBlXG5cdFx0XHRjb25zdCBlZGl0SGludCA9IHRoaXMuY29uZmlnLmlzTW9iaWxlXG5cdFx0XHRcdD8gdGhpcy5tZXNzYWdlcy51aS5lZGl0SGludE1vYmlsZVxuXHRcdFx0XHQ6IHRoaXMubWVzc2FnZXMudWkuZWRpdEhpbnREZXNrdG9wO1xuXHRcdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBzZWN1cml0eSAoWFNTIHByZXZlbnRpb24pXG5cdFx0XHRoaW50RWxlbWVudC50ZXh0Q29udGVudCA9IGVkaXRIaW50O1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoaW50RWxlbWVudCk7XG5cdFx0fVxuXHRcdGhpbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBIaWRlIGVkaXRpbmcgaGludFxuXHQgKi9cblx0cHJpdmF0ZSBoaWRlRWRpdGluZ0hpbnQoKTogdm9pZCB7XG5cdFx0Y29uc3QgaGludEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdGluZy1oaW50Jyk7XG5cdFx0aWYgKGhpbnRFbGVtZW50KSB7XG5cdFx0XHRoaW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNob3cgcm9vdCBub2RlIGVkaXQgd2FybmluZ1xuXHQgKi9cblx0cHJpdmF0ZSBzaG93Um9vdE5vZGVFZGl0V2FybmluZygpOiB2b2lkIHtcblx0XHRuZXcgTm90aWNlKHRoaXMubWVzc2FnZXMudmFsaWRhdGlvbi5jYW5ub3RFZGl0Um9vdCwgMzAwMCk7XG5cdH1cblxuXHQvKipcblx0ICogU2hvdyB2YWxpZGF0aW9uIGVycm9yXG5cdCAqL1xuXHRwcml2YXRlIHNob3dWYWxpZGF0aW9uRXJyb3IobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0Ly8gQ3JlYXRlIHRlbXBvcmFyeSBlcnJvciBoaW50XG5cdFx0Y29uc3QgZXJyb3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0ZXJyb3JFbGVtZW50LmNsYXNzTmFtZSA9ICdtaW5kLW1hcC12YWxpZGF0aW9uLWVycm9yJztcblx0XHRlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZXJyb3JFbGVtZW50KTtcblxuXHRcdC8vIEF1dG8gcmVtb3ZlIGFmdGVyIDMgc2Vjb25kc1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0ZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZhZGluZy1vdXQnKTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRpZiAoZXJyb3JFbGVtZW50LnBhcmVudE5vZGUpIHtcblx0XHRcdFx0XHRlcnJvckVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlcnJvckVsZW1lbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCAyMDApO1xuXHRcdH0sIDMwMDApO1xuXG5cdFx0Ly8gVHJ5IHRvIHJlY292ZXIgaWYgaW4gZWRpdGluZyBzdGF0ZVxuXHRcdGlmICh0aGlzLmVkaXRpbmdTdGF0ZS5pc0VkaXRpbmcpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRoaXMuZXhpdEVkaXRNb2RlKCk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0Ly8gSWdub3JlIGVycm9ycyBkdXJpbmcgcmVjb3ZlcnkgYXR0ZW1wdFxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIiwgIi8qKlxuICogQ2xpcGJvYXJkIE1hbmFnZXIgLSBDbGlwYm9hcmQgbWFuYWdlbWVudCBmdW5jdGlvbmFsaXR5XG4gKlxuICogW1Jlc3BvbnNpYmlsaXRpZXNdXG4gKiAtIENvcHkgbm9kZS9zdWJ0cmVlIHRvIGNsaXBib2FyZCAobWFya2Rvd24gZm9ybWF0KVxuICogLSBQYXN0ZSB0ZXh0IGZyb20gY2xpcGJvYXJkIHRvIGNyZWF0ZSBjaGlsZCBub2RlL3N1YnRyZWVcbiAqIC0gQ3V0IG5vZGUgKGNvcHkgKyBkZWxldGUpXG4gKiAtIENsaXBib2FyZCBjb250ZW50IGZvcm1hdCBkZXRlY3Rpb24gKG1hcmtkb3duIHZzIHBsYWluIHRleHQpXG4gKiAtIFN1Y2Nlc3MvZmFpbHVyZSBub3RpZmljYXRpb25zXG4gKlxuICogW0Rlc2lnbiBQcmluY2lwbGVzXVxuICogLSBDb21tdW5pY2F0ZSB3aXRoIGV4dGVybmFsIHZpYSBjYWxsYmFja3MsIG5vIGRpcmVjdCBkZXBlbmRlbmN5IG9uIEQzVHJlZVJlbmRlcmVyXG4gKiAtIE1hbmFnZSBvd24gY2xpcGJvYXJkIG9wZXJhdGlvbnNcbiAqIC0gUHJvdmlkZSBjbGVhciBBUEkgZm9yIGNsaXBib2FyZCBvcGVyYXRpb25zXG4gKiAtIFNtYXJ0IGZhbGxiYWNrIChtb2Rlcm4gQVBJIFx1MjE5MiBsZWdhY3kgbWV0aG9kKVxuICpcbiAqIFtSZWZhY3RvcmluZyBTb3VyY2VdXG4gKiBFeHRyYWN0ZWQgZnJvbSBEM1RyZWVSZW5kZXJlci50cyAoUGhhc2UgMy4zKVxuICogLSBoYW5kbGVUb29sYmFyQ29weUNsaWNrKCkgXHUyMTkyIGNvcHlOb2RlKClcbiAqIC0gaGFuZGxlVG9vbGJhclBhc3RlQ2xpY2soKSBcdTIxOTIgcGFzdGVUb05vZGUoKVxuICogLSBmYWxsYmFja0NvcHlUZXh0VG9DbGlwYm9hcmQoKSBcdTIxOTIgZmFsbGJhY2tDb3B5KClcbiAqIC0gc2hvd0NvcHlTdWNjZXNzTm90aWNlKCkgXHUyMTkyIChidWlsdC1pbilcbiAqIC0gc2hvd0NvcHlFcnJvck5vdGljZSgpIFx1MjE5MiAoYnVpbHQtaW4pXG4gKi9cblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWluZE1hcE5vZGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21pbmRtYXAtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBNaW5kTWFwU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL21pbmRtYXAtc2VydmljZSc7XG5pbXBvcnQgeyBNaW5kTWFwTWVzc2FnZXMgfSBmcm9tICcuLi9pMThuJztcbmltcG9ydCB7IFZBTElEQVRJT05fQ09OU1RBTlRTIH0gZnJvbSAnLi4vY29uc3RhbnRzL21pbmRtYXAtY29uc3RhbnRzJztcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2V0IG11bHRpcGxlIENTUyBwcm9wZXJ0aWVzIGF0IG9uY2VcbiAqIFRoaXMgcHJvdmlkZXMgYSBjbGVhbmVyIGFsdGVybmF0aXZlIHRvIGRpcmVjdCBzdHlsZSBtYW5pcHVsYXRpb25cbiAqL1xuZnVuY3Rpb24gc2V0Q3NzUHJvcHMoZWxlbWVudDogSFRNTEVsZW1lbnQsIHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogdm9pZCB7XG5cdE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgcHJvcHMpO1xufVxuXG4vKipcbiAqIENsaXBib2FyZCBNYW5hZ2VyIGNhbGxiYWNrIGludGVyZmFjZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENsaXBib2FyZE1hbmFnZXJDYWxsYmFja3Mge1xuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gZGF0YSBuZWVkcyB0byBiZSByZWZyZXNoZWQgYWZ0ZXIgcGFzdGluZ1xuXHQgKi9cblx0b25EYXRhVXBkYXRlZD86ICgpID0+IHZvaWQ7XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHNlbGVjdGlvbiBuZWVkcyB0byBiZSBjbGVhcmVkIGFmdGVyIHBhc3Rpbmdcblx0ICovXG5cdGNsZWFyU2VsZWN0aW9uPzogKCkgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBDbGlwYm9hcmQgTWFuYWdlciBjbGFzc1xuICpcbiAqIE1hbmFnZXMgY29tcGxldGUgbGlmZWN5Y2xlIG9mIGNsaXBib2FyZCBvcGVyYXRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGlwYm9hcmRNYW5hZ2VyIHtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIG1pbmRNYXBTZXJ2aWNlOiBNaW5kTWFwU2VydmljZSxcblx0XHRwcml2YXRlIG1lc3NhZ2VzOiBNaW5kTWFwTWVzc2FnZXMsXG5cdFx0cHJpdmF0ZSBjYWxsYmFja3M6IENsaXBib2FyZE1hbmFnZXJDYWxsYmFja3MgPSB7fVxuXHQpIHtcblx0XHQvLyBJbnN0YW5jZSB2YXJpYWJsZXMgYXJlIHVzZWQgaW4gY2xhc3MgbWV0aG9kc1xuXHR9XG5cblx0LyoqXG5cdCAqIENvcHkgbm9kZSB0byBjbGlwYm9hcmQgKHNlcmlhbGl6ZSBhcyBtYXJrZG93biBmb3JtYXQpXG5cdCAqXG5cdCAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY29weVxuXHQgKiBAcmV0dXJucyBQcm9taXNlPGJvb2xlYW4+IFdoZXRoZXIgc3VjY2Vzc2Z1bFxuXHQgKi9cblx0YXN5bmMgY29weU5vZGUobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gU2VyaWFsaXplIGVudGlyZSBzdWJ0cmVlIHRvIG1hcmtkb3duIGZvcm1hdFxuXHRcdFx0Y29uc3QgbWFya2Rvd24gPSB0aGlzLm1pbmRNYXBTZXJ2aWNlLnNlcmlhbGl6ZVN1YnRyZWVUb01hcmtkb3duKG5vZGUuZGF0YSk7XG5cblx0XHRcdC8vIFVzZSBDbGlwYm9hcmQgQVBJIHRvIGNvcHkgdGV4dCB0byBjbGlwYm9hcmRcblx0XHRcdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkICYmIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQpIHtcblx0XHRcdFx0Ly8gVXNlIG1vZGVybiBDbGlwYm9hcmQgQVBJIChzdXBwb3J0cyBtb2JpbGUgYW5kIGRlc2t0b3ApXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQobWFya2Rvd24pO1xuXHRcdFx0XHRcdHRoaXMuc2hvd1N1Y2Nlc3NOb3RpY2UodGhpcy5tZXNzYWdlcy5ub3RpY2VzLm5vZGVUZXh0Q29waWVkKTtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0Ly8gRmFsbGJhY2s6IHVzZSBsZWdhY3kgbWV0aG9kXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuZmFsbGJhY2tDb3B5KG1hcmtkb3duKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRmFsbGJhY2s6IHVzZSBsZWdhY3kgbWV0aG9kXG5cdFx0XHRcdHJldHVybiB0aGlzLmZhbGxiYWNrQ29weShtYXJrZG93bik7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHR0aGlzLnNob3dFcnJvck5vdGljZSh0aGlzLm1lc3NhZ2VzLm5vdGljZXMuY29weUZhaWxlZCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEN1dCBub2RlIChjb3B5ICsgZGVsZXRlKVxuXHQgKlxuXHQgKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGN1dFxuXHQgKiBAcmV0dXJucyBQcm9taXNlPGJvb2xlYW4+IFdoZXRoZXIgc3VjY2Vzc2Z1bFxuXHQgKi9cblx0YXN5bmMgY3V0Tm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPik6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdC8vIFBlcmZvcm0gY29weSBvcGVyYXRpb24gZmlyc3Rcblx0XHRjb25zdCBjb3B5U3VjY2VzcyA9IGF3YWl0IHRoaXMuY29weU5vZGUobm9kZSk7XG5cblx0XHRpZiAoY29weVN1Y2Nlc3MpIHtcblx0XHRcdC8vIFBlcmZvcm0gZGVsZXRlIGFmdGVyIHN1Y2Nlc3NmdWwgY29weVxuXHRcdFx0Y29uc3QgZGVsZXRlU3VjY2VzcyA9IHRoaXMubWluZE1hcFNlcnZpY2UuZGVsZXRlTm9kZShub2RlLmRhdGEpO1xuXG5cdFx0XHRpZiAoZGVsZXRlU3VjY2Vzcykge1xuXHRcdFx0XHQvLyBDbGVhciBzZWxlY3RlZCBzdGF0ZVxuXHRcdFx0XHR0aGlzLmNhbGxiYWNrcy5jbGVhclNlbGVjdGlvbj8uKCk7XG5cblx0XHRcdFx0Ly8gVHJpZ2dlciBkYXRhIHVwZGF0ZVxuXHRcdFx0XHR0aGlzLmNhbGxiYWNrcy5vbkRhdGFVcGRhdGVkPy4oKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFBhc3RlIGNsaXBib2FyZCBjb250ZW50IHRvIG5vZGVcblx0ICpcblx0ICogQHBhcmFtIG5vZGUgVGFyZ2V0IG5vZGUgKHdpbGwgYmUgdXNlZCBhcyBwYXJlbnQgbm9kZSlcblx0ICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPiBXaGV0aGVyIHN1Y2Nlc3NmdWxcblx0ICovXG5cdGFzeW5jIHBhc3RlVG9Ob2RlKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIENoZWNrIGlmIENsaXBib2FyZCBBUEkgaXMgYXZhaWxhYmxlXG5cdFx0XHRpZiAoIW5hdmlnYXRvci5jbGlwYm9hcmQgfHwgIXdpbmRvdy5pc1NlY3VyZUNvbnRleHQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZWFkIGNsaXBib2FyZCBjb250ZW50XG5cdFx0XHRjb25zdCBjbGlwYm9hcmRUZXh0ID0gYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpO1xuXG5cdFx0XHQvLyBTaWxlbnQgZmFpbHVyZTogaWYgY2xpcGJvYXJkIGlzIGVtcHR5IG9yIGNhbm5vdCBiZSByZWFkLCByZXR1cm4gZGlyZWN0bHlcblx0XHRcdGlmICghY2xpcGJvYXJkVGV4dCB8fCBjbGlwYm9hcmRUZXh0LnRyaW0oKS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDaGVjayBpZiBjbGlwYm9hcmQgY29udGVudCBpcyBtYXJrZG93biBmb3JtYXQgKGNvbnRhaW5zIGxpc3QgbWFya2Vycylcblx0XHRcdGNvbnN0IGlzTWFya2Rvd25Gb3JtYXQgPSAvXlxccypbLSpdL20udGVzdChjbGlwYm9hcmRUZXh0KTtcblxuXHRcdFx0aWYgKGlzTWFya2Rvd25Gb3JtYXQpIHtcblx0XHRcdFx0Ly8gSWYgbWFya2Rvd24gZm9ybWF0LCB0cnkgdG8gY3JlYXRlIHN1YnRyZWVcblx0XHRcdFx0cmV0dXJuIHRoaXMucGFzdGVTdWJ0cmVlKG5vZGUsIGNsaXBib2FyZFRleHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gUGxhaW4gdGV4dCwgY3JlYXRlIHNpbmdsZSBjaGlsZCBub2RlXG5cdFx0XHRcdHJldHVybiB0aGlzLnBhc3RlVGV4dChub2RlLCBjbGlwYm9hcmRUZXh0KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIHtcblx0XHRcdC8vIFNpbGVudCBmYWlsdXJlOiBkb24ndCBzaG93IGFueSBlcnJvciBtZXNzYWdlXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERlc3Ryb3lcblx0ICovXG5cdGRlc3Ryb3koKTogdm9pZCB7XG5cdFx0Ly8gQ2xlYW4gdXAgcmVzb3VyY2VzIChpZiBuZWVkZWQpXG5cdH1cblxuXHQvLyA9PT09PT09PT09IFByaXZhdGUgTWV0aG9kcyA9PT09PT09PT09XG5cblx0LyoqXG5cdCAqIEZhbGxiYWNrIGNvcHkgbWV0aG9kIChjb21wYXRpYmxlIHdpdGggb2xkZXIgYnJvd3NlcnMpXG5cdCAqXG5cdCAqIE5vdGU6IFRoaXMgdXNlcyB0aGUgZGVwcmVjYXRlZCBleGVjQ29tbWFuZCBhcyBhIGZhbGxiYWNrIGZvciBvbGRlciBicm93c2Vyc1xuXHQgKiB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG1vZGVybiBDbGlwYm9hcmQgQVBJLiBUaGUgbW9kZXJuIEFQSSBpcyB0cmllZCBmaXJzdFxuXHQgKiBpbiBjb3B5Tm9kZSgpLiBUaGlzIGZhbGxiYWNrIGlzIG9ubHkgdXNlZCB3aGVuOlxuXHQgKiAtIG5hdmlnYXRvci5jbGlwYm9hcmQgaXMgbm90IGF2YWlsYWJsZSAob2xkZXIgYnJvd3NlcnMpXG5cdCAqIC0gd2luZG93LmlzU2VjdXJlQ29udGV4dCBpcyBmYWxzZSAobm9uLUhUVFBTIGNvbnRleHRzKVxuXHQgKiAtIFRoZSBDbGlwYm9hcmQgQVBJIGNhbGwgdGhyb3dzIGFuIGVycm9yXG5cdCAqL1xuXHRwcml2YXRlIGZhbGxiYWNrQ29weSh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcblx0XHR0ZXh0QXJlYS52YWx1ZSA9IHRleHQ7XG5cblx0XHQvLyBTZXQgc3R5bGVzIHVzaW5nIGhlbHBlciBmdW5jdGlvbiBmb3IgYmV0dGVyIG1haW50YWluYWJpbGl0eVxuXHRcdHNldENzc1Byb3BzKHRleHRBcmVhLCB7XG5cdFx0XHRwb3NpdGlvbjogJ2ZpeGVkJyxcblx0XHRcdHRvcDogJzAnLFxuXHRcdFx0bGVmdDogJzAnLFxuXHRcdFx0d2lkdGg6ICcyZW0nLFxuXHRcdFx0aGVpZ2h0OiAnMmVtJyxcblx0XHRcdHBhZGRpbmc6ICcwJyxcblx0XHRcdGJvcmRlcjogJ25vbmUnLFxuXHRcdFx0b3V0bGluZTogJ25vbmUnLFxuXHRcdFx0Ym94U2hhZG93OiAnbm9uZScsXG5cdFx0XHRiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuXHRcdFx0b3BhY2l0eTogJzAnLFxuXHRcdFx0cG9pbnRlckV2ZW50czogJ25vbmUnXG5cdFx0fSk7XG5cblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcblx0XHR0ZXh0QXJlYS5mb2N1cygpO1xuXHRcdHRleHRBcmVhLnNlbGVjdCgpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHN1Y2Nlc3NmdWwgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuXHRcdFx0aWYgKHN1Y2Nlc3NmdWwpIHtcblx0XHRcdFx0dGhpcy5zaG93U3VjY2Vzc05vdGljZSh0aGlzLm1lc3NhZ2VzLm5vdGljZXMubm9kZVRleHRDb3BpZWQpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2hvd0Vycm9yTm90aWNlKHRoaXMubWVzc2FnZXMubm90aWNlcy5jb3B5RmFpbGVkKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2gge1xuXHRcdFx0dGhpcy5zaG93RXJyb3JOb3RpY2UodGhpcy5tZXNzYWdlcy5ub3RpY2VzLmNvcHlGYWlsZWQpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUGFzdGUgc3VidHJlZSAobWFya2Rvd24gZm9ybWF0KVxuXHQgKi9cblx0cHJpdmF0ZSBwYXN0ZVN1YnRyZWUoXG5cdFx0bm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sXG5cdFx0Y2xpcGJvYXJkVGV4dDogc3RyaW5nXG5cdCk6IGJvb2xlYW4ge1xuXHRcdC8vIFRyeSB0byBjcmVhdGUgc3VidHJlZSBmcm9tIG1hcmtkb3duXG5cdFx0Y29uc3Qgc3VidHJlZVJvb3QgPSB0aGlzLm1pbmRNYXBTZXJ2aWNlLmNyZWF0ZVN1YnRyZWVGcm9tTWFya2Rvd24oXG5cdFx0XHRjbGlwYm9hcmRUZXh0LFxuXHRcdFx0bm9kZS5kYXRhLmxldmVsXG5cdFx0KTtcblxuXHRcdGlmIChzdWJ0cmVlUm9vdCkge1xuXHRcdFx0Ly8gU2V0IHBhcmVudCBub2RlXG5cdFx0XHRzdWJ0cmVlUm9vdC5wYXJlbnQgPSBub2RlLmRhdGE7XG5cdFx0XHRub2RlLmRhdGEuY2hpbGRyZW4ucHVzaChzdWJ0cmVlUm9vdCk7XG5cblx0XHRcdC8vIENsZWFyIGN1cnJlbnQgc2VsZWN0aW9uXG5cdFx0XHR0aGlzLmNhbGxiYWNrcy5jbGVhclNlbGVjdGlvbj8uKCk7XG5cblx0XHRcdC8vIEZpeDogU2V0IHNlbGVjdGVkIHN0YXRlIGRpcmVjdGx5IGF0IGRhdGEgbGF5ZXJcblx0XHRcdHN1YnRyZWVSb290LnNlbGVjdGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gVHJpZ2dlciBkYXRhIHVwZGF0ZVxuXHRcdFx0dGhpcy5jYWxsYmFja3Mub25EYXRhVXBkYXRlZD8uKCk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSWYgcGFyc2luZyBmYWlscywgZmFsbGJhY2sgdG8gcGxhaW4gdGV4dCBoYW5kbGluZ1xuXHRcdFx0cmV0dXJuIHRoaXMucGFzdGVUZXh0KG5vZGUsIGNsaXBib2FyZFRleHQpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBQYXN0ZSBwbGFpbiB0ZXh0IChjcmVhdGUgc2luZ2xlIGNoaWxkIG5vZGUpXG5cdCAqL1xuXHRwcml2YXRlIHBhc3RlVGV4dChcblx0XHRub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHRjbGlwYm9hcmRUZXh0OiBzdHJpbmdcblx0KTogYm9vbGVhbiB7XG5cdFx0Ly8gTGltaXQgdGV4dCBsZW5ndGggdG8gbWF4aW11bSBhbGxvd2VkIGxlbmd0aFxuXHRcdGNvbnN0IHRydW5jYXRlZFRleHQgPSBjbGlwYm9hcmRUZXh0LnN1YnN0cmluZygwLCBWQUxJREFUSU9OX0NPTlNUQU5UUy5NQVhfVEVYVF9MRU5HVEgpO1xuXG5cdFx0Ly8gQ3JlYXRlIGNoaWxkIG5vZGVcblx0XHRjb25zdCBjaGlsZE5vZGUgPSB0aGlzLm1pbmRNYXBTZXJ2aWNlLmNyZWF0ZUNoaWxkTm9kZShub2RlLmRhdGEsIHRydW5jYXRlZFRleHQpO1xuXG5cdFx0Ly8gQ2xlYXIgY3VycmVudCBzZWxlY3Rpb25cblx0XHR0aGlzLmNhbGxiYWNrcy5jbGVhclNlbGVjdGlvbj8uKCk7XG5cblx0XHQvLyBGaXg6IFNldCBzZWxlY3RlZCBzdGF0ZSBkaXJlY3RseSBhdCBkYXRhIGxheWVyXG5cdFx0Y2hpbGROb2RlLnNlbGVjdGVkID0gdHJ1ZTtcblxuXHRcdC8vIFRyaWdnZXIgZGF0YSB1cGRhdGVcblx0XHR0aGlzLmNhbGxiYWNrcy5vbkRhdGFVcGRhdGVkPy4oKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTaG93IHN1Y2Nlc3Mgbm90aWNlXG5cdCAqL1xuXHRwcml2YXRlIHNob3dTdWNjZXNzTm90aWNlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuXHRcdG5ldyBOb3RpY2UobWVzc2FnZSwgMjAwMCk7XG5cdH1cblxuXHQvKipcblx0ICogU2hvdyBlcnJvciBub3RpY2Vcblx0ICovXG5cdHByaXZhdGUgc2hvd0Vycm9yTm90aWNlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuXHRcdG5ldyBOb3RpY2UobWVzc2FnZSwgMzAwMCk7XG5cdH1cbn1cbiIsICIvKipcbiAqIEJ1dHRvbiBSZW5kZXJlciAtIEJ1dHRvbiByZW5kZXJpbmcgZnVuY3Rpb25hbGl0eVxuICpcbiAqIFtSZXNwb25zaWJpbGl0aWVzXVxuICogLSBSZW5kZXIgcGx1cyBidXR0b24gKGFkZCBjaGlsZCBub2RlKVxuICogLSBSZW1vdmUgYnV0dG9uXG4gKiAtIEJhdGNoIHJlbmRlciBidXR0b25zXG4gKiAtIEhhbmRsZSBidXR0b24gY2xpY2sgZXZlbnRzXG4gKlxuICogW0Rlc2lnbiBQcmluY2lwbGVzXVxuICogLSBDb21tdW5pY2F0ZSB3aXRoIGV4dGVybmFsIHZpYSBjYWxsYmFja3MsIG5vIGRpcmVjdCBkZXBlbmRlbmN5IG9uIEQzVHJlZVJlbmRlcmVyXG4gKiAtIE1hbmFnZSBidXR0b24gcmVuZGVyaW5nIGFuZCByZW1vdmFsXG4gKiAtIFByb3ZpZGUgY2xlYXIgQVBJIGZvciBidXR0b24gb3BlcmF0aW9uc1xuICpcbiAqIFtSZWZhY3RvcmluZyBTb3VyY2VdXG4gKiBFeHRyYWN0ZWQgZnJvbSBEM1RyZWVSZW5kZXJlci50cyAoUGhhc2UgMy40KVxuICogLSByZW5kZXJQbHVzQnV0dG9ucygpIFx1MjE5MiByZW5kZXJCdXR0b25zKClcbiAqIC0gcmVuZGVyUGx1c0J1dHRvbigpIFx1MjE5MiByZW5kZXJQbHVzQnV0dG9uKClcbiAqIC0gcmVtb3ZlUGx1c0J1dHRvbigpIFx1MjE5MiByZW1vdmVQbHVzQnV0dG9uKClcbiAqIC0gaGFuZGxlUGx1c0J1dHRvbkNsaWNrKCkgXHUyMTkyIChoYW5kbGVkIHZpYSBjYWxsYmFja3MpXG4gKiAtIGVkaXROZXdOb2RlKCkgXHUyMTkyICh0cmlnZ2VyZWQgdmlhIGNhbGxiYWNrcylcbiAqL1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBNaW5kTWFwTm9kZSB9IGZyb20gJy4uL2ludGVyZmFjZXMvbWluZG1hcC1pbnRlcmZhY2VzJztcblxuLyoqXG4gKiBOb2RlIGRpbWVuc2lvbnMgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZURpbWVuc2lvbnMge1xuXHR3aWR0aDogbnVtYmVyO1xuXHRoZWlnaHQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBCdXR0b24gUmVuZGVyZXIgY2FsbGJhY2sgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uUmVuZGVyZXJDYWxsYmFja3Mge1xuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gYWRkaW5nIGNoaWxkIG5vZGUgKHdpbGwgdHJpZ2dlciBzbmFwc2hvdCBzYXZlKVxuXHQgKi9cblx0b25BZGRDaGlsZE5vZGU/OiAoX25vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiB2b2lkO1xuXG5cdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiBidXR0b24gY2xpY2sgcmVxdWlyZXMgZW50ZXJpbmcgZWRpdCBtb2RlXG5cdCAqL1xuXHRlbnRlckVkaXRNb2RlPzogKF9ub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPikgPT4gdm9pZDtcblxuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gYnV0dG9uIGNsaWNrIHJlcXVpcmVzIGNsZWFyaW5nIHNlbGVjdGlvblxuXHQgKi9cblx0Y2xlYXJTZWxlY3Rpb24/OiAoKSA9PiB2b2lkO1xuXG5cdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiBidXR0b24gY2xpY2sgcmVxdWlyZXMgc2VsZWN0aW5nIG5vZGVcblx0ICovXG5cdHNlbGVjdE5vZGU/OiAoX25vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiB2b2lkO1xuXG5cdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiBidXR0b24gY2xpY2sgcmVxdWlyZXMgcmVmcmVzaGluZyBkYXRhXG5cdCAqL1xuXHRvbkRhdGFVcGRhdGVkPzogKCkgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBCdXR0b24gUmVuZGVyZXIgY2xhc3NcbiAqXG4gKiBNYW5hZ2VzIGJ1dHRvbiByZW5kZXJpbmcgYW5kIGludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBCdXR0b25SZW5kZXJlciB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0Ly8gSW5zdGFuY2UgdmFyaWFibGVzIGFyZSB1c2VkIGluIGNsYXNzIG1ldGhvZHNcblx0fVxuXG5cdC8qKlxuXHQgKiBCYXRjaCByZW5kZXIgcGx1cyBidXR0b25zIChvbmx5IGZvciBzZWxlY3RlZCBub2Rlcylcblx0ICpcblx0ICogQHBhcmFtIG5vZGVFbGVtZW50cyBEMyBub2RlIHNlbGVjdGlvbiBzZXRcblx0ICovXG5cdHJlbmRlckJ1dHRvbnMoXG5cdFx0bm9kZUVsZW1lbnRzOiBkMy5TZWxlY3Rpb248U1ZHR0VsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBTVkdHRWxlbWVudCwgdW5rbm93bj5cblx0KTogdm9pZCB7XG5cdFx0Ly8gQWRkIHBsdXMgYnV0dG9uIGZvciBlYWNoIG5vZGVcblx0XHRjb25zdCBub2RlcyA9IG5vZGVFbGVtZW50cy5ub2RlcygpO1xuXHRcdGNvbnN0IGRhdGEgPSBub2RlRWxlbWVudHMuZGF0YSgpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0Y29uc3QgZCA9IGRhdGFbaV07XG5cdFx0XHRjb25zdCBub2RlRWxlbWVudCA9IGQzLnNlbGVjdChub2RlKTtcblx0XHRcdGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLnRleHRNZWFzdXJlci5nZXROb2RlRGltZW5zaW9ucyhkLmRlcHRoLCBkLmRhdGEudGV4dCk7XG5cblx0XHRcdC8vIE9ubHkgcmVuZGVyIHBsdXMgYnV0dG9uIGZvciBzZWxlY3RlZCBub2Rlc1xuXHRcdFx0aWYgKGQuZGF0YS5zZWxlY3RlZCkge1xuXHRcdFx0XHR0aGlzLnJlbmRlclBsdXNCdXR0b24obm9kZUVsZW1lbnQgYXMgZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgbnVsbCwgdW5kZWZpbmVkPiwgZCwgZGltZW5zaW9ucyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlbmRlciBwbHVzIGJ1dHRvbiBmb3IgYSBzaW5nbGUgbm9kZVxuXHQgKlxuXHQgKiBAcGFyYW0gbm9kZUVsZW1lbnQgTm9kZSBlbGVtZW50IHNlbGVjdGlvbiBzZXRcblx0ICogQHBhcmFtIG5vZGUgTm9kZSBkYXRhXG5cdCAqIEBwYXJhbSBkaW1lbnNpb25zIE5vZGUgZGltZW5zaW9uc1xuXHQgKi9cblx0cmVuZGVyUGx1c0J1dHRvbihcblx0XHRub2RlRWxlbWVudDogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgbnVsbCwgdW5kZWZpbmVkPixcblx0XHRub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHRkaW1lbnNpb25zOiBOb2RlRGltZW5zaW9uc1xuXHQpOiB2b2lkIHtcblx0XHQvLyBDaGVjayBpZiBwbHVzIGJ1dHRvbiBhbHJlYWR5IGV4aXN0c1xuXHRcdGNvbnN0IGV4aXN0aW5nQnV0dG9uID0gbm9kZUVsZW1lbnQuc2VsZWN0KFwiLnBsdXMtYnV0dG9uLWdyb3VwXCIpO1xuXHRcdGlmICghZXhpc3RpbmdCdXR0b24uZW1wdHkoKSkge1xuXHRcdFx0cmV0dXJuOyAvLyBEb24ndCBjcmVhdGUgZHVwbGljYXRlIGlmIGFscmVhZHkgZXhpc3RzXG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHRvdGFsIGhlaWdodCBvZiBib3RoIGJ1dHRvbnMgKHBsdXMgYnV0dG9uIDIwcHggKyBzcGFjaW5nIDEwcHggKyBBSSBidXR0b24gMjBweCA9IDUwcHgpXG5cdFx0Y29uc3QgdG90YWxCdXR0b25zSGVpZ2h0ID0gMjAgKyAxMCArIDIwO1xuXHRcdC8vIFBsdXMgYnV0dG9uIHBvc2l0aW9uZWQgYXQgdGhlIHRvcFxuXHRcdGNvbnN0IGJ1dHRvblkgPSAoZGltZW5zaW9ucy5oZWlnaHQgLSB0b3RhbEJ1dHRvbnNIZWlnaHQpIC8gMjtcblxuXHRcdC8vIENyZWF0ZSBwbHVzIGJ1dHRvbiBncm91cFxuXHRcdGNvbnN0IGJ1dHRvbkdyb3VwID0gbm9kZUVsZW1lbnQuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBsdXMtYnV0dG9uLWdyb3VwXCIpXG5cdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7ZGltZW5zaW9ucy53aWR0aCArIDR9LCAke2J1dHRvbll9KWApO1xuXG5cdFx0Ly8gQWRkIGNsaWNrIGV2ZW50IGhhbmRsZXJcblx0XHRidXR0b25Hcm91cC5vbihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0dGhpcy5oYW5kbGVCdXR0b25DbGljayhldmVudCwgbm9kZSk7XG5cdFx0fSk7XG5cblx0XHQvLyBDcmVhdGUgY2lyY3VsYXIgYmFja2dyb3VuZFxuXHRcdGJ1dHRvbkdyb3VwLmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBsdXMtYnV0dG9uLWJnXCIpXG5cdFx0XHQuYXR0cihcImN4XCIsIDEwKVxuXHRcdFx0LmF0dHIoXCJjeVwiLCAxMClcblx0XHRcdC5hdHRyKFwiclwiLCAxMClcblx0XHRcdC5hdHRyKFwiZmlsbFwiLCBcIiMyOTcyZjRcIikgIC8vIEJsdWUgYmFja2dyb3VuZFxuXHRcdFx0LnN0eWxlKFwib3BhY2l0eVwiLCAwLjkpXG5cdFx0XHQuc3R5bGUoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpO1xuXG5cdFx0Ly8gQ3JlYXRlIHBsdXMgdGV4dCAtIGZpeCBjZW50ZXIgYWxpZ25tZW50XG5cdFx0YnV0dG9uR3JvdXAuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBsdXMtYnV0dG9uLXRleHRcIilcblx0XHRcdC5hdHRyKFwieFwiLCAxMCkgICAgICAgICAgICAgIC8vIEFsaWduIHdpdGggY2lyY2xlIGN4XG5cdFx0XHQuYXR0cihcInlcIiwgMTApICAgICAgICAgICAgICAvLyBBbGlnbiB3aXRoIGNpcmNsZSBjeVxuXHRcdFx0LmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuXHRcdFx0LmF0dHIoXCJkb21pbmFudC1iYXNlbGluZVwiLCBcIm1pZGRsZVwiKVxuXHRcdFx0LmF0dHIoXCJmaWxsXCIsIFwid2hpdGVcIilcblx0XHRcdC5hdHRyKFwiZm9udC1zaXplXCIsIFwiMTZweFwiKVxuXHRcdFx0LmF0dHIoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcblx0XHRcdC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKSAgLy8gQmxvY2sgdGV4dCBldmVudHMsIGxldCBjaXJjdWxhciBiYWNrZ3JvdW5kIHJlY2VpdmUgZXZlbnRzXG5cdFx0XHQudGV4dChcIitcIik7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlIHBsdXMgYnV0dG9uIGZyb20gbm9kZVxuXHQgKlxuXHQgKiBAcGFyYW0gbm9kZUVsZW1lbnQgTm9kZSBlbGVtZW50IHNlbGVjdGlvbiBzZXRcblx0ICovXG5cdHJlbW92ZVBsdXNCdXR0b24oXG5cdFx0bm9kZUVsZW1lbnQ6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4sIG51bGwsIHVuZGVmaW5lZD5cblx0KTogdm9pZCB7XG5cdFx0Y29uc3QgYnV0dG9uR3JvdXAgPSBub2RlRWxlbWVudC5zZWxlY3QoXCIucGx1cy1idXR0b24tZ3JvdXBcIik7XG5cdFx0aWYgKCFidXR0b25Hcm91cC5lbXB0eSgpKSB7XG5cdFx0XHRidXR0b25Hcm91cC5yZW1vdmUoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRGVzdHJveVxuXHQgKi9cblx0ZGVzdHJveSgpOiB2b2lkIHtcblx0XHQvLyBDbGVhbiB1cCByZXNvdXJjZXMgKGlmIG5lZWRlZClcblx0fVxuXG5cdC8vID09PT09PT09PT0gUHJpdmF0ZSBNZXRob2RzID09PT09PT09PT1cblxuXHQvKipcblx0ICogSGFuZGxlIHBsdXMgYnV0dG9uIGNsaWNrIGV2ZW50XG5cdCAqL1xuXHRwcml2YXRlIGhhbmRsZUJ1dHRvbkNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50LCBub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPik6IHZvaWQge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyBQcmV2ZW50IGV2ZW50IGJ1YmJsaW5nIHRvIG5vZGVcblxuXHRcdC8vIFVzZSBjYWxsYmFjayB0byBhZGQgY2hpbGQgbm9kZSAod2lsbCB0cmlnZ2VyIHNuYXBzaG90IHNhdmUpXG5cdFx0dGhpcy5jYWxsYmFja3Mub25BZGRDaGlsZE5vZGU/Lihub2RlKTtcblx0fVxufVxuIiwgIi8qKlxuICogTW9iaWxlIFRvb2xiYXIgLSBNb2JpbGUgdG9vbGJhciBmdW5jdGlvbmFsaXR5XG4gKlxuICogW1Jlc3BvbnNpYmlsaXRpZXNdXG4gKiAtIENyZWF0ZSBhbmQgbWFuYWdlIHNoYXJlZCB0b29sYmFyIChlZGl0LCBjb3B5LCBwYXN0ZSwgZGVsZXRlKVxuICogLSBVcGRhdGUgdG9vbGJhciBwb3NpdGlvbiBhbmQgZGlzcGxheSBzdGF0ZVxuICogLSBIYW5kbGUgdG9vbGJhciBidXR0b24gY2xpY2sgZXZlbnRzXG4gKiAtIFByb3ZpZGUgdmlicmF0aW9uIGZlZWRiYWNrIChtb2JpbGUpXG4gKlxuICogW0Rlc2lnbiBQcmluY2lwbGVzXVxuICogLSBDb21tdW5pY2F0ZSB3aXRoIGV4dGVybmFsIHZpYSBjYWxsYmFja3MsIG5vIGRpcmVjdCBkZXBlbmRlbmN5IG9uIEQzVHJlZVJlbmRlcmVyXG4gKiAtIE1hbmFnZSB0b29sYmFyIGRpc3BsYXksIGhpZGUgYW5kIHBvc2l0aW9uIHVwZGF0ZXNcbiAqIC0gUHJvdmlkZSBjbGVhciBBUEkgZm9yIHRvb2xiYXIgb3BlcmF0aW9uc1xuICpcbiAqIFtSZWZhY3RvcmluZyBTb3VyY2VdXG4gKiBFeHRyYWN0ZWQgZnJvbSBEM1RyZWVSZW5kZXJlci50cyAoUGhhc2UgMy41KVxuICogLSBjcmVhdGVUb29sYmFyQ29udGVudCgpIFx1MjE5MiBjcmVhdGUoKVxuICogLSBjcmVhdGVUb29sYmFyQnV0dG9uKCkgXHUyMTkyIChpbnRlcm5hbCBtZXRob2QpXG4gKiAtIHVwZGF0ZVNoYXJlZFRvb2xiYXIoKSBcdTIxOTIgdXBkYXRlUG9zaXRpb24oKVxuICogLSBoaWRlU2hhcmVkVG9vbGJhcigpIFx1MjE5MiBoaWRlKClcbiAqIC0gYXR0YWNoVG9vbGJhckJ1dHRvbkhhbmRsZXJzKCkgXHUyMTkyIGF0dGFjaEhhbmRsZXJzKClcbiAqIC0gaGFuZGxlVG9vbGJhcipDbGljaygpIFx1MjE5MiAoaGFuZGxlZCB2aWEgY2FsbGJhY2tzKVxuICovXG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IE1pbmRNYXBOb2RlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgVGV4dE1lYXN1cmVyIH0gZnJvbSAnLi4vdXRpbHMvVGV4dE1lYXN1cmVyJztcbmltcG9ydCB7IE1pbmRNYXBNZXNzYWdlcyB9IGZyb20gJy4uL2kxOG4nO1xuXG4vKipcbiAqIE1vYmlsZSBUb29sYmFyIGNhbGxiYWNrIGludGVyZmFjZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vYmlsZVRvb2xiYXJDYWxsYmFja3Mge1xuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gZWRpdCBidXR0b24gaXMgY2xpY2tlZFxuXHQgKi9cblx0b25FZGl0PzogKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiB2b2lkO1xuXG5cdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiBjb3B5IGJ1dHRvbiBpcyBjbGlja2VkXG5cdCAqL1xuXHRvbkNvcHk/OiAobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pID0+IFByb21pc2U8dm9pZD47XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHBhc3RlIGJ1dHRvbiBpcyBjbGlja2VkXG5cdCAqL1xuXHRvblBhc3RlPzogKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KSA9PiBQcm9taXNlPHZvaWQ+O1xuXG5cdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiBkZWxldGUgYnV0dG9uIGlzIGNsaWNrZWRcblx0ICovXG4gb25EZWxldGU/OiAobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4pID0+IHZvaWQ7XG59XG5cbi8qKlxuICogTW9iaWxlIFRvb2xiYXIgY2xhc3NcbiAqXG4gKiBNYW5hZ2VzIGNvbXBsZXRlIGxpZmVjeWNsZSBvZiBtb2JpbGUgdG9vbGJhclxuICovXG5leHBvcnQgY2xhc3MgTW9iaWxlVG9vbGJhciB7XG5cdHByaXZhdGUgdG9vbGJhcjogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCB1bmtub3duLCBudWxsLCB1bmRlZmluZWQ+IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgY3VycmVudE5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+IHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSB0ZXh0TWVhc3VyZXI6IFRleHRNZWFzdXJlcixcblx0XHRwcml2YXRlIG1lc3NhZ2VzOiBNaW5kTWFwTWVzc2FnZXMsXG5cdFx0cHJpdmF0ZSBjYWxsYmFja3M6IE1vYmlsZVRvb2xiYXJDYWxsYmFja3MgPSB7fVxuXHQpIHtcblx0XHQvLyBJbnN0YW5jZSB2YXJpYWJsZXMgYXJlIHVzZWQgaW4gY2xhc3MgbWV0aG9kc1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBzaGFyZWQgdG9vbGJhclxuXHQgKlxuXHQgKiBAcGFyYW0gc3ZnIFNWRyBzZWxlY3Rpb24gc2V0XG5cdCAqL1xuXHRjcmVhdGUoc3ZnOiBkMy5TZWxlY3Rpb248U1ZHU1ZHRWxlbWVudCwgdW5rbm93biwgbnVsbCwgdW5kZWZpbmVkPik6IHZvaWQge1xuXHRcdC8vIFNpbXBsaWZpY2F0aW9uOiBpZiBleGlzdHMsIGRlc3Ryb3kgYW5kIHJlY3JlYXRlIChlbnN1cmUgdW5pcXVlbmVzcyBhbmQgdmFsaWRpdHkpXG5cdFx0aWYgKHRoaXMudG9vbGJhcikge1xuXHRcdFx0dGhpcy50b29sYmFyLnJlbW92ZSgpO1xuXHRcdFx0dGhpcy50b29sYmFyID0gbnVsbDtcblx0XHR9XG5cblx0XHQvLyBGaXg6IGNyZWF0ZSBpbiBjb250ZW50IGdyb3VwLCBlbnN1cmUgY29ycmVjdCBTVkcgbGV2ZWwgKHJlZmVyIHRvIHByZS1yZWZhY3RvcmluZyBpbXBsZW1lbnRhdGlvbilcblx0XHRjb25zdCBjb250ZW50ID0gc3ZnLnNlbGVjdChcIi5taW5kbWFwLWNvbnRlbnRcIik7XG5cdFx0aWYgKGNvbnRlbnQuZW1wdHkoKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHRvb2xiYXJHcm91cCA9IGNvbnRlbnQuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInNoYXJlZC1ub2RlLXRvb2xiYXJcIilcblx0XHRcdC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXG5cdFx0Ly8gQ3JlYXRlIHRvb2xiYXIgY29udGVudFxuXHRcdHRoaXMuY3JlYXRlVG9vbGJhckNvbnRlbnQodG9vbGJhckdyb3VwKTtcblxuXHRcdC8vIFNhdmUgcmVmZXJlbmNlXG5cdFx0dGhpcy50b29sYmFyID0gdG9vbGJhckdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0b29sYmFyIHBvc2l0aW9uIGFuZCBkaXNwbGF5IHN0YXRlXG5cdCAqXG5cdCAqIEBwYXJhbSBub2RlIEFzc29jaWF0ZWQgbm9kZVxuXHQgKiBAcGFyYW0gb2Zmc2V0WCBYLWF4aXMgb2Zmc2V0XG5cdCAqIEBwYXJhbSBvZmZzZXRZIFktYXhpcyBvZmZzZXRcblx0ICovXG5cdHVwZGF0ZVBvc2l0aW9uKFxuXHRcdG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LFxuXHRcdG9mZnNldFg6IG51bWJlcixcblx0XHRvZmZzZXRZOiBudW1iZXJcblx0KTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLnRvb2xiYXIpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBHZXQgbm9kZSBkaW1lbnNpb25zXG5cdFx0Y29uc3QgZGltZW5zaW9ucyA9IHRoaXMudGV4dE1lYXN1cmVyLmdldE5vZGVEaW1lbnNpb25zKG5vZGUuZGVwdGgsIG5vZGUuZGF0YS50ZXh0KTtcblxuXHRcdC8vIENhbGN1bGF0ZSB0b29sYmFyIGFic29sdXRlIHBvc2l0aW9uICh1c2luZyBjYW52YXMgY29vcmRpbmF0ZXMpXG5cdFx0Y29uc3Qgbm9kZUNhbnZhc1ggPSBub2RlLnkgKyBvZmZzZXRYOyAgLy8gTm9kZSdzIGhvcml6b250YWwgcG9zaXRpb25cblx0XHQvLyBub2RlLnggaXMgdGhlIGNlbnRlciBwb2ludCBvZiBsYXlvdXQgY29vcmRpbmF0ZXMsIG5lZWQgdG8gY29udmVydCB0byB0b3AgZWRnZSBwb3NpdGlvbiBvZiBjYW52YXMgY29vcmRpbmF0ZXNcblx0XHRjb25zdCBub2RlQ2FudmFzWSA9IG5vZGUueCArIG9mZnNldFkgLSBkaW1lbnNpb25zLmhlaWdodCAvIDI7ICAvLyBOb2RlJ3MgdmVydGljYWwgcG9zaXRpb24gKHRvcCBlZGdlKVxuXG5cdFx0Y29uc3QgdG9vbGJhcldpZHRoID0gMzIwO1xuXHRcdGNvbnN0IHRvb2xiYXJIZWlnaHQgPSA0NDtcblxuXHRcdC8vIFRvb2xiYXIgb2Zmc2V0IHJlbGF0aXZlIHRvIG5vZGVcblx0XHRjb25zdCB0b29sYmFyT2Zmc2V0WCA9IChkaW1lbnNpb25zLndpZHRoIC0gdG9vbGJhcldpZHRoKSAvIDI7ICAvLyBIb3Jpem9udGFsIGNlbnRlclxuXHRcdGNvbnN0IHRvb2xiYXJPZmZzZXRZID0gLXRvb2xiYXJIZWlnaHQgLSAxMjsgIC8vIDEycHggYWJvdmUgbm9kZVxuXG5cdFx0Ly8gVG9vbGJhcidzIGFic29sdXRlIGNvb3JkaW5hdGVzXG5cdFx0Y29uc3QgdG9vbGJhclggPSBub2RlQ2FudmFzWCArIHRvb2xiYXJPZmZzZXRYO1xuXHRcdGNvbnN0IHRvb2xiYXJZID0gbm9kZUNhbnZhc1kgKyB0b29sYmFyT2Zmc2V0WTtcblxuXHRcdC8vIFVwZGF0ZSB0b29sYmFyIHBvc2l0aW9uXG5cdFx0Ly8gSW50ZXJydXB0IGFueSBvbmdvaW5nIHRyYW5zaXRpb24gYW5pbWF0aW9uLCBlbnN1cmUgdG9vbGJhciByZXNwb25kcyBpbW1lZGlhdGVseVxuXHRcdHRoaXMudG9vbGJhclxuXHRcdFx0LmludGVycnVwdCgpXG5cdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7dG9vbGJhclh9LCAke3Rvb2xiYXJZfSlgKVxuXHRcdFx0LnN0eWxlKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpXG5cdFx0XHQuc3R5bGUoXCJvcGFjaXR5XCIsIDApO1xuXG5cdFx0Ly8gU2F2ZSBjdXJyZW50bHkgYXNzb2NpYXRlZCBub2RlXG5cdFx0dGhpcy5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cblx0XHQvLyBVcGRhdGUgYnV0dG9uIGV2ZW50IGxpc3RlbmVycyAodXNpbmcgbmV3IG5vZGUgcmVmZXJlbmNlKVxuXHRcdHRoaXMuYXR0YWNoSGFuZGxlcnMobm9kZSk7XG5cblx0XHQvLyBTbW9vdGggZmFkZS1pbiBhbmltYXRpb25cblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMudG9vbGJhcikge1xuXHRcdFx0XHR0aGlzLnRvb2xiYXJcblx0XHRcdFx0XHQuc3R5bGUoXCJ0cmFuc2l0aW9uXCIsIFwib3BhY2l0eSAwLjE1cyBlYXNlLW91dFwiKVxuXHRcdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogSGlkZSB0b29sYmFyXG5cdCAqL1xuXHRoaWRlKCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy50b29sYmFyKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy50b29sYmFyXG5cdFx0XHQuc3R5bGUoXCJvcGFjaXR5XCIsIDApXG5cdFx0XHQudHJhbnNpdGlvbigpXG5cdFx0XHQuZHVyYXRpb24oMTUwKVxuXHRcdFx0Lm9uKFwiZW5kXCIsICgpID0+IHtcblx0XHRcdFx0dGhpcy50b29sYmFyPy5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHQvLyBDbGVhciBub2RlIHJlZmVyZW5jZSBvbmx5IGFmdGVyIGFuaW1hdGlvbiBjb21wbGV0ZXNcblx0XHRcdFx0dGhpcy5jdXJyZW50Tm9kZSA9IG51bGw7XG5cdFx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZXN0cm95XG5cdCAqL1xuXHRkZXN0cm95KCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnRvb2xiYXIpIHtcblx0XHRcdHRoaXMudG9vbGJhci5yZW1vdmUoKTtcblx0XHRcdHRoaXMudG9vbGJhciA9IG51bGw7XG5cdFx0fVxuXHRcdHRoaXMuY3VycmVudE5vZGUgPSBudWxsO1xuXHR9XG5cblx0Ly8gPT09PT09PT09PSBQcml2YXRlIE1ldGhvZHMgPT09PT09PT09PVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgdG9vbGJhciBjb250ZW50XG5cdCAqL1xuXHRwcml2YXRlIGNyZWF0ZVRvb2xiYXJDb250ZW50KFxuXHRcdHRvb2xiYXJHcm91cDogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCB1bmtub3duLCBudWxsLCB1bmRlZmluZWQ+XG5cdCk6IHZvaWQge1xuXHRcdGNvbnN0IHRvb2xiYXJXaWR0aCA9IDQwMDtcblx0XHRjb25zdCB0b29sYmFySGVpZ2h0ID0gNDQ7XG5cblx0XHQvLyBUb29sYmFyIGJhY2tncm91bmQgKGJsYWNrIHJvdW5kZWQgcmVjdGFuZ2xlKVxuXHRcdHRvb2xiYXJHcm91cC5hcHBlbmQoXCJyZWN0XCIpXG5cdFx0XHQuYXR0cihcImNsYXNzXCIsIFwidG9vbGJhci1iZ1wiKVxuXHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCB0b29sYmFyV2lkdGgpXG5cdFx0XHQuYXR0cihcImhlaWdodFwiLCB0b29sYmFySGVpZ2h0KVxuXHRcdFx0LmF0dHIoXCJyeFwiLCA4KVxuXHRcdFx0LmF0dHIoXCJyeVwiLCA4KVxuXHRcdFx0LmF0dHIoXCJmaWxsXCIsIFwiIzAwMDAwMFwiKTtcblxuXHRcdC8vIFRvb2xiYXIgYXJyb3cgKHBvaW50aW5nIHRvIG5vZGUpXG5cdFx0dG9vbGJhckdyb3VwLmFwcGVuZChcInBhdGhcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ0b29sYmFyLWFycm93XCIpXG5cdFx0XHQuYXR0cihcImRcIiwgXCJNIDIwMCA1MiBMIDE5MiA0NCBMIDIwOCA0NCBaXCIpXG5cdFx0XHQuYXR0cihcImZpbGxcIiwgXCIjMDAwMDAwXCIpO1xuXG5cdFx0Ly8gVGhyZWUgc2VwYXJhdG9yIGxpbmVzXG5cdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gMzsgaSsrKSB7XG5cdFx0XHR0b29sYmFyR3JvdXAuYXBwZW5kKFwibGluZVwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwidG9vbGJhci1zZXBhcmF0b3JcIilcblx0XHRcdFx0LmF0dHIoXCJ4MVwiLCAodG9vbGJhcldpZHRoIC8gNCkgKiBpKVxuXHRcdFx0XHQuYXR0cihcInkxXCIsIDgpXG5cdFx0XHRcdC5hdHRyKFwieDJcIiwgKHRvb2xiYXJXaWR0aCAvIDQpICogaSlcblx0XHRcdFx0LmF0dHIoXCJ5MlwiLCB0b29sYmFySGVpZ2h0IC0gOClcblx0XHRcdFx0LmF0dHIoXCJzdHJva2VcIiwgXCIjMzMzMzMzXCIpXG5cdFx0XHRcdC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEpO1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBmb3VyIGJ1dHRvbnNcblx0XHR0aGlzLmNyZWF0ZVRvb2xiYXJCdXR0b24odG9vbGJhckdyb3VwLCAwLCB0b29sYmFyV2lkdGgsIHRvb2xiYXJIZWlnaHQsIFwiZWRpdFwiKTtcblx0XHR0aGlzLmNyZWF0ZVRvb2xiYXJCdXR0b24odG9vbGJhckdyb3VwLCAxLCB0b29sYmFyV2lkdGgsIHRvb2xiYXJIZWlnaHQsIFwiY29weVwiKTtcblx0XHR0aGlzLmNyZWF0ZVRvb2xiYXJCdXR0b24odG9vbGJhckdyb3VwLCAyLCB0b29sYmFyV2lkdGgsIHRvb2xiYXJIZWlnaHQsIFwicGFzdGVcIik7XG5cdFx0dGhpcy5jcmVhdGVUb29sYmFyQnV0dG9uKHRvb2xiYXJHcm91cCwgMywgdG9vbGJhcldpZHRoLCB0b29sYmFySGVpZ2h0LCBcImRlbGV0ZVwiKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgdG9vbGJhciBidXR0b25cblx0ICovXG5cdHByaXZhdGUgY3JlYXRlVG9vbGJhckJ1dHRvbihcblx0XHR0b29sYmFyR3JvdXA6IGQzLlNlbGVjdGlvbjxTVkdHRWxlbWVudCwgdW5rbm93biwgbnVsbCwgdW5kZWZpbmVkPixcblx0XHRpbmRleDogbnVtYmVyLFxuXHRcdHRvb2xiYXJXaWR0aDogbnVtYmVyLFxuXHRcdHRvb2xiYXJIZWlnaHQ6IG51bWJlcixcblx0XHR0eXBlOiBzdHJpbmdcblx0KTogdm9pZCB7XG5cdFx0Y29uc3QgYnV0dG9uR3JvdXAgPSB0b29sYmFyR3JvdXAuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBgdG9vbGJhci1idG4gJHt0eXBlfS1idG5gKVxuXHRcdFx0LnN0eWxlKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKTtcblxuXHRcdGJ1dHRvbkdyb3VwLmFwcGVuZChcInJlY3RcIilcblx0XHRcdC5hdHRyKFwieFwiLCAodG9vbGJhcldpZHRoIC8gNCkgKiBpbmRleClcblx0XHRcdC5hdHRyKFwid2lkdGhcIiwgdG9vbGJhcldpZHRoIC8gNClcblx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIHRvb2xiYXJIZWlnaHQpXG5cdFx0XHQuYXR0cihcImZpbGxcIiwgXCJ0cmFuc3BhcmVudFwiKVxuXHRcdFx0LmF0dHIoXCJyeFwiLCA4KVxuXHRcdFx0LmF0dHIoXCJyeVwiLCA4KTtcblxuXHRcdC8vIFx1NjMwOVx1OTRBRVx1NTZGRVx1NjgwN1x1NTQ4Q1x1NjU4N1x1NjcyQ1x1OTE0RFx1N0Y2RVxuXHRcdGNvbnN0IGJ1dHRvbkNvbmZpZyA9IHtcblx0XHRcdGVkaXQ6IHsgaWNvbjogXCJcdTI3MEZcdUZFMEZcIiwgdGV4dDogdGhpcy5tZXNzYWdlcy51aS5jb250ZXh0RWRpdCB9LFxuXHRcdFx0Y29weTogeyBpY29uOiBcIlx1RDgzRFx1RENDQlwiLCB0ZXh0OiB0aGlzLm1lc3NhZ2VzLnVpLmNvbnRleHRDb3B5IH0sXG5cdFx0XHRwYXN0ZTogeyBpY29uOiBcIlx1RDgzRFx1RENEMVwiLCB0ZXh0OiB0aGlzLm1lc3NhZ2VzLnVpLmNvbnRleHRQYXN0ZSB9LFxuXHRcdFx0ZGVsZXRlOiB7IGljb246IFwiXHVEODNEXHVEREQxXHVGRTBGXCIsIHRleHQ6IHRoaXMubWVzc2FnZXMudWkuY29udGV4dERlbGV0ZSB9XG5cdFx0fTtcblxuXHRcdGNvbnN0IGNvbmZpZyA9IGJ1dHRvbkNvbmZpZ1t0eXBlIGFzIGtleW9mIHR5cGVvZiBidXR0b25Db25maWddO1xuXHRcdGNvbnN0IGJ1dHRvbkNlbnRlclggPSAodG9vbGJhcldpZHRoIC8gNCkgKiBpbmRleCArICh0b29sYmFyV2lkdGggLyA4KTtcblxuXHRcdGJ1dHRvbkdyb3VwLmFwcGVuZChcInRleHRcIilcblx0XHRcdC5hdHRyKFwieFwiLCBidXR0b25DZW50ZXJYIC0gMTYpXG5cdFx0XHQuYXR0cihcInlcIiwgdG9vbGJhckhlaWdodCAvIDIpXG5cdFx0XHQuYXR0cihcImRvbWluYW50LWJhc2VsaW5lXCIsIFwibWlkZGxlXCIpXG5cdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG5cdFx0XHQuYXR0cihcImZpbGxcIiwgXCIjZmZmZmZmXCIpXG5cdFx0XHQuYXR0cihcImZvbnQtc2l6ZVwiLCBcIjE0cHhcIilcblx0XHRcdC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKVxuXHRcdFx0LnRleHQoY29uZmlnLmljb24pO1xuXG5cdFx0YnV0dG9uR3JvdXAuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0LmF0dHIoXCJ4XCIsIGJ1dHRvbkNlbnRlclggKyAxNilcblx0XHRcdC5hdHRyKFwieVwiLCB0b29sYmFySGVpZ2h0IC8gMilcblx0XHRcdC5hdHRyKFwiZG9taW5hbnQtYmFzZWxpbmVcIiwgXCJtaWRkbGVcIilcblx0XHRcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcblx0XHRcdC5hdHRyKFwiZmlsbFwiLCBcIiNmZmZmZmZcIilcblx0XHRcdC5hdHRyKFwiZm9udC1zaXplXCIsIFwiMTRweFwiKVxuXHRcdFx0LmF0dHIoXCJmb250LXdlaWdodFwiLCBcIjUwMFwiKVxuXHRcdFx0LnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpXG5cdFx0XHQudGV4dChjb25maWcudGV4dCk7XG5cdH1cblxuXHQvKipcblx0ICogQXR0YWNoIHRvb2xiYXIgYnV0dG9uIGV2ZW50IGhhbmRsZXJzXG5cdCAqL1xuXHRwcml2YXRlIGF0dGFjaEhhbmRsZXJzKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+KTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLnRvb2xiYXIpIHJldHVybjtcblxuXHRcdC8vIEVkaXQgYnV0dG9uXG5cdFx0dGhpcy50b29sYmFyLnNlbGVjdChcIi5lZGl0LWJ0blwiKVxuXHRcdFx0Lm9uKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdHRoaXMuaGFuZGxlQnV0dG9uQ2xpY2soZXZlbnQsIG5vZGUsIFwiZWRpdFwiKTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gQ29weSBidXR0b25cblx0XHR0aGlzLnRvb2xiYXIuc2VsZWN0KFwiLmNvcHktYnRuXCIpXG5cdFx0XHQub24oXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdFx0dGhpcy5oYW5kbGVCdXR0b25DbGljayhldmVudCwgbm9kZSwgXCJjb3B5XCIpO1xuXHRcdFx0fSk7XG5cblx0XHQvLyBQYXN0ZSBidXR0b25cblx0XHR0aGlzLnRvb2xiYXIuc2VsZWN0KFwiLnBhc3RlLWJ0blwiKVxuXHRcdFx0Lm9uKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRcdHRoaXMuaGFuZGxlQnV0dG9uQ2xpY2soZXZlbnQsIG5vZGUsIFwicGFzdGVcIik7XG5cdFx0XHR9KTtcblxuXHRcdC8vIERlbGV0ZSBidXR0b25cblx0XHR0aGlzLnRvb2xiYXIuc2VsZWN0KFwiLmRlbGV0ZS1idG5cIilcblx0XHRcdC5vbihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0XHR0aGlzLmhhbmRsZUJ1dHRvbkNsaWNrKGV2ZW50LCBub2RlLCBcImRlbGV0ZVwiKTtcblx0XHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEhhbmRsZSB0b29sYmFyIGJ1dHRvbiBjbGljayBldmVudFxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVCdXR0b25DbGljayhcblx0XHRldmVudDogTW91c2VFdmVudCxcblx0XHRub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPixcblx0XHR0eXBlOiBzdHJpbmdcblx0KTogdm9pZCB7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQgZXZlbnQgYnViYmxpbmdcblxuXHRcdC8vIFZpYnJhdGlvbiBmZWVkYmFjayAoaWYgZGV2aWNlIHN1cHBvcnRzKVxuXHRcdGlmIChuYXZpZ2F0b3IudmlicmF0ZSkge1xuXHRcdFx0bmF2aWdhdG9yLnZpYnJhdGUoNTApO1xuXHRcdH1cblxuXHRcdC8vIFRyaWdnZXIgY29ycmVzcG9uZGluZyBjYWxsYmFja1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSBcImVkaXRcIjpcblx0XHRcdFx0dGhpcy5jYWxsYmFja3Mub25FZGl0Py4obm9kZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNvcHlcIjpcblx0XHRcdFx0dGhpcy5jYWxsYmFja3Mub25Db3B5Py4obm9kZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInBhc3RlXCI6XG5cdFx0XHRcdHRoaXMuY2FsbGJhY2tzLm9uUGFzdGU/Lihub2RlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiZGVsZXRlXCI6XG5cdFx0XHRcdHRoaXMuY2FsbGJhY2tzLm9uRGVsZXRlPy4obm9kZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxufVxuIiwgIi8qKlxuICogUmVuZGVyZXIgQ29vcmRpbmF0b3IgLSBcdTRFM0JcdTZFMzJcdTY3RDNcdTUzNEZcdThDMDNcdTU2NjhcbiAqXG4gKiBcdTMwMTBcdTgwNENcdThEMjNcdTMwMTFcbiAqIC0gXHU5NkM2XHU2MjEwXHU2MjQwXHU2NzA5XHU1MjlGXHU4MEZEXHU2QTIxXHU1NzU3XHVGRjA4XHU0RUE0XHU0RTkyXHUzMDAxXHU3RjE2XHU4RjkxXHUzMDAxQUlcdTMwMDFcdTUyNkFcdThEMzRcdTY3N0ZcdTMwMDFcdTYzMDlcdTk0QUVcdTMwMDFcdTVERTVcdTUxNzdcdTY4MEZcdUZGMDlcbiAqIC0gXHU1MzRGXHU4QzAzXHU2RTMyXHU2N0QzXHU1NDhDXHU0RUE0XHU0RTkyXG4gKiAtIFx1NUI5RVx1NzNCMCBNaW5kTWFwUmVuZGVyZXIgXHU2M0E1XHU1M0UzXG4gKiAtIFx1N0JBMVx1NzQwNlx1NzUxRlx1NTQ3RFx1NTQ2OFx1NjcxRlxuICpcbiAqIFx1MzAxMFx1OEJCRVx1OEJBMVx1NTM5Rlx1NTIxOVx1MzAxMVxuICogLSBcdTdFQzRcdTU0MDhcdTRGMThcdTRFOEVcdTdFRTdcdTYyN0ZcdUZGMUFcdTRGN0ZcdTc1MjhcdTU5MUFcdTRFMkFcdTRFMTNcdTk1RThcdTc2ODRcdTZBMjFcdTU3NTdcdTgwMENcdTk3NUVcdTUzNTVcdTRFMDBcdTVERThcdTU3OEJcdTdDN0JcbiAqIC0gXHU1MzU1XHU0RTAwXHU4MDRDXHU4RDIzXHVGRjFBXHU2QkNGXHU0RTJBXHU2QTIxXHU1NzU3XHU4RDFGXHU4RDIzXHU3Mjc5XHU1QjlBXHU1MjlGXHU4MEZEXG4gKiAtIFx1OTAxQVx1OEZDN1x1NTZERVx1OEMwM1x1NUI5RVx1NzNCMFx1NkEyMVx1NTc1N1x1OTVGNFx1OTAxQVx1NEZFMVxuICogLSBcdTRGRERcdTYzMDFcdTU0MTFcdTU0MEVcdTUxN0NcdTVCQjlcdUZGMUFcdTVCOUVcdTczQjAgTWluZE1hcFJlbmRlcmVyIFx1NjNBNVx1NTNFM1xuICpcbiAqIFx1MzAxMFx1NjdCNlx1Njc4NFx1MzAxMVxuICogLSBcdTY4MzhcdTVGQzNcdTZFMzJcdTY3RDNcdUZGMUFcdTRGRERcdTc1NTlcdTVGQzVcdTg5ODFcdTc2ODQgU1ZHIFx1NkUzMlx1NjdEM1x1OTAzQlx1OEY5MVxuICogLSBcdTUyOUZcdTgwRkRcdTZBMjFcdTU3NTdcdUZGMUFcdTRGN0ZcdTc1MjggUGhhc2UgMyBcdTYzRDBcdTUzRDZcdTc2ODQgNiBcdTRFMkFcdTZBMjFcdTU3NTdcbiAqIC0gXHU0RThCXHU0RUY2XHU1MzRGXHU4QzAzXHVGRjFBXHU5MDFBXHU4RkM3IEludGVyYWN0aW9uTWFuYWdlciBcdTdFREZcdTRFMDBcdTdCQTFcdTc0MDZcbiAqL1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBNaW5kTWFwRGF0YSwgTWluZE1hcFJlbmRlcmVyLCBFZGl0aW5nU3RhdGUsIE1pbmRNYXBOb2RlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgTWluZE1hcFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9taW5kbWFwLXNlcnZpY2UnO1xuaW1wb3J0IHsgTWluZE1hcENvbmZpZyB9IGZyb20gJy4uL2NvbmZpZy90eXBlcyc7XG5pbXBvcnQgeyBNaW5kTWFwTWVzc2FnZXMgfSBmcm9tICcuLi9pMThuJztcbmltcG9ydCB7IFVuZG9NYW5hZ2VyIH0gZnJvbSAnLi4vbWFuYWdlcnMvVW5kb01hbmFnZXInO1xuXG4vLyBcdTVCRkNcdTUxNjVcdTY4MzhcdTVGQzNcdTZFMzJcdTY3RDNcdTU2NjhcbmltcG9ydCB7IFRleHRNZWFzdXJlciB9IGZyb20gJy4uL3V0aWxzL1RleHRNZWFzdXJlcic7XG5pbXBvcnQgeyBMYXlvdXRDYWxjdWxhdG9yIH0gZnJvbSAnLi9sYXlvdXQtY2FsY3VsYXRvcic7XG5pbXBvcnQgeyBOb2RlUmVuZGVyZXIgfSBmcm9tICcuL2NvcmUvTm9kZVJlbmRlcmVyJztcbmltcG9ydCB7IExpbmtSZW5kZXJlciB9IGZyb20gJy4vY29yZS9MaW5rUmVuZGVyZXInO1xuaW1wb3J0IHsgVGV4dFJlbmRlcmVyIH0gZnJvbSAnLi9jb3JlL1RleHRSZW5kZXJlcic7XG5cbi8vIFx1NUJGQ1x1NTE2NVx1NTI5Rlx1ODBGRFx1NkEyMVx1NTc1N1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VyLCBSZW5kZXJDYWxsYmFja3MgfSBmcm9tICcuLi9pbnRlcmFjdGlvbnMvaW50ZXJhY3Rpb24tbWFuYWdlcic7XG5pbXBvcnQgeyBBSUFzc2lzdGFudCwgQUlBc3Npc3RhbnRDYWxsYmFja3MgfSBmcm9tICcuLi9mZWF0dXJlcy9BSUFzc2lzdGFudCc7XG5pbXBvcnQgeyBOb2RlRWRpdG9yLCBOb2RlRWRpdG9yQ2FsbGJhY2tzIH0gZnJvbSAnLi4vZmVhdHVyZXMvTm9kZUVkaXRvcic7XG5pbXBvcnQgeyBDbGlwYm9hcmRNYW5hZ2VyLCBDbGlwYm9hcmRNYW5hZ2VyQ2FsbGJhY2tzIH0gZnJvbSAnLi4vZmVhdHVyZXMvQ2xpcGJvYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBCdXR0b25SZW5kZXJlciwgQnV0dG9uUmVuZGVyZXJDYWxsYmFja3MgfSBmcm9tICcuLi9mZWF0dXJlcy9CdXR0b25SZW5kZXJlcic7XG5pbXBvcnQgeyBNb2JpbGVUb29sYmFyLCBNb2JpbGVUb29sYmFyQ2FsbGJhY2tzIH0gZnJvbSAnLi4vZmVhdHVyZXMvTW9iaWxlVG9vbGJhcic7XG5cbi8qKlxuICogUmVuZGVyZXIgQ29vcmRpbmF0b3IgXHU3QzdCXG4gKlxuICogXHU2NkZGXHU0RUUzIEQzVHJlZVJlbmRlcmVyXHVGRjBDXHU5NkM2XHU2MjEwXHU2MjQwXHU2NzA5XHU1MjlGXHU4MEZEXHU2QTIxXHU1NzU3XG4gKi9cbmV4cG9ydCBjbGFzcyBSZW5kZXJlckNvb3JkaW5hdG9yIGltcGxlbWVudHMgTWluZE1hcFJlbmRlcmVyIHtcblx0Ly8gPT09PT09PT09PSBcdTY4MzhcdTVGQzNcdTZFMzJcdTY3RDNcdTdFQzRcdTRFRjYgPT09PT09PT09PVxuXHRwcml2YXRlIHRleHRNZWFzdXJlcjogVGV4dE1lYXN1cmVyO1xuXHRwcml2YXRlIGxheW91dENhbGN1bGF0b3I6IExheW91dENhbGN1bGF0b3I7XG5cdHByaXZhdGUgbm9kZVJlbmRlcmVyOiBOb2RlUmVuZGVyZXI7XG5cdHByaXZhdGUgbGlua1JlbmRlcmVyOiBMaW5rUmVuZGVyZXI7XG5cdHByaXZhdGUgdGV4dFJlbmRlcmVyOiBUZXh0UmVuZGVyZXI7XG5cblx0Ly8gPT09PT09PT09PSBcdTUyOUZcdTgwRkRcdTZBMjFcdTU3NTcgPT09PT09PT09PVxuXHRwcml2YXRlIGludGVyYWN0aW9uTWFuYWdlcjogSW50ZXJhY3Rpb25NYW5hZ2VyO1xuXHRwcml2YXRlIGFpQXNzaXN0YW50OiBBSUFzc2lzdGFudDtcblx0cHJpdmF0ZSBub2RlRWRpdG9yOiBOb2RlRWRpdG9yO1xuXHRwcml2YXRlIGNsaXBib2FyZE1hbmFnZXI6IENsaXBib2FyZE1hbmFnZXI7XG5cdHByaXZhdGUgYnV0dG9uUmVuZGVyZXI6IEJ1dHRvblJlbmRlcmVyO1xuXHRwcml2YXRlIG1vYmlsZVRvb2xiYXI6IE1vYmlsZVRvb2xiYXI7XG5cdHByaXZhdGUgdW5kb01hbmFnZXI6IFVuZG9NYW5hZ2VyO1xuXG5cdC8vID09PT09PT09PT0gXHU3MkI2XHU2MDAxXHU3QkExXHU3NDA2ID09PT09PT09PT1cblx0cHJpdmF0ZSBjdXJyZW50U3ZnOiBkMy5TZWxlY3Rpb248U1ZHU1ZHRWxlbWVudCwgdW5rbm93biwgbnVsbCwgdW5kZWZpbmVkPiB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIGN1cnJlbnRDb250ZW50OiBkMy5TZWxlY3Rpb248U1ZHR0VsZW1lbnQsIHVua25vd24sIG51bGwsIHVuZGVmaW5lZD4gfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBjdXJyZW50Wm9vbTogZDMuWm9vbUJlaGF2aW9yPFNWR1NWR0VsZW1lbnQsIHVua25vd24+IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgY3VycmVudFpvb21UcmFuc2Zvcm0gPSBkMy56b29tSWRlbnRpdHk7XG5cdHByaXZhdGUgY3VycmVudERhdGE6IE1pbmRNYXBEYXRhIHwgbnVsbCA9IG51bGw7XG5cblx0Ly8gXHU4OUM2XHU1NkZFXHU3MkI2XHU2MDAxXG5cdHByaXZhdGUgaXNSZW5kZXJpbmcgPSBmYWxzZTtcblx0cHJpdmF0ZSBwZW5kaW5nUmVuZGVyUmVxdWVzdCA9IGZhbHNlO1xuXG5cdC8vIFx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVxuXHRwcml2YXRlIHNlbGVjdGVkTm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4gfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBob3ZlcmVkTm9kZTogZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4gfCBudWxsID0gbnVsbDtcblxuXHQvLyBcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcdUZGMDhcdTUxNzFcdTRFQUJcdTdFRDlcdTYyNDBcdTY3MDlcdTZBMjFcdTU3NTdcdUZGMDlcblx0cHJpdmF0ZSBlZGl0aW5nU3RhdGU6IEVkaXRpbmdTdGF0ZSA9IHtcblx0XHRpc0VkaXRpbmc6IGZhbHNlLFxuXHRcdGN1cnJlbnROb2RlOiBudWxsLFxuXHRcdG9yaWdpbmFsVGV4dDogJycsXG5cdFx0ZWRpdEVsZW1lbnQ6IG51bGxcblx0fTtcblxuXHQvLyBcdTc1M0JcdTVFMDNcdTRFQTRcdTRFOTJcdTcyQjZcdTYwMDFcblx0cHJpdmF0ZSBjYW52YXNJbnRlcmFjdGlvbkVuYWJsZWQgPSB0cnVlO1xuXG5cdC8vIFx1NUUwM1x1NUM0MFx1OTE0RFx1N0Y2RVx1N0NGQlx1N0VERlxuXHRwcml2YXRlIGxheW91dENvbmZpZyA9IHtcblx0XHRtaW5Ob2RlR2FwOiAyNSxcblx0XHRsaW5lT2Zmc2V0OiA2LFxuXHRcdGhvcml6b250YWxTcGFjaW5nOiAxNzAsXG5cdFx0dmVydGljYWxTcGFjaW5nOiAxMTAsXG5cdFx0bWluVmVydGljYWxHYXA6IDI1LFxuXHRcdHRyZWVIZWlnaHQ6IDgwMCxcblx0XHR0cmVlV2lkdGg6IDEyMDAsXG5cdFx0bm9kZUhlaWdodEJ1ZmZlcjogMTUsXG5cdH07XG5cblx0Ly8gXHU5MTREXHU3RjZFXHU1NDhDXHU2RDg4XHU2MDZGXG5cdHByaXZhdGUgY29uZmlnOiBNaW5kTWFwQ29uZmlnO1xuXHRwcml2YXRlIG1lc3NhZ2VzOiBNaW5kTWFwTWVzc2FnZXM7XG5cblx0Ly8gXHU1NkRFXHU4QzAzXG5cdG9uRGF0YVVwZGF0ZWQ/OiAoKSA9PiB2b2lkO1xuXHRvblRleHRDaGFuZ2VkPzogKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8ZDMuSGllcmFyY2h5Tm9kZTxNaW5kTWFwTm9kZT4+LCBuZXdUZXh0OiBzdHJpbmcpID0+IHZvaWQ7XG5cdG9uRGF0YVJlc3RvcmVkPzogKGRhdGE6IE1pbmRNYXBEYXRhKSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgbWluZE1hcFNlcnZpY2U6IE1pbmRNYXBTZXJ2aWNlLFxuXHRcdGNvbmZpZz86IE1pbmRNYXBDb25maWcsXG5cdFx0bWVzc2FnZXM/OiBNaW5kTWFwTWVzc2FnZXMsXG5cdFx0cHJpdmF0ZSBpc0FjdGl2ZVZpZXc/OiAoKSA9PiBib29sZWFuXG5cdCkge1xuXHRcdHRoaXMuY29uZmlnID0gY29uZmlnIHx8IHsgaXNNb2JpbGU6IGZhbHNlIH0gYXMgTWluZE1hcENvbmZpZztcblx0XHR0aGlzLm1lc3NhZ2VzID0gbWVzc2FnZXMgfHwge30gYXMgTWluZE1hcE1lc3NhZ2VzO1xuXG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU4QjY2XHU1NDRBXHVGRjFBXHU1OTgyXHU2NzlDIG1lc3NhZ2VzIFx1NEUzQVx1N0E3QVx1RkYwQ1x1NjNEMFx1NzkzQVx1N0YzQVx1NUMxMVx1NTZGRFx1OTY0NVx1NTMxNlx1NjUyRlx1NjMwMVxuXHRcdGlmICghbWVzc2FnZXMpIHtcblx0XHRcdC8vIE1lc3NhZ2VzIHdpbGwgdXNlIGRlZmF1bHQgRW5nbGlzaCBmYWxsYmFja1xuXHRcdH1cblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNiBVbmRvTWFuYWdlclxuXHRcdHRoaXMudW5kb01hbmFnZXIgPSBuZXcgVW5kb01hbmFnZXIoKTtcblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjgzOFx1NUZDM1x1NkUzMlx1NjdEM1x1NTY2OFxuXHRcdHRoaXMuaW5pdGlhbGl6ZUNvcmVSZW5kZXJlcnMoKTtcblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NTI5Rlx1ODBGRFx1NkEyMVx1NTc1N1xuXHRcdHRoaXMuaW5pdGlhbGl6ZUZlYXR1cmVNb2R1bGVzKCk7XG5cdH1cblxuXHQvLyA9PT09PT09PT09IFx1NTIxRFx1NTlDQlx1NTMxNiA9PT09PT09PT09XG5cblx0cHJpdmF0ZSBpbml0aWFsaXplQ29yZVJlbmRlcmVycygpOiB2b2lkIHtcblx0XHR0aGlzLnRleHRNZWFzdXJlciA9IG5ldyBUZXh0TWVhc3VyZXIoKTtcblx0XHR0aGlzLmxheW91dENhbGN1bGF0b3IgPSBuZXcgTGF5b3V0Q2FsY3VsYXRvcigpO1xuXHRcdHRoaXMubm9kZVJlbmRlcmVyID0gbmV3IE5vZGVSZW5kZXJlcih0aGlzLnRleHRNZWFzdXJlciwgdGhpcy5sYXlvdXRDYWxjdWxhdG9yKTtcblx0XHR0aGlzLmxpbmtSZW5kZXJlciA9IG5ldyBMaW5rUmVuZGVyZXIodGhpcy50ZXh0TWVhc3VyZXIsIHsgbGluZU9mZnNldDogdGhpcy5sYXlvdXRDb25maWcubGluZU9mZnNldCB9KTtcblx0XHR0aGlzLnRleHRSZW5kZXJlciA9IG5ldyBUZXh0UmVuZGVyZXIodGhpcy50ZXh0TWVhc3VyZXIsIHRoaXMuY29uZmlnLCB0aGlzLmVkaXRpbmdTdGF0ZSk7XG5cdH1cblxuXHRwcml2YXRlIGluaXRpYWxpemVGZWF0dXJlTW9kdWxlcygpOiB2b2lkIHtcblx0XHQvLyAxLiBcdTRFQTRcdTRFOTJcdTdCQTFcdTc0MDZcdTU2NjhcdUZGMDhcdTUzNEZcdThDMDNcdTUxNzZcdTRFRDZcdTYyNDBcdTY3MDlcdTZBMjFcdTU3NTdcdUZGMDlcblx0XHRjb25zdCByZW5kZXJDYWxsYmFja3M6IFJlbmRlckNhbGxiYWNrcyA9IHtcblx0XHRcdG9uTm9kZVNlbGVjdGVkOiAobm9kZSkgPT4gdGhpcy5oYW5kbGVOb2RlU2VsZWN0ZWQobm9kZSksXG5cdFx0XHRvbk5vZGVIb3ZlcmVkOiAobm9kZSkgPT4gdGhpcy5oYW5kbGVOb2RlSG92ZXJlZChub2RlKSxcblx0XHRcdG9uTm9kZUxlZnQ6IChub2RlKSA9PiB0aGlzLmhhbmRsZU5vZGVMZWZ0KG5vZGUpLFxuXHRcdFx0b25TZWxlY3Rpb25DbGVhcmVkOiAoKSA9PiB0aGlzLmhhbmRsZVNlbGVjdGlvbkNsZWFyZWQoKSxcblx0XHRcdG9uTm9kZURvdWJsZUNsaWNrZWQ6IChub2RlLCBldmVudCkgPT4gdGhpcy5oYW5kbGVOb2RlRG91YmxlQ2xpY2tlZChub2RlLCBldmVudCksXG5cdFx0XHRvbkFkZENoaWxkTm9kZTogKG5vZGUpID0+IHRoaXMuaGFuZGxlQWRkQ2hpbGROb2RlKG5vZGUpLFxuXHRcdFx0b25BZGRTaWJsaW5nTm9kZTogKG5vZGUpID0+IHRoaXMuaGFuZGxlQWRkU2libGluZ05vZGUobm9kZSksXG5cdFx0XHRvbkRlbGV0ZU5vZGU6IChub2RlKSA9PiB0aGlzLmhhbmRsZURlbGV0ZU5vZGUobm9kZSksXG5cdFx0XHRvbkNvcHlOb2RlOiAobm9kZSkgPT4gdGhpcy5oYW5kbGVDb3B5Tm9kZShub2RlKSxcblx0XHRcdG9uQ3V0Tm9kZTogKG5vZGUpID0+IHRoaXMuaGFuZGxlQ3V0Tm9kZShub2RlKSxcblx0XHRcdG9uUGFzdGVUb05vZGU6IChub2RlKSA9PiB0aGlzLmhhbmRsZVBhc3RlVG9Ob2RlKG5vZGUpLFxuXHRcdFx0b25FeGl0RWRpdE1vZGU6ICgpID0+IHRoaXMuaGFuZGxlRXhpdEVkaXRNb2RlKCksXG5cdFx0XHRvblVuZG86ICgpID0+IHRoaXMudW5kbygpLFxuXHRcdFx0b25SZWRvOiAoKSA9PiB0aGlzLnJlZG8oKVxuXHRcdH07XG5cblx0XHR0aGlzLmludGVyYWN0aW9uTWFuYWdlciA9IG5ldyBJbnRlcmFjdGlvbk1hbmFnZXIodGhpcy5jb25maWcsIHJlbmRlckNhbGxiYWNrcywgdGhpcy5pc0FjdGl2ZVZpZXcpO1xuXG5cdFx0Ly8gMi4gQUkgQXNzaXN0YW50XG5cdFx0Y29uc3QgYWlDYWxsYmFja3M6IEFJQXNzaXN0YW50Q2FsbGJhY2tzID0ge1xuXHRcdFx0b25Ob2RlQ3JlYXRlZDogKCkgPT4gdGhpcy50cmlnZ2VyRGF0YVVwZGF0ZSgpXG5cdFx0fTtcblx0XHR0aGlzLmFpQXNzaXN0YW50ID0gbmV3IEFJQXNzaXN0YW50KHRoaXMubWluZE1hcFNlcnZpY2UsIHRoaXMubWVzc2FnZXMsIGFpQ2FsbGJhY2tzKTtcblxuXHRcdC8vIDMuIE5vZGUgRWRpdG9yXG5cdFx0Y29uc3QgZWRpdG9yQ2FsbGJhY2tzOiBOb2RlRWRpdG9yQ2FsbGJhY2tzID0ge1xuXHRcdFx0b25CZWZvcmVUZXh0Q2hhbmdlOiAobm9kZSkgPT4ge1xuXHRcdFx0XHQvLyBcdTRGRERcdTVCNThcdTVGRUJcdTcxNjdcdUZGMDhcdTU3MjhcdTRGRUVcdTY1MzlcdTUyNERcdUZGMDlcblx0XHRcdFx0aWYgKHRoaXMuY3VycmVudERhdGEpIHtcblx0XHRcdFx0XHR0aGlzLnVuZG9NYW5hZ2VyLnNhdmVTbmFwc2hvdCh0aGlzLmN1cnJlbnREYXRhKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdG9uVGV4dENoYW5nZWQ6IChub2RlLCBuZXdUZXh0KSA9PiB7XG5cdFx0XHRcdHRoaXMub25UZXh0Q2hhbmdlZD8uKG5vZGUsIG5ld1RleHQpO1xuXHRcdFx0fSxcblx0XHRcdG9uQ2FudmFzSW50ZXJhY3Rpb25DaGFuZ2VkOiAoZW5hYmxlZCkgPT4ge1xuXHRcdFx0XHR0aGlzLmNhbnZhc0ludGVyYWN0aW9uRW5hYmxlZCA9IGVuYWJsZWQ7XG5cdFx0XHRcdC8vIFx1NTQwQ1x1NkI2NVx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVx1NTIzMCBJbnRlcmFjdGlvbk1hbmFnZXJcblx0XHRcdFx0dGhpcy5pbnRlcmFjdGlvbk1hbmFnZXIuc3luY0VkaXRpbmdTdGF0ZSghZW5hYmxlZCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHR0aGlzLm5vZGVFZGl0b3IgPSBuZXcgTm9kZUVkaXRvcih0aGlzLmNvbmZpZywgdGhpcy5tZXNzYWdlcywgZWRpdG9yQ2FsbGJhY2tzLCB0aGlzLmVkaXRpbmdTdGF0ZSk7XG5cblx0XHQvLyA0LiBDbGlwYm9hcmQgTWFuYWdlclxuXHRcdGNvbnN0IGNsaXBib2FyZENhbGxiYWNrczogQ2xpcGJvYXJkTWFuYWdlckNhbGxiYWNrcyA9IHtcblx0XHRcdG9uRGF0YVVwZGF0ZWQ6ICgpID0+IHRoaXMudHJpZ2dlckRhdGFVcGRhdGUoKSxcblx0XHRcdGNsZWFyU2VsZWN0aW9uOiAoKSA9PiB0aGlzLmNsZWFyU2VsZWN0aW9uKClcblx0XHR9O1xuXHRcdHRoaXMuY2xpcGJvYXJkTWFuYWdlciA9IG5ldyBDbGlwYm9hcmRNYW5hZ2VyKHRoaXMubWluZE1hcFNlcnZpY2UsIHRoaXMubWVzc2FnZXMsIGNsaXBib2FyZENhbGxiYWNrcyk7XG5cblx0XHQvLyA1LiBCdXR0b24gUmVuZGVyZXJcblx0XHRjb25zdCBidXR0b25DYWxsYmFja3M6IEJ1dHRvblJlbmRlcmVyQ2FsbGJhY2tzID0ge1xuXHRcdFx0b25BZGRDaGlsZE5vZGU6IChub2RlKSA9PiB0aGlzLmhhbmRsZUFkZENoaWxkTm9kZShub2RlKSxcblx0XHRcdGVudGVyRWRpdE1vZGU6IChub2RlKSA9PiB0aGlzLmVudGVyRWRpdE1vZGVGb3JOb2RlKG5vZGUpLFxuXHRcdFx0Y2xlYXJTZWxlY3Rpb246ICgpID0+IHRoaXMuY2xlYXJTZWxlY3Rpb24oKSxcblx0XHRcdHNlbGVjdE5vZGU6IChub2RlKSA9PiB0aGlzLnNlbGVjdE5vZGUobm9kZSksXG5cdFx0XHRvbkRhdGFVcGRhdGVkOiAoKSA9PiB0aGlzLnRyaWdnZXJEYXRhVXBkYXRlKClcblx0XHR9O1xuXHRcdHRoaXMuYnV0dG9uUmVuZGVyZXIgPSBuZXcgQnV0dG9uUmVuZGVyZXIoXG5cdFx0XHR0aGlzLm1pbmRNYXBTZXJ2aWNlLFxuXHRcdFx0dGhpcy50ZXh0TWVhc3VyZXIsXG5cdFx0XHRidXR0b25DYWxsYmFja3Ncblx0XHQpO1xuXG5cdFx0Ly8gNi4gTW9iaWxlIFRvb2xiYXJcdUZGMDhcdTRFQzVcdTc5RkJcdTUyQThcdTdBRUZcdUZGMDlcblx0XHRpZiAodGhpcy5jb25maWcuaXNNb2JpbGUpIHtcblx0XHRcdGNvbnN0IHRvb2xiYXJDYWxsYmFja3M6IE1vYmlsZVRvb2xiYXJDYWxsYmFja3MgPSB7XG5cdFx0XHRcdG9uRWRpdDogKG5vZGUpID0+IHRoaXMuZW50ZXJFZGl0TW9kZUZvck5vZGUobm9kZSksXG5cdFx0XHRcdG9uQ29weTogYXN5bmMgKG5vZGUpID0+IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmNsaXBib2FyZE1hbmFnZXIuY29weU5vZGUobm9kZSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9uUGFzdGU6IGFzeW5jIChub2RlKSA9PiB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5jbGlwYm9hcmRNYW5hZ2VyLnBhc3RlVG9Ob2RlKG5vZGUpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRvbkRlbGV0ZTogKG5vZGUpID0+IHRoaXMuaGFuZGxlRGVsZXRlTm9kZShub2RlKVxuXHRcdFx0fTtcblx0XHRcdHRoaXMubW9iaWxlVG9vbGJhciA9IG5ldyBNb2JpbGVUb29sYmFyKFxuXHRcdFx0XHR0aGlzLnRleHRNZWFzdXJlcixcblx0XHRcdFx0dGhpcy5tZXNzYWdlcyxcblx0XHRcdFx0dG9vbGJhckNhbGxiYWNrc1xuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHQvLyA9PT09PT09PT09IE1pbmRNYXBSZW5kZXJlciBcdTYzQTVcdTUzRTNcdTVCOUVcdTczQjAgPT09PT09PT09PVxuXG5cdHJlbmRlcihjb250YWluZXI6IEVsZW1lbnQsIGRhdGE6IE1pbmRNYXBEYXRhKTogdm9pZCB7XG5cdFx0Ly8gXHU2RTMyXHU2N0QzXHU5NTAxXHU2NzNBXHU1MjM2XG5cdFx0aWYgKHRoaXMuaXNSZW5kZXJpbmcpIHtcblx0XHRcdHRoaXMucGVuZGluZ1JlbmRlclJlcXVlc3QgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLmlzUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRcdC8vIFx1NEZERFx1NUI1OFx1NUY1M1x1NTI0RFx1NjU3MFx1NjM2RVx1NUYxNVx1NzUyOFx1RkYwOFx1NzUyOFx1NEU4RSB1bmRvL3JlZG9cdUZGMDlcblx0XHR0aGlzLmN1cnJlbnREYXRhID0gZGF0YTtcblxuXHRcdC8vIFx1OUE4Q1x1OEJDMVx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVx1RkYwOFx1NTcyOFx1NTIxQlx1NUVGQUQzXHU1QzQyXHU2QjIxXHU3RUQzXHU2Nzg0XHU0RTRCXHU1MjREXHVGRjA5XG5cdFx0dGhpcy52YWxpZGF0ZVNlbGVjdGlvblN0YXRlKCk7XG5cblx0XHQvLyBcdTU3MjggdHJ5IFx1NTc1N1x1NTkxNlx1NThGMFx1NjYwRVx1RkYwQ1x1NEVFNVx1NEZCRiBmaW5hbGx5IFx1NTc1N1x1NTNFRlx1NEVFNVx1OEJCRlx1OTVFRVxuXHRcdGxldCByb290OiBkMy5IaWVyYXJjaHlOb2RlPGFueT47XG5cblx0XHR0cnkge1xuXHRcdFx0Ly8gXHU2RTA1XHU3QTdBXHU1QkI5XHU1NjY4IC0gXHU0RjdGXHU3NTI4IEQzIFx1NjVCOVx1NkNENVx1ODAwQ1x1NEUwRFx1NjYyRiBpbm5lckhUTUxcdUZGMENcdTRGRERcdTc1NTlcdTVCRjlcdThDNjFcdTVGMTVcdTc1Mjhcblx0XHRcdGQzLnNlbGVjdChjb250YWluZXIpLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXG5cdFx0XHQvLyBcdTUyMUJcdTVFRkEgU1ZHXG5cdFx0XHRjb25zdCBzdmcgPSBkMy5zZWxlY3QoY29udGFpbmVyKS5hcHBlbmQoJ3N2ZycpXG5cdFx0XHRcdC5hdHRyKCd3aWR0aCcsICcxMDAlJylcblx0XHRcdFx0LmF0dHIoJ2hlaWdodCcsICcxMDAlJylcblx0XHRcdFx0LnN0eWxlKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuXG5cdFx0XHR0aGlzLmN1cnJlbnRTdmcgPSBzdmc7XG5cblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1NTE4NVx1NUJCOVx1N0VDNFxuXHRcdFx0dGhpcy5jdXJyZW50Q29udGVudCA9IHN2Zy5hcHBlbmQoJ2cnKVxuXHRcdFx0XHQuYXR0cignY2xhc3MnLCAnbWluZG1hcC1jb250ZW50Jyk7XG5cblx0XHRcdC8vIFx1OEJBMVx1N0I5N1x1NUUwM1x1NUM0MCAtIFx1NTIxQlx1NUVGQUQzXHU1QzQyXHU2QjIxXHU3RUQzXHU2Nzg0XG5cdFx0XHRyb290ID0gZDMuaGllcmFyY2h5KGRhdGEucm9vdE5vZGUpO1xuXG5cdFx0XHQvLyBcdThCQTFcdTdCOTdcdTUyQThcdTYwMDFcdTY4MTFcdTlBRDhcdTVFQTZcblx0XHRcdGNvbnN0IGR5bmFtaWNUcmVlSGVpZ2h0ID0gdGhpcy5jYWxjdWxhdGVEeW5hbWljVHJlZUhlaWdodChyb290KTtcblxuXHRcdFx0Ly8gXHU2NkY0XHU2NUIwIExheW91dENhbGN1bGF0b3IgXHU3Njg0XHU5MTREXHU3RjZFXG5cdFx0XHR0aGlzLmxheW91dENhbGN1bGF0b3IudXBkYXRlQ29uZmlnKHtcblx0XHRcdFx0dHJlZUhlaWdodDogZHluYW1pY1RyZWVIZWlnaHRcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBcdTVFOTRcdTc1MjhcdTgxRUFcdTVCOUFcdTRFNDlcdTY4MTFcdTVGNjJcdTVFMDNcdTVDNDBcblx0XHRcdHRoaXMubGF5b3V0Q2FsY3VsYXRvci5jcmVhdGVDdXN0b21UcmVlTGF5b3V0KHJvb3QsIChkZXB0aCwgdGV4dCkgPT5cblx0XHRcdFx0dGhpcy50ZXh0TWVhc3VyZXIuZ2V0Tm9kZURpbWVuc2lvbnMoZGVwdGgsIHRleHQpXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBcdTUyMUJcdTVFRkEgU1ZHIFx1NkUxMFx1NTNEOFx1NUI5QVx1NEU0OVxuXHRcdFx0dGhpcy5jcmVhdGVHcmFkaWVudERlZmluaXRpb25zKHN2Zyk7XG5cblx0XHRcdC8vIFx1OEJCRVx1N0Y2RVx1N0YyOVx1NjUzRSAtIFx1NTcyOFx1NkUzMlx1NjdEM1x1ODI4Mlx1NzBCOVx1NEU0Qlx1NTI0RFx1OEJCRVx1N0Y2RVx1RkYwOFx1NTNDMlx1NzE2N1x1OTFDRFx1Njc4NFx1NTI0RFx1NzY4NFx1NUI5RVx1NzNCMFx1RkYwOVxuXHRcdFx0dGhpcy5zZXR1cFpvb20oc3ZnLCBjb250YWluZXIpO1xuXG5cdFx0XHQvLyBcdTdBQ0JcdTUzNzNcdTVFOTRcdTc1MjhcdTVERjJcdTRGRERcdTVCNThcdTc2ODQgem9vbSBcdTcyQjZcdTYwMDFcdUZGMDhcdTk2MzJcdTZCNjJcdTg5QzZcdTg5QzlcdThERjNcdThEQzNcdUZGMDlcblx0XHRcdGlmICh0aGlzLmN1cnJlbnRab29tVHJhbnNmb3JtKSB7XG5cdFx0XHRcdHN2Zy5jYWxsKHRoaXMuY3VycmVudFpvb20udHJhbnNmb3JtLCB0aGlzLmN1cnJlbnRab29tVHJhbnNmb3JtKTtcblx0XHRcdFx0dGhpcy5jdXJyZW50Q29udGVudC5hdHRyKFwidHJhbnNmb3JtXCIsIHRoaXMuY3VycmVudFpvb21UcmFuc2Zvcm0gYXMgYW55KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gXHU1MDRGXHU3OUZCXHU5MUNGXHVGRjA4XHU1QzQ1XHU0RTJEXHU1MDRGXHU3OUZCXHVGRjBDXHU2NjgyXHU2NUY2XHU0RjdGXHU3NTI4MFx1RkYwOVxuXHRcdFx0Y29uc3Qgb2Zmc2V0WCA9IDA7XG5cdFx0XHRjb25zdCBvZmZzZXRZID0gMDtcblxuXHRcdFx0Ly8gXHU2RTMyXHU2N0QzXHU4RkRFXHU3RUJGXG5cdFx0XHR0aGlzLnJlbmRlckxpbmtzKHJvb3QsIG9mZnNldFgsIG9mZnNldFkpO1xuXG5cdFx0XHQvLyBcdTZFMzJcdTY3RDNcdTgyODJcdTcwQjlcblx0XHRcdHRoaXMucmVuZGVyTm9kZXMocm9vdCwgb2Zmc2V0WCwgb2Zmc2V0WSk7XG5cblx0XHRcdC8vIFx1NjA2Mlx1NTkwRFx1ODlDNlx1NTZGRVx1NzJCNlx1NjAwMVxuXHRcdFx0dGhpcy5yZXN0b3JlVmlld1N0YXRlKCk7XG5cblx0XHRcdC8vIFx1NUU5NFx1NzUyOFx1NTIxRFx1NTlDQlx1ODlDNlx1NTZGRVx1NEY0RFx1N0Y2RVxuXHRcdFx0dGhpcy5hcHBseUluaXRpYWxWaWV3UG9zaXRpb24ocm9vdCwgc3ZnLCB0aGlzLmN1cnJlbnRab29tLCBjb250YWluZXIpO1xuXG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHRoaXMuaXNSZW5kZXJpbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gXHU1OTA0XHU3NDA2XHU1Rjg1XHU1OTA0XHU3NDA2XHU3Njg0XHU2RTMyXHU2N0QzXHU4QkY3XHU2QzQyXG5cdFx0XHRpZiAodGhpcy5wZW5kaW5nUmVuZGVyUmVxdWVzdCkge1xuXHRcdFx0XHR0aGlzLnBlbmRpbmdSZW5kZXJSZXF1ZXN0ID0gZmFsc2U7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucmVuZGVyKGNvbnRhaW5lciwgZGF0YSk7XG5cdFx0XHRcdH0sIDE2KTsgLy8gXHU3RUE2XHU0RTAwXHU1RTI3XHU3Njg0XHU2NUY2XHU5NUY0XG5cdFx0XHR9XG5cblx0XHRcdC8vIFx1NTQwQ1x1NkI2NVx1ODI4Mlx1NzBCOVx1NUYxNVx1NzUyOFxuXHRcdFx0dGhpcy5zeW5jU2VsZWN0ZWROb2RlUmVmZXJlbmNlKHJvb3QpO1xuXG5cdFx0XHQvLyBcdUQ4M0RcdUREMjcgXHU3OUZCXHU1MkE4XHU3QUVGXHVGRjFBXHU5MUNEXHU2NUIwXHU1MjFCXHU1RUZBXHU1REU1XHU1MTc3XHU2ODBGXHVGRjA4XHU3ODZFXHU0RkREXHU1REU1XHU1MTc3XHU2ODBGXHU1OUNCXHU3RUM4XHU1QjU4XHU1NzI4XHU0RTE0XHU1NTJGXHU0RTAwXHVGRjA5XG5cdFx0XHRpZiAodGhpcy5jb25maWcuaXNNb2JpbGUgJiYgdGhpcy5tb2JpbGVUb29sYmFyKSB7XG5cdFx0XHRcdHRoaXMubW9iaWxlVG9vbGJhci5jcmVhdGUodGhpcy5jdXJyZW50U3ZnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gXHU2MDYyXHU1OTBEIFVJIFx1NzJCNlx1NjAwMVx1RkYwOFx1NTk4Mlx1Njc5Q1x1NjcwOVx1OTAwOVx1NEUyRFx1ODI4Mlx1NzBCOVx1RkYwQ1x1NEYxQVx1NjYzRVx1NzkzQVx1NURFNVx1NTE3N1x1NjgwRlx1RkYwOVxuXHRcdFx0dGhpcy5yZXN0b3JlU2VsZWN0aW9uVUkoKTtcblx0XHR9XG5cdH1cblxuXHRkZXN0cm95KCk6IHZvaWQge1xuXHRcdC8vIFx1OTUwMFx1NkJDMVx1NjI0MFx1NjcwOVx1NkEyMVx1NTc1N1xuXHRcdHRoaXMubW9iaWxlVG9vbGJhcj8uZGVzdHJveSgpO1xuXHRcdHRoaXMuYnV0dG9uUmVuZGVyZXIuZGVzdHJveSgpO1xuXHRcdHRoaXMuY2xpcGJvYXJkTWFuYWdlci5kZXN0cm95KCk7XG5cdFx0dGhpcy5ub2RlRWRpdG9yLmRlc3Ryb3koKTtcblx0XHR0aGlzLmFpQXNzaXN0YW50LmRlc3Ryb3koKTtcblx0XHR0aGlzLmludGVyYWN0aW9uTWFuYWdlci5kZXN0cm95KCk7XG5cblx0XHQvLyBcdTZFMDVcdTc0MDYgU1ZHXG5cdFx0aWYgKHRoaXMuY3VycmVudFN2Zykge1xuXHRcdFx0dGhpcy5jdXJyZW50U3ZnLnNlbGVjdEFsbCgnKicpLnJlbW92ZSgpO1xuXHRcdFx0dGhpcy5jdXJyZW50U3ZnID0gbnVsbDtcblx0XHR9XG5cdFx0dGhpcy5jdXJyZW50Q29udGVudCA9IG51bGw7XG5cdH1cblxuXHQvLyA9PT09PT09PT09IFx1NTE2Q1x1NTE3MVx1NjVCOVx1NkNENVx1RkYwOFx1NTE3Q1x1NUJCOVx1NjAyN1x1NjNBNVx1NTNFM1x1RkYwOT09PT09PT09PT1cblxuXHQvKipcblx0ICogXHU0RkREXHU1QjU4XHU1RjUzXHU1MjREXHU4OUM2XHU1NkZFXHU3MkI2XHU2MDAxXG5cdCAqIFx1NkNFOFx1NjEwRlx1RkYxQVx1NkI2NFx1NjVCOVx1NkNENVx1NEZERFx1NzU1OVx1NzUyOFx1NEU4RVx1NTE3Q1x1NUJCOVx1NjAyN1x1RkYwQ1x1NUI5RVx1OTY0NVx1NEUwQVx1ODlDNlx1NTZGRVx1NzJCNlx1NjAwMVx1NTcyOCByZW5kZXIoKSBcdTRFMkRcdTgxRUFcdTUyQThcdTRGRERcdTVCNThcblx0ICovXG5cdHB1YmxpYyBzYXZlVmlld1N0YXRlKCk6IHZvaWQge1xuXHRcdC8vIFZpZXcgc3RhdGUgaXMgYXV0b21hdGljYWxseSBzYXZlZCBpbnRlcm5hbGx5IGR1cmluZyByZW5kZXIoKVxuXHRcdC8vIFRoaXMgbWV0aG9kIGlzIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcblx0XHRpZiAodGhpcy5jdXJyZW50U3ZnICYmIHRoaXMuY3VycmVudFpvb20pIHtcblx0XHRcdGNvbnN0IHN2Z05vZGUgPSB0aGlzLmN1cnJlbnRTdmcubm9kZSgpO1xuXHRcdFx0aWYgKHN2Z05vZGUpIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50Wm9vbVRyYW5zZm9ybSA9IGQzLnpvb21UcmFuc2Zvcm0oc3ZnTm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1OTAwMFx1NTFGQVx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlxuXHQgKiBcdTZDRThcdTYxMEZcdUZGMUFcdTZCNjRcdTY1QjlcdTZDRDVcdTRGRERcdTc1NTlcdTc1MjhcdTRFOEVcdTUxN0NcdTVCQjlcdTYwMjdcdUZGMENcdTVCOUVcdTk2NDVcdTRFMEFcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcdTc1MzEgTm9kZUVkaXRvciBcdTdCQTFcdTc0MDZcblx0ICovXG5cdHB1YmxpYyBleGl0RWRpdE1vZGUoKTogdm9pZCB7XG5cdFx0Ly8gRWRpdCBzdGF0ZSBpcyBhdXRvbWF0aWNhbGx5IG1hbmFnZWQgYnkgTm9kZUVkaXRvclxuXHRcdC8vIFRoaXMgbWV0aG9kIGlzIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcblx0XHRpZiAodGhpcy5ub2RlRWRpdG9yLmlzRWRpdGluZygpKSB7XG5cdFx0XHR0aGlzLm5vZGVFZGl0b3IuZXhpdEVkaXRNb2RlKCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1NEZERFx1NUI1OFx1ODI4Mlx1NzBCOVx1NjU4N1x1NjcyQ1xuXHQgKiBcdTRGOUIgVGV4dFJlbmRlcmVyIFx1NzY4NFx1OTUyRVx1NzZEOFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1NTY2OFx1OEMwM1x1NzUyOFxuXHQgKiBcdTU3MjhcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdTRFMEJcdTYzMDkgRW50ZXIgXHU5NTJFXHU2NUY2XHU4OUU2XHU1M0QxXG5cdCAqL1xuXHRwdWJsaWMgc2F2ZU5vZGVUZXh0KCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLm5vZGVFZGl0b3IuaXNFZGl0aW5nKCkpIHtcblx0XHRcdHRoaXMubm9kZUVkaXRvci5zYXZlVGV4dCgpO1xuXHRcdH1cblx0XHQvLyBlbHNlOiBOb3QgaW4gZWRpdGluZyBtb2RlLCBub3RoaW5nIHRvIHNhdmVcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTUzRDZcdTZEODhcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcblx0ICogXHU0RjlCIFRleHRSZW5kZXJlciBcdTc2ODRcdTk1MkVcdTc2RDhcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcdTU2NjhcdThDMDNcdTc1Mjhcblx0ICogXHU1NzI4XHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXHU0RTBCXHU2MzA5IEVzY2FwZSBcdTk1MkVcdTY1RjZcdTg5RTZcdTUzRDFcblx0ICovXG5cdHB1YmxpYyBjYW5jZWxFZGl0TW9kZSgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5ub2RlRWRpdG9yLmlzRWRpdGluZygpKSB7XG5cdFx0XHR0aGlzLm5vZGVFZGl0b3IuY2FuY2VsRWRpdCgpO1xuXHRcdH1cblx0fVxuXG5cdC8vID09PT09PT09PT0gXHU3OUMxXHU2NzA5XHU2RTMyXHU2N0QzXHU2NUI5XHU2Q0Q1ID09PT09PT09PT1cblxuXHRwcml2YXRlIHJlbmRlckxpbmtzKHJvb3Q6IGQzLkhpZXJhcmNoeU5vZGU8YW55Piwgb2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpOiB2b2lkIHtcblx0XHQvLyBcdTRGN0ZcdTc1MjggTGlua1JlbmRlcmVyIFx1NkUzMlx1NjdEM1x1OEZERVx1N0VCRlxuXHRcdHRoaXMubGlua1JlbmRlcmVyLnJlbmRlckxpbmtzKHRoaXMuY3VycmVudENvbnRlbnQsIHJvb3QubGlua3MoKSwgb2Zmc2V0WCwgb2Zmc2V0WSk7XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlck5vZGVzKHJvb3Q6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcik6IHZvaWQge1xuXHRcdC8vIFx1NEY3Rlx1NzUyOCBOb2RlUmVuZGVyZXIgXHU2RTMyXHU2N0QzXHU4MjgyXHU3MEI5XHU3N0U5XHU1RjYyXG5cdFx0Y29uc3Qgbm9kZUVsZW1lbnRzID0gdGhpcy5ub2RlUmVuZGVyZXIucmVuZGVyTm9kZXModGhpcy5jdXJyZW50Q29udGVudCwgcm9vdC5kZXNjZW5kYW50cygpLCBvZmZzZXRYLCBvZmZzZXRZKTtcblxuXHRcdC8vIFx1NEY3Rlx1NzUyOCBUZXh0UmVuZGVyZXIgXHU2RTMyXHU2N0QzXHU2NTg3XHU2NzJDXHVGRjA4XHU2Mjc5XHU5MUNGXHU1OTA0XHU3NDA2XHU2MjQwXHU2NzA5XHU4MjgyXHU3MEI5XHVGRjA5XG5cdFx0dGhpcy50ZXh0UmVuZGVyZXIucmVuZGVyVGV4dChub2RlRWxlbWVudHMsIHVuZGVmaW5lZCwgdGhpcyBhcyB1bmtub3duIGFzIHsgY29uZmlnPzogTWluZE1hcENvbmZpZzsgZWRpdGluZ1N0YXRlPzogRWRpdGluZ1N0YXRlIH0pO1xuXG5cdFx0Ly8gXHU5NjQ0XHU1MkEwXHU0RUE0XHU0RTkyXHU1OTA0XHU3NDA2XHU1NjY4XG5cdFx0dGhpcy5hdHRhY2hJbnRlcmFjdGlvbkhhbmRsZXJzKG5vZGVFbGVtZW50cyBhcyBkMy5TZWxlY3Rpb248U1ZHR0VsZW1lbnQsIGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBudWxsLCB1bmRlZmluZWQ+KTtcblx0fVxuXG5cdHByaXZhdGUgc2V0dXBab29tKHN2ZzogZDMuU2VsZWN0aW9uPFNWR1NWR0VsZW1lbnQsIHVua25vd24sIG51bGwsIHVuZGVmaW5lZD4sIGNvbnRhaW5lcjogRWxlbWVudCk6IHZvaWQge1xuXHRcdHRoaXMuY3VycmVudFpvb20gPSBkMy56b29tPFNWR1NWR0VsZW1lbnQsIHVua25vd24+KClcblx0XHRcdC5zY2FsZUV4dGVudChbMC4xLCA0XSlcblx0XHRcdC5maWx0ZXIoKGV2ZW50OiBFdmVudCkgPT4ge1xuXHRcdFx0XHQvLyBcdTY4QzBcdTY3RTVcdTc1M0JcdTVFMDNcdTRFQTRcdTRFOTJcdTY2MkZcdTU0MjZcdTU0MkZcdTc1MjhcdUZGMDhcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdTRFMEJcdTRFM0EgZmFsc2VcdUZGMDlcblx0XHRcdFx0aWYgKCF0aGlzLmNhbnZhc0ludGVyYWN0aW9uRW5hYmxlZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NEU4Qlx1NEVGNlx1NzZFRVx1NjgwN1x1NjYyRlx1NTQyNlx1NEUzQVx1NTNFRlx1N0YxNlx1OEY5MVx1NTE0M1x1N0QyMFxuXHRcdFx0XHRjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHRcdGlmICh0YXJnZXQuY29udGVudEVkaXRhYmxlID09PSBcInRydWVcIiB8fCB0YXJnZXQuY2xvc2VzdCgnW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlOyAvLyBcdTUxNDFcdThCQjhcdTZCNjNcdTVFMzhcdTc2ODRcdTdGMjlcdTY1M0VcdTg4NENcdTRFM0Fcblx0XHRcdH0pXG5cdFx0XHQub24oJ3pvb20nLCAoZXZlbnQpID0+IHtcblx0XHRcdFx0dGhpcy5oYW5kbGVab29tKGV2ZW50KTtcblx0XHRcdH0pO1xuXG5cdFx0c3ZnLmNhbGwodGhpcy5jdXJyZW50Wm9vbSk7XG5cblx0XHQvLyBcdTc5RkJcdTk2NjQgRDMgem9vbSBcdTc2ODRcdTUzQ0NcdTUxRkJcdTdGMjlcdTY1M0VcdTc2RDFcdTU0MkNcdTU2NjhcdUZGMDhcdTk2MzJcdTZCNjJcdTUzQ0NcdTUxRkJcdTgyODJcdTcwQjlcdTY1RjZcdTg5RTZcdTUzRDFcdTdGMjlcdTY1M0VcdUZGMDlcblx0XHRzdmcub24oXCJkYmxjbGljay56b29tXCIsIG51bGwpO1xuXHR9XG5cblx0cHJpdmF0ZSBhcHBseUluaXRpYWxWaWV3UG9zaXRpb24oXG5cdFx0cm9vdDogZDMuSGllcmFyY2h5Tm9kZTxhbnk+LFxuXHRcdHN2ZzogZDMuU2VsZWN0aW9uPFNWR1NWR0VsZW1lbnQsIHVua25vd24sIG51bGwsIHVuZGVmaW5lZD4sXG5cdFx0em9vbTogZDMuWm9vbUJlaGF2aW9yPGFueSwgdW5rbm93bj4sXG5cdFx0Y29udGFpbmVyOiBFbGVtZW50XG5cdCk6IHZvaWQge1xuXHRcdC8vIFx1RDgzRFx1REQxMSBcdTUxNzNcdTk1MkVcdTRGRUVcdTU5MERcdUZGMUFcdTUzRUFcdTU3MjhcdTk5OTZcdTZCMjFcdTZFMzJcdTY3RDNcdTY1RjZcdTVFOTRcdTc1MjhcdTUyMURcdTU5Q0JcdTRGNERcdTdGNkVcblx0XHQvLyBcdTU5ODJcdTY3OUNcdTVERjJcdTdFQ0ZcdTY3MDlcdTRGRERcdTVCNThcdTc2ODQgem9vbVRyYW5zZm9ybVx1RkYwQ1x1OEJGNFx1NjYwRVx1NEUwRFx1NjYyRlx1OTk5Nlx1NkIyMVx1NkUzMlx1NjdEM1x1RkYwQ1x1NEUwRFx1NUU5NFx1OEJFNVx1OTFDRFx1NjVCMFx1NUU5NFx1NzUyOFx1NTIxRFx1NTlDQlx1NEY0RFx1N0Y2RVxuXHRcdGlmICh0aGlzLmN1cnJlbnRab29tVHJhbnNmb3JtKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gXHU3QjgwXHU1MzE2XHU3MjQ4XHU1MjFEXHU1OUNCXHU0RjREXHU3RjZFXHVGRjA4XHU1M0VGXHU0RUU1XHU1NDBFXHU3RUVEXHU0RjE4XHU1MzE2XHVGRjA5XG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0XHRcdGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQgfHwgMTAwMDtcblxuXHRcdFx0Y29uc3QgaW5pdGlhbFRyYW5zZm9ybSA9IGQzLnpvb21JZGVudGl0eVxuXHRcdFx0XHQudHJhbnNsYXRlKDIwLCAoY29udGFpbmVySGVpZ2h0IC0gMTAwKSAvIDIpXG5cdFx0XHRcdC5zY2FsZSgxKTtcblxuXHRcdFx0c3ZnLmNhbGwoem9vbS50cmFuc2Zvcm0sIGluaXRpYWxUcmFuc2Zvcm0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhdHRhY2hJbnRlcmFjdGlvbkhhbmRsZXJzKFxuXHRcdG5vZGVFbGVtZW50czogZDMuU2VsZWN0aW9uPFNWR0dFbGVtZW50LCBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgbnVsbCwgdW5kZWZpbmVkPlxuXHQpOiB2b2lkIHtcblx0XHQvLyBcdTRGN0ZcdTc1MjggSW50ZXJhY3Rpb25NYW5hZ2VyIFx1OTY0NFx1NTJBMFx1NTkwNFx1NzQwNlx1NTY2OFxuXHRcdHRoaXMuaW50ZXJhY3Rpb25NYW5hZ2VyLmF0dGFjaEhhbmRsZXJzKHRoaXMuY3VycmVudFN2Zywgbm9kZUVsZW1lbnRzKTtcblxuXHRcdC8vIFx1NzlGQlx1NTJBOFx1N0FFRlx1RkYxQVx1NTIxQlx1NUVGQVx1NURFNVx1NTE3N1x1NjgwRlxuXHRcdGlmICh0aGlzLmNvbmZpZy5pc01vYmlsZSAmJiB0aGlzLm1vYmlsZVRvb2xiYXIpIHtcblx0XHRcdHRoaXMubW9iaWxlVG9vbGJhci5jcmVhdGUodGhpcy5jdXJyZW50U3ZnKTtcblx0XHR9XG5cdH1cblxuXHQvLyA9PT09PT09PT09IFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNiA9PT09PT09PT09XG5cblx0cHJpdmF0ZSBoYW5kbGVab29tKGV2ZW50OiBhbnkpOiB2b2lkIHtcblx0XHQvLyBcdTY2RjRcdTY1QjBcdTUxODVcdTVCQjlcdTdFQzRcdTUzRDhcdTYzNjJcblx0XHRpZiAodGhpcy5jdXJyZW50Q29udGVudCkge1xuXHRcdFx0dGhpcy5jdXJyZW50Q29udGVudC5hdHRyKCd0cmFuc2Zvcm0nLCBldmVudC50cmFuc2Zvcm0pO1xuXHRcdH1cblx0XHR0aGlzLmN1cnJlbnRab29tVHJhbnNmb3JtID0gZXZlbnQudHJhbnNmb3JtO1xuXHR9XG5cblx0Ly8gPT09PT09PT09PSBSZW5kZXJDYWxsYmFja3MgXHU1QjlFXHU3M0IwID09PT09PT09PT1cblxuXHRwcml2YXRlIGhhbmRsZU5vZGVTZWxlY3RlZChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiB2b2lkIHtcblx0XHR0aGlzLnNlbGVjdGVkTm9kZSA9IG5vZGU7XG5cblx0XHQvLyBcdTZFMzJcdTY3RDNcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBub2RlRWxlbWVudCA9IGQzLnNlbGVjdEFsbCgnLm5vZGVzIGcnKS5maWx0ZXIoKGQ6IGFueSkgPT4gZCA9PT0gbm9kZSk7XG5cdFx0Y29uc3QgZGltZW5zaW9ucyA9IHRoaXMudGV4dE1lYXN1cmVyLmdldE5vZGVEaW1lbnNpb25zKG5vZGUuZGVwdGgsIG5vZGUuZGF0YS50ZXh0KTtcblxuXHRcdHRoaXMuYnV0dG9uUmVuZGVyZXIucmVuZGVyUGx1c0J1dHRvbihub2RlRWxlbWVudCBhcyBhbnksIG5vZGUsIGRpbWVuc2lvbnMpO1xuXHRcdHRoaXMuYWlBc3Npc3RhbnQucmVuZGVyQUlCdXR0b24obm9kZUVsZW1lbnQgYXMgYW55LCBub2RlLCBkaW1lbnNpb25zKTtcblxuXHRcdC8vIFx1NzlGQlx1NTJBOFx1N0FFRlx1RkYxQVx1NjYzRVx1NzkzQVx1NURFNVx1NTE3N1x1NjgwRlxuXHRcdGlmICh0aGlzLmNvbmZpZy5pc01vYmlsZSAmJiB0aGlzLm1vYmlsZVRvb2xiYXIgJiYgIXRoaXMubm9kZUVkaXRvci5pc0VkaXRpbmcoKSkge1xuXHRcdFx0dGhpcy5tb2JpbGVUb29sYmFyLnVwZGF0ZVBvc2l0aW9uKG5vZGUsIDAsIDApO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgaGFuZGxlTm9kZUhvdmVyZWQobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxhbnk+KTogdm9pZCB7XG5cdFx0dGhpcy5ob3ZlcmVkTm9kZSA9IG5vZGU7XG5cdH1cblxuXHRwcml2YXRlIGhhbmRsZU5vZGVMZWZ0KG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8YW55Pik6IHZvaWQge1xuXHRcdGlmICh0aGlzLmhvdmVyZWROb2RlID09PSBub2RlKSB7XG5cdFx0XHR0aGlzLmhvdmVyZWROb2RlID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGhhbmRsZVNlbGVjdGlvbkNsZWFyZWQoKTogdm9pZCB7XG5cdFx0dGhpcy5zZWxlY3RlZE5vZGUgPSBudWxsO1xuXG5cdFx0Ly8gXHU3OUZCXHU1MkE4XHU3QUVGXHVGRjFBXHU5NjkwXHU4NUNGXHU1REU1XHU1MTc3XHU2ODBGXG5cdFx0aWYgKHRoaXMuY29uZmlnLmlzTW9iaWxlICYmIHRoaXMubW9iaWxlVG9vbGJhcikge1xuXHRcdFx0dGhpcy5tb2JpbGVUb29sYmFyLmhpZGUoKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGhhbmRsZU5vZGVEb3VibGVDbGlja2VkKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8YW55PiwgZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcblx0XHQvLyBcdTU5RDRcdTYyNThcdTdFRDkgTm9kZUVkaXRvciBcdTU5MDRcdTc0MDZcblx0XHRjb25zdCB0YXJnZXRFbGVtZW50ID0gZDMuc2VsZWN0QWxsKCcubm9kZXMgZycpXG5cdFx0XHQuZmlsdGVyKChkOiBhbnkpID0+IGQgPT09IG5vZGUpXG5cdFx0XHQuc2VsZWN0KCcubm9kZS11bmlmaWVkLXRleHQnKVxuXHRcdFx0Lm5vZGUoKSBhcyBIVE1MRGl2RWxlbWVudDtcblxuXHRcdGlmICh0YXJnZXRFbGVtZW50KSB7XG5cdFx0XHR0aGlzLm5vZGVFZGl0b3IuZW5hYmxlRWRpdGluZyhub2RlLCB0YXJnZXRFbGVtZW50KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGhhbmRsZUFkZENoaWxkTm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiB2b2lkIHtcblx0XHQvLyBcdTRGRERcdTVCNThcdTVGRUJcdTcxNjdcdUZGMDhcdTU3MjhcdTRGRUVcdTY1MzlcdTUyNERcdUZGMDlcblx0XHRpZiAodGhpcy5jdXJyZW50RGF0YSkge1xuXHRcdFx0dGhpcy51bmRvTWFuYWdlci5zYXZlU25hcHNob3QodGhpcy5jdXJyZW50RGF0YSk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU1QjUwXHU4MjgyXHU3MEI5XG5cdFx0Y29uc3QgbmV3Tm9kZSA9IHRoaXMubWluZE1hcFNlcnZpY2UuY3JlYXRlQ2hpbGROb2RlKG5vZGUuZGF0YSwgJ05ldyBOb2RlJyk7XG5cblx0XHQvLyBcdTZFMDVcdTk2NjRcdTYyNDBcdTY3MDlcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcblx0XHR0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG5cblx0XHQvLyBcdTc2RjRcdTYzQTVcdTU3MjhcdTY1NzBcdTYzNkVcdTVDNDJcdThCQkVcdTdGNkVcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcdUZGMDhcdTRFMERcdThDMDNcdTc1MjhzZWxlY3ROb2RlKClcdUZGMDlcblx0XHRuZXdOb2RlLnNlbGVjdGVkID0gdHJ1ZTtcblxuXHRcdC8vIFx1NjZGNFx1NjVCMFx1NTE4NVx1OTBFOFx1NUYxNVx1NzUyOFxuXHRcdHRoaXMuc2VsZWN0ZWROb2RlID0ge1xuXHRcdFx0ZGF0YTogbmV3Tm9kZSxcblx0XHRcdGRlcHRoOiBuZXdOb2RlLmxldmVsLFxuXHRcdFx0cGFyZW50OiBub2RlLFxuXHRcdFx0Y2hpbGRyZW46IFtdXG5cdFx0fSBhcyBkMy5IaWVyYXJjaHlOb2RlPGFueT47XG5cblx0XHR0aGlzLnRyaWdnZXJEYXRhVXBkYXRlKCk7XG5cblx0XHQvLyBcdTgxRUFcdTUyQThcdThGREJcdTUxNjVcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRoaXMuZWRpdE5ld05vZGUoKTtcblx0XHR9LCAxNTApO1xuXHR9XG5cblx0cHJpdmF0ZSBoYW5kbGVBZGRTaWJsaW5nTm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiB2b2lkIHtcblx0XHQvLyBcdTRGRERcdTVCNThcdTVGRUJcdTcxNjdcdUZGMDhcdTU3MjhcdTRGRUVcdTY1MzlcdTUyNERcdUZGMDlcblx0XHRpZiAodGhpcy5jdXJyZW50RGF0YSkge1xuXHRcdFx0dGhpcy51bmRvTWFuYWdlci5zYXZlU25hcHNob3QodGhpcy5jdXJyZW50RGF0YSk7XG5cdFx0fVxuXG5cdFx0Ly8gMS4gXHU0RkREXHU1QjU4XHU3MjM2XHU4MjgyXHU3MEI5XHU1RjE1XHU3NTI4XHVGRjA4XHU1NzI4XHU2RTA1XHU5NjY0XHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXHU0RTRCXHU1MjREXHVGRjA5XG5cdFx0Y29uc3QgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50O1xuXG5cdFx0Ly8gMi4gXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU1MTQ0XHU1RjFGXHU4MjgyXHU3MEI5XG5cdFx0Y29uc3QgbmV3Tm9kZSA9IHRoaXMubWluZE1hcFNlcnZpY2UuY3JlYXRlU2libGluZ05vZGUoXG5cdFx0XHRub2RlLmRhdGEsXG5cdFx0XHRcIk5ldyBOb2RlXCJcblx0XHQpO1xuXG5cdFx0aWYgKCFuZXdOb2RlKSByZXR1cm47XG5cblx0XHQvLyAzLiBcdTZFMDVcdTk2NjRcdTYyNDBcdTY3MDlcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcblx0XHR0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG5cblx0XHQvLyA0LiBcdTkwMDlcdTRFMkRcdTY1QjBcdTUyMUJcdTVFRkFcdTc2ODRcdTUxNDRcdTVGMUZcdTgyODJcdTcwQjlcblx0XHRuZXdOb2RlLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHR0aGlzLnNlbGVjdGVkTm9kZSA9IHtcblx0XHRcdGRhdGE6IG5ld05vZGUsXG5cdFx0XHRkZXB0aDogbmV3Tm9kZS5sZXZlbCxcblx0XHRcdHBhcmVudDogcGFyZW50Tm9kZSxcblx0XHRcdGNoaWxkcmVuOiBbXVxuXHRcdH0gYXMgZDMuSGllcmFyY2h5Tm9kZTxhbnk+O1xuXG5cdFx0Ly8gNS4gXHU4OUU2XHU1M0QxXHU2NTcwXHU2MzZFXHU2NkY0XHU2NUIwXHU1NDhDXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXG5cdFx0dGhpcy50cmlnZ2VyRGF0YVVwZGF0ZSgpO1xuXG5cdFx0Ly8gNi4gXHU4MUVBXHU1MkE4XHU4RkRCXHU1MTY1XHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0aGlzLmVkaXROZXdOb2RlKCk7XG5cdFx0fSwgMTUwKTtcblx0fVxuXG5cdHByaXZhdGUgaGFuZGxlRGVsZXRlTm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiB2b2lkIHtcblx0XHQvLyBcdTRGRERcdTVCNThcdTVGRUJcdTcxNjdcdUZGMDhcdTU3MjhcdTRGRUVcdTY1MzlcdTUyNERcdUZGMDlcblx0XHRpZiAodGhpcy5jdXJyZW50RGF0YSkge1xuXHRcdFx0dGhpcy51bmRvTWFuYWdlci5zYXZlU25hcHNob3QodGhpcy5jdXJyZW50RGF0YSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGVsZXRlU3VjY2VzcyA9IHRoaXMubWluZE1hcFNlcnZpY2UuZGVsZXRlTm9kZShub2RlLmRhdGEpO1xuXHRcdGlmIChkZWxldGVTdWNjZXNzKSB7XG5cdFx0XHR0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG5cdFx0XHR0aGlzLnRyaWdnZXJEYXRhVXBkYXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBoYW5kbGVDb3B5Tm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLmNsaXBib2FyZE1hbmFnZXIuY29weU5vZGUobm9kZSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZUN1dE5vZGUobm9kZTogZDMuSGllcmFyY2h5Tm9kZTxhbnk+KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gXHU0RkREXHU1QjU4XHU1RkVCXHU3MTY3XHVGRjA4XHU1NzI4XHU0RkVFXHU2NTM5XHU1MjREXHVGRjA5XG5cdFx0aWYgKHRoaXMuY3VycmVudERhdGEpIHtcblx0XHRcdHRoaXMudW5kb01hbmFnZXIuc2F2ZVNuYXBzaG90KHRoaXMuY3VycmVudERhdGEpO1xuXHRcdH1cblxuXHRcdGF3YWl0IHRoaXMuY2xpcGJvYXJkTWFuYWdlci5jdXROb2RlKG5vZGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBoYW5kbGVQYXN0ZVRvTm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBcdTRGRERcdTVCNThcdTVGRUJcdTcxNjdcdUZGMDhcdTU3MjhcdTRGRUVcdTY1MzlcdTUyNERcdUZGMDlcblx0XHRpZiAodGhpcy5jdXJyZW50RGF0YSkge1xuXHRcdFx0dGhpcy51bmRvTWFuYWdlci5zYXZlU25hcHNob3QodGhpcy5jdXJyZW50RGF0YSk7XG5cdFx0fVxuXG5cdFx0YXdhaXQgdGhpcy5jbGlwYm9hcmRNYW5hZ2VyLnBhc3RlVG9Ob2RlKG5vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NTkwNFx1NzQwNlx1OTAwMFx1NTFGQVx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlxuXHQgKiBcdTc1MzEgSW50ZXJhY3Rpb25NYW5hZ2VyIFx1NTcyOFx1NzBCOVx1NTFGQlx1N0E3QVx1NzY3RFx1NTkwNFx1NjVGNlx1ODlFNlx1NTNEMVxuXHQgKi9cblx0cHJpdmF0ZSBoYW5kbGVFeGl0RWRpdE1vZGUoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMubm9kZUVkaXRvci5pc0VkaXRpbmcoKSkge1xuXHRcdFx0Ly8gTm9kZUVkaXRvci5zYXZlVGV4dCgpIFx1NEYxQVx1RkYxQVxuXHRcdFx0Ly8gMS4gXHU5QThDXHU4QkMxXHU2NTg3XHU2NzJDXG5cdFx0XHQvLyAyLiBcdTY2RjRcdTY1QjAgbm9kZS5kYXRhLnRleHRcblx0XHRcdC8vIDMuIFx1ODlFNlx1NTNEMSBvblRleHRDaGFuZ2VkIFx1NTZERVx1OEMwM1x1RkYwOFx1NEZERFx1NUI1OFx1NjU4N1x1NEVGNlx1RkYwOVxuXHRcdFx0Ly8gNC4gXHU4QzAzXHU3NTI4IGV4aXRFZGl0TW9kZSgpIFx1NkUwNVx1NzQwNlVJXG5cdFx0XHQvLyA1LiBcdTg5RTZcdTUzRDEgb25DYW52YXNJbnRlcmFjdGlvbkNoYW5nZWQodHJ1ZSkgXHU1NkRFXHU4QzAzXG5cdFx0XHR0aGlzLm5vZGVFZGl0b3Iuc2F2ZVRleHQoKTtcblx0XHR9XG5cdH1cblxuXHQvLyA9PT09PT09PT09IFx1OEY4NVx1NTJBOVx1NjVCOVx1NkNENSA9PT09PT09PT09XG5cblx0cHJpdmF0ZSBlbnRlckVkaXRNb2RlRm9yTm9kZShub2RlOiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiB2b2lkIHtcblx0XHRjb25zdCB0YXJnZXRFbGVtZW50ID0gZDMuc2VsZWN0QWxsKCcubm9kZXMgZycpXG5cdFx0XHQuZmlsdGVyKChkOiBhbnkpID0+IGQuZGF0YSA9PT0gbm9kZS5kYXRhKVxuXHRcdFx0LnNlbGVjdCgnLm5vZGUtdW5pZmllZC10ZXh0Jylcblx0XHRcdC5ub2RlKCkgYXMgSFRNTERpdkVsZW1lbnQ7XG5cblx0XHRpZiAodGFyZ2V0RWxlbWVudCkge1xuXHRcdFx0dGhpcy5ub2RlRWRpdG9yLmVuYWJsZUVkaXRpbmcobm9kZSwgdGFyZ2V0RWxlbWVudCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBzZWxlY3ROb2RlKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8YW55Pik6IHZvaWQge1xuXHRcdC8vIFx1OEJCRVx1N0Y2RVx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVxuXHRcdHRoaXMuc2VsZWN0ZWROb2RlID0gbm9kZTtcblx0XHRub2RlLmRhdGEuc2VsZWN0ZWQgPSB0cnVlO1xuXG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU5MDA5XHU0RTJEXHU4OUM2XHU4OUM5XHU2NTQ4XHU2NzlDXG5cdFx0ZDMuc2VsZWN0QWxsKCcubm9kZS1yZWN0Jylcblx0XHRcdC5maWx0ZXIoKGQ6IGFueSkgPT4gZCA9PT0gbm9kZSlcblx0XHRcdC5jbGFzc2VkKCdzZWxlY3RlZC1yZWN0JywgdHJ1ZSk7XG5cdH1cblxuXHRwcml2YXRlIGNsZWFyU2VsZWN0aW9uKCk6IHZvaWQge1xuXHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVx1RkYwQ1x1NTE0OFx1NEZERFx1NUI1OFx1N0YxNlx1OEY5MVx1NTE4NVx1NUJCOVxuXHRcdGlmICh0aGlzLm5vZGVFZGl0b3IuaXNFZGl0aW5nKCkpIHtcblx0XHRcdHRoaXMubm9kZUVkaXRvci5zYXZlVGV4dCgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFx1OTAxMlx1NUY1Mlx1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1NjU3MFx1NjM2RVx1NUM0Mlx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVxuXHRcdGlmICh0aGlzLmN1cnJlbnREYXRhICYmIHRoaXMuY3VycmVudERhdGEucm9vdE5vZGUpIHtcblx0XHRcdHRoaXMuY2xlYXJBbGxTZWxlY3Rpb25TdGF0ZXModGhpcy5jdXJyZW50RGF0YS5yb290Tm9kZSk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU3OUZCXHU5NjY0XHU2MjQwXHU2NzA5XHU4OUM2XHU4OUM5XHU2NTQ4XHU2NzlDXG5cdFx0ZDMuc2VsZWN0QWxsKCcubm9kZS1yZWN0Jylcblx0XHRcdC5jbGFzc2VkKCdzZWxlY3RlZC1yZWN0JywgZmFsc2UpXG5cdFx0XHQuY2xhc3NlZCgnaG92ZXJlZC1yZWN0JywgZmFsc2UpO1xuXG5cdFx0Ly8gXHU2RTA1XHU5NjY0XHU1MTg1XHU5MEU4XHU3MkI2XHU2MDAxXG5cdFx0dGhpcy5zZWxlY3RlZE5vZGUgPSBudWxsO1xuXHRcdHRoaXMuaG92ZXJlZE5vZGUgPSBudWxsO1xuXG5cdFx0Ly8gXHU3OUZCXHU5NjY0XHU2MjQwXHU2NzA5XHU2MzA5XHU5NEFFXG5cdFx0ZDMuc2VsZWN0QWxsKCcucGx1cy1idXR0b24tZ3JvdXAnKS5yZW1vdmUoKTtcblx0XHRkMy5zZWxlY3RBbGwoJy5haS1zdWdnZXN0LWJ1dHRvbi1ncm91cCcpLnJlbW92ZSgpO1xuXG5cdFx0Ly8gXHU3OUZCXHU1MkE4XHU3QUVGXHVGRjFBXHU5NjkwXHU4NUNGXHU1REU1XHU1MTc3XHU2ODBGXG5cdFx0aWYgKHRoaXMuY29uZmlnLmlzTW9iaWxlICYmIHRoaXMubW9iaWxlVG9vbGJhcikge1xuXHRcdFx0dGhpcy5tb2JpbGVUb29sYmFyLmhpZGUoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogXHU5MDEyXHU1RjUyXHU2RTA1XHU5NjY0XHU2MjQwXHU2NzA5XHU4MjgyXHU3MEI5XHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXG5cdCAqIFx1Nzg2RVx1NEZERFx1NjU3MFx1NjM2RVx1NUM0Mlx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVx1ODhBQlx1NUI4Q1x1NTE2OFx1NkUwNVx1OTY2NFxuXHQgKi9cblx0cHJpdmF0ZSBjbGVhckFsbFNlbGVjdGlvblN0YXRlcyhub2RlOiBNaW5kTWFwTm9kZSk6IHZvaWQge1xuXHRcdG5vZGUuc2VsZWN0ZWQgPSBmYWxzZTtcblx0XHRub2RlLmhvdmVyZWQgPSBmYWxzZTtcblxuXHRcdGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuXHRcdFx0dGhpcy5jbGVhckFsbFNlbGVjdGlvblN0YXRlcyhjaGlsZCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1OUE4Q1x1OEJDMVx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVxuXHQgKiBcdTY4QzBcdTY3RTVcdTVFNzZcdTRGRUVcdTU5MERcdTU5MUFcdTRFMkFcdTgyODJcdTcwQjlcdTg4QUJcdTkwMDlcdTRFMkRcdTc2ODRcdTVGMDJcdTVFMzhcdTYwQzVcdTUxQjVcblx0ICovXG5cdHByaXZhdGUgdmFsaWRhdGVTZWxlY3Rpb25TdGF0ZSgpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuY3VycmVudERhdGEgfHwgIXRoaXMuY3VycmVudERhdGEucm9vdE5vZGUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRsZXQgc2VsZWN0ZWRDb3VudCA9IDA7XG5cdFx0bGV0IGZpcnN0U2VsZWN0ZWQ6IE1pbmRNYXBOb2RlIHwgbnVsbCA9IG51bGw7XG5cblx0XHQvLyBcdTdFREZcdThCQTFcdTkwMDlcdTRFMkRcdTgyODJcdTcwQjlcblx0XHR0aGlzLmN1cnJlbnREYXRhLmFsbE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG5cdFx0XHRpZiAobm9kZS5zZWxlY3RlZCkge1xuXHRcdFx0XHRzZWxlY3RlZENvdW50Kys7XG5cdFx0XHRcdGlmICghZmlyc3RTZWxlY3RlZCkge1xuXHRcdFx0XHRcdGZpcnN0U2VsZWN0ZWQgPSBub2RlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBcdTU5ODJcdTY3OUNcdTUzRDFcdTczQjBcdTU5MUFcdTRFMkFcdTgyODJcdTcwQjlcdTg4QUJcdTkwMDlcdTRFMkRcdUZGMENcdTUzRUFcdTRGRERcdTc1NTlcdTdCMkNcdTRFMDBcdTRFMkFcblx0XHRpZiAoc2VsZWN0ZWRDb3VudCA+IDEpIHtcblx0XHRcdGNvbnNvbGUud2FybihgW1NlbGVjdGlvbl0gRm91bmQgJHtzZWxlY3RlZENvdW50fSBzZWxlY3RlZCBub2RlcywgY2xlYXJpbmcgYWxsIGV4Y2VwdCBmaXJzdGApO1xuXG5cdFx0XHR0aGlzLmN1cnJlbnREYXRhLmFsbE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG5cdFx0XHRcdGlmIChub2RlICE9PSBmaXJzdFNlbGVjdGVkICYmIG5vZGUuc2VsZWN0ZWQpIHtcblx0XHRcdFx0XHRub2RlLnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vID09PT09PT09PT0gXHU1RTAzXHU1QzQwXHU4QkExXHU3Qjk3XHU2NUI5XHU2Q0Q1ID09PT09PT09PT1cblxuXHQvKipcblx0ICogXHU4QkExXHU3Qjk3XHU1MkE4XHU2MDAxXHU2ODExXHU5QUQ4XHU1RUE2XG5cdCAqIFx1NTdGQVx1NEU4RVx1ODI4Mlx1NzBCOVx1NjU3MFx1OTFDRlx1NTQ4Q1x1NkRGMVx1NUVBNlx1OEJBMVx1N0I5N1x1NjI0MFx1OTcwMFx1NzY4NFx1NjgxMVx1OUFEOFx1NUVBNlx1RkYwQ1x1OTA3Rlx1NTE0RFx1ODI4Mlx1NzBCOVx1OTFDRFx1NTNFMFxuXHQgKi9cblx0cHJpdmF0ZSBjYWxjdWxhdGVEeW5hbWljVHJlZUhlaWdodChyb290OiBkMy5IaWVyYXJjaHlOb2RlPGFueT4pOiBudW1iZXIge1xuXHRcdGxldCBtYXhEZXB0aCA9IDA7XG5cdFx0Y29uc3Qgbm9kZXNBdERlcHRoOiBSZWNvcmQ8bnVtYmVyLCBkMy5IaWVyYXJjaHlOb2RlPGFueT5bXT4gPSB7fTtcblxuXHRcdC8vIFx1N0VERlx1OEJBMVx1NkJDRlx1NUM0Mlx1NzY4NFx1ODI4Mlx1NzBCOVx1NTQ4Q1x1NjcwMFx1NTkyN1x1NkRGMVx1NUVBNlxuXHRcdHJvb3QuZWFjaChub2RlID0+IHtcblx0XHRcdG1heERlcHRoID0gTWF0aC5tYXgobWF4RGVwdGgsIG5vZGUuZGVwdGgpO1xuXHRcdFx0aWYgKCFub2Rlc0F0RGVwdGhbbm9kZS5kZXB0aF0pIHtcblx0XHRcdFx0bm9kZXNBdERlcHRoW25vZGUuZGVwdGhdID0gW107XG5cdFx0XHR9XG5cdFx0XHRub2Rlc0F0RGVwdGhbbm9kZS5kZXB0aF0ucHVzaChub2RlKTtcblx0XHR9KTtcblxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1NkJDRlx1NUM0Mlx1NjI0MFx1OTcwMFx1NzY4NFx1OUFEOFx1NUVBNlx1RkYwQ1x1NEY3Rlx1NzUyOFx1NEYxOFx1NTMxNlx1NzY4NFx1N0QyN1x1NTFEMVx1NUUwM1x1NUM0MFxuXHRcdGxldCB0b3RhbEhlaWdodCA9IDA7XG5cdFx0Zm9yIChsZXQgZGVwdGggPSAwOyBkZXB0aCA8PSBtYXhEZXB0aDsgZGVwdGgrKykge1xuXHRcdFx0Y29uc3Qgbm9kZXMgPSBub2Rlc0F0RGVwdGhbZGVwdGhdIHx8IFtdO1xuXHRcdFx0Y29uc3QgbGF5ZXJIZWlnaHQgPSB0aGlzLmNhbGN1bGF0ZUFkYXB0aXZlTGF5ZXJIZWlnaHQobm9kZXMpO1xuXG5cdFx0XHQvLyBcdTdDQkVcdTdFQzZcdTUzMTZcdTZERjFcdTVFQTZcdTk1RjRcdThERERcdThDMDNcdTY1NzRcdUZGMDhcdTU0MENcdTZCNjVcdTRGRUVcdTU5MERcdTdCMkNcdTRFMDlcdTVDNDJcdTU0OENcdTdCMkNcdTU2REJcdTVDNDJcdTkxQ0RcdTUzRTBcdUZGMDlcblx0XHRcdGxldCBkZXB0aE11bHRpcGxpZXIgPSAxLjA7XG5cdFx0XHRpZiAoZGVwdGggPT09IDApIHtcblx0XHRcdFx0ZGVwdGhNdWx0aXBsaWVyID0gMC44OyAvLyBcdTY4MzlcdTgyODJcdTcwQjlcdUZGMUFcdTY2RjRcdTdEMjdcdTUxRDFcblx0XHRcdH0gZWxzZSBpZiAoZGVwdGggPT09IDEpIHtcblx0XHRcdFx0ZGVwdGhNdWx0aXBsaWVyID0gMS4wOyAvLyBcdTdCMkMxXHU1QzQyXHVGRjFBXHU2ODA3XHU1MUM2XHU5NUY0XHU4REREXG5cdFx0XHR9IGVsc2UgaWYgKGRlcHRoID09PSAyKSB7XG5cdFx0XHRcdGRlcHRoTXVsdGlwbGllciA9IDEuMzsgLy8gXHU3QjJDMlx1NUM0Mlx1RkYxQVx1OTAwMlx1NUVBNlx1NTg5RVx1NTJBMFxuXHRcdFx0fSBlbHNlIGlmIChkZXB0aCA9PT0gMykge1xuXHRcdFx0XHRkZXB0aE11bHRpcGxpZXIgPSAxLjg7IC8vIFx1N0IyQzNcdTVDNDJcdUZGMUFcdTY2M0VcdTg0NTdcdTU4OUVcdTUyQTBcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlcHRoTXVsdGlwbGllciA9IDIuMiArIChkZXB0aCAtIDQpICogMC4zOyAvLyBcdTdCMkM0XHU1QzQyK1x1RkYxQVx1NTkyN1x1NUU0NVx1NTg5RVx1NTJBMFxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB2ZXJ0aWNhbFNwYWNpbmcgPSB0aGlzLmxheW91dENvbmZpZy52ZXJ0aWNhbFNwYWNpbmcgKiBkZXB0aE11bHRpcGxpZXI7XG5cblx0XHRcdC8vIFx1NTdGQVx1NEU4RVx1ODI4Mlx1NzBCOVx1NjU3MFx1OTFDRlx1NzY4NFx1NjY3QVx1ODBGRFx1OEMwM1x1NjU3NFx1RkYwOFx1NjZGNFx1NEZERFx1NUI4OFx1NzY4NFx1NTg5RVx1OTU3Rlx1RkYwOVxuXHRcdFx0Y29uc3Qgbm9kZUNvdW50ID0gbm9kZXMubGVuZ3RoO1xuXHRcdFx0aWYgKG5vZGVDb3VudCA+IDMpIHtcblx0XHRcdFx0Y29uc3Qgbm9kZUNvdW50TXVsdGlwbGllciA9IDEgKyAobm9kZUNvdW50IC0gMykgKiAwLjE7IC8vIFx1NkJDRlx1NTkxQVx1NEUwMFx1NEUyQVx1ODI4Mlx1NzBCOVx1NTg5RVx1NTJBMDEwJVxuXHRcdFx0XHR0b3RhbEhlaWdodCArPSBsYXllckhlaWdodCArICh2ZXJ0aWNhbFNwYWNpbmcgKiBub2RlQ291bnRNdWx0aXBsaWVyKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRvdGFsSGVpZ2h0ICs9IGxheWVySGVpZ2h0ICsgdmVydGljYWxTcGFjaW5nO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1Nzg2RVx1NEZERFx1NEUwRFx1NUMwRlx1NEU4RVx1NTM5Rlx1OUFEOFx1NUVBNlx1RkYwQ1x1NUU3Nlx1NkRGQlx1NTJBMFx1OTAwMlx1NUY1M1x1NzY4NFx1N0YxM1x1NTFCMlx1N0E3QVx1OTVGNFxuXHRcdGNvbnN0IG1pbkhlaWdodCA9IE1hdGgubWF4KHRvdGFsSGVpZ2h0LCB0aGlzLmxheW91dENvbmZpZy50cmVlSGVpZ2h0KTtcblx0XHRjb25zdCBkZXB0aEJ1ZmZlciA9IE1hdGgubWF4KDEwMCwgbWF4RGVwdGggKiAyNSk7IC8vIFx1NEY3Rlx1NzUyOFx1N0QyN1x1NTFEMVx1NzY4NFx1N0YxM1x1NTFCMlxuXG5cdFx0cmV0dXJuIG1pbkhlaWdodCArIGRlcHRoQnVmZmVyO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1OEJBMVx1N0I5N1x1ODFFQVx1OTAwMlx1NUU5NFx1NUM0Mlx1OUFEOFxuXHQgKiBcdThCQTFcdTdCOTdcdTUzNTVcdTVDNDJcdTgyODJcdTcwQjlcdTYyNDBcdTk3MDBcdTc2ODRcdTlBRDhcdTVFQTZcblx0ICovXG5cdHByaXZhdGUgY2FsY3VsYXRlQWRhcHRpdmVMYXllckhlaWdodChub2RlczogZDMuSGllcmFyY2h5Tm9kZTxhbnk+W10pOiBudW1iZXIge1xuXHRcdGlmIChub2Rlcy5sZW5ndGggPT09IDApIHJldHVybiA2MDtcblxuXHRcdC8vIFx1OEJBMVx1N0I5N1x1OEJFNVx1NUM0Mlx1NjI0MFx1NjcwOVx1ODI4Mlx1NzBCOVx1NzY4NFx1NjcwMFx1NTkyN1x1OUFEOFx1NUVBNlxuXHRcdGxldCBtYXhIZWlnaHQgPSAwO1xuXHRcdGxldCB0b3RhbFRleHRMZW5ndGggPSAwO1xuXG5cdFx0bm9kZXMuZm9yRWFjaChub2RlID0+IHtcblx0XHRcdGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLnRleHRNZWFzdXJlci5nZXROb2RlRGltZW5zaW9ucyhub2RlLmRlcHRoLCBub2RlLmRhdGEudGV4dCk7XG5cdFx0XHRtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsIGRpbWVuc2lvbnMuaGVpZ2h0KTtcblx0XHRcdHRvdGFsVGV4dExlbmd0aCArPSBub2RlLmRhdGEudGV4dC5sZW5ndGg7XG5cdFx0fSk7XG5cblx0XHQvLyBcdTU3RkFcdTRFOEVcdTgyODJcdTcwQjlcdTlBRDhcdTVFQTZcdTU0OENcdTY1ODdcdTY3MkNcdTk1N0ZcdTVFQTZcdThCQTFcdTdCOTdcdTVDNDJcdTlBRDhcblx0XHRjb25zdCB0ZXh0TGVuZ3RoQm9udXMgPSBNYXRoLm1pbih0b3RhbFRleHRMZW5ndGggLyBub2Rlcy5sZW5ndGggKiAyLCA1MCk7IC8vIFx1NkJDRlx1NEUyQVx1NUI1N1x1N0IyNjJweFx1RkYwQ1x1NjcwMFx1NTkxQTUwcHhcdTU5NTZcdTUyQjFcblx0XHRjb25zdCBhZGFwdGl2ZUhlaWdodCA9IG1heEhlaWdodCArIHRleHRMZW5ndGhCb251cztcblxuXHRcdC8vIFx1Nzg2RVx1NEZERFx1NjcwMFx1NUMwRlx1OUFEOFx1NUVBNlxuXHRcdGNvbnN0IG1pbkhlaWdodCA9IG5vZGVzWzBdLmRlcHRoID09PSAwID8gODAgOiBub2Rlc1swXS5kZXB0aCA9PT0gMSA/IDcwIDogNjA7XG5cblx0XHRyZXR1cm4gTWF0aC5tYXgoYWRhcHRpdmVIZWlnaHQsIG1pbkhlaWdodCk7XG5cdH1cblxuXHQvLyA9PT09PT09PT09IFx1NzJCNlx1NjAwMVx1N0JBMVx1NzQwNlx1NjVCOVx1NkNENSA9PT09PT09PT09XG5cblx0LyoqXG5cdCAqIFx1NTIxQlx1NUVGQSBTVkcgXHU2RTEwXHU1M0Q4XHU1QjlBXHU0RTQ5XG5cdCAqIFx1NEUzQVx1OEZERVx1N0VCRlx1NjNEMFx1NEY5Qlx1ODlDNlx1ODlDOVx1NUM0Mlx1NkIyMVx1NjExRlx1NzY4NFx1NkUxMFx1NTNEOFx1ODI3Mlx1NjU0OFx1Njc5Q1xuXHQgKi9cblx0cHJpdmF0ZSBjcmVhdGVHcmFkaWVudERlZmluaXRpb25zKHN2ZzogZDMuU2VsZWN0aW9uPFNWR1NWR0VsZW1lbnQsIHVua25vd24sIG51bGwsIHVuZGVmaW5lZD4pOiB2b2lkIHtcblx0XHRjb25zdCBkZWZzID0gc3ZnLmFwcGVuZChcImRlZnNcIik7XG5cblx0XHQvLyBcdTUyMUJcdTVFRkFcdTRFM0JcdTg5ODFcdThGREVcdTdFQkZcdTZFMTBcdTUzRDhcblx0XHRjb25zdCBsaW5rR3JhZGllbnQgPSBkZWZzLmFwcGVuZChcImxpbmVhckdyYWRpZW50XCIpXG5cdFx0XHQuYXR0cihcImlkXCIsIFwibGlua0dyYWRpZW50XCIpXG5cdFx0XHQuYXR0cihcIngxXCIsIFwiMCVcIilcblx0XHRcdC5hdHRyKFwieTFcIiwgXCIwJVwiKVxuXHRcdFx0LmF0dHIoXCJ4MlwiLCBcIjEwMCVcIilcblx0XHRcdC5hdHRyKFwieTJcIiwgXCIwJVwiKTtcblxuXHRcdGxpbmtHcmFkaWVudC5hcHBlbmQoXCJzdG9wXCIpXG5cdFx0XHQuYXR0cihcIm9mZnNldFwiLCBcIjAlXCIpXG5cdFx0XHQuYXR0cihcInN0b3AtY29sb3JcIiwgXCJ2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXCIpXG5cdFx0XHQuYXR0cihcInN0b3Atb3BhY2l0eVwiLCAwLjgpO1xuXG5cdFx0bGlua0dyYWRpZW50LmFwcGVuZChcInN0b3BcIilcblx0XHRcdC5hdHRyKFwib2Zmc2V0XCIsIFwiNTAlXCIpXG5cdFx0XHQuYXR0cihcInN0b3AtY29sb3JcIiwgXCJ2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQtaG92ZXIpXCIpXG5cdFx0XHQuYXR0cihcInN0b3Atb3BhY2l0eVwiLCAxKTtcblxuXHRcdGxpbmtHcmFkaWVudC5hcHBlbmQoXCJzdG9wXCIpXG5cdFx0XHQuYXR0cihcIm9mZnNldFwiLCBcIjEwMCVcIilcblx0XHRcdC5hdHRyKFwic3RvcC1jb2xvclwiLCBcInZhcigtLXRleHQtYWNjZW50KVwiKVxuXHRcdFx0LmF0dHIoXCJzdG9wLW9wYWNpdHlcIiwgMC42KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTU0MENcdTZCNjVcdTkwMDlcdTRFMkRcdTgyODJcdTcwQjlcdTVGMTVcdTc1Mjhcblx0ICogXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU1NDBFXHVGRjBDXHU1QzA2IHNlbGVjdGVkTm9kZSBcdTVGMTVcdTc1MjhcdTY2RjRcdTY1QjBcdTUyMzBcdTY1QjBcdTc2ODQgRDMgXHU1QzQyXHU3RUE3XHU3RUQzXHU2Nzg0XG5cdCAqL1xuXHRwcml2YXRlIHN5bmNTZWxlY3RlZE5vZGVSZWZlcmVuY2Uocm9vdDogZDMuSGllcmFyY2h5Tm9kZTxhbnk+KTogdm9pZCB7XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU1RjUzXHU1MjREXHU2Q0ExXHU2NzA5XHU5MDA5XHU0RTJEXHU3Njg0XHU4MjgyXHU3MEI5XHVGRjBDXHU3NkY0XHU2M0E1XHU4RkQ0XHU1NkRFXG5cdFx0aWYgKCF0aGlzLnNlbGVjdGVkTm9kZSB8fCAhdGhpcy5zZWxlY3RlZE5vZGUuZGF0YSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFx1OTA0RFx1NTM4Nlx1NjVCMFx1NzY4NEQzXHU1QzQyXHU3RUE3XHU3RUQzXHU2Nzg0XHVGRjBDXHU2MjdFXHU1MjMwXHU1MzM5XHU5MTREXHU3Njg0XHU4MjgyXHU3MEI5XG5cdFx0Y29uc3QgdGFyZ2V0Tm9kZSA9IHRoaXMuc2VsZWN0ZWROb2RlLmRhdGE7XG5cdFx0bGV0IGZvdW5kTm9kZTogZDMuSGllcmFyY2h5Tm9kZTxhbnk+IHwgbnVsbCA9IG51bGw7XG5cblx0XHQvLyBcdTRGN0ZcdTc1MjhcdTZERjFcdTVFQTZcdTRGMThcdTUxNDhcdTY0MUNcdTdEMjJcdTYyN0VcdTUyMzBcdTUxNzdcdTY3MDlcdTc2RjhcdTU0MENcdTY1NzBcdTYzNkVcdTVGMTVcdTc1MjhcdTc2ODRcdTgyODJcdTcwQjlcblx0XHRyb290LmVhY2goKGQpID0+IHtcblx0XHRcdGlmIChkLmRhdGEgPT09IHRhcmdldE5vZGUpIHtcblx0XHRcdFx0Zm91bmROb2RlID0gZDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjI3RVx1NTIzMFx1NEU4Nlx1NTMzOVx1OTE0RFx1NzY4NFx1ODI4Mlx1NzBCOVx1RkYwQ1x1NjZGNFx1NjVCMHNlbGVjdGVkTm9kZVx1NUYxNVx1NzUyOFxuXHRcdGlmIChmb3VuZE5vZGUpIHtcblx0XHRcdHRoaXMuc2VsZWN0ZWROb2RlID0gZm91bmROb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTYyN0VcdTUyMzBcdUZGMDhcdTgyODJcdTcwQjlcdTUzRUZcdTgwRkRcdTg4QUJcdTUyMjBcdTk2NjRcdUZGMDlcdUZGMENcdTZFMDVcdTk2NjRcdTkwMDlcdTRFMkRcdTcyQjZcdTYwMDFcblx0XHRcdHRoaXMuc2VsZWN0ZWROb2RlID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogXHU2MDYyXHU1OTBEXHU5MDA5XHU0RTJEIFVJXG5cdCAqIFx1OTFDRFx1NjVCMFx1NkUzMlx1NjdEM1x1NTQwRVx1RkYwQ1x1NEUzQVx1OTAwOVx1NEUyRFx1ODI4Mlx1NzBCOVx1NjA2Mlx1NTkwRFx1NjMwOVx1OTRBRVxuXHQgKi9cblx0cHJpdmF0ZSByZXN0b3JlU2VsZWN0aW9uVUkoKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmN1cnJlbnRTdmcpIHJldHVybjtcblxuXHRcdC8vIFx1OTA0RFx1NTM4Nlx1NjI0MFx1NjcwOVx1ODI4Mlx1NzBCOVx1RkYwQ1x1NEUzQVx1OTAwOVx1NEUyRFx1ODI4Mlx1NzBCOVx1NjA2Mlx1NTkwRFx1NjMwOVx1OTRBRVxuXHRcdHRoaXMuY3VycmVudFN2Zy5zZWxlY3RBbGwoXCIubm9kZVwiKVxuXHRcdFx0LmVhY2goKGQ6IGFueSwgaSwgbm9kZXMpID0+IHtcblx0XHRcdFx0aWYgKGQuZGF0YS5zZWxlY3RlZCkge1xuXHRcdFx0XHRcdGNvbnN0IG5vZGVFbGVtZW50ID0gZDMuc2VsZWN0KG5vZGVzW2ldIGFzIFNWR0dFbGVtZW50KTtcblx0XHRcdFx0XHRjb25zdCBkaW1lbnNpb25zID0gdGhpcy50ZXh0TWVhc3VyZXIuZ2V0Tm9kZURpbWVuc2lvbnMoZC5kZXB0aCwgZC5kYXRhLnRleHQpO1xuXG5cdFx0XHRcdFx0Ly8gXHU4QzAzXHU3NTI4XHU1MjlGXHU4MEZEXHU2QTIxXHU1NzU3XHU3Njg0XHU2NUI5XHU2Q0Q1XG5cdFx0XHRcdFx0dGhpcy5idXR0b25SZW5kZXJlci5yZW5kZXJQbHVzQnV0dG9uKG5vZGVFbGVtZW50IGFzIGFueSwgZCwgZGltZW5zaW9ucyk7XG5cdFx0XHRcdFx0dGhpcy5haUFzc2lzdGFudC5yZW5kZXJBSUJ1dHRvbihub2RlRWxlbWVudCBhcyBhbnksIGQsIGRpbWVuc2lvbnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTYwNjJcdTU5MERcdTg5QzZcdTU2RkVcdTcyQjZcdTYwMDFcblx0ICogXHU2MDYyXHU1OTBEXHU0RTRCXHU1MjREXHU0RkREXHU1QjU4XHU3Njg0XHU3RjI5XHU2NTNFXHU1NDhDXHU1RTczXHU3OUZCXHU3MkI2XHU2MDAxXG5cdCAqL1xuXHRwcml2YXRlIHJlc3RvcmVWaWV3U3RhdGUoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuY3VycmVudFpvb21UcmFuc2Zvcm0gJiYgdGhpcy5jdXJyZW50U3ZnICYmIHRoaXMuY3VycmVudFpvb20pIHtcblx0XHRcdC8vIFx1NjhDMFx1NjdFNVx1NUY1M1x1NTI0RFx1NTNEOFx1NjM2Mlx1NjYyRlx1NTQyNlx1NEUwRVx1NEZERFx1NUI1OFx1NzY4NFx1NTNEOFx1NjM2Mlx1NEUwRFx1NTQwQ1x1RkYwQ1x1OTA3Rlx1NTE0RFx1OTFDRFx1NTkwRFx1NUU5NFx1NzUyOFxuXHRcdFx0Y29uc3Qgc3ZnTm9kZSA9IHRoaXMuY3VycmVudFN2Zy5ub2RlKCk7XG5cdFx0XHRpZiAoIXN2Z05vZGUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgY3VycmVudFRyYW5zZm9ybSA9IGQzLnpvb21UcmFuc2Zvcm0oc3ZnTm9kZSk7XG5cblx0XHRcdGlmIChjdXJyZW50VHJhbnNmb3JtLnRvU3RyaW5nKCkgIT09IHRoaXMuY3VycmVudFpvb21UcmFuc2Zvcm0udG9TdHJpbmcoKSkge1xuXHRcdFx0XHQvLyBcdTVFOTRcdTc1MjhcdTRFNEJcdTUyNERcdTRGRERcdTVCNThcdTc2ODRcdTdGMjlcdTY1M0VcdTUzRDhcdTYzNjJcblx0XHRcdFx0dGhpcy5jdXJyZW50U3ZnXG5cdFx0XHRcdFx0LmNhbGwodGhpcy5jdXJyZW50Wm9vbS50cmFuc2Zvcm0sIHRoaXMuY3VycmVudFpvb21UcmFuc2Zvcm0pO1xuXG5cdFx0XHRcdC8vIFx1NTQwQ1x1NjVGNlx1NjZGNFx1NjVCMFx1NTE4NVx1NUJCOVx1N0VDNFx1NzY4NFx1NTNEOFx1NjM2MlxuXHRcdFx0XHRpZiAodGhpcy5jdXJyZW50Q29udGVudCkge1xuXHRcdFx0XHRcdC8vIFR5cGUgYXNzZXJ0aW9uOiBEMyBhY2NlcHRzIFpvb21UcmFuc2Zvcm0gZm9yIGF0dHIoXCJ0cmFuc2Zvcm1cIiwgLi4uKVxuXHRcdFx0XHRcdHRoaXMuY3VycmVudENvbnRlbnQuYXR0cihcInRyYW5zZm9ybVwiLCB0aGlzLmN1cnJlbnRab29tVHJhbnNmb3JtIGFzIGFueSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogXHU3RjE2XHU4RjkxXHU2NUIwXHU4MjgyXHU3MEI5XG5cdCAqIFx1ODFFQVx1NTJBOFx1OEZEQlx1NTE2NVx1NjVCMFx1NTIxQlx1NUVGQVx1ODI4Mlx1NzBCOVx1NzY4NFx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlxuXHQgKi9cblx0cHJpdmF0ZSBlZGl0TmV3Tm9kZSgpOiB2b2lkIHtcblx0XHQvLyBcdTc2RjRcdTYzQTVcdTRGN0ZcdTc1MjggdGhpcy5zZWxlY3RlZE5vZGUsXHU1QjgzXHU1REYyXHU3RUNGXHU1NzI4IHJlbmRlciBcdTRFMkRcdTg4QUJcdTU0MENcdTZCNjVcdTUyMzBcdTZCNjNcdTc4NkVcdTc2ODREM1x1NUYxNVx1NzUyOFxuXHRcdGlmICghdGhpcy5zZWxlY3RlZE5vZGUgfHwgIXRoaXMuY3VycmVudFN2Zykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFx1OTAxQVx1OEZDN0QzXHU4MjgyXHU3MEI5XHU1QkY5XHU4QzYxXHU2QkQ0XHU4RjgzKFx1ODAwQ1x1OTc1RVx1NjU3MFx1NjM2RVx1NUJGOVx1OEM2MVx1NkJENFx1OEY4MylcdTYyN0VcdTUyMzBET01cdTUxNDNcdTdEMjBcblx0XHRjb25zdCBub2RlRWxlbWVudHMgPSBkMy5zZWxlY3RBbGwoXCIubm9kZXMgZ1wiKTtcblx0XHRjb25zdCB0YXJnZXRFbGVtZW50ID0gbm9kZUVsZW1lbnRzXG5cdFx0XHQuZmlsdGVyKChkOiBhbnkpID0+IGQgPT09IHRoaXMuc2VsZWN0ZWROb2RlKVxuXHRcdFx0LnNlbGVjdChcIi5ub2RlLXVuaWZpZWQtdGV4dFwiKVxuXHRcdFx0Lm5vZGUoKSBhcyBIVE1MRGl2RWxlbWVudDtcblxuXHRcdGlmICh0YXJnZXRFbGVtZW50KSB7XG5cdFx0XHQvLyBcdThDMDNcdTc1MjggTm9kZUVkaXRvciBcdTc2ODRcdTY1QjlcdTZDRDVcblx0XHRcdHRoaXMubm9kZUVkaXRvci5lbmFibGVFZGl0aW5nKHRoaXMuc2VsZWN0ZWROb2RlLCB0YXJnZXRFbGVtZW50KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHRyaWdnZXJEYXRhVXBkYXRlKCk6IHZvaWQge1xuXHRcdHRoaXMub25EYXRhVXBkYXRlZD8uKCk7XG5cdH1cblxuXHQvLyA9PT09PT09PT09IFVuZG8vUmVkbyBcdTUxNkNcdTUxNzFcdTY1QjlcdTZDRDUgPT09PT09PT09PVxuXG5cdC8qKlxuXHQgKiBcdTY0QTRcdTk1MDBcdTRFMEFcdTRFMDBcdTZCMjFcdTY0Q0RcdTRGNUNcblx0ICogQHJldHVybnMgXHU2MjEwXHU1MjlGXHU4RkQ0XHU1NkRFIHRydWVcdUZGMENcdTU0MjZcdTUyMTlcdThGRDRcdTU2REUgZmFsc2Vcblx0ICovXG5cdHB1YmxpYyB1bmRvKCk6IGJvb2xlYW4ge1xuXG5cdFx0aWYgKCF0aGlzLnVuZG9NYW5hZ2VyLmNhblVuZG8oKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHByZXZpb3VzRGF0YSA9IHRoaXMudW5kb01hbmFnZXIudW5kbyh0aGlzLmN1cnJlbnREYXRhKTtcblxuXHRcdGlmIChwcmV2aW91c0RhdGEgJiYgdGhpcy5jdXJyZW50RGF0YSkge1xuXHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU1RjUzXHU1MjREXHU2NTcwXHU2MzZFXG5cdFx0XHR0aGlzLmN1cnJlbnREYXRhLnJvb3ROb2RlID0gcHJldmlvdXNEYXRhLnJvb3ROb2RlO1xuXHRcdFx0dGhpcy5jdXJyZW50RGF0YS5hbGxOb2RlcyA9IHByZXZpb3VzRGF0YS5hbGxOb2Rlcztcblx0XHRcdHRoaXMuY3VycmVudERhdGEubWF4TGV2ZWwgPSBwcmV2aW91c0RhdGEubWF4TGV2ZWw7XG5cblxuXHRcdFx0Ly8gXHU2RTA1XHU5NjY0XHU5MDA5XHU0RTJEXHU3MkI2XHU2MDAxXG5cdFx0XHR0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG5cblx0XHRcdC8vIFx1MjcwNSBcdTUxNzNcdTk1MkVcdTRGRUVcdTU5MERcdUZGMUFcdTkwMUFcdTc3RTVcdTg5QzZcdTU2RkVcdTY1NzBcdTYzNkVcdTVERjJcdTYwNjJcdTU5MERcdUZGMENcdTk3MDBcdTg5ODFcdTU0MENcdTZCNjVcdTY2RjRcdTY1QjAgbWluZE1hcERhdGFcblx0XHRcdHRoaXMub25EYXRhUmVzdG9yZWQ/LihwcmV2aW91c0RhdGEpO1xuXG5cdFx0XHQvLyBcdTg5RTZcdTUzRDFcdTY1NzBcdTYzNkVcdTY2RjRcdTY1QjBcdUZGMDhcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTU0OENcdTRGRERcdTVCNThcdTY1ODdcdTRFRjZcdUZGMDlcblx0XHRcdHRoaXMudHJpZ2dlckRhdGFVcGRhdGUoKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTkxQ0RcdTUwNUFcdTRFMEFcdTRFMDBcdTZCMjFcdTY0QTRcdTk1MDBcdTc2ODRcdTY0Q0RcdTRGNUNcblx0ICogQHJldHVybnMgXHU2MjEwXHU1MjlGXHU4RkQ0XHU1NkRFIHRydWVcdUZGMENcdTU0MjZcdTUyMTlcdThGRDRcdTU2REUgZmFsc2Vcblx0ICovXG5cdHB1YmxpYyByZWRvKCk6IGJvb2xlYW4ge1xuXG5cdFx0aWYgKCF0aGlzLnVuZG9NYW5hZ2VyLmNhblJlZG8oKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IG5leHREYXRhID0gdGhpcy51bmRvTWFuYWdlci5yZWRvKHRoaXMuY3VycmVudERhdGEpO1xuXG5cdFx0aWYgKG5leHREYXRhICYmIHRoaXMuY3VycmVudERhdGEpIHtcblx0XHRcdC8vIFx1NjZGNFx1NjVCMFx1NUY1M1x1NTI0RFx1NjU3MFx1NjM2RVxuXHRcdFx0dGhpcy5jdXJyZW50RGF0YS5yb290Tm9kZSA9IG5leHREYXRhLnJvb3ROb2RlO1xuXHRcdFx0dGhpcy5jdXJyZW50RGF0YS5hbGxOb2RlcyA9IG5leHREYXRhLmFsbE5vZGVzO1xuXHRcdFx0dGhpcy5jdXJyZW50RGF0YS5tYXhMZXZlbCA9IG5leHREYXRhLm1heExldmVsO1xuXG5cblx0XHRcdC8vIFx1NkUwNVx1OTY2NFx1OTAwOVx1NEUyRFx1NzJCNlx1NjAwMVxuXHRcdFx0dGhpcy5jbGVhclNlbGVjdGlvbigpO1xuXG5cdFx0XHQvLyBcdTI3MDUgXHU1MTczXHU5NTJFXHU0RkVFXHU1OTBEXHVGRjFBXHU5MDFBXHU3N0U1XHU4OUM2XHU1NkZFXHU2NTcwXHU2MzZFXHU1REYyXHU2MDYyXHU1OTBEXHVGRjBDXHU5NzAwXHU4OTgxXHU1NDBDXHU2QjY1XHU2NkY0XHU2NUIwIG1pbmRNYXBEYXRhXG5cdFx0XHR0aGlzLm9uRGF0YVJlc3RvcmVkPy4obmV4dERhdGEpO1xuXG5cdFx0XHQvLyBcdTg5RTZcdTUzRDFcdTY1NzBcdTYzNkVcdTY2RjRcdTY1QjBcdUZGMDhcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTU0OENcdTRGRERcdTVCNThcdTY1ODdcdTRFRjZcdUZGMDlcblx0XHRcdHRoaXMudHJpZ2dlckRhdGFVcGRhdGUoKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTUzRUZcdTRFRTVcdTY0QTRcdTk1MDBcblx0ICovXG5cdHB1YmxpYyBjYW5VbmRvKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnVuZG9NYW5hZ2VyLmNhblVuZG8oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTUzRUZcdTRFRTVcdTkxQ0RcdTUwNUFcblx0ICovXG5cdHB1YmxpYyBjYW5SZWRvKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnVuZG9NYW5hZ2VyLmNhblJlZG8oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTZFMDVcdTdBN0FcdTUzODZcdTUzRjJcdThCQjBcdTVGNTVcdUZGMDhcdTUyQTBcdThGN0RcdTY1QjBcdTY1ODdcdTRFRjZcdTY1RjZcdThDMDNcdTc1MjhcdUZGMDlcblx0ICovXG5cdHB1YmxpYyBjbGVhckhpc3RvcnkoKTogdm9pZCB7XG5cdFx0dGhpcy51bmRvTWFuYWdlci5jbGVhckhpc3RvcnkoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTgzQjdcdTUzRDYgVW5kb01hbmFnZXIgXHU1QjlFXHU0RjhCXHVGRjA4XHU0RjlCXHU1OTE2XHU5MEU4XHU4QkJGXHU5NUVFXHVGRjBDXHU1OTgyIEtleWJvYXJkTWFuYWdlclx1RkYwOVxuXHQgKi9cblx0cHVibGljIGdldFVuZG9NYW5hZ2VyKCk6IFVuZG9NYW5hZ2VyIHtcblx0XHRyZXR1cm4gdGhpcy51bmRvTWFuYWdlcjtcblx0fVxufVxuIiwgIi8qKlxuICogRGVza3RvcCBUcmVlIFJlbmRlcmVyXG4gKlxuICogRGVza3RvcC1zcGVjaWZpYyByZW5kZXJlciB0aGF0IHVzZXMgUmVuZGVyZXJDb29yZGluYXRvclxuICogQ29vcmRpbmF0ZXMgYWxsIGZlYXR1cmUgbW9kdWxlcyBmb3IgZGVza3RvcCByZW5kZXJpbmdcbiAqL1xuXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBNaW5kTWFwQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL3R5cGVzJztcbmltcG9ydCB7IE1pbmRNYXBSZW5kZXJlciwgTWluZE1hcERhdGEsIE1pbmRNYXBOb2RlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgUmVuZGVyZXJDb29yZGluYXRvciB9IGZyb20gJy4vcmVuZGVyZXItY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgTWluZE1hcFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9taW5kbWFwLXNlcnZpY2UnO1xuaW1wb3J0IHsgTWluZE1hcE1lc3NhZ2VzIH0gZnJvbSAnLi4vaTE4bic7XG5cbi8qKlxuICogRGVza3RvcCB0cmVlIHJlbmRlcmVyIGNsYXNzXG4gKlxuICogVXNlcyBSZW5kZXJlckNvb3JkaW5hdG9yIHRvIHByb3ZpZGUgbW9kdWxhciBkZXNrdG9wIHJlbmRlcmluZ1xuICpcbiAqIEFyY2hpdGVjdHVyZTpcbiAqIC0gRGVza3RvcFRyZWVSZW5kZXJlciB3cmFwcyBSZW5kZXJlckNvb3JkaW5hdG9yXG4gKiAtIFJlbmRlcmVyQ29vcmRpbmF0b3IgaW50ZWdyYXRlcyBhbGwgNiBmZWF0dXJlIG1vZHVsZXM6XG4gKiAgIC0gSW50ZXJhY3Rpb25NYW5hZ2VyIChNb3VzZUludGVyYWN0aW9uICsgS2V5Ym9hcmRNYW5hZ2VyKVxuICogICAtIEFJQXNzaXN0YW50XG4gKiAgIC0gTm9kZUVkaXRvclxuICogICAtIENsaXBib2FyZE1hbmFnZXJcbiAqICAgLSBCdXR0b25SZW5kZXJlclxuICogICAtIE1vYmlsZVRvb2xiYXIgKGRpc2FibGVkIG9uIGRlc2t0b3ApXG4gKiAtIEFsbCByZW5kZXJpbmcgY2FsbHMgYXJlIGRlbGVnYXRlZCB0byBSZW5kZXJlckNvb3JkaW5hdG9yXG4gKiAtIE1haW50YWlucyAxMDAlIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBvbGQgRDNUcmVlUmVuZGVyZXJcbiAqXG4gKiBEZXNrdG9wLXNwZWNpZmljIGJlaGF2aW9yOlxuICogLSBVc2VzIG1vdXNlIGludGVyYWN0aW9ucyAoY2xpY2ssIGRyYWcsIHpvb20pXG4gKiAtIFVzZXMga2V5Ym9hcmQgc2hvcnRjdXRzXG4gKiAtIFNob3dzICsgYnV0dG9ucyBvbiBub2RlIHNlbGVjdGlvblxuICogLSBObyBtb2JpbGUgdG9vbGJhciAoY29uZmlnLmlzTW9iaWxlID0gZmFsc2UpXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXNrdG9wVHJlZVJlbmRlcmVyIGltcGxlbWVudHMgTWluZE1hcFJlbmRlcmVyIHtcbiAgICBwcml2YXRlIHJlbmRlcmVyQ29vcmRpbmF0b3I6IFJlbmRlcmVyQ29vcmRpbmF0b3I7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciAtIGNyZWF0ZXMgdGhlIHJlbmRlcmVyIGNvb3JkaW5hdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwIC0gT2JzaWRpYW4gYXBwIGluc3RhbmNlIChub3QgdXNlZCBkaXJlY3RseSwgYXZhaWxhYmxlIGZvciBmdXR1cmUgZXh0ZW5zaW9ucylcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gQ29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBkZXNrdG9wLXNwZWNpZmljIHNldHRpbmdzXG4gICAgICogQHBhcmFtIG1pbmRNYXBTZXJ2aWNlIC0gTWluZE1hcCBzZXJ2aWNlIGluc3RhbmNlXG4gICAgICogQHBhcmFtIG1lc3NhZ2VzIC0gaTE4biBtZXNzYWdlcyBvYmplY3RcbiAgICAgKi9cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIGNvbmZpZzogTWluZE1hcENvbmZpZywgbWluZE1hcFNlcnZpY2U6IE1pbmRNYXBTZXJ2aWNlLCBtZXNzYWdlcz86IE1pbmRNYXBNZXNzYWdlcywgaXNBY3RpdmVWaWV3PzogKCkgPT4gYm9vbGVhbikge1xuXHRcdC8vIENyZWF0ZSBSZW5kZXJlckNvb3JkaW5hdG9yIHdpdGggZGVza3RvcCBjb25maWdcblx0XHR0aGlzLnJlbmRlcmVyQ29vcmRpbmF0b3IgPSBuZXcgUmVuZGVyZXJDb29yZGluYXRvcihcblx0XHRcdG1pbmRNYXBTZXJ2aWNlLFxuXHRcdFx0Y29uZmlnLFxuXHRcdFx0bWVzc2FnZXMsXG5cdFx0XHRpc0FjdGl2ZVZpZXdcblx0XHQpO1xuXG5cdFx0Ly8gTm90ZTogb25UZXh0Q2hhbmdlZCBhbmQgb25EYXRhVXBkYXRlZCBjYWxsYmFja3MgYXJlIHNldCBleHRlcm5hbGx5IGJ5IE1pbmRNYXBWaWV3XG5cdFx0Ly8gVXNlIHRoZSBnZXR0ZXIvc2V0dGVyIHByb3BlcnRpZXMgdG8gY29uZmlndXJlIHRoZXNlIGNhbGxiYWNrc1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgbWluZCBtYXAgZGF0YVxuICAgICAqIERlbGVnYXRlcyB0byBSZW5kZXJlckNvb3JkaW5hdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGFpbmVyIC0gRE9NIGVsZW1lbnQgdG8gcmVuZGVyIGludG9cbiAgICAgKiBAcGFyYW0gZGF0YSAtIE1pbmQgbWFwIGRhdGEgc3RydWN0dXJlXG4gICAgICovXG4gICAgcmVuZGVyKGNvbnRhaW5lcjogRWxlbWVudCwgZGF0YTogTWluZE1hcERhdGEpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlckNvb3JkaW5hdG9yLnJlbmRlcihjb250YWluZXIsIGRhdGEpO1xuICAgIH1cblxuXHQvKipcblx0ICogRGVzdHJveSB0aGUgcmVuZGVyZXIgYW5kIGNsZWFuIHVwIHJlc291cmNlc1xuXHQgKiBEZWxlZ2F0ZXMgdG8gUmVuZGVyZXJDb29yZGluYXRvclxuXHQgKi9cblx0ZGVzdHJveSgpOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlcmVyQ29vcmRpbmF0b3IuZGVzdHJveSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgdW5kZXJseWluZyByZW5kZXJlciBjb29yZGluYXRvclxuXHQgKiBVc2VmdWwgZm9yIGFjY2Vzc2luZyBjb29yZGluYXRvciBtZXRob2RzIGR1cmluZyB0cmFuc2l0aW9uIHBlcmlvZFxuXHQgKi9cblx0Z2V0UmVuZGVyZXJDb29yZGluYXRvcigpOiBSZW5kZXJlckNvb3JkaW5hdG9yIHtcblx0XHRyZXR1cm4gdGhpcy5yZW5kZXJlckNvb3JkaW5hdG9yO1xuXHR9XG5cblx0LyoqXG5cdCAqIG9uVGV4dENoYW5nZWQgY2FsbGJhY2sgZ2V0dGVyL3NldHRlclxuXHQgKiBFeHBvc2VzIFJlbmRlcmVyQ29vcmRpbmF0b3IncyBjYWxsYmFjayBwcm9wZXJ0eSBmb3IgZXh0ZXJuYWwgdXNlXG5cdCAqL1xuXHRnZXQgb25UZXh0Q2hhbmdlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZW5kZXJlckNvb3JkaW5hdG9yLm9uVGV4dENoYW5nZWQ7XG5cdH1cblxuXHRzZXQgb25UZXh0Q2hhbmdlZChjYWxsYmFjazogKChub2RlOiBkMy5IaWVyYXJjaHlOb2RlPE1pbmRNYXBOb2RlPiwgbmV3VGV4dDogc3RyaW5nKSA9PiB2b2lkKSB8IHVuZGVmaW5lZCkge1xuXHRcdHRoaXMucmVuZGVyZXJDb29yZGluYXRvci5vblRleHRDaGFuZ2VkID0gY2FsbGJhY2s7XG5cdH1cblxuXHQvKipcblx0ICogb25EYXRhVXBkYXRlZCBjYWxsYmFjayBnZXR0ZXIvc2V0dGVyXG5cdCAqIEV4cG9zZXMgUmVuZGVyZXJDb29yZGluYXRvcidzIGNhbGxiYWNrIHByb3BlcnR5IGZvciBleHRlcm5hbCB1c2Vcblx0ICovXG5cdGdldCBvbkRhdGFVcGRhdGVkKCkge1xuXHRcdHJldHVybiB0aGlzLnJlbmRlcmVyQ29vcmRpbmF0b3Iub25EYXRhVXBkYXRlZDtcblx0fVxuXG5cdHNldCBvbkRhdGFVcGRhdGVkKGNhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQpIHtcblx0XHR0aGlzLnJlbmRlcmVyQ29vcmRpbmF0b3Iub25EYXRhVXBkYXRlZCA9IGNhbGxiYWNrO1xuXHR9XG59XG4iLCAiLyoqXG4gKiBNb2JpbGUgVHJlZSBSZW5kZXJlclxuICpcbiAqIE1vYmlsZS1zcGVjaWZpYyByZW5kZXJlciB0aGF0IGV4dGVuZHMgRGVza3RvcFRyZWVSZW5kZXJlclxuICogVXNlcyBSZW5kZXJlckNvb3JkaW5hdG9yIHdpdGggbW9iaWxlLXNwZWNpZmljIGZlYXR1cmVzIGVuYWJsZWRcbiAqL1xuXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBNaW5kTWFwQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL3R5cGVzJztcbmltcG9ydCB7IE1pbmRNYXBEYXRhIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRGVza3RvcFRyZWVSZW5kZXJlciB9IGZyb20gJy4vZGVza3RvcC10cmVlLXJlbmRlcmVyJztcbmltcG9ydCB7IE1pbmRNYXBTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvbWluZG1hcC1zZXJ2aWNlJztcbmltcG9ydCB7IE1pbmRNYXBNZXNzYWdlcyB9IGZyb20gJy4uL2kxOG4nO1xuXG4vKipcbiAqIE1vYmlsZSB0cmVlIHJlbmRlcmVyIGNsYXNzXG4gKlxuICogRXh0ZW5kcyBEZXNrdG9wVHJlZVJlbmRlcmVyIHRvIHByb3ZpZGUgbW9iaWxlLXNwZWNpZmljIHJlbmRlcmluZ1xuICpcbiAqIEFyY2hpdGVjdHVyZTpcbiAqIC0gTW9iaWxlVHJlZVJlbmRlcmVyIGV4dGVuZHMgRGVza3RvcFRyZWVSZW5kZXJlclxuICogLSBEZXNrdG9wVHJlZVJlbmRlcmVyIHVzZXMgUmVuZGVyZXJDb29yZGluYXRvclxuICogLSBSZW5kZXJlckNvb3JkaW5hdG9yIGRldGVjdHMgbW9iaWxlIHZpYSBjb25maWcuaXNNb2JpbGVcbiAqIC0gTW9iaWxlLXNwZWNpZmljIGZlYXR1cmVzIGVuYWJsZWQgaW4gUmVuZGVyZXJDb29yZGluYXRvcjpcbiAqICAgLSBNb2JpbGVUb29sYmFyIChlZGl0LCBjb3B5LCBwYXN0ZSwgZGVsZXRlIGJ1dHRvbnMpXG4gKiAgIC0gVG91Y2ggaW50ZXJhY3Rpb25zIChoYW5kbGVkIGJ5IEludGVyYWN0aW9uTWFuYWdlcilcbiAqICAgLSBNb2JpbGUgbGF5b3V0IHBhcmFtZXRlcnNcbiAqXG4gKiBNb2JpbGUtc3BlY2lmaWMgYmVoYXZpb3I6XG4gKiAtIFVzZXMgdG91Y2ggaW50ZXJhY3Rpb25zICh0YXAsIHBpbmNoLCBkcmFnKVxuICogLSBTaG93cyBtb2JpbGUgdG9vbGJhciBvbiBub2RlIHNlbGVjdGlvblxuICogLSBObyArIGJ1dHRvbnMgKHVzZXMgdG9vbGJhciBpbnN0ZWFkKVxuICogLSBPcHRpbWl6ZWQgZm9yIG1vYmlsZSBzY3JlZW4gc2l6ZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE1vYmlsZVRyZWVSZW5kZXJlciBleHRlbmRzIERlc2t0b3BUcmVlUmVuZGVyZXIge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIC0gaW5pdGlhbGl6ZXMgbW9iaWxlIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwIC0gT2JzaWRpYW4gYXBwIGluc3RhbmNlXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2JqZWN0IHdpdGggbW9iaWxlLXNwZWNpZmljIHNldHRpbmdzIChjb25maWcuaXNNb2JpbGUgPSB0cnVlKVxuICAgICAqIEBwYXJhbSBtaW5kTWFwU2VydmljZSAtIE1pbmRNYXAgc2VydmljZSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBtZXNzYWdlcyAtIGkxOG4gbWVzc2FnZXMgb2JqZWN0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGNvbmZpZzogTWluZE1hcENvbmZpZywgbWluZE1hcFNlcnZpY2U6IE1pbmRNYXBTZXJ2aWNlLCBtZXNzYWdlcz86IE1pbmRNYXBNZXNzYWdlcywgaXNBY3RpdmVWaWV3PzogKCkgPT4gYm9vbGVhbikge1xuICAgICAgICAvLyBJbml0aWFsaXplIHdpdGggcGFyZW50IGNsYXNzICh3aGljaCBjcmVhdGVzIFJlbmRlcmVyQ29vcmRpbmF0b3IpXG4gICAgICAgIC8vIFRoZSBjb25maWcuaXNNb2JpbGUgZmxhZyBlbmFibGVzIG1vYmlsZS1zcGVjaWZpYyBmZWF0dXJlc1xuICAgICAgICBzdXBlcihhcHAsIGNvbmZpZywgbWluZE1hcFNlcnZpY2UsIG1lc3NhZ2VzLCBpc0FjdGl2ZVZpZXcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBtaW5kIG1hcCBkYXRhIHdpdGggbW9iaWxlIG9wdGltaXphdGlvbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250YWluZXIgLSBET00gZWxlbWVudCB0byByZW5kZXIgaW50b1xuICAgICAqIEBwYXJhbSBkYXRhIC0gTWluZCBtYXAgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICByZW5kZXIoY29udGFpbmVyOiBFbGVtZW50LCBkYXRhOiBNaW5kTWFwRGF0YSk6IHZvaWQge1xuICAgICAgICAvLyBBZGQgbW9iaWxlLXNwZWNpZmljIENTUyBjbGFzcyB0byBjb250YWluZXJcbiAgICAgICAgLy8gVGhpcyBhY3RpdmF0ZXMgYWxsIHRoZSBtb2JpbGUgc3R5bGVzIGluIHN0eWxlcy5jc3NcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2lzLW1vYmlsZScpO1xuXG4gICAgICAgIC8vIENhbGwgcGFyZW50IGltcGxlbWVudGF0aW9uICh1c2VzIFJlbmRlcmVyQ29vcmRpbmF0b3Igd2l0aCBtb2JpbGUgY29uZmlnKVxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGFpbmVyLCBkYXRhKTtcblxuICAgICAgICAvLyBOb3RlOiBBbGwgbW9iaWxlLXNwZWNpZmljIGJlaGF2aW9yIGlzIGhhbmRsZWQgYnkgUmVuZGVyZXJDb29yZGluYXRvcjpcbiAgICAgICAgLy8gLSBNb2JpbGVUb29sYmFyIGlzIGNyZWF0ZWQgd2hlbiBjb25maWcuaXNNb2JpbGUgPSB0cnVlXG4gICAgICAgIC8vIC0gVG91Y2ggaW50ZXJhY3Rpb25zIGFyZSBoYW5kbGVkIGJ5IEludGVyYWN0aW9uTWFuYWdlclxuICAgICAgICAvLyAtIExheW91dCBwYXJhbWV0ZXJzIHVzZSBtb2JpbGUgY29uZmlnIHZhbHVlc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHJlbmRlcmVyIGFuZCBjbGVhbiB1cCByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAvLyBSZW1vdmUgbW9iaWxlLXNwZWNpZmljIENTUyBjbGFzc1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWluZC1tYXAtY29udGFpbmVyLmlzLW1vYmlsZScpO1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbW9iaWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxsIHBhcmVudCBpbXBsZW1lbnRhdGlvbiAoZGVzdHJveXMgUmVuZGVyZXJDb29yZGluYXRvcilcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsICIvKipcbiAqIFJlbmRlcmVyIE1hbmFnZXJcbiAqXG4gKiBNYW5hZ2VzIHJlbmRlcmVyIHNlbGVjdGlvbiBiYXNlZCBvbiBkZXZpY2UgdHlwZVxuICogSW1wbGVtZW50cyBlYXJseSBicmFuY2hpbmcgcGF0dGVybiB0byBlbnN1cmUgZGVza3RvcCByZW5kZXJlciBpcyBub3QgYWZmZWN0ZWRcbiAqL1xuXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBNaW5kTWFwQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL3R5cGVzJztcbmltcG9ydCB7IE1pbmRNYXBNZXNzYWdlcyB9IGZyb20gJy4uL2kxOG4nO1xuaW1wb3J0IHsgTWluZE1hcFJlbmRlcmVyLCBNaW5kTWFwRGF0YSwgTWluZE1hcE5vZGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21pbmRtYXAtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBEZXNrdG9wVHJlZVJlbmRlcmVyIH0gZnJvbSAnLi9kZXNrdG9wLXRyZWUtcmVuZGVyZXInO1xuaW1wb3J0IHsgTW9iaWxlVHJlZVJlbmRlcmVyIH0gZnJvbSAnLi9tb2JpbGUtdHJlZS1yZW5kZXJlcic7XG5pbXBvcnQgeyBNaW5kTWFwU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL21pbmRtYXAtc2VydmljZSc7XG5cbi8qKlxuICogUmVuZGVyZXIgbWFuYWdlciBjbGFzc1xuICpcbiAqIFJlc3BvbnNpYmlsaXRpZXM6XG4gKiAtIERldGVjdCBkZXZpY2UgdHlwZSBhbmQgc2VsZWN0IGFwcHJvcHJpYXRlIHJlbmRlcmVyXG4gKiAtIFByb3ZpZGUgdW5pZmllZCBpbnRlcmZhY2UgZm9yIHJlbmRlcmVyIG9wZXJhdGlvbnNcbiAqIC0gRW5zdXJlIGRldmljZS1zcGVjaWZpYyByZW5kZXJlcnMgYXJlIGlzb2xhdGVkIChlYXJseSBicmFuY2hpbmcgcGF0dGVybilcbiAqXG4gKiBBcmNoaXRlY3R1cmUgTm90ZTpcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgZWFybHkgYnJhbmNoaW5nIHBhdHRlcm4gd2hlcmUgZGV2aWNlIGRldGVjdGlvblxuICogaGFwcGVucyBvbmNlIGF0IGluaXRpYWxpemF0aW9uIHRpbWUuIFRoZSBtYW5hZ2VyIHdyYXBzIHRoZSBleGlzdGluZyBEM1RyZWVSZW5kZXJlclxuICogdG8gYXZvaWQgY29kZSBkdXBsaWNhdGlvbiBhbmQgbWFpbnRhaW4gYmFja3dhcmQgY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlcmVyTWFuYWdlciBpbXBsZW1lbnRzIE1pbmRNYXBSZW5kZXJlciB7XG4gICAgcHJpdmF0ZSByZW5kZXJlcjogTWluZE1hcFJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IgLSBwZXJmb3JtcyBkZXZpY2UgZGV0ZWN0aW9uIGFuZCBjcmVhdGVzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwIC0gT2JzaWRpYW4gYXBwIGluc3RhbmNlXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZyb20gQ29uZmlnTWFuYWdlclxuICAgICAqIEBwYXJhbSBtaW5kTWFwU2VydmljZSAtIE1pbmRNYXAgc2VydmljZSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBtZXNzYWdlcyAtIEludGVybmF0aW9uYWxpemF0aW9uIG1lc3NhZ2VzIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0gaXNBY3RpdmVWaWV3IC0gQ2FsbGJhY2sgdG8gY2hlY2sgaWYgbWluZG1hcCB2aWV3IGlzIGFjdGl2ZSAob3B0aW9uYWwpXG4gICAgICpcbiAgICAgKiBFYXJseSBCcmFuY2hpbmcgUGF0dGVybjpcbiAgICAgKiBUaGUgZGV2aWNlIGRldGVjdGlvbiBoYXBwZW5zIGhlcmUgYXQgaW5pdGlhbGl6YXRpb24gdGltZSBiYXNlZCBvbiBjb25maWcuaXNNb2JpbGUuXG4gICAgICogVGhpcyBndWFyYW50ZWVzIHRoYXQ6XG4gICAgICogLSBEZXNrdG9wIGRldmljZXMgYWx3YXlzIHVzZSBEZXNrdG9wVHJlZVJlbmRlcmVyXG4gICAgICogLSBNb2JpbGUgZGV2aWNlcyBhbHdheXMgdXNlIE1vYmlsZVRyZWVSZW5kZXJlclxuICAgICAqIC0gTm8gbWl4aW5nIG9mIGNvZGUgcGF0aHMgZHVyaW5nIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBjb25maWc6IE1pbmRNYXBDb25maWcsIG1pbmRNYXBTZXJ2aWNlOiBNaW5kTWFwU2VydmljZSwgbWVzc2FnZXM/OiBNaW5kTWFwTWVzc2FnZXMsIGlzQWN0aXZlVmlldz86ICgpID0+IGJvb2xlYW4pIHtcbiAgICAgICAgLy8gXHVEODNEXHVERDEyIEVBUkxZIEJSQU5DSElORzogRGV2aWNlLXNwZWNpZmljIHJlbmRlcmVyIHNlbGVjdGlvblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBvbmx5IHBsYWNlIHdoZXJlIHdlIGNoZWNrIGRldmljZSB0eXBlIGZvciByZW5kZXJpbmdcbiAgICAgICAgLy8gQWZ0ZXIgdGhpcyBwb2ludCwgdGhlIHJlbmRlcmVyIGlzIGZpeGVkIGFuZCBuZXZlciBjaGFuZ2VzXG5cbiAgICAgICAgaWYgKGNvbmZpZy5pc01vYmlsZSkge1xuICAgICAgICAgICAgLy8gTW9iaWxlIHBhdGg6IFVzZSBtb2JpbGUgcmVuZGVyZXJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgTW9iaWxlVHJlZVJlbmRlcmVyKGFwcCwgY29uZmlnLCBtaW5kTWFwU2VydmljZSwgbWVzc2FnZXMsIGlzQWN0aXZlVmlldyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZXNrdG9wIHBhdGg6IFVzZSBkZXNrdG9wIHJlbmRlcmVyIChleGlzdGluZyBiZWhhdmlvcilcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgRGVza3RvcFRyZWVSZW5kZXJlcihhcHAsIGNvbmZpZywgbWluZE1hcFNlcnZpY2UsIG1lc3NhZ2VzLCBpc0FjdGl2ZVZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1pbmQgbWFwIGRhdGFcbiAgICAgKiBEZWxlZ2F0ZXMgdG8gdGhlIGRldmljZS1zcGVjaWZpYyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRhaW5lciAtIERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvXG4gICAgICogQHBhcmFtIGRhdGEgLSBNaW5kIG1hcCBkYXRhIHN0cnVjdHVyZVxuICAgICAqL1xuICAgIHJlbmRlcihjb250YWluZXI6IEVsZW1lbnQsIGRhdGE6IE1pbmRNYXBEYXRhKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKGNvbnRhaW5lciwgZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgcmVuZGVyZXIgYW5kIGNsZWFuIHVwIHJlc291cmNlc1xuICAgICAqIERlbGVnYXRlcyB0byB0aGUgZGV2aWNlLXNwZWNpZmljIHJlbmRlcmVyXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhY3RpdmUgcmVuZGVyZXIgaW5zdGFuY2VcbiAgICAgKiBVc2VmdWwgZm9yIGRlYnVnZ2luZyBhbmQgdGVzdGluZ1xuICAgICAqL1xuICAgIGdldEFjdGl2ZVJlbmRlcmVyKCk6IE1pbmRNYXBSZW5kZXJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyO1xuICAgIH1cblxuXHQvKipcblx0ICogR2V0IGRldmljZSB0eXBlXG5cdCAqIEByZXR1cm5zIHRydWUgaWYgbW9iaWxlIHJlbmRlcmVyIGlzIGFjdGl2ZSwgZmFsc2UgaWYgZGVza3RvcFxuXHQgKi9cblx0aXNNb2JpbGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMucmVuZGVyZXIgaW5zdGFuY2VvZiBNb2JpbGVUcmVlUmVuZGVyZXI7XG5cdH1cblxuXHQvKipcblx0ICogb25UZXh0Q2hhbmdlZCBjYWxsYmFjayBnZXR0ZXIvc2V0dGVyXG5cdCAqIERlbGVnYXRlcyB0byB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgKERlc2t0b3BUcmVlUmVuZGVyZXIgb3IgTW9iaWxlVHJlZVJlbmRlcmVyKVxuXHQgKi9cblx0Z2V0IG9uVGV4dENoYW5nZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVuZGVyZXIub25UZXh0Q2hhbmdlZDtcblx0fVxuXG5cdHNldCBvblRleHRDaGFuZ2VkKGNhbGxiYWNrOiAoKG5vZGU6IGQzLkhpZXJhcmNoeU5vZGU8TWluZE1hcE5vZGU+LCBuZXdUZXh0OiBzdHJpbmcpID0+IHZvaWQpIHwgdW5kZWZpbmVkKSB7XG5cdFx0dGhpcy5yZW5kZXJlci5vblRleHRDaGFuZ2VkID0gY2FsbGJhY2s7XG5cdH1cblxuXHQvKipcblx0ICogb25EYXRhVXBkYXRlZCBjYWxsYmFjayBnZXR0ZXIvc2V0dGVyXG5cdCAqIERlbGVnYXRlcyB0byB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgKERlc2t0b3BUcmVlUmVuZGVyZXIgb3IgTW9iaWxlVHJlZVJlbmRlcmVyKVxuXHQgKi9cblx0Z2V0IG9uRGF0YVVwZGF0ZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVuZGVyZXIub25EYXRhVXBkYXRlZDtcblx0fVxuXG5cdHNldCBvbkRhdGFVcGRhdGVkKGNhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQpIHtcblx0XHR0aGlzLnJlbmRlcmVyLm9uRGF0YVVwZGF0ZWQgPSBjYWxsYmFjaztcblx0fVxufVxuIiwgIi8qKlxuICogTWluZCBNYXAgU2VydmljZVxuICpcbiAqIENlbnRyYWwgY29vcmRpbmF0aW9uIHNlcnZpY2UgZm9yIG1pbmQgbWFwIGZ1bmN0aW9uYWxpdHlcbiAqIFByb3ZpZGVzIGhpZ2gtbGV2ZWwgQVBJIGFuZCBjb29yZGluYXRlcyBiZXR3ZWVuIGRpZmZlcmVudCBtb2R1bGVzXG4gKi9cblxuaW1wb3J0IHsgQXBwLCBOb3RpY2UsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWluZE1hcERhdGEsIE1pbmRNYXBOb2RlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9taW5kbWFwLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRDNGaWxlSGFuZGxlciB9IGZyb20gJy4uL2hhbmRsZXJzL2ZpbGUtaGFuZGxlcic7XG5pbXBvcnQgeyBMYXlvdXRDYWxjdWxhdG9yIH0gZnJvbSAnLi4vcmVuZGVyZXJzL2xheW91dC1jYWxjdWxhdG9yJztcbmltcG9ydCB7IHBhcnNlTWFya2Rvd25Db250ZW50LCBnZW5lcmF0ZU1hcmtkb3duRnJvbU5vZGVzIH0gZnJvbSAnLi4vdXRpbHMvbWluZG1hcC11dGlscyc7XG5pbXBvcnQgeyBNaW5kTWFwQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL3R5cGVzJztcbmltcG9ydCB7IEFJQ2xpZW50LCBOb2RlQ29udGV4dCB9IGZyb20gJy4uL3V0aWxzL2FpLWNsaWVudCc7XG5pbXBvcnQgeyBNaW5kTWFwU2V0dGluZ3MgfSBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IGNyZWF0ZUkxOG5NYW5hZ2VyIH0gZnJvbSAnLi4vaTE4bic7XG5pbXBvcnQgdHlwZSB7IE1pbmRNYXBNZXNzYWdlcyB9IGZyb20gJy4uL2kxOG4nO1xuXG4vKipcbiAqIE1pbmQgTWFwIFNlcnZpY2UgLSBjb29yZGluYXRlcyBhbGwgbWluZCBtYXAgb3BlcmF0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgTWluZE1hcFNlcnZpY2Uge1xuICAgIHByaXZhdGUgYXBwOiBBcHA7XG4gICAgcHJpdmF0ZSBmaWxlSGFuZGxlcjogRDNGaWxlSGFuZGxlcjtcbiAgICBwcml2YXRlIGxheW91dENhbGN1bGF0b3I6IExheW91dENhbGN1bGF0b3I7XG4gICAgcHJpdmF0ZSBjb25maWc6IE1pbmRNYXBDb25maWc7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncz86IE1pbmRNYXBTZXR0aW5ncztcbiAgICBwcml2YXRlIGFpQ2xpZW50PzogQUlDbGllbnQ7XG4gICAgcHJpdmF0ZSBtZXNzYWdlczogTWluZE1hcE1lc3NhZ2VzO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGNvbmZpZzogTWluZE1hcENvbmZpZywgc2V0dGluZ3M/OiBNaW5kTWFwU2V0dGluZ3MsIGFpQ2xpZW50PzogQUlDbGllbnQpIHtcbiAgICAgICAgLy8gU3RvcmUgYXBwIGluc3RhbmNlIGZvciBzaG93aW5nIG5vdGljZXNcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG5cbiAgICAgICAgLy8gUGhhc2UgMTogU3RvcmUgY29uZmlnIGZvciBmdXR1cmUgdXNlXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuYWlDbGllbnQgPSBhaUNsaWVudDtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGkxOG4gd2l0aCBsYW5ndWFnZSBmcm9tIGNvbmZpZyBvciBzZXR0aW5nc1xuICAgICAgICBjb25zdCBsYW5ndWFnZSA9IGNvbmZpZy5sYW5ndWFnZSB8fCBzZXR0aW5ncz8ubGFuZ3VhZ2UgfHwgJ2VuJztcbiAgICAgICAgY29uc3QgaTE4bk1hbmFnZXIgPSBjcmVhdGVJMThuTWFuYWdlcihsYW5ndWFnZSk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBpMThuTWFuYWdlci5nZXRNZXNzYWdlcygpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgaGFuZGxlcnMgYW5kIGNhbGN1bGF0b3JzIChQaGFzZSAxOiBubyBjb25maWcgdXNhZ2UgeWV0KVxuICAgICAgICB0aGlzLmZpbGVIYW5kbGVyID0gbmV3IEQzRmlsZUhhbmRsZXIoYXBwKTtcbiAgICAgICAgdGhpcy5sYXlvdXRDYWxjdWxhdG9yID0gbmV3IExheW91dENhbGN1bGF0b3IoKTtcblxuICAgICAgICAvLyBUT0RPOiBQaGFzZSAyIC0gUGFzcyBjb25maWcgdG8gaGFuZGxlcnMgZm9yIGRldmljZS1zcGVjaWZpYyBiZWhhdmlvclxuICAgICAgICAvLyB0aGlzLmZpbGVIYW5kbGVyID0gbmV3IEQzRmlsZUhhbmRsZXIoYXBwLCBjb25maWcpO1xuICAgICAgICAvLyB0aGlzLmxheW91dENhbGN1bGF0b3IgPSBuZXcgTGF5b3V0Q2FsY3VsYXRvcihjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzZXR0aW5ncyBhbmQgQUkgY2xpZW50XG4gICAgICovXG4gICAgdXBkYXRlU2V0dGluZ3Moc2V0dGluZ3M6IE1pbmRNYXBTZXR0aW5ncywgYWlDbGllbnQ6IEFJQ2xpZW50KSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5haUNsaWVudCA9IGFpQ2xpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBsYW5ndWFnZSB3aGVuIHVzZXIgY2hhbmdlcyBzZXR0aW5nc1xuICAgICAqL1xuICAgIHVwZGF0ZUxhbmd1YWdlKGxhbmd1YWdlOiAnZW4nIHwgJ3poJyk6IHZvaWQge1xuICAgICAgICBjb25zdCBpMThuTWFuYWdlciA9IGNyZWF0ZUkxOG5NYW5hZ2VyKGxhbmd1YWdlKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IGkxOG5NYW5hZ2VyLmdldE1lc3NhZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBmaWxlIHNob3VsZCBiZSBkaXNwbGF5ZWQgYXMgYSBtaW5kIG1hcFxuICAgICAqL1xuICAgIGFzeW5jIGlzTWluZE1hcEZpbGUoZmlsZTogVEZpbGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZUhhbmRsZXIuaXNNaW5kTWFwRmlsZShmaWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGFuZCBwYXJzZSBtaW5kIG1hcCBkYXRhIGZyb20gYSBmaWxlXG4gICAgICovXG4gICAgYXN5bmMgbG9hZE1pbmRNYXBEYXRhKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxNaW5kTWFwRGF0YT4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5maWxlSGFuZGxlci5sb2FkRmlsZUNvbnRlbnQoZmlsZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVIYW5kbGVyLnBhcnNlTWFya2Rvd25Ub0RhdGEoY29udGVudCwgZmlsZS5wYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIG1pbmQgbWFwIGRhdGEgdG8gYSBmaWxlXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZU1pbmRNYXBEYXRhKGZpbGVQYXRoOiBzdHJpbmcsIHJvb3ROb2RlOiBNaW5kTWFwTm9kZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmZpbGVIYW5kbGVyLnNhdmVUb01hcmtkb3duRmlsZShmaWxlUGF0aCwgcm9vdE5vZGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmUgbWluZCBtYXAgZGF0YSB0byBtYXJrZG93biBmaWxlIChhbGlhcyBmb3Igc2F2ZU1pbmRNYXBEYXRhKVxuICAgICAqL1xuICAgIGFzeW5jIHNhdmVUb01hcmtkb3duRmlsZShmaWxlUGF0aDogc3RyaW5nLCByb290Tm9kZTogTWluZE1hcE5vZGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5maWxlSGFuZGxlci5zYXZlVG9NYXJrZG93bkZpbGUoZmlsZVBhdGgsIHJvb3ROb2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBtYXJrZG93biBjb250ZW50IHRvIG1pbmQgbWFwIG5vZGVzXG4gICAgICovXG4gICAgcGFyc2VNYXJrZG93blRvTm9kZXMoY29udGVudDogc3RyaW5nKTogTWluZE1hcE5vZGVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVIYW5kbGVyLnBhcnNlTWFya2Rvd25Ub05vZGVzKGNvbnRlbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIG1hcmtkb3duIGNvbnRlbnQgdG8gY29tcGxldGUgbWluZCBtYXAgZGF0YVxuICAgICAqL1xuICAgIHBhcnNlTWFya2Rvd25Ub0RhdGEoY29udGVudDogc3RyaW5nLCBmaWxlUGF0aDogc3RyaW5nKTogTWluZE1hcERhdGEge1xuICAgICAgICByZXR1cm4gcGFyc2VNYXJrZG93bkNvbnRlbnQoY29udGVudCwgZmlsZVBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIG1hcmtkb3duIGNvbnRlbnQgZnJvbSBub2Rlc1xuICAgICAqL1xuICAgIGdlbmVyYXRlTWFya2Rvd25Gcm9tTm9kZXMocm9vdE5vZGU6IE1pbmRNYXBOb2RlKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlTWFya2Rvd25Gcm9tTm9kZXMocm9vdE5vZGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBsYXlvdXQgY2FsY3VsYXRvclxuICAgICAqL1xuICAgIGdldExheW91dENhbGN1bGF0b3IoKTogTGF5b3V0Q2FsY3VsYXRvciB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheW91dENhbGN1bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgaGFuZGxlclxuICAgICAqL1xuICAgIGdldEZpbGVIYW5kbGVyKCk6IEQzRmlsZUhhbmRsZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxlSGFuZGxlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgbWluZCBtYXAgZmlsZVxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZU1pbmRNYXBGaWxlKGZpbGVQYXRoOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpOiBQcm9taXNlPFRGaWxlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGVIYW5kbGVyLmNyZWF0ZU1pbmRNYXBGaWxlKGZpbGVQYXRoLCB0aXRsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZmlsZSBleGlzdHNcbiAgICAgKi9cbiAgICBmaWxlRXhpc3RzKGZpbGVQYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZUhhbmRsZXIuZmlsZUV4aXN0cyhmaWxlUGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNoaWxkIG5vZGUgZm9yIHRoZSBnaXZlbiBwYXJlbnQgbm9kZVxuICAgICAqL1xuICAgIGNyZWF0ZUNoaWxkTm9kZShwYXJlbnROb2RlOiBNaW5kTWFwTm9kZSwgY2hpbGRUZXh0ID0gXCJOZXcgTm9kZVwiKTogTWluZE1hcE5vZGUge1xuICAgICAgICBjb25zdCBjaGlsZE5vZGU6IE1pbmRNYXBOb2RlID0ge1xuICAgICAgICAgICAgdGV4dDogY2hpbGRUZXh0LFxuICAgICAgICAgICAgbGV2ZWw6IHBhcmVudE5vZGUubGV2ZWwgKyAxLFxuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnROb2RlLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgZXhwYW5kZWQ6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICBob3ZlcmVkOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW4ucHVzaChjaGlsZE5vZGUpO1xuICAgICAgICByZXR1cm4gY2hpbGROb2RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBzaWJsaW5nIG5vZGUgYWZ0ZXIgdGhlIGdpdmVuIG5vZGVcbiAgICAgKiAoYXQgdGhlIHNhbWUgbGV2ZWwsIHdpdGggdGhlIHNhbWUgcGFyZW50KVxuICAgICAqL1xuICAgIGNyZWF0ZVNpYmxpbmdOb2RlKGFmdGVyTm9kZTogTWluZE1hcE5vZGUsIHNpYmxpbmdUZXh0ID0gXCJOZXcgTm9kZVwiKTogTWluZE1hcE5vZGUgfCBudWxsIHtcbiAgICAgICAgLy8gQ2Fubm90IGNyZWF0ZSBzaWJsaW5nIGZvciByb290IG5vZGVcbiAgICAgICAgaWYgKCFhZnRlck5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNpYmxpbmdOb2RlOiBNaW5kTWFwTm9kZSA9IHtcbiAgICAgICAgICAgIHRleHQ6IHNpYmxpbmdUZXh0LFxuICAgICAgICAgICAgbGV2ZWw6IGFmdGVyTm9kZS5sZXZlbCwgIC8vIFNhbWUgbGV2ZWwgYXMgc2libGluZ1xuICAgICAgICAgICAgcGFyZW50OiBhZnRlck5vZGUucGFyZW50LFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgZXhwYW5kZWQ6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICBob3ZlcmVkOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IG5vZGUgaW4gcGFyZW50J3MgY2hpbGRyZW4gYXJyYXlcbiAgICAgICAgY29uc3QgcGFyZW50ID0gYWZ0ZXJOb2RlLnBhcmVudDtcbiAgICAgICAgY29uc3QgY2hpbGRJbmRleCA9IHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKGFmdGVyTm9kZSk7XG5cbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBuZXcgc2libGluZyBhZnRlciB0aGUgY3VycmVudCBub2RlXG4gICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCArIDEsIDAsIHNpYmxpbmdOb2RlKTtcblxuICAgICAgICByZXR1cm4gc2libGluZ05vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgbm9kZSBhbmQgYWxsIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseVxuICAgICAqL1xuICAgIGRlbGV0ZU5vZGUobm9kZVRvRGVsZXRlOiBNaW5kTWFwTm9kZSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIW5vZGVUb0RlbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gXHU0RTBEXHU4MEZEXHU1MjIwXHU5NjY0XHU2ODM5XHU4MjgyXHU3MEI5XG4gICAgICAgIGlmIChub2RlVG9EZWxldGUubGV2ZWwgPT09IDApIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFx1MjZBMFx1RkUwRiAke3RoaXMubWVzc2FnZXMubm90aWNlcy5jYW5ub3REZWxldGVSb290fWAsIDMwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZVRvRGVsZXRlLnBhcmVudDtcbiAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFx1MjZBMFx1RkUwRiAke3RoaXMubWVzc2FnZXMubm90aWNlcy5jYW5ub3REZWxldGVOb1BhcmVudH1gLCAzMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFx1NEVDRVx1NzIzNlx1ODI4Mlx1NzBCOVx1NzY4NGNoaWxkcmVuXHU2NTcwXHU3RUM0XHU0RTJEXHU3OUZCXHU5NjY0XHU4QkU1XHU4MjgyXHU3MEI5XG4gICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihub2RlVG9EZWxldGUpO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGRlc2NlbmRhbnRzIG9mIGEgbm9kZSAoaW5jbHVkaW5nIHRoZSBub2RlIGl0c2VsZilcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEFsbERlc2NlbmRhbnRzKG5vZGU6IE1pbmRNYXBOb2RlKTogTWluZE1hcE5vZGVbXSB7XG4gICAgICAgIGNvbnN0IGRlc2NlbmRhbnRzOiBNaW5kTWFwTm9kZVtdID0gW25vZGVdO1xuXG4gICAgICAgIGNvbnN0IGNvbGxlY3REZXNjZW5kYW50cyA9IChjdXJyZW50Tm9kZTogTWluZE1hcE5vZGUpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY3VycmVudE5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBkZXNjZW5kYW50cy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0RGVzY2VuZGFudHMoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbGxlY3REZXNjZW5kYW50cyhub2RlKTtcbiAgICAgICAgcmV0dXJuIGRlc2NlbmRhbnRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYWxsTm9kZXMgYXJyYXkgYWZ0ZXIgZGVsZXRpb25cbiAgICAgKi9cbiAgICB1cGRhdGVBbGxOb2Rlc0FycmF5KHJvb3ROb2RlOiBNaW5kTWFwTm9kZSk6IE1pbmRNYXBOb2RlW10ge1xuICAgICAgICBjb25zdCBhbGxOb2RlczogTWluZE1hcE5vZGVbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkQXJyYXkgPSAobm9kZTogTWluZE1hcE5vZGUpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGFsbE5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBub2RlLmNoaWxkcmVuLmZvckVhY2goYnVpbGRBcnJheSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYnVpbGRBcnJheShyb290Tm9kZSk7XG4gICAgICAgIHJldHVybiBhbGxOb2RlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWdnZXN0IGNoaWxkIG5vZGVzIGZvciBhIGdpdmVuIG5vZGUgdXNpbmcgQUlcbiAgICAgKiBAcGFyYW0gbm9kZSBUaGUgcGFyZW50IG5vZGVcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzdWdnZXN0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIHN1Z2dlc3RDaGlsZE5vZGVzKG5vZGU6IE1pbmRNYXBOb2RlKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgICAgICBpZiAoIXRoaXMuYWlDbGllbnQgfHwgIXRoaXMuc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQUkgY2xpZW50IG9yIHNldHRpbmdzIG5vdCBjb25maWd1cmVkJyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIENvbGxlY3QgY29udGV4dCBpbmZvcm1hdGlvblxuICAgICAgICBjb25zdCBjb250ZXh0OiBOb2RlQ29udGV4dCA9IHtcbiAgICAgICAgICAgIG5vZGVUZXh0OiBub2RlLnRleHQsXG4gICAgICAgICAgICBsZXZlbDogbm9kZS5sZXZlbCxcbiAgICAgICAgICAgIHBhcmVudDogbm9kZS5wYXJlbnQ/LnRleHQsXG4gICAgICAgICAgICBzaWJsaW5nczogbm9kZS5wYXJlbnQ/LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgLmZpbHRlcihjID0+IGMgIT09IG5vZGUpXG4gICAgICAgICAgICAgICAgLm1hcChjID0+IGMudGV4dCksXG4gICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuOiBub2RlLmNoaWxkcmVuLm1hcChjID0+IGMudGV4dCksXG4gICAgICAgICAgICBjZW50cmFsVG9waWM6IHRoaXMuZ2V0Q2VudHJhbFRvcGljKG5vZGUpXG4gICAgICAgIH07XG5cblxuICAgICAgICAvLyBHZXQgcHJvbXB0IHRlbXBsYXRlIGZyb20gc2V0dGluZ3NcbiAgICAgICAgY29uc3QgcHJvbXB0VGVtcGxhdGUgPSB0aGlzLnNldHRpbmdzLmFpUHJvbXB0VGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2UgPSB0aGlzLnNldHRpbmdzLmFpU3lzdGVtTWVzc2FnZTtcblxuXG4gICAgICAgIC8vIENhbGwgQUkgY2xpZW50XG4gICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gYXdhaXQgdGhpcy5haUNsaWVudC5zdWdnZXN0Q2hpbGROb2Rlcyhjb250ZXh0LCBwcm9tcHRUZW1wbGF0ZSwgc3lzdGVtTWVzc2FnZSk7XG5cblxuICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBBSSBjbGllbnRcbiAgICAgKi9cbiAgICBnZXRBSUNsaWVudCgpOiBBSUNsaWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmFpQ2xpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjZW50cmFsIHRvcGljIChyb290IG5vZGUgdGV4dCkgZnJvbSBhbnkgbm9kZVxuICAgICAqIEBwYXJhbSBub2RlIEFueSBub2RlIGluIHRoZSBtaW5kIG1hcFxuICAgICAqIEByZXR1cm5zIFJvb3Qgbm9kZSB0ZXh0IChjZW50cmFsIHRvcGljKVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0Q2VudHJhbFRvcGljKG5vZGU6IE1pbmRNYXBOb2RlKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBub2RlO1xuICAgICAgICB3aGlsZSAoY3VycmVudC5wYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudC50ZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFx1NUMwNlx1NUI1MFx1NjgxMVx1NUU4Rlx1NTIxN1x1NTMxNlx1NEUzQW1hcmtkb3duXHU2NTg3XHU2NzJDXHU2ODNDXHU1RjBGXG4gICAgICogQHBhcmFtIHJvb3ROb2RlIFx1NUI1MFx1NjgxMVx1NzY4NFx1NjgzOVx1ODI4Mlx1NzBCOVxuICAgICAqIEByZXR1cm5zIG1hcmtkb3duXHU2ODNDXHU1RjBGXHU3Njg0XHU2NTg3XHU2NzJDXG4gICAgICovXG4gICAgc2VyaWFsaXplU3VidHJlZVRvTWFya2Rvd24ocm9vdE5vZGU6IE1pbmRNYXBOb2RlKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZTogTWluZE1hcE5vZGUsIGRlcHRoOiBudW1iZXIpIHtcbiAgICAgICAgICAgIC8vIFx1NzUxRlx1NjIxMFx1N0YyOVx1OEZEQig0XHU0RTJBXHU3QTdBXHU2ODNDICogKGRlcHRoIC0gMSkpXG4gICAgICAgICAgICBjb25zdCBpbmRlbnQgPSAnICAgICcucmVwZWF0KGRlcHRoIC0gMSk7XG4gICAgICAgICAgICAvLyBcdTc1MUZcdTYyMTBtYXJrZG93blx1ODg0Q1xuICAgICAgICAgICAgbGluZXMucHVzaChgJHtpbmRlbnR9KiAke25vZGUudGV4dH1gKTtcblxuICAgICAgICAgICAgLy8gXHU5MDEyXHU1RjUyXHU1OTA0XHU3NDA2XHU1QjUwXHU4MjgyXHU3MEI5XG4gICAgICAgICAgICBub2RlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gdHJhdmVyc2UoY2hpbGQsIGRlcHRoICsgMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhdmVyc2Uocm9vdE5vZGUsIDEpO1xuICAgICAgICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXHU0RUNFbWFya2Rvd25cdTY1ODdcdTY3MkNcdTUyMUJcdTVFRkFcdTVCNTBcdTY4MTFcbiAgICAgKiBAcGFyYW0gbWFya2Rvd24gbWFya2Rvd25cdTY4M0NcdTVGMEZcdTc2ODRcdTY1ODdcdTY3MkNcbiAgICAgKiBAcGFyYW0gcGFyZW50TGV2ZWwgXHU3MjM2XHU4MjgyXHU3MEI5XHU3Njg0XHU1QzQyXHU3RUE3XG4gICAgICogQHJldHVybnMgXHU1QjUwXHU2ODExXHU3Njg0XHU2ODM5XHU4MjgyXHU3MEI5LFx1NTk4Mlx1Njc5Q1x1ODlFM1x1Njc5MFx1NTkzMVx1OEQyNVx1OEZENFx1NTZERW51bGxcbiAgICAgKi9cbiAgICBjcmVhdGVTdWJ0cmVlRnJvbU1hcmtkb3duKG1hcmtkb3duOiBzdHJpbmcsIHBhcmVudExldmVsOiBudW1iZXIpOiBNaW5kTWFwTm9kZSB8IG51bGwge1xuICAgICAgICBjb25zdCBsaW5lcyA9IG1hcmtkb3duLnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKS5sZW5ndGggPiAwKTtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgbGV0IHJvb3ROb2RlOiBNaW5kTWFwTm9kZSB8IG51bGwgPSBudWxsO1xuICAgICAgICBjb25zdCBzdGFjazogeyBub2RlOiBNaW5kTWFwTm9kZTsgbGV2ZWw6IG51bWJlciB9W10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgIC8vIFx1OEJBMVx1N0I5N1x1NUY1M1x1NTI0RFx1ODg0Q1x1NzY4NFx1N0YyOVx1OEZEQlx1N0VBN1x1NTIyQlxuICAgICAgICAgICAgY29uc3QgaW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBNYXRoLmZsb29yKGluZGVudCAvIDQpICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBsaW5lLnRyaW0oKS5zdWJzdHJpbmcoMSkudHJpbSgpOyAvLyBcdTc5RkJcdTk2NjQgJyonXG5cbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGU6IE1pbmRNYXBOb2RlID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IHBhcmVudExldmVsICsgbGV2ZWwsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgICAgICBleHBhbmRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaG92ZXJlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFx1NjI3RVx1NTIzMFx1NzIzNlx1ODI4Mlx1NzBCOVxuICAgICAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDAgJiYgc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0ubGV2ZWwgPj0gbGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5ub2RlO1xuICAgICAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKG5ld05vZGUpO1xuICAgICAgICAgICAgICAgIG5ld05vZGUucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb290Tm9kZSA9IG5ld05vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YWNrLnB1c2goeyBub2RlOiBuZXdOb2RlLCBsZXZlbCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb290Tm9kZTtcbiAgICB9XG59IiwgIi8qKlxuICogTWluZCBNYXAgRmlsZSBIYW5kbGVyXG4gKlxuICogSGFuZGxlcyBmaWxlIG9wZXJhdGlvbnMgZm9yIG1pbmQgbWFwIGZ1bmN0aW9uYWxpdHlcbiAqL1xuXG5pbXBvcnQgeyBURmlsZSwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWluZE1hcEZpbGVIYW5kbGVyLCBNaW5kTWFwRGF0YSwgTWluZE1hcE5vZGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzL21pbmRtYXAtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBwYXJzZU1hcmtkb3duQ29udGVudCwgZ2VuZXJhdGVNYXJrZG93bkZyb21Ob2RlcywgaXNNaW5kTWFwRmlsZSB9IGZyb20gJy4uL3V0aWxzL21pbmRtYXAtdXRpbHMnO1xuXG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIE1pbmRNYXBGaWxlSGFuZGxlclxuICovXG5leHBvcnQgY2xhc3MgRDNGaWxlSGFuZGxlciBpbXBsZW1lbnRzIE1pbmRNYXBGaWxlSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcDogQXBwKSB7XG5cdFx0Ly8gSW5zdGFuY2UgdmFyaWFibGUgaXMgdXNlZCBpbiBjbGFzcyBtZXRob2RzXG5cdH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgZmlsZSBzaG91bGQgYmUgZGlzcGxheWVkIGFzIGEgbWluZCBtYXBcbiAgICAgKi9cbiAgICBhc3luYyBpc01pbmRNYXBGaWxlKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGlmIChmaWxlLmV4dGVuc2lvbiAhPT0gJ21kJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgcmV0dXJuIGlzTWluZE1hcEZpbGUoY29udGVudCwgZmlsZS5leHRlbnNpb24pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIGlmIGZpbGUgaXMgbWluZCBtYXA6JywgZmlsZS5wYXRoLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGZpbGUgY29udGVudFxuICAgICAqL1xuICAgIGFzeW5jIGxvYWRGaWxlQ29udGVudChmaWxlOiBURmlsZSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGZpbGU6ICR7ZmlsZS5wYXRofWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgbWFya2Rvd24gY29udGVudCB0byBtaW5kIG1hcCBub2Rlc1xuICAgICAqL1xuICAgIHBhcnNlTWFya2Rvd25Ub05vZGVzKGNvbnRlbnQ6IHN0cmluZyk6IE1pbmRNYXBOb2RlW10ge1xuICAgICAgICBjb25zdCB7IGFsbE5vZGVzIH0gPSBwYXJzZU1hcmtkb3duQ29udGVudChjb250ZW50LCAndW5rbm93bi5tZCcpO1xuICAgICAgICByZXR1cm4gYWxsTm9kZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgbWFya2Rvd24gY29udGVudCB0byBjb21wbGV0ZSBtaW5kIG1hcCBkYXRhXG4gICAgICovXG4gICAgcGFyc2VNYXJrZG93blRvRGF0YShjb250ZW50OiBzdHJpbmcsIGZpbGVQYXRoOiBzdHJpbmcpOiBNaW5kTWFwRGF0YSB7XG4gICAgICAgIHJldHVybiBwYXJzZU1hcmtkb3duQ29udGVudChjb250ZW50LCBmaWxlUGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZSBtaW5kIG1hcCBkYXRhIHRvIG1hcmtkb3duIGZpbGVcbiAgICAgKi9cbiAgICBhc3luYyBzYXZlVG9NYXJrZG93bkZpbGUoZmlsZVBhdGg6IHN0cmluZywgcm9vdE5vZGU6IE1pbmRNYXBOb2RlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gZ2VuZXJhdGVNYXJrZG93bkZyb21Ob2Rlcyhyb290Tm9kZSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcblxuICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSB2YXVsdC5wcm9jZXNzKCkgZm9yIGF0b21pYyBtb2RpZmljYXRpb25cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5wcm9jZXNzKGZpbGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0NvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmlsZSBub3QgZm91bmQ6ICR7ZmlsZVBhdGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBmaWxlOiAke2ZpbGVQYXRofWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IG1pbmQgbWFwIGZpbGVcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVNaW5kTWFwRmlsZShmaWxlUGF0aDogc3RyaW5nLCB0aXRsZTogc3RyaW5nKTogUHJvbWlzZTxURmlsZT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGAjbWluZG1hcFxuXG4qICR7dGl0bGV9XG5gO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgY29udGVudCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGZpbGU6ICR7ZmlsZVBhdGh9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBmaWxlIGV4aXN0c1xuICAgICAqL1xuICAgIGZpbGVFeGlzdHMoZmlsZVBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKSAhPT0gbnVsbDtcbiAgICB9XG59IiwgIi8qKlxuICogRW5nbGlzaCBMYW5ndWFnZSBQYWNrXG4gKiBEZWZhdWx0IGxhbmd1YWdlIGZvciBvcGVuTWluZE1hcCBwbHVnaW5cbiAqL1xuXG5pbXBvcnQgeyBNaW5kTWFwTWVzc2FnZXMgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGVuOiBNaW5kTWFwTWVzc2FnZXMgPSB7XG5cdC8vID09PT09PT09PT09PT09PT09PT09IE5vdGljZXMgKFx1OTAxQVx1NzdFNVx1NkQ4OFx1NjA2RikgPT09PT09PT09PT09PT09PT09PT1cblx0bm90aWNlczoge1xuXHRcdC8vIEZpbGUgb3BlcmF0aW9uc1xuXHRcdGZpbGVDcmVhdGVkOiAnXHUyNzA1IENyZWF0ZWQgbmV3IG1pbmRtYXAgZmlsZToge2ZpbGVOYW1lfScsXG5cdFx0ZmlsZUNyZWF0ZUZhaWxlZDogJ1x1Mjc0QyBGYWlsZWQgdG8gY3JlYXRlIGZpbGUnLFxuXHRcdGZpbGVDcmVhdGVFcnJvcjogJ1x1Mjc0QyBGYWlsZWQgdG8gY3JlYXRlIGZpbGU6IHtlcnJvcn0nLFxuXG5cdFx0Ly8gTm9kZSBvcGVyYXRpb25zXG5cdFx0bm9kZURlbGV0ZWQ6ICdOb2RlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyxcblx0XHRjYW5ub3REZWxldGVSb290OiAnXHUyNkEwXHVGRTBGIENlbnRyYWwgdG9waWMgKHJvb3Qgbm9kZSkgY2Fubm90IGJlIGRlbGV0ZWQnLFxuXHRcdGNhbm5vdERlbGV0ZU5vUGFyZW50OiAnXHUyNkEwXHVGRTBGIE5vZGUgaGFzIG5vIHBhcmVudCwgY2Fubm90IGRlbGV0ZScsXG5cdFx0bm9kZUNyZWF0ZWQ6ICdDcmVhdGVkOiB7bm9kZVRleHR9Jyxcblx0XHRub2RlQ3JlYXRlRmFpbGVkOiAnRmFpbGVkIHRvIGNyZWF0ZSBub2RlOiB7ZXJyb3J9JyxcblxuXHRcdC8vIEVkaXRpbmcgb3BlcmF0aW9uc1xuXHRcdG5vZGVUZXh0Q29waWVkOiAnTm9kZSB0ZXh0IGNvcGllZCB0byBjbGlwYm9hcmQnLFxuXHRcdGNvcHlGYWlsZWQ6ICdDb3B5IGZhaWxlZCwgcGxlYXNlIGNvcHkgbWFudWFsbHknLFxuXHRcdGFscmVhZHlBZGRlZDogJ0FscmVhZHkgYWRkZWQ6IHtub2RlVGV4dH0nLFxuXG5cdFx0Ly8gQUkgb3BlcmF0aW9uc1xuXHRcdGFpQW5hbHl6aW5nOiAnXHVEODNFXHVERDE2IEFJIGlzIGFuYWx5emluZyBcIntub2RlVGV4dH1cIi4uLicsXG5cdFx0YWlOb1N1Z2dlc3Rpb25zOiAnTm8gc3VnZ2VzdGlvbnMgZ2VuZXJhdGVkLiBUcnkgcmVwaHJhc2luZyB5b3VyIHByb21wdC4nLFxuXHRcdGFpRmFpbGVkOiAnXHUyNzRDIEFJIHN1Z2dlc3Rpb25zIGZhaWxlZDoge2Vycm9yfScsXG5cblx0XHQvLyBTZXR0aW5nc1xuXHRcdGFwaUNvbm5lY3Rpb25TdWNjZXNzOiAnXHUyNzA1IEFQSSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwhJyxcblx0XHRhcGlDb25uZWN0aW9uRmFpbGVkOiAnXHUyNzRDIEFQSSBjb25uZWN0aW9uIGZhaWxlZC4gQ2hlY2sgc2V0dGluZ3MgZm9yIGRldGFpbHMuJyxcblx0XHRhcGlUZXN0VGltZW91dDogJ1JlcXVlc3QgdGltZW91dCBhZnRlciAxMCBzZWNvbmRzLiBUaGUgQVBJIHNlcnZlciBpcyBub3QgcmVzcG9uZGluZy4gUGxlYXNlIGNoZWNrIHlvdXIgbmV0d29yayBjb25uZWN0aW9uIGFuZCBBUEkgVVJMLicsXG5cdFx0cHJvbXB0c1Jlc2V0OiAnXHUyNzA1IFByb21wdCB0ZW1wbGF0ZXMgcmVzZXQgdG8gZGVmYXVsdCcsXG5cdFx0ZGV2aWNlVHlwZUNoYW5nZWQ6ICdEZXZpY2UgdHlwZSBjaGFuZ2VkLiBSZWxvYWQgT2JzaWRpYW4gdG8gYXBwbHkgY2hhbmdlcy4nLFxuXHRcdGNvbm5lY3Rpb25UZXN0RmFpbGVkOiAnXHUyNzRDIENvbm5lY3Rpb24gdGVzdCBmYWlsZWQnLFxuXG5cdFx0Ly8gTGFuZ3VhZ2Vcblx0XHRsYW5ndWFnZUNoYW5nZWQ6ICdMYW5ndWFnZSBjaGFuZ2VkIHRvIHtsYW5ndWFnZX0uIFJlbG9hZCBPYnNpZGlhbiB0byBhcHBseSBjaGFuZ2VzLicsXG5cblx0XHQvLyBFZGl0aW5nXG5cdFx0ZWRpdFN1Y2Nlc3M6ICdOb2RlIHRleHQgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuXHR9LFxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09IEVycm9ycyAoXHU5NTE5XHU4QkVGXHU2RDg4XHU2MDZGKSA9PT09PT09PT09PT09PT09PT09PVxuXHRlcnJvcnM6IHtcblx0XHQvLyBGaWxlIGVycm9yc1xuXHRcdGZpbGVOb3RGb3VuZDogJ0Vycm9yOiBGaWxlIG5vdCBmb3VuZDoge2ZpbGVQYXRofScsXG5cdFx0ZmlsZUxvYWRFcnJvcjogJ0Vycm9yIGxvYWRpbmcgZmlsZToge2Vycm9yfScsXG5cdFx0bm9NaW5kbWFwRmlsZTogJ05vIG1pbmQgbWFwIGZpbGUgc3BlY2lmaWVkIG9yIGZvdW5kLiBNYWtlIHN1cmUgdGhlIGZpbGUgc3RhcnRzIHdpdGggI21pbmRtYXAnLFxuXG5cdFx0Ly8gQVBJIGVycm9yc1xuXHRcdGFwaUtleU5vdENvbmZpZ3VyZWQ6ICdcdTI3NEMgRXJyb3I6IEFQSSBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBlbnRlciB5b3VyIEFQSSBrZXkgaW4gc2V0dGluZ3MuJyxcblx0XHRhcGlCYXNlVXJsTm90Q29uZmlndXJlZDogJ1x1Mjc0QyBFcnJvcjogQVBJIGJhc2UgVVJMIGlzIG5vdCBjb25maWd1cmVkLicsXG5cdFx0YXBpRXJyb3I6ICdcdTI3NEMgRXJyb3I6IHtlcnJvcn0nLFxuXHRcdG5ldHdvcmtFcnJvcjogJ1x1Mjc0QyBOZXR3b3JrIGVycm9yOiB7ZXJyb3J9LiBQbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uIGFuZCBBUEkgVVJMLicsXG5cblx0XHQvLyBWYWxpZGF0aW9uIGVycm9yc1xuXHRcdG5vZGVUZXh0RW1wdHk6ICdOb2RlIHRleHQgY2Fubm90IGJlIGVtcHR5Jyxcblx0XHRub2RlVGV4dEludmFsaWQ6ICdOb2RlIHRleHQgY2Fubm90IGJlIGVtcHR5IG9yIGNvbnRhaW4gaW52YWxpZCBjaGFyYWN0ZXJzJyxcblx0XHRmb2N1c1NldEZhaWxlZDogJ0ZhaWxlZCB0byBzZXQgZm9jdXMsIHBsZWFzZSB0cnkgYWdhaW4nLFxuXHRcdGVudGVyRWRpdE1vZGVGYWlsZWQ6ICdGYWlsZWQgdG8gZW50ZXIgZWRpdCBtb2RlLCBwbGVhc2UgdHJ5IGFnYWluJyxcblx0XHRzYXZlRmFpbGVkOiAnU2F2ZSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW4nLFxuXHRcdGVkaXRFbGVtZW50Tm90Rm91bmQ6ICdFZGl0IGVsZW1lbnQgbm90IGZvdW5kJyxcblx0XHR0ZXh0RWxlbWVudE5vdEZvdW5kOiAnVGV4dCBlbGVtZW50IG5vdCBmb3VuZCcsXG5cdFx0ZW50ZXJFZGl0TW9kZUVycm9yOiAnRXJyb3IgZW50ZXJpbmcgZWRpdCBtb2RlJyxcblxuXHRcdC8vIEFJIGVycm9yc1xuXHRcdGVtcHR5Tm9kZUVycm9yOiAnTm9kZSB0ZXh0IGlzIGVtcHR5LiBQbGVhc2UgYWRkIHRleHQgdG8gdGhlIG5vZGUgZmlyc3QuJyxcblxuXHRcdC8vIEdlbmVyYWwgZXJyb3JzXG5cdFx0c2VydmljZU5vdEF2YWlsYWJsZTogJ01pbmQgbWFwIHNlcnZpY2Ugbm90IGF2YWlsYWJsZScsXG5cdFx0ZXJyb3I6ICdFcnJvcjoge21lc3NhZ2V9Jyxcblx0fSxcblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PSBWYWxpZGF0aW9uIChcdTlBOENcdThCQzFcdTZEODhcdTYwNkYpID09PT09PT09PT09PT09PT09PT09XG5cdHZhbGlkYXRpb246IHtcblx0XHRjYW5ub3RFZGl0Um9vdDogJ0NlbnRyYWwgdG9waWMgKGZpbGVuYW1lKSBjYW5ub3QgYmUgbW9kaWZpZWQnLFxuXHRcdGNhbm5vdFBhc3RlUm9vdDogJ0Nhbm5vdCBwYXN0ZSB0byByb290IG5vZGUnLFxuXHRcdGNhbm5vdENyZWF0ZVNpYmxpbmdSb290OiAnQ2Fubm90IGNyZWF0ZSBzaWJsaW5nIGZvciByb290IG5vZGUnLFxuXHR9LFxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09IFNldHRpbmdzIChcdThCQkVcdTdGNkVcdTc1NENcdTk3NjIpID09PT09PT09PT09PT09PT09PT09XG5cdHNldHRpbmdzOiB7XG5cdFx0dGl0bGU6ICdTZXR0aW5ncyBmb3Igb3Blbk1pbmRNYXAgUGx1Z2luJyxcblxuXHRcdC8vIERldmljZSBzZXR0aW5nc1xuXHRcdGRldmljZVNlY3Rpb246ICdEZXZpY2Ugc2V0dGluZ3MnLFxuXHRcdGRldmljZVR5cGU6ICdEZXZpY2UgdHlwZScsXG5cdFx0ZGV2aWNlVHlwZURlc2M6ICdDaG9vc2UgaG93IG1pbmQgbWFwcyBzaG91bGQgYmUgcmVuZGVyZWQuIEF1dG8tZGV0ZWN0cyBiYXNlZCBvbiB5b3VyIGRldmljZS4nLFxuXHRcdGRldmljZUF1dG86ICdBdXRvLWRldGVjdCcsXG5cdFx0ZGV2aWNlRGVza3RvcDogJ0Rlc2t0b3AgbW9kZScsXG5cdFx0ZGV2aWNlTW9iaWxlOiAnTW9iaWxlIG1vZGUnLFxuXG5cdFx0Ly8gTGFuZ3VhZ2Ugc2V0dGluZ3Ncblx0XHRsYW5ndWFnZVNlY3Rpb246ICdMYW5ndWFnZSBzZXR0aW5ncycsXG5cdFx0bGFuZ3VhZ2U6ICdMYW5ndWFnZScsXG5cdFx0bGFuZ3VhZ2VEZXNjOiAnQ2hvb3NlIHlvdXIgcHJlZmVycmVkIGxhbmd1YWdlIGZvciB0aGUgcGx1Z2luIGludGVyZmFjZS4nLFxuXHRcdGxhbmd1YWdlRW5nbGlzaDogJ0VuZ2xpc2gnLFxuXHRcdGxhbmd1YWdlQ2hpbmVzZTogJ1x1NEUyRFx1NjU4NycsXG5cblx0XHQvLyBBSSBjb25maWd1cmF0aW9uXG5cdFx0YWlTZWN0aW9uOiAnQUkgY29uZmlndXJhdGlvbiAoT3BlbkFJLWNvbXBhdGlibGUgQVBJKScsXG5cdFx0YWlTZWN0aW9uRGVzYzogJ0NvbmZpZ3VyZSB5b3VyIEFJIEFQSSB0byBlbmFibGUgaW50ZWxsaWdlbnQgZmVhdHVyZXMgbGlrZSBhdXRvbWF0aWMgbm9kZSBzdWdnZXN0aW9ucy4nLFxuXHRcdGFpU2VjdXJpdHk6ICdcdUQ4M0RcdUREMTIgU2VjdXJpdHk6IFlvdXIgQVBJIGtleSBpcyBlbmNyeXB0ZWQgdXNpbmcgQUVTLUdDTSAoMjU2LWJpdCkgYmVmb3JlIHN0b3JhZ2UuIFRoZSBlbmNyeXB0ZWQga2V5IGlzIHN0b3JlZCBpbiBkYXRhLmpzb24gYW5kIGNhbiBvbmx5IGJlIGRlY3J5cHRlZCBvbiB0aGlzIGRldmljZS4nLFxuXG5cdFx0YWlCYXNlVXJsOiAnT3BlbkFJIEFQSSBiYXNlIFVSTCcsXG5cdFx0YWlCYXNlVXJsRGVzYzogJ1RoZSBiYXNlIFVSTCBmb3IgeW91ciBPcGVuQUktY29tcGF0aWJsZSBBUEkgKGUuZy4sIGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEpJyxcblx0XHRhaUJhc2VVcmxQbGFjZWhvbGRlcjogJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEnLFxuXG5cdFx0YWlBcGlLZXk6ICdPcGVuQUkgQVBJIGtleScsXG5cdFx0YWlBcGlLZXlEZXNjOiAnWW91ciBPcGVuQUkgQVBJIGtleSAoc3RhcnRzIHdpdGggc2stLi4uKScsXG5cdFx0YWlBcGlLZXlQbGFjZWhvbGRlcjogJ3NrLS4uLicsXG5cblx0XHRhaU1vZGVsOiAnTW9kZWwgbmFtZScsXG5cdFx0YWlNb2RlbERlc2M6ICdUaGUgbW9kZWwgbmFtZSB0byB1c2UgKGUuZy4sIGdwdC0zLjUtdHVyYm8sIGdwdC00LCBsbGFtYTIsIG1pc3RyYWwsIGV0Yy4pJyxcblx0XHRhaU1vZGVsUGxhY2Vob2xkZXI6ICdncHQtMy41LXR1cmJvJyxcblxuXHRcdGFpVGVzdENvbm5lY3Rpb246ICdUZXN0IGNvbm5lY3Rpb24nLFxuXHRcdGFpVGVzdENvbm5lY3Rpb25EZXNjOiAnVGVzdCB5b3VyIEFQSSBjb25maWd1cmF0aW9uIHRvIGVuc3VyZSBpdCB3b3JrcyBjb3JyZWN0bHknLFxuXHRcdGFpVGVzdEJ1dHRvbjogJ1Rlc3QgY29ubmVjdGlvbicsXG5cdFx0YWlUZXN0aW5nOiAnVGVzdGluZy4uLicsXG5cblx0XHQvLyBBSSBwcm9tcHQgY29uZmlndXJhdGlvblxuXHRcdGFpUHJvbXB0U2VjdGlvbjogJ0FJIHByb21wdCBjb25maWd1cmF0aW9uJyxcblx0XHRhaVByb21wdFNlY3Rpb25EZXNjOiAnQ3VzdG9taXplIGhvdyB0aGUgQUkgZ2VuZXJhdGVzIHN1Z2dlc3Rpb25zIGJ5IGVkaXRpbmcgdGhlIHN5c3RlbSBtZXNzYWdlIGFuZCBwcm9tcHQgdGVtcGxhdGUuJyxcblxuXHRcdGFpU3lzdGVtTWVzc2FnZTogJ0FJIHN5c3RlbSBtZXNzYWdlJyxcblx0XHRhaVN5c3RlbU1lc3NhZ2VEZXNjOiAnRGVmaW5lIHRoZSBBSSBhc3Npc3RhbnQgcm9sZSBhbmQgYmVoYXZpb3IuIFRoaXMgc2V0cyB0aGUgY29udGV4dCBmb3IgYWxsIEFJIGludGVyYWN0aW9ucy4nLFxuXHRcdGFpU3lzdGVtTWVzc2FnZVBsYWNlaG9sZGVyOiAnWW91IGFyZSBhIGhlbHBmdWwgbWluZCBtYXAgYXNzaXN0YW50Li4uJyxcblxuXHRcdGFpUHJvbXB0VGVtcGxhdGU6ICdBSSBwcm9tcHQgdGVtcGxhdGUnLFxuXHRcdGFpUHJvbXB0VGVtcGxhdGVEZXNjOiAnQ3VzdG9taXplIHRoZSBwcm9tcHQgdGVtcGxhdGUgZm9yIG5vZGUgc3VnZ2VzdGlvbnMuIEF2YWlsYWJsZSB2YXJpYWJsZXM6IHtub2RlVGV4dH0sIHtsZXZlbH0sIHtwYXJlbnRDb250ZXh0fSwge3NpYmxpbmdzQ29udGV4dH0sIHtleGlzdGluZ0NoaWxkcmVufSwge2NlbnRyYWxUb3BpY30nLFxuXHRcdGFpUHJvbXB0VGVtcGxhdGVQbGFjZWhvbGRlcjogJ1BsZWFzZSBzdWdnZXN0IDMtNSBjaGlsZCBub2Rlcy4uLicsXG5cblx0XHRhaVByb21wdFZhcmlhYmxlczogJ0F2YWlsYWJsZSB2YXJpYWJsZXM6Jyxcblx0XHRhaVByb21wdFZhcmlhYmxlTm9kZVRleHQ6ICd7bm9kZVRleHR9OiBUaGUgdGV4dCBjb250ZW50IG9mIHRoZSBjdXJyZW50IG5vZGUnLFxuXHRcdGFpUHJvbXB0VmFyaWFibGVMZXZlbDogJ3tsZXZlbH06IFRoZSBoaWVyYXJjaHkgbGV2ZWwgb2YgdGhlIGN1cnJlbnQgbm9kZSAoMD1yb290LCAxPWZpcnN0IGxldmVsLCBldGMuKScsXG5cdFx0YWlQcm9tcHRWYXJpYWJsZVBhcmVudDogJ3twYXJlbnRDb250ZXh0fTogQ29udGV4dCBmcm9tIHRoZSBwYXJlbnQgbm9kZScsXG5cdFx0YWlQcm9tcHRWYXJpYWJsZVNpYmxpbmdzOiAne3NpYmxpbmdzQ29udGV4dH06IENvbnRleHQgZnJvbSBzaWJsaW5nIG5vZGVzJyxcblx0XHRhaVByb21wdFZhcmlhYmxlQ2hpbGRyZW46ICd7ZXhpc3RpbmdDaGlsZHJlbn06IEV4aXN0aW5nIGNoaWxkIG5vZGVzIG9mIHRoZSBjdXJyZW50IG5vZGUnLFxuXHRcdGFpUHJvbXB0VmFyaWFibGVDZW50cmFsOiAne2NlbnRyYWxUb3BpY306IFRoZSByb290L2NlbnRyYWwgdG9waWMgb2YgdGhlIG1pbmQgbWFwJyxcblxuXHRcdGFpUmVzZXRQcm9tcHRzOiAnUmVzZXQgcHJvbXB0cycsXG5cdFx0YWlSZXNldFByb21wdHNEZXNjOiAnUmVzZXQgcHJvbXB0IHRlbXBsYXRlcyB0byBkZWZhdWx0IHZhbHVlcycsXG5cdFx0YWlSZXNldEJ1dHRvbjogJ1Jlc2V0IHRvIGRlZmF1bHRzJyxcblx0fSxcblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PSBVSSBFbGVtZW50cyAoXHU3NTRDXHU5NzYyXHU1MTQzXHU3RDIwKSA9PT09PT09PT09PT09PT09PT09PVxuXHR1aToge1xuXHRcdC8vIENvbW1hbmRzXG5cdFx0Y29tbWFuZE9wZW5WaWV3OiAnT3BlbiBtaW5kIG1hcCB2aWV3Jyxcblx0XHRjb21tYW5kT3BlbkFzTWluZG1hcDogJ09wZW4gY3VycmVudCBmaWxlIGFzIG1pbmQgbWFwJyxcblxuXHRcdC8vIExvYWRpbmdcblx0XHRsb2FkaW5nOiAnTG9hZGluZyBvcGVuTWluZE1hcC4uLicsXG5cdFx0aW5pdGlhbGl6aW5nOiAnSW5pdGlhbGl6aW5nLi4uJyxcblx0XHRsb2FkaW5nRmlsZTogJ0xvYWRpbmcgZmlsZS4uLicsXG5cblx0XHQvLyBIZWFkZXJzXG5cdFx0YXBwSGVhZGVyOiAnXHVEODNFXHVEREUwIG9wZW5NaW5kTWFwJyxcblx0XHRkZWJ1Z0luZm86ICdEZWJ1ZyBJbmZvOicsXG5cdFx0aW5zdGFuY2VGaWxlUGF0aDogJ0luc3RhbmNlIGZpbGVQYXRoOicsXG5cdFx0c3RhdGVMb2FkZWQ6ICdTdGF0ZSBsb2FkZWQ6Jyxcblx0XHRhY3RpdmVGaWxlOiAnQWN0aXZlIGZpbGU6JyxcblxuXHRcdC8vIENvbnRleHQgbWVudVxuXHRcdGNyZWF0ZU5ld0ZpbGU6ICdOZXcgb3Blbk1pbmRNYXAgZmlsZScsXG5cdFx0Y29udGV4dEVkaXQ6ICdFZGl0Jyxcblx0XHRjb250ZXh0Q29weTogJ0NvcHknLFxuXHRcdGNvbnRleHRQYXN0ZTogJ1Bhc3RlJyxcblx0XHRjb250ZXh0RGVsZXRlOiAnRGVsZXRlJyxcblxuXHRcdC8vIEFJIHBhbmVsXG5cdFx0YWlTdWdnZXN0aW9uc1RpdGxlOiAnXHUyNzI4IEFJIFN1Z2dlc3Rpb25zJyxcblx0XHRhaUFkZEFsbDogJ0FkZCBBbGwnLFxuXHRcdGFpQWRkQWxsVG9vbHRpcDogJ0NyZWF0ZSBhbGwgc3VnZ2VzdGlvbnMnLFxuXHRcdGFpQ2xvc2U6ICdcdTI3MTUnLFxuXG5cdFx0Ly8gRWRpdCBoaW50cyAoZGV2aWNlLXNwZWNpZmljKVxuXHRcdGVkaXRIaW50RGVza3RvcDogJ0RvdWJsZS1jbGljayB0byBlZGl0IHwgRW50ZXI6IFNhdmUgfCBBbHQrRW50ZXI6IE5ldyBsaW5lIHwgRXNjYXBlOiBDYW5jZWwnLFxuXHRcdGVkaXRIaW50TW9iaWxlOiAnVGFwIHRvIGVkaXQgfCBFbnRlcjogTmV3IGxpbmUgfCBUYXAgb3V0c2lkZSB0byBzYXZlJyxcblx0fSxcblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PSBIZWxwZXIgTWV0aG9kcyA9PT09PT09PT09PT09PT09PT09PVxuXHRmb3JtYXQobWVzc2FnZTogc3RyaW5nLCBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4pOiBzdHJpbmcge1xuXHRcdHJldHVybiBtZXNzYWdlLnJlcGxhY2UoL1xceyhcXHcrKVxcfS9nLCAobWF0Y2gsIGtleSkgPT4ge1xuXHRcdFx0cmV0dXJuIHBhcmFtc1trZXldICE9PSB1bmRlZmluZWQgPyBTdHJpbmcocGFyYW1zW2tleV0pIDogbWF0Y2g7XG5cdFx0fSk7XG5cdH0sXG59O1xuIiwgIi8qKlxuICogXHU0RTJEXHU2NTg3XHU4QkVEXHU4QTAwXHU1MzA1XG4gKiBDaGluZXNlIExhbmd1YWdlIFBhY2sgZm9yIG9wZW5NaW5kTWFwIHBsdWdpblxuICovXG5cbmltcG9ydCB7IE1pbmRNYXBNZXNzYWdlcyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3Qgemg6IE1pbmRNYXBNZXNzYWdlcyA9IHtcblx0Ly8gPT09PT09PT09PT09PT09PT09PT0gTm90aWNlcyAoXHU5MDFBXHU3N0U1XHU2RDg4XHU2MDZGKSA9PT09PT09PT09PT09PT09PT09PVxuXHRub3RpY2VzOiB7XG5cdFx0Ly8gRmlsZSBvcGVyYXRpb25zXG5cdFx0ZmlsZUNyZWF0ZWQ6ICdcdTI3MDUgXHU1REYyXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0IG1pbmRtYXAgXHU2NTg3XHU0RUY2XHVGRjFBe2ZpbGVOYW1lfScsXG5cdFx0ZmlsZUNyZWF0ZUZhaWxlZDogJ1x1Mjc0QyBcdTUyMUJcdTVFRkFcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjUnLFxuXHRcdGZpbGVDcmVhdGVFcnJvcjogJ1x1Mjc0QyBcdTUyMUJcdTVFRkFcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjVcdUZGMUF7ZXJyb3J9JyxcblxuXHRcdC8vIE5vZGUgb3BlcmF0aW9uc1xuXHRcdG5vZGVEZWxldGVkOiAnXHU4MjgyXHU3MEI5XHU1REYyXHU1MjIwXHU5NjY0Jyxcblx0XHRjYW5ub3REZWxldGVSb290OiAnXHUyNkEwXHVGRTBGIFx1NEUyRFx1NUZDM1x1NEUzQlx1OTg5OFx1RkYwOFx1NjgzOVx1ODI4Mlx1NzBCOVx1RkYwOVx1NEUwRFx1ODBGRFx1NTIyMFx1OTY2NCcsXG5cdFx0Y2Fubm90RGVsZXRlTm9QYXJlbnQ6ICdcdTI2QTBcdUZFMEYgXHU4MjgyXHU3MEI5XHU2Q0ExXHU2NzA5XHU3MjM2XHU4MjgyXHU3MEI5XHVGRjBDXHU2NUUwXHU2Q0Q1XHU1MjIwXHU5NjY0Jyxcblx0XHRub2RlQ3JlYXRlZDogJ1x1NURGMlx1NTIxQlx1NUVGQVx1RkYxQXtub2RlVGV4dH0nLFxuXHRcdG5vZGVDcmVhdGVGYWlsZWQ6ICdcdTUyMUJcdTVFRkFcdTgyODJcdTcwQjlcdTU5MzFcdThEMjVcdUZGMUF7ZXJyb3J9JyxcblxuXHRcdC8vIEVkaXRpbmcgb3BlcmF0aW9uc1xuXHRcdG5vZGVUZXh0Q29waWVkOiAnXHU4MjgyXHU3MEI5XHU2NTg3XHU2NzJDXHU1REYyXHU1OTBEXHU1MjM2XHU1MjMwXHU1MjZBXHU4RDM0XHU2NzdGJyxcblx0XHRjb3B5RmFpbGVkOiAnXHU1OTBEXHU1MjM2XHU1OTMxXHU4RDI1XHVGRjBDXHU4QkY3XHU2MjRCXHU1MkE4XHU1OTBEXHU1MjM2Jyxcblx0XHRhbHJlYWR5QWRkZWQ6ICdcdTVERjJcdTZERkJcdTUyQTBcdUZGMUF7bm9kZVRleHR9JyxcblxuXHRcdC8vIEFJIG9wZXJhdGlvbnNcblx0XHRhaUFuYWx5emluZzogJ1x1RDgzRVx1REQxNiBBSSBcdTZCNjNcdTU3MjhcdTUyMDZcdTY3OTBcIntub2RlVGV4dH1cIi4uLicsXG5cdFx0YWlOb1N1Z2dlc3Rpb25zOiAnXHU2NzJBXHU3NTFGXHU2MjEwXHU1RUZBXHU4QkFFXHUzMDAyXHU1QzFEXHU4QkQ1XHU5MUNEXHU2NUIwXHU4ODY4XHU4RkYwXHU2MEE4XHU3Njg0XHU2M0QwXHU3OTNBXHU4QkNEXHUzMDAyJyxcblx0XHRhaUZhaWxlZDogJ1x1Mjc0QyBBSSBcdTVFRkFcdThCQUVcdTU5MzFcdThEMjVcdUZGMUF7ZXJyb3J9JyxcblxuXHRcdC8vIFNldHRpbmdzXG5cdFx0YXBpQ29ubmVjdGlvblN1Y2Nlc3M6ICdcdTI3MDUgQVBJIFx1OEZERVx1NjNBNVx1NjIxMFx1NTI5Rlx1RkYwMScsXG5cdFx0YXBpQ29ubmVjdGlvbkZhaWxlZDogJ1x1Mjc0QyBBUEkgXHU4RkRFXHU2M0E1XHU1OTMxXHU4RDI1XHUzMDAyXHU4QkY3XHU2OEMwXHU2N0U1XHU4QkJFXHU3RjZFXHU4QkU2XHU2MEM1XHUzMDAyJyxcblx0XHRhcGlUZXN0VGltZW91dDogJ1x1OEJGN1x1NkM0Mlx1OEQ4NVx1NjVGNlx1RkYwODEwXHU3OUQyXHVGRjA5XHUzMDAyQVBJIFx1NjcwRFx1NTJBMVx1NTY2OFx1NjcyQVx1NTRDRFx1NUU5NFx1MzAwMlx1OEJGN1x1NjhDMFx1NjdFNVx1N0Y1MVx1N0VEQ1x1OEZERVx1NjNBNVx1NTQ4QyBBUEkgVVJMXHUzMDAyJyxcblx0XHRwcm9tcHRzUmVzZXQ6ICdcdTI3MDUgXHU2M0QwXHU3OTNBXHU4QkNEXHU2QTIxXHU2NzdGXHU1REYyXHU5MUNEXHU3RjZFXHU0RTNBXHU5RUQ4XHU4QkE0XHU1MDNDJyxcblx0XHRkZXZpY2VUeXBlQ2hhbmdlZDogJ1x1OEJCRVx1NTkwN1x1N0M3Qlx1NTc4Qlx1NURGMlx1NjZGNFx1NjUzOVx1MzAwMlx1OEJGN1x1OTFDRFx1NjVCMFx1NTJBMFx1OEY3RCBPYnNpZGlhbiBcdTRFRTVcdTVFOTRcdTc1MjhcdTY2RjRcdTY1MzlcdTMwMDInLFxuXHRcdGNvbm5lY3Rpb25UZXN0RmFpbGVkOiAnXHUyNzRDIFx1OEZERVx1NjNBNVx1NkQ0Qlx1OEJENVx1NTkzMVx1OEQyNScsXG5cblx0XHQvLyBMYW5ndWFnZVxuXHRcdGxhbmd1YWdlQ2hhbmdlZDogJ1x1OEJFRFx1OEEwMFx1NURGMlx1NjZGNFx1NjUzOVx1NEUzQSB7bGFuZ3VhZ2V9XHUzMDAyXHU5MUNEXHU2NUIwXHU1MkEwXHU4RjdEIE9ic2lkaWFuIFx1NEVFNVx1NUU5NFx1NzUyOFx1NjZGNFx1NjUzOVx1MzAwMicsXG5cblx0XHQvLyBFZGl0aW5nXG5cdFx0ZWRpdFN1Y2Nlc3M6ICdcdTgyODJcdTcwQjlcdTY1ODdcdTY3MkNcdTVERjJcdTY2RjRcdTY1QjAnLFxuXHR9LFxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09IEVycm9ycyAoXHU5NTE5XHU4QkVGXHU2RDg4XHU2MDZGKSA9PT09PT09PT09PT09PT09PT09PVxuXHRlcnJvcnM6IHtcblx0XHQvLyBGaWxlIGVycm9yc1xuXHRcdGZpbGVOb3RGb3VuZDogJ1x1OTUxOVx1OEJFRlx1RkYxQVx1NjcyQVx1NjI3RVx1NTIzMFx1NjU4N1x1NEVGNlx1RkYxQXtmaWxlUGF0aH0nLFxuXHRcdGZpbGVMb2FkRXJyb3I6ICdcdTUyQTBcdThGN0RcdTY1ODdcdTRFRjZcdTY1RjZcdTUxRkFcdTk1MTlcdUZGMUF7ZXJyb3J9Jyxcblx0XHRub01pbmRtYXBGaWxlOiAnXHU2NzJBXHU2MzA3XHU1QjlBXHU2MjE2XHU2NzJBXHU2MjdFXHU1MjMwXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU2NTg3XHU0RUY2XHUzMDAyXHU4QkY3XHU3ODZFXHU0RkREXHU2NTg3XHU0RUY2XHU0RUU1ICNtaW5kbWFwIFx1NUYwMFx1NTkzNCcsXG5cblx0XHQvLyBBUEkgZXJyb3JzXG5cdFx0YXBpS2V5Tm90Q29uZmlndXJlZDogJ1x1Mjc0QyBcdTk1MTlcdThCRUZcdUZGMUFcdTY3MkFcdTkxNERcdTdGNkUgQVBJIFx1NUJDNlx1OTRBNVx1MzAwMlx1OEJGN1x1NTcyOFx1OEJCRVx1N0Y2RVx1NEUyRFx1OEY5M1x1NTE2NVx1NjBBOFx1NzY4NCBBUEkgXHU1QkM2XHU5NEE1XHUzMDAyJyxcblx0XHRhcGlCYXNlVXJsTm90Q29uZmlndXJlZDogJ1x1Mjc0QyBcdTk1MTlcdThCRUZcdUZGMUFcdTY3MkFcdTkxNERcdTdGNkUgQVBJIFx1NTdGQVx1Nzg0MCBVUkxcdTMwMDInLFxuXHRcdGFwaUVycm9yOiAnXHUyNzRDIFx1OTUxOVx1OEJFRlx1RkYxQXtlcnJvcn0nLFxuXHRcdG5ldHdvcmtFcnJvcjogJ1x1Mjc0QyBcdTdGNTFcdTdFRENcdTk1MTlcdThCRUZcdUZGMUF7ZXJyb3J9XHUzMDAyXHU4QkY3XHU2OEMwXHU2N0U1XHU2MEE4XHU3Njg0XHU0RTkyXHU4MDU0XHU3RjUxXHU4RkRFXHU2M0E1XHU1NDhDIEFQSSBVUkxcdTMwMDInLFxuXG5cdFx0Ly8gVmFsaWRhdGlvbiBlcnJvcnNcblx0XHRub2RlVGV4dEVtcHR5OiAnXHU4MjgyXHU3MEI5XHU2NTg3XHU2NzJDXHU0RTBEXHU4MEZEXHU0RTNBXHU3QTdBJyxcblx0XHRub2RlVGV4dEludmFsaWQ6ICdcdTgyODJcdTcwQjlcdTY1ODdcdTY3MkNcdTRFMERcdTgwRkRcdTRFM0FcdTdBN0FcdTYyMTZcdTUzMDVcdTU0MkJcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjYnLFxuXHRcdGZvY3VzU2V0RmFpbGVkOiAnXHU3MTI2XHU3MEI5XHU4QkJFXHU3RjZFXHU1OTMxXHU4RDI1XHVGRjBDXHU4QkY3XHU5MUNEXHU4QkQ1Jyxcblx0XHRlbnRlckVkaXRNb2RlRmFpbGVkOiAnXHU4RkRCXHU1MTY1XHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXHU1OTMxXHU4RDI1XHVGRjBDXHU4QkY3XHU5MUNEXHU4QkQ1Jyxcblx0XHRzYXZlRmFpbGVkOiAnXHU0RkREXHU1QjU4XHU1OTMxXHU4RDI1XHVGRjBDXHU4QkY3XHU5MUNEXHU4QkQ1Jyxcblx0XHRlZGl0RWxlbWVudE5vdEZvdW5kOiAnXHU2NUUwXHU2Q0Q1XHU2MjdFXHU1MjMwXHU3RjE2XHU4RjkxXHU1MTQzXHU3RDIwJyxcblx0XHR0ZXh0RWxlbWVudE5vdEZvdW5kOiAnXHU2NUUwXHU2Q0Q1XHU2MjdFXHU1MjMwXHU2NTg3XHU2NzJDXHU1MTQzXHU3RDIwJyxcblx0XHRlbnRlckVkaXRNb2RlRXJyb3I6ICdcdThGREJcdTUxNjVcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdTY1RjZcdTUzRDFcdTc1MUZcdTk1MTlcdThCRUYnLFxuXG5cdFx0Ly8gQUkgZXJyb3JzXG5cdFx0ZW1wdHlOb2RlRXJyb3I6ICdcdTgyODJcdTcwQjlcdTY1ODdcdTY3MkNcdTRFM0FcdTdBN0FcdTMwMDJcdThCRjdcdTUxNDhcdTRFM0FcdTgyODJcdTcwQjlcdTZERkJcdTUyQTBcdTY1ODdcdTY3MkNcdTMwMDInLFxuXG5cdFx0Ly8gR2VuZXJhbCBlcnJvcnNcblx0XHRzZXJ2aWNlTm90QXZhaWxhYmxlOiAnXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU2NzBEXHU1MkExXHU0RTBEXHU1M0VGXHU3NTI4Jyxcblx0XHRlcnJvcjogJ1x1OTUxOVx1OEJFRlx1RkYxQXttZXNzYWdlfScsXG5cdH0sXG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT0gVmFsaWRhdGlvbiAoXHU5QThDXHU4QkMxXHU2RDg4XHU2MDZGKSA9PT09PT09PT09PT09PT09PT09PVxuXHR2YWxpZGF0aW9uOiB7XG5cdFx0Y2Fubm90RWRpdFJvb3Q6ICdcdTRFMkRcdTVGQzNcdTRFM0JcdTk4OThcdUZGMDhcdTY1ODdcdTRFRjZcdTU0MERcdUZGMDlcdTRFMERcdTUxNDFcdThCQjhcdTRGRUVcdTY1MzknLFxuXHRcdGNhbm5vdFBhc3RlUm9vdDogJ1x1NjVFMFx1NkNENVx1N0M5OFx1OEQzNFx1NTIzMFx1NjgzOVx1ODI4Mlx1NzBCOScsXG5cdFx0Y2Fubm90Q3JlYXRlU2libGluZ1Jvb3Q6ICdcdTY1RTBcdTZDRDVcdTRFM0FcdTY4MzlcdTgyODJcdTcwQjlcdTUyMUJcdTVFRkFcdTUxNDRcdTVGMUZcdTgyODJcdTcwQjknLFxuXHR9LFxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09IFNldHRpbmdzIChcdThCQkVcdTdGNkVcdTc1NENcdTk3NjIpID09PT09PT09PT09PT09PT09PT09XG5cdHNldHRpbmdzOiB7XG5cdFx0dGl0bGU6ICdvcGVuTWluZE1hcCBcdTYzRDJcdTRFRjZcdThCQkVcdTdGNkUnLFxuXG5cdFx0Ly8gRGV2aWNlIHNldHRpbmdzXG5cdFx0ZGV2aWNlU2VjdGlvbjogJ1x1OEJCRVx1NTkwN1x1OEJCRVx1N0Y2RScsXG5cdFx0ZGV2aWNlVHlwZTogJ1x1OEJCRVx1NTkwN1x1N0M3Qlx1NTc4QicsXG5cdFx0ZGV2aWNlVHlwZURlc2M6ICdcdTkwMDlcdTYyRTlcdTYwMURcdTdFRjRcdTVCRkNcdTU2RkVcdTc2ODRcdTZFMzJcdTY3RDNcdTY1QjlcdTVGMEZcdTMwMDJcdTVDMDZcdTY4MzlcdTYzNkVcdTYwQThcdTc2ODRcdThCQkVcdTU5MDdcdTgxRUFcdTUyQThcdTY4QzBcdTZENEJcdTMwMDInLFxuXHRcdGRldmljZUF1dG86ICdcdTgxRUFcdTUyQThcdTY4QzBcdTZENEInLFxuXHRcdGRldmljZURlc2t0b3A6ICdcdTY4NENcdTk3NjJcdTZBMjFcdTVGMEYnLFxuXHRcdGRldmljZU1vYmlsZTogJ1x1NzlGQlx1NTJBOFx1NkEyMVx1NUYwRicsXG5cblx0XHQvLyBMYW5ndWFnZSBzZXR0aW5nc1xuXHRcdGxhbmd1YWdlU2VjdGlvbjogJ1x1OEJFRFx1OEEwMFx1OEJCRVx1N0Y2RScsXG5cdFx0bGFuZ3VhZ2U6ICdcdThCRURcdThBMDAnLFxuXHRcdGxhbmd1YWdlRGVzYzogJ1x1OTAwOVx1NjJFOVx1NjNEMlx1NEVGNlx1NzU0Q1x1OTc2Mlx1NzY4NFx1OTk5Nlx1OTAwOVx1OEJFRFx1OEEwMFx1MzAwMicsXG5cdFx0bGFuZ3VhZ2VFbmdsaXNoOiAnRW5nbGlzaCcsXG5cdFx0bGFuZ3VhZ2VDaGluZXNlOiAnXHU0RTJEXHU2NTg3JyxcblxuXHRcdC8vIEFJIGNvbmZpZ3VyYXRpb25cblx0XHRhaVNlY3Rpb246ICdBSSBcdTkxNERcdTdGNkVcdUZGMDhPcGVuQUkgXHU1MTdDXHU1QkI5IEFQSVx1RkYwOScsXG5cdFx0YWlTZWN0aW9uRGVzYzogJ1x1OTE0RFx1N0Y2RVx1NjBBOFx1NzY4NCBBSSBBUEkgXHU0RUU1XHU1NDJGXHU3NTI4XHU2NjdBXHU4MEZEXHU1MjlGXHU4MEZEXHVGRjBDXHU1OTgyXHU4MUVBXHU1MkE4XHU4MjgyXHU3MEI5XHU1RUZBXHU4QkFFXHUzMDAyJyxcblx0XHRhaVNlY3VyaXR5OiAnXHVEODNEXHVERDEyIFx1NUI4OVx1NTE2OFx1NjAyN1x1RkYxQVx1NjBBOFx1NzY4NCBBUEkgXHU1QkM2XHU5NEE1XHU1NzI4XHU1QjU4XHU1MEE4XHU1MjREXHU0RjdGXHU3NTI4IEFFUy1HQ01cdUZGMDgyNTYgXHU0RjREXHVGRjA5XHU1MkEwXHU1QkM2XHUzMDAyXHU1MkEwXHU1QkM2XHU1NDBFXHU3Njg0XHU1QkM2XHU5NEE1XHU1QjU4XHU1MEE4XHU1NzI4IGRhdGEuanNvbiBcdTRFMkRcdUZGMENcdTUzRUFcdTgwRkRcdTU3MjhcdTZCNjRcdThCQkVcdTU5MDdcdTRFMEFcdTg5RTNcdTVCQzZcdTMwMDInLFxuXG5cdFx0YWlCYXNlVXJsOiAnT3BlbkFJIEFQSSBcdTU3RkFcdTc4NDAgVVJMJyxcblx0XHRhaUJhc2VVcmxEZXNjOiAnXHU2MEE4XHU3Njg0IE9wZW5BSSBcdTUxN0NcdTVCQjkgQVBJIFx1NzY4NFx1NTdGQVx1Nzg0MCBVUkxcdUZGMDhcdTRGOEJcdTU5ODJcdUZGMUFodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXHVGRjA5Jyxcblx0XHRhaUJhc2VVcmxQbGFjZWhvbGRlcjogJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEnLFxuXG5cdFx0YWlBcGlLZXk6ICdPcGVuQUkgQVBJIFx1NUJDNlx1OTRBNScsXG5cdFx0YWlBcGlLZXlEZXNjOiAnXHU2MEE4XHU3Njg0IE9wZW5BSSBBUEkgXHU1QkM2XHU5NEE1XHVGRjA4XHU0RUU1IHNrLSBcdTVGMDBcdTU5MzRcdUZGMDknLFxuXHRcdGFpQXBpS2V5UGxhY2Vob2xkZXI6ICdzay0uLi4nLFxuXG5cdFx0YWlNb2RlbDogJ1x1NkEyMVx1NTc4Qlx1NTQwRFx1NzlGMCcsXG5cdFx0YWlNb2RlbERlc2M6ICdcdTg5ODFcdTRGN0ZcdTc1MjhcdTc2ODRcdTZBMjFcdTU3OEJcdTU0MERcdTc5RjBcdUZGMDhcdTRGOEJcdTU5ODJcdUZGMUFncHQtMy41LXR1cmJvXHUzMDAxZ3B0LTRcdTMwMDFsbGFtYTJcdTMwMDFtaXN0cmFsIFx1N0I0OVx1RkYwOScsXG5cdFx0YWlNb2RlbFBsYWNlaG9sZGVyOiAnZ3B0LTMuNS10dXJibycsXG5cblx0XHRhaVRlc3RDb25uZWN0aW9uOiAnXHU2RDRCXHU4QkQ1XHU4RkRFXHU2M0E1Jyxcblx0XHRhaVRlc3RDb25uZWN0aW9uRGVzYzogJ1x1NkQ0Qlx1OEJENVx1NjBBOFx1NzY4NCBBUEkgXHU5MTREXHU3RjZFXHU0RUU1XHU3ODZFXHU0RkREXHU1MTc2XHU2QjYzXHU1RTM4XHU1REU1XHU0RjVDJyxcblx0XHRhaVRlc3RCdXR0b246ICdcdTZENEJcdThCRDVcdThGREVcdTYzQTUnLFxuXHRcdGFpVGVzdGluZzogJ1x1NkQ0Qlx1OEJENVx1NEUyRC4uLicsXG5cblx0XHQvLyBBSSBwcm9tcHQgY29uZmlndXJhdGlvblxuXHRcdGFpUHJvbXB0U2VjdGlvbjogJ0FJIFx1NjNEMFx1NzkzQVx1OEJDRFx1OTE0RFx1N0Y2RScsXG5cdFx0YWlQcm9tcHRTZWN0aW9uRGVzYzogJ1x1OTAxQVx1OEZDN1x1N0YxNlx1OEY5MVx1N0NGQlx1N0VERlx1NkQ4OFx1NjA2Rlx1NTQ4Q1x1NjNEMFx1NzkzQVx1OEJDRFx1NkEyMVx1Njc3Rlx1Njc2NVx1ODFFQVx1NUI5QVx1NEU0OSBBSSBcdTc1MUZcdTYyMTBcdTVFRkFcdThCQUVcdTc2ODRcdTY1QjlcdTVGMEZcdTMwMDInLFxuXG5cdFx0YWlTeXN0ZW1NZXNzYWdlOiAnQUkgXHU3Q0ZCXHU3RURGXHU2RDg4XHU2MDZGJyxcblx0XHRhaVN5c3RlbU1lc3NhZ2VEZXNjOiAnXHU1QjlBXHU0RTQ5IEFJIFx1NTJBOVx1NjI0Qlx1NzY4NFx1ODlEMlx1ODI3Mlx1NTQ4Q1x1ODg0Q1x1NEUzQVx1MzAwMlx1OEZEOVx1NEUzQVx1NjI0MFx1NjcwOSBBSSBcdTRFQTRcdTRFOTJcdThCQkVcdTdGNkVcdTRFMEFcdTRFMEJcdTY1ODdcdTMwMDInLFxuXHRcdGFpU3lzdGVtTWVzc2FnZVBsYWNlaG9sZGVyOiAnXHU0RjYwXHU2NjJGXHU0RTAwXHU0RTJBXHU2NzA5XHU3NTI4XHU3Njg0XHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU1MkE5XHU2MjRCLi4uJyxcblxuXHRcdGFpUHJvbXB0VGVtcGxhdGU6ICdBSSBcdTYzRDBcdTc5M0FcdThCQ0RcdTZBMjFcdTY3N0YnLFxuXHRcdGFpUHJvbXB0VGVtcGxhdGVEZXNjOiAnXHU4MUVBXHU1QjlBXHU0RTQ5XHU4MjgyXHU3MEI5XHU1RUZBXHU4QkFFXHU3Njg0XHU2M0QwXHU3OTNBXHU4QkNEXHU2QTIxXHU2NzdGXHUzMDAyXHU1M0VGXHU3NTI4XHU1M0Q4XHU5MUNGXHVGRjFBe25vZGVUZXh0fVx1MzAwMXtsZXZlbH1cdTMwMDF7cGFyZW50Q29udGV4dH1cdTMwMDF7c2libGluZ3NDb250ZXh0fVx1MzAwMXtleGlzdGluZ0NoaWxkcmVufVx1MzAwMXtjZW50cmFsVG9waWN9Jyxcblx0XHRhaVByb21wdFRlbXBsYXRlUGxhY2Vob2xkZXI6ICdcdThCRjdcdTVFRkFcdThCQUUgMy01IFx1NEUyQVx1NUI1MFx1ODI4Mlx1NzBCOS4uLicsXG5cblx0XHRhaVByb21wdFZhcmlhYmxlczogJ1x1NTNFRlx1NzUyOFx1NTNEOFx1OTFDRlx1RkYxQScsXG5cdFx0YWlQcm9tcHRWYXJpYWJsZU5vZGVUZXh0OiAne25vZGVUZXh0fVx1RkYxQVx1NUY1M1x1NTI0RFx1ODI4Mlx1NzBCOVx1NzY4NFx1NjU4N1x1NjcyQ1x1NTE4NVx1NUJCOScsXG5cdFx0YWlQcm9tcHRWYXJpYWJsZUxldmVsOiAne2xldmVsfVx1RkYxQVx1NUY1M1x1NTI0RFx1ODI4Mlx1NzBCOVx1NzY4NFx1NUM0Mlx1N0VBN1x1RkYwODA9XHU2ODM5XHU4MjgyXHU3MEI5XHVGRjBDMT1cdTdCMkNcdTRFMDBcdTVDNDJcdUZGMENcdTdCNDlcdUZGMDknLFxuXHRcdGFpUHJvbXB0VmFyaWFibGVQYXJlbnQ6ICd7cGFyZW50Q29udGV4dH1cdUZGMUFcdTY3NjVcdTgxRUFcdTcyMzZcdTgyODJcdTcwQjlcdTc2ODRcdTRFMEFcdTRFMEJcdTY1ODcnLFxuXHRcdGFpUHJvbXB0VmFyaWFibGVTaWJsaW5nczogJ3tzaWJsaW5nc0NvbnRleHR9XHVGRjFBXHU2NzY1XHU4MUVBXHU1MTQ0XHU1RjFGXHU4MjgyXHU3MEI5XHU3Njg0XHU0RTBBXHU0RTBCXHU2NTg3Jyxcblx0XHRhaVByb21wdFZhcmlhYmxlQ2hpbGRyZW46ICd7ZXhpc3RpbmdDaGlsZHJlbn1cdUZGMUFcdTVGNTNcdTUyNERcdTgyODJcdTcwQjlcdTc2ODRcdTczQjBcdTY3MDlcdTVCNTBcdTgyODJcdTcwQjknLFxuXHRcdGFpUHJvbXB0VmFyaWFibGVDZW50cmFsOiAne2NlbnRyYWxUb3BpY31cdUZGMUFcdTYwMURcdTdFRjRcdTVCRkNcdTU2RkVcdTc2ODRcdTY4MzkvXHU0RTJEXHU1RkMzXHU0RTNCXHU5ODk4JyxcblxuXHRcdGFpUmVzZXRQcm9tcHRzOiAnXHU5MUNEXHU3RjZFXHU2M0QwXHU3OTNBXHU4QkNEJyxcblx0XHRhaVJlc2V0UHJvbXB0c0Rlc2M6ICdcdTVDMDZcdTYzRDBcdTc5M0FcdThCQ0RcdTZBMjFcdTY3N0ZcdTkxQ0RcdTdGNkVcdTRFM0FcdTlFRDhcdThCQTRcdTUwM0MnLFxuXHRcdGFpUmVzZXRCdXR0b246ICdcdTkxQ0RcdTdGNkVcdTRFM0FcdTlFRDhcdThCQTRcdTUwM0MnLFxuXHR9LFxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09IFVJIEVsZW1lbnRzIChcdTc1NENcdTk3NjJcdTUxNDNcdTdEMjApID09PT09PT09PT09PT09PT09PT09XG5cdHVpOiB7XG5cdFx0Ly8gQ29tbWFuZHNcblx0XHRjb21tYW5kT3BlblZpZXc6ICdcdTYyNTNcdTVGMDBcdTYwMURcdTdFRjRcdTVCRkNcdTU2RkVcdTg5QzZcdTU2RkUnLFxuXHRcdGNvbW1hbmRPcGVuQXNNaW5kbWFwOiAnXHU1QzA2XHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU0RjVDXHU0RTNBXHU2MDFEXHU3RUY0XHU1QkZDXHU1NkZFXHU2MjUzXHU1RjAwJyxcblxuXHRcdC8vIExvYWRpbmdcblx0XHRsb2FkaW5nOiAnXHU2QjYzXHU1NzI4XHU1MkEwXHU4RjdEIG9wZW5NaW5kTWFwLi4uJyxcblx0XHRpbml0aWFsaXppbmc6ICdcdTZCNjNcdTU3MjhcdTUyMURcdTU5Q0JcdTUzMTYuLi4nLFxuXHRcdGxvYWRpbmdGaWxlOiAnXHU2QjYzXHU1NzI4XHU1MkEwXHU4RjdEXHU2NTg3XHU0RUY2Li4uJyxcblxuXHRcdC8vIEhlYWRlcnNcblx0XHRhcHBIZWFkZXI6ICdcdUQ4M0VcdURERTAgb3Blbk1pbmRNYXAnLFxuXHRcdGRlYnVnSW5mbzogJ1x1OEMwM1x1OEJENVx1NEZFMVx1NjA2Rlx1RkYxQScsXG5cdFx0aW5zdGFuY2VGaWxlUGF0aDogJ1x1NUI5RVx1NEY4Qlx1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1RkYxQScsXG5cdFx0c3RhdGVMb2FkZWQ6ICdcdTcyQjZcdTYwMDFcdTVERjJcdTUyQTBcdThGN0RcdUZGMUEnLFxuXHRcdGFjdGl2ZUZpbGU6ICdcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjZcdUZGMUEnLFxuXG5cdFx0Ly8gQ29udGV4dCBtZW51XG5cdFx0Y3JlYXRlTmV3RmlsZTogJ1x1NjVCMFx1NUVGQSBvcGVuTWluZE1hcCBcdTY1ODdcdTRFRjYnLFxuXHRcdGNvbnRleHRFZGl0OiAnXHU3RjE2XHU4RjkxJyxcblx0XHRjb250ZXh0Q29weTogJ1x1NTkwRFx1NTIzNicsXG5cdFx0Y29udGV4dFBhc3RlOiAnXHU3Qzk4XHU4RDM0Jyxcblx0XHRjb250ZXh0RGVsZXRlOiAnXHU1MjIwXHU5NjY0JyxcblxuXHRcdC8vIEFJIHBhbmVsXG5cdFx0YWlTdWdnZXN0aW9uc1RpdGxlOiAnXHUyNzI4IEFJIFx1NUVGQVx1OEJBRScsXG5cdFx0YWlBZGRBbGw6ICdcdTUxNjhcdTkwRThcdTZERkJcdTUyQTAnLFxuXHRcdGFpQWRkQWxsVG9vbHRpcDogJ1x1NTIxQlx1NUVGQVx1NjI0MFx1NjcwOVx1NUVGQVx1OEJBRScsXG5cdFx0YWlDbG9zZTogJ1x1MjcxNScsXG5cblx0XHQvLyBFZGl0IGhpbnRzIChkZXZpY2Utc3BlY2lmaWMpXG5cdFx0ZWRpdEhpbnREZXNrdG9wOiAnXHU1M0NDXHU1MUZCXHU3RjE2XHU4RjkxIHwgRW50ZXJcdUZGMUFcdTRGRERcdTVCNTggfCBBbHQrRW50ZXJcdUZGMUFcdTYzNjJcdTg4NEMgfCBFc2NhcGVcdUZGMUFcdTUzRDZcdTZEODgnLFxuXHRcdGVkaXRIaW50TW9iaWxlOiAnXHU3MEI5XHU1MUZCXHU3RjE2XHU4RjkxIHwgRW50ZXJcdUZGMUFcdTYzNjJcdTg4NEMgfCBcdTcwQjlcdTUxRkJcdTU5MTZcdTkwRThcdTRGRERcdTVCNTgnLFxuXHR9LFxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09IEhlbHBlciBNZXRob2RzID09PT09PT09PT09PT09PT09PT09XG5cdGZvcm1hdChtZXNzYWdlOiBzdHJpbmcsIHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyB7XG5cdFx0cmV0dXJuIG1lc3NhZ2UucmVwbGFjZSgvXFx7KFxcdyspXFx9L2csIChtYXRjaCwga2V5KSA9PiB7XG5cdFx0XHRyZXR1cm4gcGFyYW1zW2tleV0gIT09IHVuZGVmaW5lZCA/IFN0cmluZyhwYXJhbXNba2V5XSkgOiBtYXRjaDtcblx0XHR9KTtcblx0fSxcbn07XG4iLCAiLyoqXG4gKiBJMThuIE1hbmFnZXIgLSBIYW5kbGVzIGxhbmd1YWdlIHN3aXRjaGluZyBhbmQgbWVzc2FnZSByZXRyaWV2YWxcbiAqL1xuXG5pbXBvcnQgeyBTdXBwb3J0ZWRMYW5ndWFnZSwgTWluZE1hcE1lc3NhZ2VzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBlbiB9IGZyb20gJy4vZW4nO1xuaW1wb3J0IHsgemggfSBmcm9tICcuL3poJztcblxuLyoqXG4gKiBJMThuIE1hbmFnZXIgY2xhc3NcbiAqIE1hbmFnZXMgbGFuZ3VhZ2Ugc3RhdGUgYW5kIHByb3ZpZGVzIHRyYW5zbGF0ZWQgbWVzc2FnZXNcbiAqL1xuZXhwb3J0IGNsYXNzIEkxOG5NYW5hZ2VyIHtcblx0cHJpdmF0ZSBjdXJyZW50TGFuZ3VhZ2U6IFN1cHBvcnRlZExhbmd1YWdlO1xuXHRwcml2YXRlIG1lc3NhZ2VzOiBNaW5kTWFwTWVzc2FnZXM7XG5cblx0Y29uc3RydWN0b3IobGFuZ3VhZ2U6IFN1cHBvcnRlZExhbmd1YWdlID0gJ2VuJykge1xuXHRcdHRoaXMuY3VycmVudExhbmd1YWdlID0gbGFuZ3VhZ2U7XG5cdFx0dGhpcy5tZXNzYWdlcyA9IHRoaXMubG9hZE1lc3NhZ2VzKGxhbmd1YWdlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMb2FkIG1lc3NhZ2VzIGZvciBhIHNwZWNpZmljIGxhbmd1YWdlXG5cdCAqL1xuXHRwcml2YXRlIGxvYWRNZXNzYWdlcyhsYW5ndWFnZTogU3VwcG9ydGVkTGFuZ3VhZ2UpOiBNaW5kTWFwTWVzc2FnZXMge1xuXHRcdHN3aXRjaCAobGFuZ3VhZ2UpIHtcblx0XHRcdGNhc2UgJ3poJzpcblx0XHRcdFx0cmV0dXJuIHpoO1xuXHRcdFx0Y2FzZSAnZW4nOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIGVuO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgY3VycmVudCBsYW5ndWFnZVxuXHQgKi9cblx0Z2V0TGFuZ3VhZ2UoKTogU3VwcG9ydGVkTGFuZ3VhZ2Uge1xuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRMYW5ndWFnZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgcmVsb2FkIG1lc3NhZ2VzXG5cdCAqL1xuXHRzZXRMYW5ndWFnZShsYW5ndWFnZTogU3VwcG9ydGVkTGFuZ3VhZ2UpOiB2b2lkIHtcblx0XHRpZiAobGFuZ3VhZ2UgIT09IHRoaXMuY3VycmVudExhbmd1YWdlKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRMYW5ndWFnZSA9IGxhbmd1YWdlO1xuXHRcdFx0dGhpcy5tZXNzYWdlcyA9IHRoaXMubG9hZE1lc3NhZ2VzKGxhbmd1YWdlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IG1lc3NhZ2VzIG9iamVjdCBmb3IgY3VycmVudCBsYW5ndWFnZVxuXHQgKi9cblx0Z2V0TWVzc2FnZXMoKTogTWluZE1hcE1lc3NhZ2VzIHtcblx0XHRyZXR1cm4gdGhpcy5tZXNzYWdlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBGb3JtYXQgYSBtZXNzYWdlIHdpdGggcGFyYW1ldGVyc1xuXHQgKiBAcGFyYW0ga2V5IE1lc3NhZ2Uga2V5IGluIGRvdCBub3RhdGlvbiAoZS5nLiwgJ25vdGljZXMuY2Fubm90RGVsZXRlUm9vdCcpXG5cdCAqIEBwYXJhbSBwYXJhbXMgT3B0aW9uYWwgcGFyYW1ldGVycyB0byByZXBsYWNlIGluIG1lc3NhZ2Vcblx0ICogQHJldHVybnMgRm9ybWF0dGVkIG1lc3NhZ2Ugc3RyaW5nXG5cdCAqL1xuXHRmb3JtYXQoa2V5OiBzdHJpbmcsIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj4pOiBzdHJpbmcge1xuXHRcdC8vIEFjY2VzcyBuZXN0ZWQgcHJvcGVydHkgdXNpbmcgZG90IG5vdGF0aW9uXG5cdFx0Y29uc3QgbWVzc2FnZSA9IHRoaXMuZ2V0TmVzdGVkVmFsdWUodGhpcy5tZXNzYWdlcyBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBrZXkpO1xuXG5cdFx0aWYgKCFtZXNzYWdlKSB7XG5cdFx0XHRyZXR1cm4ga2V5O1xuXHRcdH1cblxuXHRcdC8vIFJlcGxhY2UgcGFyYW1ldGVycyBpZiBwcm92aWRlZFxuXHRcdGlmIChwYXJhbXMpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlcGxhY2VQYXJhbXMobWVzc2FnZSwgcGFyYW1zKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWVzc2FnZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgbmVzdGVkIHZhbHVlIGZyb20gb2JqZWN0IHVzaW5nIGRvdCBub3RhdGlvblxuXHQgKi9cblx0cHJpdmF0ZSBnZXROZXN0ZWRWYWx1ZShvYmo6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHJlc3VsdCA9IHBhdGguc3BsaXQoJy4nKS5yZWR1Y2UoKGN1cnJlbnQ6IHVua25vd24sIHByb3ApID0+IHtcblx0XHRcdGlmIChjdXJyZW50ICYmIHR5cGVvZiBjdXJyZW50ID09PSAnb2JqZWN0JyAmJiBwcm9wIGluIGN1cnJlbnQpIHtcblx0XHRcdFx0cmV0dXJuIChjdXJyZW50IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtwcm9wXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSwgb2JqIGFzIHVua25vd24pO1xuXHRcdHJldHVybiAocmVzdWx0IGFzIHN0cmluZykgfHwgJyc7XG5cdH1cblxuXHQvKipcblx0ICogUmVwbGFjZSBwYXJhbWV0ZXJzIGluIG1lc3NhZ2UgdGVtcGxhdGVcblx0ICogU3VwcG9ydHMge3BhcmFtfSBzeW50YXhcblx0ICovXG5cdHByaXZhdGUgcmVwbGFjZVBhcmFtcyhtZXNzYWdlOiBzdHJpbmcsIHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPik6IHN0cmluZyB7XG5cdFx0cmV0dXJuIG1lc3NhZ2UucmVwbGFjZSgvXFx7KFxcdyspXFx9L2csIChtYXRjaCwga2V5KSA9PiB7XG5cdFx0XHRyZXR1cm4gcGFyYW1zW2tleV0gIT09IHVuZGVmaW5lZCA/IFN0cmluZyhwYXJhbXNba2V5XSkgOiBtYXRjaDtcblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBpMThuIG1hbmFnZXIgaW5zdGFuY2Ugd2l0aCBzcGVjaWZpZWQgbGFuZ3VhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUkxOG5NYW5hZ2VyKGxhbmd1YWdlOiBTdXBwb3J0ZWRMYW5ndWFnZSA9ICdlbicpOiBJMThuTWFuYWdlciB7XG5cdHJldHVybiBuZXcgSTE4bk1hbmFnZXIobGFuZ3VhZ2UpO1xufVxuIiwgIi8qKlxuICogRGVza3RvcCBDb25maWd1cmF0aW9uXG4gKlxuICogQ29uZmlndXJhdGlvbiBmb3IgZGVza3RvcCBkZXZpY2VzXG4gKiBNaWdyYXRlZCBmcm9tIGV4aXN0aW5nIGNvbnN0YW50cyB0byBtYWludGFpbiBleGFjdCBiZWhhdmlvclxuICovXG5cbmltcG9ydCB7XG4gICAgTWluZE1hcENvbmZpZyxcbiAgICBMYXlvdXRDb25maWcsXG4gICAgU3R5bGVDb25maWcsXG4gICAgQ29sb3JDb25maWcsXG4gICAgQW5pbWF0aW9uQ29uZmlnLFxuICAgIFBlcmZvcm1hbmNlQ29uZmlnLFxuICAgIEludGVyYWN0aW9uQ29uZmlnLFxuICAgIEZvbnRTaXplQnlEZXB0aCxcbiAgICBOdW1lcmljRm9udFNpemVCeURlcHRoXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgICBMQVlPVVRfQ09OU1RBTlRTLFxuICAgIFNUWUxFX0NPTlNUQU5UUyxcbiAgICBDT0xPUl9DT05TVEFOVFMsXG4gICAgQU5JTUFUSU9OX0NPTlNUQU5UUyxcbiAgICBQRVJGT1JNQU5DRV9DT05TVEFOVFMsXG4gICAgZ2V0Rm9udFNpemVCeURlcHRoLFxuICAgIGdldE51bWVyaWNGb250U2l6ZUJ5RGVwdGhcbn0gZnJvbSAnLi4vY29uc3RhbnRzL21pbmRtYXAtY29uc3RhbnRzJztcblxuLyoqXG4gKiBEZXNrdG9wIGNvbmZpZ3VyYXRpb24gY2xhc3NcbiAqIFByb3ZpZGVzIGFsbCBjb25maWd1cmF0aW9uIHZhbHVlcyBmb3IgZGVza3RvcCBkZXZpY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXNrdG9wQ29uZmlnIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbXBsZXRlIGRlc2t0b3AgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIGdldENvbmZpZygpOiBNaW5kTWFwQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIERldmljZSBpZGVudGlmaWNhdGlvblxuICAgICAgICAgICAgaXNNb2JpbGU6IGZhbHNlLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICdlbicsICAvLyBcdTlFRDhcdThCQTRcdTgyRjFcdTY1ODdcblxuICAgICAgICAgICAgLy8gTGF5b3V0IGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgIGxheW91dDogdGhpcy5nZXRMYXlvdXRDb25maWcoKSxcblxuICAgICAgICAgICAgLy8gU3R5bGUgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuZ2V0U3R5bGVDb25maWcoKSxcblxuICAgICAgICAgICAgLy8gQ29sb3IgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgY29sb3I6IHRoaXMuZ2V0Q29sb3JDb25maWcoKSxcblxuICAgICAgICAgICAgLy8gQW5pbWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgIGFuaW1hdGlvbjogdGhpcy5nZXRBbmltYXRpb25Db25maWcoKSxcblxuICAgICAgICAgICAgLy8gUGVyZm9ybWFuY2UgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHRoaXMuZ2V0UGVyZm9ybWFuY2VDb25maWcoKSxcblxuICAgICAgICAgICAgLy8gSW50ZXJhY3Rpb24gY29uZmlndXJhdGlvblxuICAgICAgICAgICAgaW50ZXJhY3Rpb246IHRoaXMuZ2V0SW50ZXJhY3Rpb25Db25maWcoKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbGF5b3V0IGNvbmZpZ3VyYXRpb25cbiAgICAgKiBNaWdyYXRlZCBmcm9tIExBWU9VVF9DT05TVEFOVFNcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldExheW91dENvbmZpZygpOiBMYXlvdXRDb25maWcge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gU3BhY2luZyBjb25zdGFudHNcbiAgICAgICAgICAgIG1pbk5vZGVHYXA6IExBWU9VVF9DT05TVEFOVFMuTUlOX05PREVfR0FQLFxuICAgICAgICAgICAgaG9yaXpvbnRhbFNwYWNpbmc6IExBWU9VVF9DT05TVEFOVFMuSE9SSVpPTlRBTF9TUEFDSU5HLFxuICAgICAgICAgICAgdmVydGljYWxTcGFjaW5nOiBMQVlPVVRfQ09OU1RBTlRTLlZFUlRJQ0FMX1NQQUNJTkcsXG4gICAgICAgICAgICBtaW5WZXJ0aWNhbEdhcDogTEFZT1VUX0NPTlNUQU5UUy5NSU5fVkVSVElDQUxfR0FQLFxuXG4gICAgICAgICAgICAvLyBBZGFwdGl2ZSBob3Jpem9udGFsIHNwYWNpbmcgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgYWRhcHRpdmVIb3Jpem9udGFsU3BhY2luZzoge1xuICAgICAgICAgICAgICAgIG1pblNwYWNpbmc6IExBWU9VVF9DT05TVEFOVFMuQURBUFRJVkVfSE9SSVpPTlRBTF9TUEFDSU5HLk1JTl9TUEFDSU5HLFxuICAgICAgICAgICAgICAgIG1heFNwYWNpbmc6IExBWU9VVF9DT05TVEFOVFMuQURBUFRJVkVfSE9SSVpPTlRBTF9TUEFDSU5HLk1BWF9TUEFDSU5HLFxuICAgICAgICAgICAgICAgIHNvdXJjZU5vZGVSYXRpbzogTEFZT1VUX0NPTlNUQU5UUy5BREFQVElWRV9IT1JJWk9OVEFMX1NQQUNJTkcuU09VUkNFX05PREVfUkFUSU8sXG4gICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZVJhdGlvOiBMQVlPVVRfQ09OU1RBTlRTLkFEQVBUSVZFX0hPUklaT05UQUxfU1BBQ0lORy5UQVJHRVRfTk9ERV9SQVRJTyxcbiAgICAgICAgICAgICAgICBiYXNlU3BhY2luZzogTEFZT1VUX0NPTlNUQU5UUy5BREFQVElWRV9IT1JJWk9OVEFMX1NQQUNJTkcuQkFTRV9TUEFDSU5HLFxuICAgICAgICAgICAgICAgIHNhZmV0eU1hcmdpbjogTEFZT1VUX0NPTlNUQU5UUy5BREFQVElWRV9IT1JJWk9OVEFMX1NQQUNJTkcuU0FGRVRZX01BUkdJTixcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIENhbnZhcyBkaW1lbnNpb25zXG4gICAgICAgICAgICB0cmVlSGVpZ2h0OiBMQVlPVVRfQ09OU1RBTlRTLlRSRUVfSEVJR0hULFxuICAgICAgICAgICAgdHJlZVdpZHRoOiBMQVlPVVRfQ09OU1RBTlRTLlRSRUVfV0lEVEgsXG4gICAgICAgICAgICBjYW52YXNXaWR0aDogTEFZT1VUX0NPTlNUQU5UUy5DQU5WQVNfV0lEVEgsXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQ6IExBWU9VVF9DT05TVEFOVFMuQ0FOVkFTX0hFSUdIVCxcblxuICAgICAgICAgICAgLy8gTm9kZSBzcGFjaW5nXG4gICAgICAgICAgICBub2RlSGVpZ2h0QnVmZmVyOiBMQVlPVVRfQ09OU1RBTlRTLk5PREVfSEVJR0hUX0JVRkZFUixcblxuICAgICAgICAgICAgLy8gQ2VudGVyaW5nIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgY2VudGVyT2Zmc2V0WDogTEFZT1VUX0NPTlNUQU5UUy5DRU5URVJfT0ZGU0VUX1gsXG4gICAgICAgICAgICBjZW50ZXJPZmZzZXRZOiBMQVlPVVRfQ09OU1RBTlRTLkNFTlRFUl9PRkZTRVRfWSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc3R5bGUgY29uZmlndXJhdGlvblxuICAgICAqIE1pZ3JhdGVkIGZyb20gU1RZTEVfQ09OU1RBTlRTXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRTdHlsZUNvbmZpZygpOiBTdHlsZUNvbmZpZyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBGb250IHNpemVzIGJ5IG5vZGUgbGV2ZWxcbiAgICAgICAgICAgIHJvb3RGb250U2l6ZTogU1RZTEVfQ09OU1RBTlRTLlJPT1RfRk9OVF9TSVpFLFxuICAgICAgICAgICAgbGV2ZWwxRm9udFNpemU6IFNUWUxFX0NPTlNUQU5UUy5MRVZFTF8xX0ZPTlRfU0laRSxcbiAgICAgICAgICAgIGRlZmF1bHRGb250U2l6ZTogU1RZTEVfQ09OU1RBTlRTLkRFRkFVTFRfRk9OVF9TSVpFLFxuXG4gICAgICAgICAgICAvLyBBZGRpdGlvbmFsIGZvbnQgc2l6ZXMgZm9yIFVJIGNvbXBvbmVudHNcbiAgICAgICAgICAgIHRleHRNZWFzdXJlbWVudEZvbnRTaXplOiBTVFlMRV9DT05TVEFOVFMuVEVYVF9NRUFTVVJFTUVOVF9GT05UX1NJWkUsXG4gICAgICAgICAgICBpbnRlcmFjdGlvblVpRm9udFNpemU6IFNUWUxFX0NPTlNUQU5UUy5JTlRFUkFDVElPTl9VSV9GT05UX1NJWkUsXG5cbiAgICAgICAgICAgIC8vIE5vZGUgZGltZW5zaW9uc1xuICAgICAgICAgICAgcm9vdE5vZGVNaW5XaWR0aDogU1RZTEVfQ09OU1RBTlRTLlJPT1RfTk9ERV9NSU5fV0lEVEgsXG4gICAgICAgICAgICBub2RlTWluV2lkdGg6IFNUWUxFX0NPTlNUQU5UUy5OT0RFX01JTl9XSURUSCxcblxuICAgICAgICAgICAgLy8gVGV4dCBjYWxjdWxhdGlvbnNcbiAgICAgICAgICAgIGNoYXJXaWR0aFJhdGlvOiBTVFlMRV9DT05TVEFOVFMuQ0hBUl9XSURUSF9SQVRJTyxcblxuICAgICAgICAgICAgLy8gVGltaW5nIGNvbnN0YW50c1xuICAgICAgICAgICAgcmVuZGVyRnJhbWVEZWxheTogU1RZTEVfQ09OU1RBTlRTLlJFTkRFUl9GUkFNRV9ERUxBWSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY29sb3IgY29uZmlndXJhdGlvblxuICAgICAqIE1pZ3JhdGVkIGZyb20gQ09MT1JfQ09OU1RBTlRTXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRDb2xvckNvbmZpZygpOiBDb2xvckNvbmZpZyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBEZWZhdWx0IG5vZGUgY29sb3JzIGJ5IGxldmVsXG4gICAgICAgICAgICByb290X25vZGVfY29sb3I6IENPTE9SX0NPTlNUQU5UUy5ST09UX05PREVfQ09MT1IsXG4gICAgICAgICAgICBsZXZlbF8xX2NvbG9yOiBDT0xPUl9DT05TVEFOVFMuTEVWRUxfMV9DT0xPUixcbiAgICAgICAgICAgIGRlZmF1bHRfbm9kZV9jb2xvcjogQ09MT1JfQ09OU1RBTlRTLkRFRkFVTFRfTk9ERV9DT0xPUixcblxuICAgICAgICAgICAgLy8gU2VsZWN0aW9uIGNvbG9yc1xuICAgICAgICAgICAgc2VsZWN0ZWRfbm9kZV9jb2xvcjogQ09MT1JfQ09OU1RBTlRTLlNFTEVDVEVEX05PREVfQ09MT1IsXG4gICAgICAgICAgICBob3Zlcl9ub2RlX2NvbG9yOiBDT0xPUl9DT05TVEFOVFMuSE9WRVJfTk9ERV9DT0xPUixcblxuICAgICAgICAgICAgLy8gTGluayBjb2xvcnNcbiAgICAgICAgICAgIGxpbmtfY29sb3I6IENPTE9SX0NPTlNUQU5UUy5MSU5LX0NPTE9SLFxuICAgICAgICAgICAgbGlua193aWR0aDogQ09MT1JfQ09OU1RBTlRTLkxJTktfV0lEVEgsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFuaW1hdGlvbiBjb25maWd1cmF0aW9uXG4gICAgICogTWlncmF0ZWQgZnJvbSBBTklNQVRJT05fQ09OU1RBTlRTXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRBbmltYXRpb25Db25maWcoKTogQW5pbWF0aW9uQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIFRyYW5zaXRpb24gZHVyYXRpb25zIChpbiBtaWxsaXNlY29uZHMpXG4gICAgICAgICAgICBmYXN0VHJhbnNpdGlvbjogQU5JTUFUSU9OX0NPTlNUQU5UUy5GQVNUX1RSQU5TSVRJT04sXG4gICAgICAgICAgICBub3JtYWxUcmFuc2l0aW9uOiBBTklNQVRJT05fQ09OU1RBTlRTLk5PUk1BTF9UUkFOU0lUSU9OLFxuICAgICAgICAgICAgc2xvd1RyYW5zaXRpb246IEFOSU1BVElPTl9DT05TVEFOVFMuU0xPV19UUkFOU0lUSU9OLFxuXG4gICAgICAgICAgICAvLyBFYXNpbmcgZnVuY3Rpb25zXG4gICAgICAgICAgICBlYXNpbmdEZWZhdWx0OiBBTklNQVRJT05fQ09OU1RBTlRTLkVBU0lOR19ERUZBVUxULFxuICAgICAgICAgICAgZWFzaW5nRWxhc3RpYzogQU5JTUFUSU9OX0NPTlNUQU5UUy5FQVNJTkdfRUxBU1RJQyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcGVyZm9ybWFuY2UgY29uZmlndXJhdGlvblxuICAgICAqIE1pZ3JhdGVkIGZyb20gUEVSRk9STUFOQ0VfQ09OU1RBTlRTXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRQZXJmb3JtYW5jZUNvbmZpZygpOiBQZXJmb3JtYW5jZUNvbmZpZyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBSZW5kZXJpbmcgdGhyZXNob2xkc1xuICAgICAgICAgICAgbWF4Tm9kZXNCZWZvcmVWaXJ0dWFsaXphdGlvbjogUEVSRk9STUFOQ0VfQ09OU1RBTlRTLk1BWF9OT0RFU19CRUZPUkVfVklSVFVBTElaQVRJT04sXG5cbiAgICAgICAgICAgIC8vIERlYm91bmNlIGRlbGF5cyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgICAgICAgICAgcmVuZGVyRGVib3VuY2VEZWxheTogUEVSRk9STUFOQ0VfQ09OU1RBTlRTLlJFTkRFUl9ERUJPVU5DRV9ERUxBWSxcbiAgICAgICAgICAgIGlucHV0RGVib3VuY2VEZWxheTogUEVSRk9STUFOQ0VfQ09OU1RBTlRTLklOUFVUX0RFQk9VTkNFX0RFTEFZLFxuXG4gICAgICAgICAgICAvLyBDYWNoZSBzZXR0aW5nc1xuICAgICAgICAgICAgbWF4Q2FjaGVTaXplOiBQRVJGT1JNQU5DRV9DT05TVEFOVFMuTUFYX0NBQ0hFX1NJWkUsXG4gICAgICAgICAgICBjYWNoZUV4cGlyeVRpbWU6IFBFUkZPUk1BTkNFX0NPTlNUQU5UUy5DQUNIRV9FWFBJUllfVElNRSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgaW50ZXJhY3Rpb24gY29uZmlndXJhdGlvblxuICAgICAqIERlc2t0b3Atc3BlY2lmaWMgaW50ZXJhY3Rpb24gc2V0dGluZ3NcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEludGVyYWN0aW9uQ29uZmlnKCk6IEludGVyYWN0aW9uQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIEVuYWJsZS9kaXNhYmxlIGZlYXR1cmVzXG4gICAgICAgICAgICBlbmFibGVEcmFnOiB0cnVlLFxuICAgICAgICAgICAgZW5hYmxlWm9vbTogdHJ1ZSxcblxuICAgICAgICAgICAgLy8gWm9vbSBjb25maWd1cmF0aW9uIChkZXNrdG9wIG1vdXNlIHdoZWVsIHpvb20pXG4gICAgICAgICAgICB6b29tU2NhbGVFeHRlbnQ6IFswLjUsIDNdLFxuXG4gICAgICAgICAgICAvLyBUb3VjaCBjb25maWd1cmF0aW9uIChub3QgYXBwbGljYWJsZSBmb3IgZGVza3RvcClcbiAgICAgICAgICAgIHRvdWNoVGFyZ2V0U2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5hYmxlVG91Y2hHZXN0dXJlczogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmb250IHNpemUgYnkgbm9kZSBkZXB0aFxuICAgICAqIERlbGVnYXRlcyB0byB0aGUgZXhpc3RpbmcgdXRpbGl0eSBmdW5jdGlvblxuICAgICAqL1xuICAgIGdldEZvbnRTaXplQnlEZXB0aCgpOiBGb250U2l6ZUJ5RGVwdGgge1xuICAgICAgICByZXR1cm4gZ2V0Rm9udFNpemVCeURlcHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBudW1lcmljIGZvbnQgc2l6ZSBieSBub2RlIGRlcHRoXG4gICAgICogRGVsZWdhdGVzIHRvIHRoZSBleGlzdGluZyB1dGlsaXR5IGZ1bmN0aW9uXG4gICAgICovXG4gICAgZ2V0TnVtZXJpY0ZvbnRTaXplQnlEZXB0aCgpOiBOdW1lcmljRm9udFNpemVCeURlcHRoIHtcbiAgICAgICAgcmV0dXJuIGdldE51bWVyaWNGb250U2l6ZUJ5RGVwdGg7XG4gICAgfVxufVxuIiwgIi8qKlxuICogTW9iaWxlIENvbmZpZ3VyYXRpb25cbiAqXG4gKiBDb25maWd1cmF0aW9uIGZvciBtb2JpbGUgZGV2aWNlc1xuICogUGhhc2UgMjogSW1wbGVtZW50ZWQgd2l0aCBtb2JpbGUtb3B0aW1pemVkIHZhbHVlc1xuICovXG5cbmltcG9ydCB7IE1pbmRNYXBDb25maWcgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IERlc2t0b3BDb25maWcgfSBmcm9tICcuL2Rlc2t0b3AtY29uZmlnJztcblxuLyoqXG4gKiBNb2JpbGUgY29uZmlndXJhdGlvbiBjbGFzc1xuICogUGhhc2UgMjogRnVsbHkgaW1wbGVtZW50ZWQgd2l0aCBtb2JpbGUtc3BlY2lmaWMgb3B0aW1pemF0aW9uc1xuICpcbiAqIE1vYmlsZSBvcHRpbWl6YXRpb25zIGFwcGxpZWQ6XG4gKiAtIFJlZHVjZWQgc3BhY2luZyB2YWx1ZXMgKDIwLTMwJSBzbWFsbGVyKSBmb3IgY29tcGFjdCBtb2JpbGUgc2NyZWVuc1xuICogLSBMYXJnZXIgdG91Y2ggdGFyZ2V0cyAobWluaW11bSA0NHB4KSBmb3IgYmV0dGVyIHRvdWNoIGludGVyYWN0aW9uXG4gKiAtIE9wdGltaXplZCBmb250IHNpemVzIGZvciBtb2JpbGUgcmVhZGFiaWxpdHlcbiAqIC0gU2hvcnRlciBhbmltYXRpb24gZHVyYXRpb25zIGZvciBtb2JpbGUgcGVyZm9ybWFuY2VcbiAqIC0gTW9yZSBhZ2dyZXNzaXZlIGRlYm91bmNpbmcgZm9yIHRvdWNoIGludGVyYWN0aW9uc1xuICovXG5leHBvcnQgY2xhc3MgTW9iaWxlQ29uZmlnIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbXBsZXRlIG1vYmlsZSBjb25maWd1cmF0aW9uXG4gICAgICogUGhhc2UgMjogUmV0dXJucyBmdWxseSBvcHRpbWl6ZWQgbW9iaWxlIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBnZXRDb25maWcoKTogTWluZE1hcENvbmZpZyB7XG4gICAgICAgIC8vIEdldCBkZXNrdG9wIGNvbmZpZyBhcyBiYXNlXG4gICAgICAgIGNvbnN0IGRlc2t0b3BDb25maWcgPSBuZXcgRGVza3RvcENvbmZpZygpO1xuICAgICAgICBjb25zdCBkZXNrdG9wVmFsdWVzID0gZGVza3RvcENvbmZpZy5nZXRDb25maWcoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gRGV2aWNlIGlkZW50aWZpY2F0aW9uXG4gICAgICAgICAgICBpc01vYmlsZTogdHJ1ZSxcbiAgICAgICAgICAgIGxhbmd1YWdlOiAnZW4nLCAgLy8gXHU5RUQ4XHU4QkE0XHU4MkYxXHU2NTg3XG5cbiAgICAgICAgICAgIC8vIExheW91dCBjb25maWd1cmF0aW9uIC0gTW9iaWxlIG9wdGltaXplZFxuICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgLy8gU3BhY2luZyBjb25zdGFudHMgLSBSZWR1Y2VkIGJ5IDIwLTMwJSBmb3IgY29tcGFjdCBtb2JpbGUgc2NyZWVuc1xuICAgICAgICAgICAgICAgIG1pbk5vZGVHYXA6IDIwLCAgICAgICAgICAgICAgICAgICAgICAvLyBSZWR1Y2VkIGZyb20gMjUgKDIwJSByZWR1Y3Rpb24pXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbFNwYWNpbmc6IDE1NCwgICAgICAgICAgICAgIC8vIFJlZHVjZWQgZnJvbSAyMjAgKDMwJSByZWR1Y3Rpb24pXG4gICAgICAgICAgICAgICAgdmVydGljYWxTcGFjaW5nOiA4OCwgICAgICAgICAgICAgICAgIC8vIFJlZHVjZWQgZnJvbSAxMTAgKDIwJSByZWR1Y3Rpb24pXG4gICAgICAgICAgICAgICAgbWluVmVydGljYWxHYXA6IDIwLCAgICAgICAgICAgICAgICAgIC8vIFJlZHVjZWQgZnJvbSAyNSAoMjAlIHJlZHVjdGlvbilcblxuICAgICAgICAgICAgICAgIC8vIEFkYXB0aXZlIGhvcml6b250YWwgc3BhY2luZyAtIE1vYmlsZSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICBhZGFwdGl2ZUhvcml6b250YWxTcGFjaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIG1pblNwYWNpbmc6IDU2LCAgICAgICAgICAgICAgICAgIC8vIFJlZHVjZWQgZnJvbSA4MCAoMzAlIHJlZHVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgbWF4U3BhY2luZzogMjEwLCAgICAgICAgICAgICAgICAgLy8gUmVkdWNlZCBmcm9tIDMwMCAoMzAlIHJlZHVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgc291cmNlTm9kZVJhdGlvOiAwLjE1LCAgICAgICAgICAgLy8gU2FtZSBhcyBkZXNrdG9wXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGVSYXRpbzogMC4xMCwgICAgICAgICAgIC8vIFNhbWUgYXMgZGVza3RvcFxuICAgICAgICAgICAgICAgICAgICBiYXNlU3BhY2luZzogNDIsICAgICAgICAgICAgICAgICAvLyBSZWR1Y2VkIGZyb20gNjAgKDMwJSByZWR1Y3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIHNhZmV0eU1hcmdpbjogNywgICAgICAgICAgICAgICAgIC8vIFJlZHVjZWQgZnJvbSAxMCAoMzAlIHJlZHVjdGlvbilcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gQ2FudmFzIGRpbWVuc2lvbnMgLSBTYW1lIGFzIGRlc2t0b3AgKGNhbnZhcyBzaXplIGluZGVwZW5kZW50IG9mIGRldmljZSlcbiAgICAgICAgICAgICAgICB0cmVlSGVpZ2h0OiBkZXNrdG9wVmFsdWVzLmxheW91dC50cmVlSGVpZ2h0LFxuICAgICAgICAgICAgICAgIHRyZWVXaWR0aDogZGVza3RvcFZhbHVlcy5sYXlvdXQudHJlZVdpZHRoLFxuICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoOiBkZXNrdG9wVmFsdWVzLmxheW91dC5jYW52YXNXaWR0aCxcbiAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQ6IGRlc2t0b3BWYWx1ZXMubGF5b3V0LmNhbnZhc0hlaWdodCxcblxuICAgICAgICAgICAgICAgIC8vIE5vZGUgc3BhY2luZ1xuICAgICAgICAgICAgICAgIG5vZGVIZWlnaHRCdWZmZXI6IDEyLCAgICAgICAgICAgICAgICAvLyBSZWR1Y2VkIGZyb20gMTUgKDIwJSByZWR1Y3Rpb24pXG5cbiAgICAgICAgICAgICAgICAvLyBDZW50ZXJpbmcgY2FsY3VsYXRpb25zXG4gICAgICAgICAgICAgICAgY2VudGVyT2Zmc2V0WDogZGVza3RvcFZhbHVlcy5sYXlvdXQuY2VudGVyT2Zmc2V0WCxcbiAgICAgICAgICAgICAgICBjZW50ZXJPZmZzZXRZOiBkZXNrdG9wVmFsdWVzLmxheW91dC5jZW50ZXJPZmZzZXRZLFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gU3R5bGUgY29uZmlndXJhdGlvbiAtIE1vYmlsZSBvcHRpbWl6ZWQgZm9yIHJlYWRhYmlsaXR5XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIC8vIEZvbnQgc2l6ZXMgLSBTbGlnaHRseSBsYXJnZXIgZm9yIG1vYmlsZSByZWFkYWJpbGl0eVxuICAgICAgICAgICAgICAgIHJvb3RGb250U2l6ZTogZGVza3RvcFZhbHVlcy5zdHlsZS5yb290Rm9udFNpemUsXG4gICAgICAgICAgICAgICAgbGV2ZWwxRm9udFNpemU6IFwiMTlweFwiLCAgICAgICAgICAgICAgLy8gSW5jcmVhc2VkIGZyb20gMThweCBmb3IgYmV0dGVyIHJlYWRhYmlsaXR5XG4gICAgICAgICAgICAgICAgZGVmYXVsdEZvbnRTaXplOiBcIjE2cHhcIiwgICAgICAgICAgICAgLy8gSW5jcmVhc2VkIGZyb20gMTVweCBmb3IgbW9iaWxlXG5cbiAgICAgICAgICAgICAgICAvLyBBZGRpdGlvbmFsIGZvbnQgc2l6ZXNcbiAgICAgICAgICAgICAgICB0ZXh0TWVhc3VyZW1lbnRGb250U2l6ZTogZGVza3RvcFZhbHVlcy5zdHlsZS50ZXh0TWVhc3VyZW1lbnRGb250U2l6ZSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvblVpRm9udFNpemU6IGRlc2t0b3BWYWx1ZXMuc3R5bGUuaW50ZXJhY3Rpb25VaUZvbnRTaXplLFxuXG4gICAgICAgICAgICAgICAgLy8gTm9kZSBkaW1lbnNpb25zXG4gICAgICAgICAgICAgICAgcm9vdE5vZGVNaW5XaWR0aDogZGVza3RvcFZhbHVlcy5zdHlsZS5yb290Tm9kZU1pbldpZHRoLFxuICAgICAgICAgICAgICAgIG5vZGVNaW5XaWR0aDogZGVza3RvcFZhbHVlcy5zdHlsZS5ub2RlTWluV2lkdGgsXG5cbiAgICAgICAgICAgICAgICAvLyBUZXh0IGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgICAgIGNoYXJXaWR0aFJhdGlvOiBkZXNrdG9wVmFsdWVzLnN0eWxlLmNoYXJXaWR0aFJhdGlvLFxuXG4gICAgICAgICAgICAgICAgLy8gVGltaW5nIGNvbnN0YW50c1xuICAgICAgICAgICAgICAgIHJlbmRlckZyYW1lRGVsYXk6IGRlc2t0b3BWYWx1ZXMuc3R5bGUucmVuZGVyRnJhbWVEZWxheSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIENvbG9yIGNvbmZpZ3VyYXRpb24gLSBTYW1lIGFzIGRlc2t0b3BcbiAgICAgICAgICAgIGNvbG9yOiBkZXNrdG9wVmFsdWVzLmNvbG9yLFxuXG4gICAgICAgICAgICAvLyBBbmltYXRpb24gY29uZmlndXJhdGlvbiAtIE9wdGltaXplZCBmb3IgbW9iaWxlIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICAvLyBUcmFuc2l0aW9uIGR1cmF0aW9ucyAtIFNob3J0ZXIgZm9yIGJldHRlciBtb2JpbGUgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgICAgICBmYXN0VHJhbnNpdGlvbjogMTAwLCAgICAgICAgICAgICAgICAgLy8gUmVkdWNlZCBmcm9tIDE1MG1zXG4gICAgICAgICAgICAgICAgbm9ybWFsVHJhbnNpdGlvbjogMjAwLCAgICAgICAgICAgICAgIC8vIFJlZHVjZWQgZnJvbSAzMDBtc1xuICAgICAgICAgICAgICAgIHNsb3dUcmFuc2l0aW9uOiAzMDAsICAgICAgICAgICAgICAgICAvLyBSZWR1Y2VkIGZyb20gNTAwbXNcblxuICAgICAgICAgICAgICAgIC8vIEVhc2luZyBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBlYXNpbmdEZWZhdWx0OiBkZXNrdG9wVmFsdWVzLmFuaW1hdGlvbi5lYXNpbmdEZWZhdWx0LFxuICAgICAgICAgICAgICAgIGVhc2luZ0VsYXN0aWM6IGRlc2t0b3BWYWx1ZXMuYW5pbWF0aW9uLmVhc2luZ0VsYXN0aWMsXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBQZXJmb3JtYW5jZSBjb25maWd1cmF0aW9uIC0gTW9iaWxlIG9wdGltaXplZFxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXJpbmcgdGhyZXNob2xkc1xuICAgICAgICAgICAgICAgIG1heE5vZGVzQmVmb3JlVmlydHVhbGl6YXRpb246IGRlc2t0b3BWYWx1ZXMucGVyZm9ybWFuY2UubWF4Tm9kZXNCZWZvcmVWaXJ0dWFsaXphdGlvbixcblxuICAgICAgICAgICAgICAgIC8vIERlYm91bmNlIGRlbGF5cyAtIE1vcmUgYWdncmVzc2l2ZSBmb3IgbW9iaWxlIHRvdWNoIGludGVyYWN0aW9uc1xuICAgICAgICAgICAgICAgIHJlbmRlckRlYm91bmNlRGVsYXk6IDE1MCwgICAgICAgICAgICAvLyBJbmNyZWFzZWQgZnJvbSAxMDBtcyAocmVkdWNlIHJlLXJlbmRlcnMpXG4gICAgICAgICAgICAgICAgaW5wdXREZWJvdW5jZURlbGF5OiA0MDAsICAgICAgICAgICAgIC8vIEluY3JlYXNlZCBmcm9tIDMwMG1zIChiZXR0ZXIgZm9yIHRvdWNoKVxuXG4gICAgICAgICAgICAgICAgLy8gQ2FjaGUgc2V0dGluZ3NcbiAgICAgICAgICAgICAgICBtYXhDYWNoZVNpemU6IGRlc2t0b3BWYWx1ZXMucGVyZm9ybWFuY2UubWF4Q2FjaGVTaXplLFxuICAgICAgICAgICAgICAgIGNhY2hlRXhwaXJ5VGltZTogZGVza3RvcFZhbHVlcy5wZXJmb3JtYW5jZS5jYWNoZUV4cGlyeVRpbWUsXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBJbnRlcmFjdGlvbiBjb25maWd1cmF0aW9uIC0gTW9iaWxlIHNwZWNpZmljXG4gICAgICAgICAgICBpbnRlcmFjdGlvbjoge1xuICAgICAgICAgICAgICAgIC8vIEVuYWJsZS9kaXNhYmxlIGZlYXR1cmVzXG4gICAgICAgICAgICAgICAgZW5hYmxlRHJhZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbmFibGVab29tOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAgLy8gWm9vbSBjb25maWd1cmF0aW9uXG4gICAgICAgICAgICAgICAgem9vbVNjYWxlRXh0ZW50OiBbMC41LCAzXSwgICAgICAgICAgIC8vIFNhbWUgYXMgZGVza3RvcFxuXG4gICAgICAgICAgICAgICAgLy8gTW9iaWxlLXNwZWNpZmljOiBUb3VjaCBpbnRlcmFjdGlvbiBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIHRvdWNoVGFyZ2V0U2l6ZTogNDQsICAgICAgICAgICAgICAgICAvLyBpT1MgSElHIHN0YW5kYXJkICg0NHB0IG1pbmltdW0pXG4gICAgICAgICAgICAgICAgZW5hYmxlVG91Y2hHZXN0dXJlczogdHJ1ZSwgICAgICAgICAgIC8vIEVuYWJsZSBwaW5jaCB6b29tLCB0b3VjaCBkcmFnXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsICIvKipcbiAqIENvbmZpZ3VyYXRpb24gTWFuYWdlclxuICpcbiAqIENlbnRyYWxpemVkIGNvbmZpZ3VyYXRpb24gbWFuYWdlbWVudCB3aXRoIGRldmljZSBkZXRlY3Rpb25cbiAqIEltcGxlbWVudHMgZWFybHkgYnJhbmNoaW5nIHBhdHRlcm4gdG8gZW5zdXJlIGRlc2t0b3AgbG9naWMgaXMgbm90IGFmZmVjdGVkXG4gKi9cblxuaW1wb3J0IHsgTWluZE1hcENvbmZpZyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgRGVza3RvcENvbmZpZyB9IGZyb20gJy4vZGVza3RvcC1jb25maWcnO1xuaW1wb3J0IHsgTW9iaWxlQ29uZmlnIH0gZnJvbSAnLi9tb2JpbGUtY29uZmlnJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG1hbmFnZXIgY2xhc3NcbiAqXG4gKiBSZXNwb25zaWJpbGl0aWVzOlxuICogLSBEZXRlY3QgZGV2aWNlIHR5cGUgYW5kIHNlbGVjdCBhcHByb3ByaWF0ZSBjb25maWd1cmF0aW9uXG4gKiAtIFByb3ZpZGUgY2VudHJhbGl6ZWQgYWNjZXNzIHRvIGNvbmZpZ3VyYXRpb24gdmFsdWVzXG4gKiAtIEVuc3VyZSBkZXZpY2Utc3BlY2lmaWMgY29uZmlncyBhcmUgaXNvbGF0ZWQgKGVhcmx5IGJyYW5jaGluZyBwYXR0ZXJuKVxuICpcbiAqIEFyY2hpdGVjdHVyZSBOb3RlOlxuICogVGhpcyBjbGFzcyBpbXBsZW1lbnRzIHRoZSBlYXJseSBicmFuY2hpbmcgcGF0dGVybiB3aGVyZSBkZXZpY2UgZGV0ZWN0aW9uXG4gKiBoYXBwZW5zIG9uY2UgYXQgaW5pdGlhbGl6YXRpb24gdGltZS4gVGhpcyBlbnN1cmVzIHRoYXQ6XG4gKiAxLiBEZXNrdG9wIGFuZCBtb2JpbGUgY29kZSBwYXRocyBhcmUgY29tcGxldGVseSBzZXBhcmF0ZVxuICogMi4gRGVza3RvcCBsb2dpYyBjYW5ub3QgYmUgYWZmZWN0ZWQgYnkgbW9iaWxlIGNvZGVcbiAqIDMuIFRoZSBjb25maWcgb2JqZWN0IHJlbWFpbnMgaW1tdXRhYmxlIGFmdGVyIGNyZWF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25maWdNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGNvbmZpZzogTWluZE1hcENvbmZpZztcbiAgICBwcml2YXRlIGxhbmd1YWdlOiAnZW4nIHwgJ3poJztcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIC0gcGVyZm9ybXMgZGV2aWNlIGRldGVjdGlvbiBhbmQgc2VsZWN0cyBjb25maWd1cmF0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXNNb2JpbGUgLSBEZXZpY2UgdHlwZSBmbGFnIGZyb20gT2JzaWRpYW4gQVBJIChhcHAuaXNNb2JpbGUpXG4gICAgICogQHBhcmFtIGxhbmd1YWdlIC0gTGFuZ3VhZ2Ugc2V0dGluZyBmcm9tIHVzZXIgcHJlZmVyZW5jZXMgKGRlZmF1bHQ6ICdlbicpXG4gICAgICpcbiAgICAgKiBFYXJseSBCcmFuY2hpbmcgUGF0dGVybjpcbiAgICAgKiBUaGUgZGV2aWNlIGRldGVjdGlvbiBoYXBwZW5zIGhlcmUgYXQgaW5pdGlhbGl6YXRpb24gdGltZSwgbm90IGR1cmluZ1xuICAgICAqIHJ1bnRpbWUgdXNhZ2UuIFRoaXMgZ3VhcmFudGVlcyB0aGF0OlxuICAgICAqIC0gRGVza3RvcCBkZXZpY2VzIGFsd2F5cyB1c2UgRGVza3RvcENvbmZpZ1xuICAgICAqIC0gTW9iaWxlIGRldmljZXMgYWx3YXlzIHVzZSBNb2JpbGVDb25maWdcbiAgICAgKiAtIE5vIG1peGluZyBvZiBjb2RlIHBhdGhzIGR1cmluZyBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihpc01vYmlsZTogYm9vbGVhbiwgbGFuZ3VhZ2U6ICdlbicgfCAnemgnID0gJ2VuJykge1xuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG5cbiAgICAgICAgLy8gXHVEODNEXHVERDEyIEVBUkxZIEJSQU5DSElORzogRGV2aWNlLXNwZWNpZmljIGNvbmZpZ3VyYXRpb24gc2VsZWN0aW9uXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgcGxhY2Ugd2hlcmUgd2UgY2hlY2sgZGV2aWNlIHR5cGVcbiAgICAgICAgLy8gQWZ0ZXIgdGhpcyBwb2ludCwgdGhlIGNvbmZpZyBpcyBmaXhlZCBhbmQgbmV2ZXIgY2hhbmdlc1xuXG4gICAgICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgICAgICAgLy8gTW9iaWxlIHBhdGg6IFVzZSBtb2JpbGUgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBuZXcgTW9iaWxlQ29uZmlnKCkuZ2V0Q29uZmlnKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZXNrdG9wIHBhdGg6IFVzZSBkZXNrdG9wIGNvbmZpZ3VyYXRpb24gKGV4aXN0aW5nIGJlaGF2aW9yKVxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSBuZXcgRGVza3RvcENvbmZpZygpLmdldENvbmZpZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3ZlcnJpZGUgbGFuZ3VhZ2Ugd2l0aCB1c2VyIHNldHRpbmdcbiAgICAgICAgdGhpcy5jb25maWcubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbXBsZXRlIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBDb21wbGV0ZSBjb25maWd1cmF0aW9uIGZvciB0aGUgZGV0ZWN0ZWQgZGV2aWNlIHR5cGVcbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgcmV0dXJucyBhIGZyb3plbiBjb25maWd1cmF0aW9uIG9iamVjdC4gVGhlIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBpcyBkZXRlcm1pbmVkIGF0IGNvbnN0cnVjdGlvbiB0aW1lIGFuZCBuZXZlciBjaGFuZ2VzIGR1cmluZyBydW50aW1lLlxuICAgICAqL1xuICAgIGdldENvbmZpZygpOiBNaW5kTWFwQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBsYW5ndWFnZSBzZXR0aW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ3VhZ2UgLSBOZXcgbGFuZ3VhZ2Ugc2V0dGluZ1xuICAgICAqL1xuICAgIHVwZGF0ZUxhbmd1YWdlKGxhbmd1YWdlOiAnZW4nIHwgJ3poJyk6IHZvaWQge1xuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgICAgIHRoaXMuY29uZmlnLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGRldmljZSB0eXBlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIG1vYmlsZSBkZXZpY2UsIGZhbHNlIGlmIGRlc2t0b3BcbiAgICAgKi9cbiAgICBpc01vYmlsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmlzTW9iaWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBsYXlvdXQgY29uZmlndXJhdGlvbiBzZWN0aW9uXG4gICAgICovXG4gICAgZ2V0TGF5b3V0Q29uZmlnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcubGF5b3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBzdHlsZSBjb25maWd1cmF0aW9uIHNlY3Rpb25cbiAgICAgKi9cbiAgICBnZXRTdHlsZUNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnN0eWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjb2xvciBjb25maWd1cmF0aW9uIHNlY3Rpb25cbiAgICAgKi9cbiAgICBnZXRDb2xvckNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmNvbG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbmltYXRpb24gY29uZmlndXJhdGlvbiBzZWN0aW9uXG4gICAgICovXG4gICAgZ2V0QW5pbWF0aW9uQ29uZmlnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuYW5pbWF0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwZXJmb3JtYW5jZSBjb25maWd1cmF0aW9uIHNlY3Rpb25cbiAgICAgKi9cbiAgICBnZXRQZXJmb3JtYW5jZUNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnBlcmZvcm1hbmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBpbnRlcmFjdGlvbiBjb25maWd1cmF0aW9uIHNlY3Rpb25cbiAgICAgKi9cbiAgICBnZXRJbnRlcmFjdGlvbkNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmludGVyYWN0aW9uO1xuICAgIH1cbn1cbiIsICIvKipcbiAqIEFJIENsaWVudCBmb3IgT3BlbkFJLWNvbXBhdGlibGUgQVBJXG4gKiBIYW5kbGVzIGNvbW11bmljYXRpb24gd2l0aCBPcGVuQUkgb3IgY29tcGF0aWJsZSBzZXJ2aWNlc1xuICovXG5cbmltcG9ydCB7IHJlcXVlc3RVcmwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBBSVByb21wdHMsIE5vZGVDb250ZXh0IH0gZnJvbSAnLi9haS1wcm9tcHRzJztcblxuLy8gUmUtZXhwb3J0IE5vZGVDb250ZXh0IGZvciBleHRlcm5hbCB1c2VcbmV4cG9ydCB0eXBlIHsgTm9kZUNvbnRleHQgfTtcblxuZXhwb3J0IGludGVyZmFjZSBBSUNvbmZpZ3VyYXRpb24ge1xuXHRhcGlCYXNlVXJsOiBzdHJpbmc7XG5cdGFwaUtleTogc3RyaW5nO1xuXHRtb2RlbDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlc3RDb25uZWN0aW9uUmVzdWx0IHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0bWVzc2FnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQUlDbGllbnQge1xuXHRwcml2YXRlIGNvbmZpZzogQUlDb25maWd1cmF0aW9uO1xuXG5cdGNvbnN0cnVjdG9yKGNvbmZpZzogQUlDb25maWd1cmF0aW9uKSB7XG5cdFx0dGhpcy5jb25maWcgPSBjb25maWc7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIGNvbmZpZ3VyYXRpb25cblx0ICovXG5cdHVwZGF0ZUNvbmZpZyhjb25maWc6IEFJQ29uZmlndXJhdGlvbik6IHZvaWQge1xuXHRcdHRoaXMuY29uZmlnID0gY29uZmlnO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRlc3QgQVBJIGNvbm5lY3Rpb24gYnkgc2VuZGluZyBhIHNpbXBsZSByZXF1ZXN0XG5cdCAqL1xuXHRhc3luYyB0ZXN0Q29ubmVjdGlvbigpOiBQcm9taXNlPFRlc3RDb25uZWN0aW9uUmVzdWx0PiB7XG5cdFx0Ly8gQ2hlY2sgaWYgQVBJIGtleSBpcyBjb25maWd1cmVkXG5cdFx0aWYgKCF0aGlzLmNvbmZpZy5hcGlLZXkgfHwgdGhpcy5jb25maWcuYXBpS2V5LnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRtZXNzYWdlOiAnXHUyNzRDIEVycm9yOiBBUEkga2V5IGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2UgZW50ZXIgeW91ciBBUEkga2V5IGluIHNldHRpbmdzLidcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgaWYgQVBJIGJhc2UgVVJMIGlzIGNvbmZpZ3VyZWRcblx0XHRpZiAoIXRoaXMuY29uZmlnLmFwaUJhc2VVcmwgfHwgdGhpcy5jb25maWcuYXBpQmFzZVVybC50cmltKCkgPT09ICcnKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0bWVzc2FnZTogJ1x1Mjc0QyBFcnJvcjogQVBJIGJhc2UgVVJMIGlzIG5vdCBjb25maWd1cmVkLidcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGFwaVVybCA9IGAke3RoaXMuY29uZmlnLmFwaUJhc2VVcmx9L2NoYXQvY29tcGxldGlvbnNgO1xuXG5cblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHRcdHVybDogYXBpVXJsLFxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdFx0XHRcdFx0J0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5jb25maWcuYXBpS2V5fWBcblx0XHRcdFx0fSxcblx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdG1vZGVsOiB0aGlzLmNvbmZpZy5tb2RlbCxcblx0XHRcdFx0XHRtZXNzYWdlczogW1xuXHRcdFx0XHRcdFx0eyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdIaScgfVxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0bWF4X3Rva2VuczogMTAsXG5cdFx0XHRcdFx0dGVtcGVyYXR1cmU6IDAuN1xuXHRcdFx0XHR9KVxuXHRcdFx0fSk7XG5cblxuXHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XG5cdFx0XHRcdGNvbnN0IGRhdGEgPSByZXNwb25zZS5qc29uO1xuXG5cdFx0XHRcdC8vIFZhbGlkYXRlIHJlc3BvbnNlIHN0cnVjdHVyZVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHRoaXMudmFsaWRhdGVBUElSZXNwb25zZVN0cnVjdHVyZShkYXRhLCAndGVzdENvbm5lY3Rpb24nKTtcblxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRcdFx0bWVzc2FnZTogJ1x1MjcwNSBDb25uZWN0aW9uIHN1Y2Nlc3NmdWwhIEFQSSBpcyB3b3JraW5nIGNvcnJlY3RseS4nXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSBjYXRjaCAodmFsaWRhdGlvbkVycm9yKSB7XG5cdFx0XHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gdmFsaWRhdGlvbkVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB2YWxpZGF0aW9uRXJyb3IubWVzc2FnZSA6IFN0cmluZyh2YWxpZGF0aW9uRXJyb3IpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdFx0bWVzc2FnZTogYFx1Mjc0QyBBUEkgcmV0dXJuZWQgaW52YWxpZCByZXNwb25zZTogJHtlcnJvck1lc3NhZ2V9YFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEhhbmRsZSBlcnJvciByZXNwb25zZVxuXHRcdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YDtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IGVycm9yRGF0YSA9IHJlc3BvbnNlLmpzb247XG5cdFx0XHRcdFx0aWYgKGVycm9yRGF0YS5lcnJvcj8ubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0ZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yLm1lc3NhZ2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHQvLyBJZ25vcmUgSlNPTiBwYXJzZSBlcnJvcnMgd2hlbiBleHRyYWN0aW5nIGVycm9yIGRldGFpbHNcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0XHRtZXNzYWdlOiBgXHUyNzRDIEVycm9yOiAke2Vycm9yTWVzc2FnZX1gXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHQvLyBOZXR3b3JrIGVycm9yIG9yIG90aGVyIGV4Y2VwdGlvblxuXHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gJ05ldHdvcmsgZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24gYW5kIEFQSSBVUkwuJztcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdG1lc3NhZ2U6IGBcdTI3NEMgTmV0d29yayBlcnJvcjogJHtlcnJvck1lc3NhZ2V9LiBQbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uIGFuZCBBUEkgVVJMLmBcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNlbmQgYSBjaGF0IGNvbXBsZXRpb24gcmVxdWVzdFxuXHQgKiBUaGlzIHdpbGwgYmUgdXNlZCBpbiBmdXR1cmUgZmVhdHVyZXMgZm9yIG5vZGUgc3VnZ2VzdGlvbnNcblx0ICovXG5cdGFzeW5jIGNoYXQodXNlck1lc3NhZ2U6IHN0cmluZywgc3lzdGVtTWVzc2FnZT86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0aWYgKCF0aGlzLmNvbmZpZy5hcGlLZXkgfHwgdGhpcy5jb25maWcuYXBpS2V5LnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQVBJIGtleSBpcyBub3QgY29uZmlndXJlZCcpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFwaVVybCA9IGAke3RoaXMuY29uZmlnLmFwaUJhc2VVcmx9L2NoYXQvY29tcGxldGlvbnNgO1xuXG5cdFx0Y29uc3QgbWVzc2FnZXM6IHtyb2xlOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZ31bXSA9IFtdO1xuXG5cdFx0aWYgKHN5c3RlbU1lc3NhZ2UpIHtcblx0XHRcdG1lc3NhZ2VzLnB1c2goeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogc3lzdGVtTWVzc2FnZSB9KTtcblx0XHR9XG5cblx0XHRtZXNzYWdlcy5wdXNoKHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiB1c2VyTWVzc2FnZSB9KTtcblxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHR1cmw6IGFwaVVybCxcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHRcdFx0XHQnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmNvbmZpZy5hcGlLZXl9YFxuXHRcdFx0fSxcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0bW9kZWw6IHRoaXMuY29uZmlnLm1vZGVsLFxuXHRcdFx0XHRtZXNzYWdlczogbWVzc2FnZXMsXG5cdFx0XHRcdG1heF90b2tlbnM6IDMwMDAsXG5cdFx0XHRcdHRlbXBlcmF0dXJlOiAwLjdcblx0XHRcdH0pXG5cdFx0fSk7XG5cblx0XHQvLyBMb2cgSFRUUCBzdGF0dXMgYW5kIGhlYWRlcnNcblxuXHRcdGlmIChyZXNwb25zZS5zdGF0dXMgPCAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID49IDMwMCkge1xuXHRcdFx0bGV0IGVycm9yTWVzc2FnZSA9IGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfWA7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBlcnJvckRhdGEgPSByZXNwb25zZS5qc29uO1xuXHRcdFx0XHRpZiAoZXJyb3JEYXRhLmVycm9yPy5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0ZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yLm1lc3NhZ2U7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBJZ25vcmUgSlNPTiBwYXJzZSBlcnJvcnMgd2hlbiBleHRyYWN0aW5nIGVycm9yIGRldGFpbHNcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRhdGEgPSByZXNwb25zZS5qc29uO1xuXG5cdFx0Ly8gVmFsaWRhdGUgcmVzcG9uc2Ugc3RydWN0dXJlXG5cdFx0Y29uc3QgY29udGVudCA9IHRoaXMudmFsaWRhdGVBUElSZXNwb25zZVN0cnVjdHVyZShkYXRhLCAnY2hhdCcpO1xuXG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHQvKipcblx0ICogU3VnZ2VzdCBjaGlsZCBub2RlcyBmb3IgYSBnaXZlbiBub2RlXG5cdCAqIEBwYXJhbSBjb250ZXh0IE5vZGUgY29udGV4dCBpbmZvcm1hdGlvblxuXHQgKiBAcGFyYW0gcHJvbXB0VGVtcGxhdGUgVXNlci1jb25maWd1cmVkIHByb21wdCB0ZW1wbGF0ZVxuXHQgKiBAcGFyYW0gc3lzdGVtTWVzc2FnZSBTeXN0ZW0gbWVzc2FnZSBmb3IgQUlcblx0ICogQHJldHVybnMgQXJyYXkgb2Ygbm9kZSBzdWdnZXN0aW9uc1xuXHQgKi9cblx0YXN5bmMgc3VnZ2VzdENoaWxkTm9kZXMoXG5cdFx0Y29udGV4dDogTm9kZUNvbnRleHQsXG5cdFx0cHJvbXB0VGVtcGxhdGU6IHN0cmluZyxcblx0XHRzeXN0ZW1NZXNzYWdlOiBzdHJpbmdcblx0KTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBWYWxpZGF0ZSBub2RlIHRleHRcblx0XHRcdGlmICghY29udGV4dC5ub2RlVGV4dCB8fCBjb250ZXh0Lm5vZGVUZXh0LnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdOb2RlIHRleHQgaXMgZW1wdHkuIFBsZWFzZSBhZGQgdGV4dCB0byB0aGUgbm9kZSBmaXJzdC4nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVmFsaWRhdGUgQVBJIGNvbmZpZ3VyYXRpb24gYmVmb3JlIG1ha2luZyByZXF1ZXN0XG5cdFx0XHR0aGlzLnZhbGlkYXRlQ29uZmlndXJhdGlvbigpO1xuXG5cdFx0XHQvLyBWYWxpZGF0ZSBwcm9tcHQgdGVtcGxhdGUgbGVuZ3RoXG5cdFx0XHRpZiAocHJvbXB0VGVtcGxhdGUgJiYgcHJvbXB0VGVtcGxhdGUubGVuZ3RoID4gMTAwMDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdQcm9tcHQgdGVtcGxhdGUgaXMgdG9vIGxvbmcgKG1heCAxMDAwMCBjaGFyYWN0ZXJzKS4nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVmFsaWRhdGUgc3lzdGVtIG1lc3NhZ2UgbGVuZ3RoXG5cdFx0XHRpZiAoc3lzdGVtTWVzc2FnZSAmJiBzeXN0ZW1NZXNzYWdlLmxlbmd0aCA+IDUwMDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdTeXN0ZW0gbWVzc2FnZSBpcyB0b28gbG9uZyAobWF4IDUwMDAgY2hhcmFjdGVycykuJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIDEuIEJ1aWxkIHVzZXIgcHJvbXB0IGJ5IHJlcGxhY2luZyB2YXJpYWJsZXNcblxuXHRcdFx0Y29uc3QgdXNlclByb21wdCA9IEFJUHJvbXB0cy5idWlsZFVzZXJQcm9tcHQocHJvbXB0VGVtcGxhdGUsIGNvbnRleHQpO1xuXG5cblx0XHRcdC8vIDIuIENhbGwgQUkgQVBJXG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2hhdCh1c2VyUHJvbXB0LCBzeXN0ZW1NZXNzYWdlKTtcblxuXG5cdFx0XHQvLyAzLiBQYXJzZSBKU09OIHJlc3BvbnNlXG5cdFx0XHRjb25zdCBzdWdnZXN0aW9ucyA9IHRoaXMucGFyc2VKU09OUmVzcG9uc2UocmVzcG9uc2UpO1xuXG5cblx0XHRcdC8vIDQuIERlZHVwbGljYXRlIGFuZCBmaWx0ZXJcblx0XHRcdGNvbnN0IGZpbHRlcmVkID0gdGhpcy5kZWR1cGxpY2F0ZVN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zLCBjb250ZXh0LmV4aXN0aW5nQ2hpbGRyZW4pO1xuXG5cblx0XHRcdHJldHVybiBmaWx0ZXJlZDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Ly8gRW5oYW5jZSBlcnJvciB3aXRoIGNvbnRleHRcblx0XHRcdGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcblxuXHRcdFx0Ly8gUmUtdGhyb3cgd2l0aCBhZGRpdGlvbmFsIGNvbnRleHRcblx0XHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQUkgc3VnZ2VzdGlvbiBmYWlsZWQgZm9yIG5vZGUgXCIke2NvbnRleHQubm9kZVRleHR9XCI6ICR7ZXJyb3JNZXNzYWdlfWApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFBhcnNlIEpTT04gcmVzcG9uc2UgZnJvbSBBSVxuXHQgKiBAcGFyYW0gcmVzcG9uc2UgQUkgcmVzcG9uc2UgdGV4dFxuXHQgKiBAcmV0dXJucyBQYXJzZWQgYXJyYXkgb2Ygc3VnZ2VzdGlvbnNcblx0ICovXG5cdHByaXZhdGUgcGFyc2VKU09OUmVzcG9uc2UocmVzcG9uc2U6IHN0cmluZyk6IHN0cmluZ1tdIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gVHJ5IHRvIGV4dHJhY3QgSlNPTiBhcnJheSBmcm9tIHJlc3BvbnNlXG5cdFx0XHRjb25zdCBqc29uTWF0Y2ggPSByZXNwb25zZS5tYXRjaCgvXFxbW1xcc1xcU10qXFxdLyk7XG5cdFx0XHRpZiAoanNvbk1hdGNoKSB7XG5cdFx0XHRcdGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKTtcblx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuXHRcdFx0XHRcdHJldHVybiBwYXJzZWQuZmlsdGVyKGl0ZW0gPT4gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICYmIGl0ZW0udHJpbSgpLmxlbmd0aCA+IDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIG5vIEpTT04gZm91bmQsIHNwbGl0IGJ5IGxpbmVzXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2Vcblx0XHRcdFx0LnNwbGl0KCdcXG4nKVxuXHRcdFx0XHQubWFwKGxpbmUgPT4gbGluZS50cmltKCkpXG5cdFx0XHRcdC5maWx0ZXIobGluZSA9PlxuXHRcdFx0XHRcdGxpbmUubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCFsaW5lLnN0YXJ0c1dpdGgoJ2BgYCcpICYmXG5cdFx0XHRcdFx0IWxpbmUuc3RhcnRzV2l0aCgnIycpICYmXG5cdFx0XHRcdFx0IWxpbmUubWF0Y2goL15bMC05XStcXC4vKSAvLyBSZW1vdmUgbnVtYmVyZWQgbGlzdCBpdGVtc1xuXHRcdFx0XHQpXG5cdFx0XHRcdC5tYXAobGluZSA9PiBsaW5lLnJlcGxhY2UoL15bLSpcdTIwMjJdXFxzKi8sICcnKSk7IC8vIFJlbW92ZSBidWxsZXQgcG9pbnRzXG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERlZHVwbGljYXRlIHN1Z2dlc3Rpb25zIGFnYWluc3QgZXhpc3RpbmcgY2hpbGRyZW5cblx0ICogQHBhcmFtIHN1Z2dlc3Rpb25zIEFJLWdlbmVyYXRlZCBzdWdnZXN0aW9uc1xuXHQgKiBAcGFyYW0gZXhpc3RpbmdDaGlsZHJlbiBFeGlzdGluZyBjaGlsZCBub2Rlc1xuXHQgKiBAcmV0dXJucyBGaWx0ZXJlZCBzdWdnZXN0aW9uc1xuXHQgKi9cblx0cHJpdmF0ZSBkZWR1cGxpY2F0ZVN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zOiBzdHJpbmdbXSwgZXhpc3RpbmdDaGlsZHJlbjogc3RyaW5nW10gPSBbXSk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBleGlzdGluZyA9IG5ldyBTZXQoXG5cdFx0XHRleGlzdGluZ0NoaWxkcmVuLm1hcChjID0+IGMudG9Mb3dlckNhc2UoKS50cmltKCkpXG5cdFx0KTtcblxuXHRcdHJldHVybiBzdWdnZXN0aW9uc1xuXHRcdFx0Lm1hcChzID0+IHMudHJpbSgpKVxuXHRcdFx0LmZpbHRlcihzID0+ICFleGlzdGluZy5oYXMocy50b0xvd2VyQ2FzZSgpKSlcblx0XHRcdC5zbGljZSgwLCA1KTsgLy8gTWF4aW11bSA1IHN1Z2dlc3Rpb25zXG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgdGhlIGNsaWVudCBpcyBwcm9wZXJseSBjb25maWd1cmVkXG5cdCAqL1xuXHRpc0NvbmZpZ3VyZWQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICEhKHRoaXMuY29uZmlnLmFwaUJhc2VVcmwgJiYgdGhpcy5jb25maWcuYXBpQmFzZVVybC50cmltKCkgIT09ICcnICYmXG5cdFx0ICAgICAgICAgdGhpcy5jb25maWcuYXBpS2V5ICYmIHRoaXMuY29uZmlnLmFwaUtleS50cmltKCkgIT09ICcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBWYWxpZGF0ZSBBUEkgY29uZmlndXJhdGlvblxuXHQgKiBAdGhyb3dzIEVycm9yIGlmIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFxuXHQgKi9cblx0cHJpdmF0ZSB2YWxpZGF0ZUNvbmZpZ3VyYXRpb24oKTogdm9pZCB7XG5cdFx0Ly8gQ2hlY2sgQVBJIGtleVxuXHRcdGlmICghdGhpcy5jb25maWcuYXBpS2V5IHx8IHRoaXMuY29uZmlnLmFwaUtleS50cmltKCkgPT09ICcnKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0FQSSBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBlbnRlciB5b3VyIEFQSSBrZXkgaW4gc2V0dGluZ3MuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgQVBJIGJhc2UgVVJMXG5cdFx0aWYgKCF0aGlzLmNvbmZpZy5hcGlCYXNlVXJsIHx8IHRoaXMuY29uZmlnLmFwaUJhc2VVcmwudHJpbSgpID09PSAnJykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdBUEkgYmFzZSBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gVmFsaWRhdGUgVVJMIGZvcm1hdFxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMuY29uZmlnLmFwaUJhc2VVcmwpO1xuXHRcdFx0Ly8gRW5zdXJlIGl0J3MgdXNpbmcgSFRUUFMgKG9yIGxvY2FsaG9zdCBmb3IgZGV2ZWxvcG1lbnQpXG5cdFx0XHRpZiAodXJsLnByb3RvY29sICE9PSAnaHR0cHM6JyAmJiB1cmwucHJvdG9jb2wgIT09ICdodHRwOicpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFVSTCBwcm90b2NvbC4nKTtcblx0XHRcdH1cblx0XHRcdC8vIFdhcm4gYWJvdXQgSFRUUCAob25seSBhbGxvdyBmb3IgbG9jYWxob3N0KVxuXHRcdFx0aWYgKHVybC5wcm90b2NvbCA9PT0gJ2h0dHA6JyAmJiB1cmwuaG9zdG5hbWUgIT09ICdsb2NhbGhvc3QnICYmIHVybC5ob3N0bmFtZSAhPT0gJzEyNy4wLjAuMScpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdIVFRQIGlzIG5vdCBzZWN1cmUuIFBsZWFzZSB1c2UgSFRUUFMuJyk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgQVBJIGJhc2UgVVJMIGZvcm1hdDogJHt0aGlzLmNvbmZpZy5hcGlCYXNlVXJsfWApO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIG1vZGVsIG5hbWVcblx0XHRpZiAoIXRoaXMuY29uZmlnLm1vZGVsIHx8IHRoaXMuY29uZmlnLm1vZGVsLnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTW9kZWwgbmFtZSBpcyBub3QgY29uZmlndXJlZC4nKTtcblx0XHR9XG5cblx0XHQvLyBWYWxpZGF0ZSBtb2RlbCBuYW1lIGxlbmd0aCBhbmQgY2hhcmFjdGVyc1xuXHRcdGlmICh0aGlzLmNvbmZpZy5tb2RlbC5sZW5ndGggPiAxMDApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTW9kZWwgbmFtZSBpcyB0b28gbG9uZyAobWF4IDEwMCBjaGFyYWN0ZXJzKS4nKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVmFsaWRhdGUgQVBJIHJlc3BvbnNlIHN0cnVjdHVyZSBhbmQgZXh0cmFjdCBjb250ZW50XG5cdCAqIEBwYXJhbSBkYXRhIEFQSSByZXNwb25zZSBkYXRhXG5cdCAqIEBwYXJhbSBjb250ZXh0IENvbnRleHQgZm9yIGVycm9yIG1lc3NhZ2VzIChlLmcuLCAnY2hhdCcsICdzdWdnZXN0aW9ucycpXG5cdCAqIEByZXR1cm5zIFZhbGlkYXRlZCBjb250ZW50IHN0cmluZ1xuXHQgKiBAdGhyb3dzIEVycm9yIGlmIHJlc3BvbnNlIHN0cnVjdHVyZSBpcyBpbnZhbGlkIG9yIGNvbnRlbnQgaXMgZW1wdHlcblx0ICovXG5cdHByaXZhdGUgdmFsaWRhdGVBUElSZXNwb25zZVN0cnVjdHVyZShkYXRhOiB7XG5cdFx0Y2hvaWNlcz86IHtcblx0XHRcdG1lc3NhZ2U/OiB7IGNvbnRlbnQ/OiBzdHJpbmc7IHJlYXNvbmluZ19jb250ZW50Pzogc3RyaW5nIH07XG5cdFx0XHRmaW5pc2hfcmVhc29uPzogc3RyaW5nO1xuXHRcdH1bXTtcblx0XHR1c2FnZT86IHsgcHJvbXB0X3Rva2Vucz86IG51bWJlcjsgY29tcGxldGlvbl90b2tlbnM/OiBudW1iZXI7IHRvdGFsX3Rva2Vucz86IG51bWJlciB9O1xuXHR9LCBfY29udGV4dDogc3RyaW5nKTogc3RyaW5nIHtcblxuXHRcdC8vIENoZWNrIGlmIGRhdGEgZXhpc3RzXG5cdFx0aWYgKCFkYXRhKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0FQSSByZXR1cm5lZCBlbXB0eSByZXNwb25zZSAobm8gZGF0YSknKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBjaG9pY2VzIGFycmF5IGV4aXN0c1xuXHRcdGlmICghZGF0YS5jaG9pY2VzIHx8ICFBcnJheS5pc0FycmF5KGRhdGEuY2hvaWNlcykpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQVBJIHJlc3BvbnNlIG1pc3NpbmcgXCJjaG9pY2VzXCIgYXJyYXkuIFBsZWFzZSBjaGVjayB5b3VyIEFQSSBjb25maWd1cmF0aW9uLicpO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIGNob2ljZXMgYXJyYXkgaXMgbm90IGVtcHR5XG5cdFx0aWYgKGRhdGEuY2hvaWNlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQVBJIHJldHVybmVkIGVtcHR5IGNob2ljZXMgYXJyYXkuIFRoZSBtb2RlbCBtYXkgbm90IGJlIGNvbXBhdGlibGUgb3IgbWF5IGhhdmUgYmVlbiByYXRlLWxpbWl0ZWQuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9nIGZpbmlzaF9yZWFzb24gZm9yIGRlYnVnZ2luZyB0cnVuY2F0aW9uIGlzc3Vlc1xuXHRcdGNvbnN0IGZpbmlzaFJlYXNvbiA9IGRhdGEuY2hvaWNlc1swXS5maW5pc2hfcmVhc29uO1xuXHRcdGlmIChmaW5pc2hSZWFzb24pIHtcblx0XHRcdC8vIENhbiBiZSBsb2dnZWQgZm9yIGRlYnVnZ2luZzogJ2xlbmd0aCcsICdzdG9wJywgJ2NvbnRlbnRfZmlsdGVyJywgZXRjLlxuXHRcdFx0aWYgKGZpbmlzaFJlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcblx0XHRcdFx0Ly8gUmVzcG9uc2Ugd2FzIHRydW5jYXRlZCBkdWUgdG8gdG9rZW4gbGltaXRcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBMb2cgdG9rZW4gdXNhZ2UgaWYgYXZhaWxhYmxlXG5cdFx0aWYgKGRhdGEudXNhZ2UpIHtcblx0XHRcdC8vIFRva2VuIHVzYWdlIGRhdGEgYXZhaWxhYmxlOiBkYXRhLnVzYWdlLnByb21wdF90b2tlbnMsIGNvbXBsZXRpb25fdG9rZW5zLCB0b3RhbF90b2tlbnNcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBmaXJzdCBjaG9pY2UgaGFzIG1lc3NhZ2Vcblx0XHRpZiAoIWRhdGEuY2hvaWNlc1swXS5tZXNzYWdlKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0FQSSByZXNwb25zZSBtaXNzaW5nIFwibWVzc2FnZVwiIG9iamVjdCBpbiBmaXJzdCBjaG9pY2UuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gRXh0cmFjdCBjb250ZW50IGZyb20gbWVzc2FnZSAoc3VwcG9ydCBib3RoIHN0YW5kYXJkIE9wZW5BSSBhbmQgWmhpcHUgQUkgZm9ybWF0cylcblx0XHRjb25zdCBtZXNzYWdlID0gZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2U7XG5cdFx0bGV0IGNvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQ7XG5cblx0XHQvLyBGYWxsYmFjayB0byByZWFzb25pbmdfY29udGVudCBmb3IgWmhpcHUgQUkgY29tcGF0aWJpbGl0eVxuXHRcdC8vIFpoaXB1IEFJIChnbG0tNCkgdXNlcyByZWFzb25pbmdfY29udGVudCB3aGVuIHJlc3BvbnNlIGlzIHRydW5jYXRlZFxuXHRcdGlmICghY29udGVudCB8fCBjb250ZW50LnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdGlmIChtZXNzYWdlLnJlYXNvbmluZ19jb250ZW50ICYmIG1lc3NhZ2UucmVhc29uaW5nX2NvbnRlbnQudHJpbSgpICE9PSAnJykge1xuXHRcdFx0XHRjb250ZW50ID0gbWVzc2FnZS5yZWFzb25pbmdfY29udGVudDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBjb250ZW50IGV4aXN0cyBhZnRlciBmYWxsYmFja1xuXHRcdGlmIChjb250ZW50ID09PSBudWxsIHx8IGNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdBUEkgcmV0dXJuZWQgbnVsbCBvciB1bmRlZmluZWQgY29udGVudC4gVGhpcyBtYXkgaW5kaWNhdGUgY29udGVudCBmaWx0ZXJpbmcgb3IgQVBJIGxpbWl0YXRpb25zLicpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgY29udGVudCAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgQVBJIHJldHVybmVkIGNvbnRlbnQgd2l0aCBpbnZhbGlkIHR5cGU6ICR7dHlwZW9mIGNvbnRlbnR9LiBFeHBlY3RlZCBzdHJpbmcuYCk7XG5cdFx0fVxuXG5cdFx0aWYgKGNvbnRlbnQudHJpbSgpID09PSAnJykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdBUEkgcmV0dXJuZWQgZW1wdHkgY29udGVudC4gVGhpcyBtYXkgaW5kaWNhdGU6XFxuJyArXG5cdFx0XHRcdCctIENvbnRlbnQgd2FzIGZpbHRlcmVkIGJ5IHNhZmV0eSBzeXN0ZW1zXFxuJyArXG5cdFx0XHRcdCctIFRoZSBtb2RlbCBuYW1lIGlzIGluY29ycmVjdFxcbicgK1xuXHRcdFx0XHQnLSBUb2tlbiBsaW1pdCB3YXMgcmVhY2hlZCAobWF4X3Rva2VucyB0b28gbG93KVxcbicgK1xuXHRcdFx0XHQnLSBBUEkgcHJvdmlkZXIgaXNzdWVzXFxuXFxuJyArXG5cdFx0XHRcdCdQbGVhc2UgY2hlY2sgeW91ciBBUEkgY29uZmlndXJhdGlvbiBhbmQgdHJ5IGFnYWluLicpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG59XG4iLCAiLyoqXG4gKiBBSSBQcm9tcHRzIHV0aWxpdHlcbiAqIEhhbmRsZXMgcHJvbXB0IHRlbXBsYXRlIHZhcmlhYmxlIHJlcGxhY2VtZW50IGZvciBub2RlIHN1Z2dlc3Rpb25zXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlQ29udGV4dCB7XG5cdG5vZGVUZXh0OiBzdHJpbmc7XG5cdGxldmVsOiBudW1iZXI7XG5cdHBhcmVudD86IHN0cmluZztcblx0c2libGluZ3M/OiBzdHJpbmdbXTtcblx0ZXhpc3RpbmdDaGlsZHJlbjogc3RyaW5nW107XG5cdGNlbnRyYWxUb3BpYz86IHN0cmluZzsgLy8gQ2VudHJhbCB0b3BpYyAocm9vdCBub2RlIHRleHQpXG59XG5cbmV4cG9ydCBjbGFzcyBBSVByb21wdHMge1xuXHQvKipcblx0ICogQnVpbGQgdXNlciBwcm9tcHQgYnkgcmVwbGFjaW5nIHZhcmlhYmxlcyBpbiB0ZW1wbGF0ZVxuXHQgKiBAcGFyYW0gdGVtcGxhdGUgUHJvbXB0IHRlbXBsYXRlIHdpdGggdmFyaWFibGVzXG5cdCAqIEBwYXJhbSBjb250ZXh0IE5vZGUgY29udGV4dCBpbmZvcm1hdGlvblxuXHQgKiBAcmV0dXJucyBGb3JtYXR0ZWQgcHJvbXB0IHdpdGggdmFyaWFibGVzIHJlcGxhY2VkXG5cdCAqL1xuXHRzdGF0aWMgYnVpbGRVc2VyUHJvbXB0KHRlbXBsYXRlOiBzdHJpbmcsIGNvbnRleHQ6IE5vZGVDb250ZXh0KTogc3RyaW5nIHtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IHRlbXBsYXRlXG5cdFx0XHQucmVwbGFjZSgne25vZGVUZXh0fScsIGNvbnRleHQubm9kZVRleHQpXG5cdFx0XHQucmVwbGFjZSgne2xldmVsfScsIFN0cmluZyhjb250ZXh0LmxldmVsKSlcblx0XHRcdC5yZXBsYWNlKCd7cGFyZW50Q29udGV4dH0nLCB0aGlzLmZvcm1hdFBhcmVudENvbnRleHQoY29udGV4dC5wYXJlbnQpKVxuXHRcdFx0LnJlcGxhY2UoJ3tzaWJsaW5nc0NvbnRleHR9JywgdGhpcy5mb3JtYXRTaWJsaW5nc0NvbnRleHQoY29udGV4dC5zaWJsaW5ncykpXG5cdFx0XHQucmVwbGFjZSgne2V4aXN0aW5nQ2hpbGRyZW59JywgdGhpcy5mb3JtYXRFeGlzdGluZ0NoaWxkcmVuKGNvbnRleHQuZXhpc3RpbmdDaGlsZHJlbikpXG5cdFx0XHQucmVwbGFjZSgne2NlbnRyYWxUb3BpY30nLCB0aGlzLmZvcm1hdENlbnRyYWxUb3BpYyhjb250ZXh0LmNlbnRyYWxUb3BpYykpO1xuXG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEZvcm1hdCBjZW50cmFsIHRvcGljIChyb290IG5vZGUpXG5cdCAqIEBwYXJhbSBjZW50cmFsVG9waWMgUm9vdCBub2RlIHRleHRcblx0ICogQHJldHVybnMgRm9ybWF0dGVkIGNlbnRyYWwgdG9waWMgc3RyaW5nXG5cdCAqL1xuXHRwcml2YXRlIHN0YXRpYyBmb3JtYXRDZW50cmFsVG9waWMoY2VudHJhbFRvcGljPzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRpZiAoIWNlbnRyYWxUb3BpYykgcmV0dXJuICcnO1xuXHRcdHJldHVybiBgQ2VudHJhbCB0b3BpYzogJHtjZW50cmFsVG9waWN9XFxuYDtcblx0fVxuXG5cdC8qKlxuXHQgKiBGb3JtYXQgcGFyZW50IG5vZGUgY29udGV4dFxuXHQgKiBAcGFyYW0gcGFyZW50IFBhcmVudCBub2RlIHRleHRcblx0ICogQHJldHVybnMgRm9ybWF0dGVkIHBhcmVudCBjb250ZXh0IHN0cmluZ1xuXHQgKi9cblx0cHJpdmF0ZSBzdGF0aWMgZm9ybWF0UGFyZW50Q29udGV4dChwYXJlbnQ/OiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGlmICghcGFyZW50KSByZXR1cm4gJyc7XG5cdFx0cmV0dXJuIGBQYXJlbnQgbm9kZTogJHtwYXJlbnR9XFxuYDtcblx0fVxuXG5cdC8qKlxuXHQgKiBGb3JtYXQgc2libGluZ3MgY29udGV4dFxuXHQgKiBAcGFyYW0gc2libGluZ3MgQXJyYXkgb2Ygc2libGluZyBub2RlIHRleHRzXG5cdCAqIEByZXR1cm5zIEZvcm1hdHRlZCBzaWJsaW5ncyBjb250ZXh0IHN0cmluZ1xuXHQgKi9cblx0cHJpdmF0ZSBzdGF0aWMgZm9ybWF0U2libGluZ3NDb250ZXh0KHNpYmxpbmdzPzogc3RyaW5nW10pOiBzdHJpbmcge1xuXHRcdGlmICghc2libGluZ3MgfHwgc2libGluZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG5cdFx0cmV0dXJuIGBTaWJsaW5nIG5vZGVzOiAke3NpYmxpbmdzLmpvaW4oJywgJyl9XFxuYDtcblx0fVxuXG5cdC8qKlxuXHQgKiBGb3JtYXQgZXhpc3RpbmcgY2hpbGRyZW5cblx0ICogQHBhcmFtIGNoaWxkcmVuIEFycmF5IG9mIGV4aXN0aW5nIGNoaWxkIG5vZGUgdGV4dHNcblx0ICogQHJldHVybnMgRm9ybWF0dGVkIGNoaWxkcmVuIHN0cmluZ1xuXHQgKi9cblx0cHJpdmF0ZSBzdGF0aWMgZm9ybWF0RXhpc3RpbmdDaGlsZHJlbihjaGlsZHJlbj86IHN0cmluZ1tdKTogc3RyaW5nIHtcblx0XHRpZiAoIWNoaWxkcmVuIHx8IGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuICdDdXJyZW50IGNoaWxkcmVuOiAobm9uZSknO1xuXHRcdH1cblx0XHRyZXR1cm4gYEN1cnJlbnQgY2hpbGRyZW46ICR7Y2hpbGRyZW4uam9pbignLCAnKX1gO1xuXHR9XG59XG4iLCAiLyoqXG4gKiBFbmNyeXB0aW9uIHV0aWxpdHkgZm9yIHNlY3VyaW5nIHNlbnNpdGl2ZSBkYXRhXG4gKiBVc2VzIFdlYiBDcnlwdG8gQVBJIHdpdGggQUVTLUdDTSAoMjU2LWJpdCBrZXlzKVxuICovXG5cbmV4cG9ydCBjbGFzcyBFbmNyeXB0aW9uVXRpbCB7XG5cdHByaXZhdGUgc3RhdGljIGtleVByb21pc2U6IFByb21pc2U8Q3J5cHRvS2V5PiB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIHN0YXRpYyBkZXZpY2VJbmZvID0gJyc7XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgdGhlIGVuY3J5cHRpb24gdXRpbGl0eSB3aXRoIGRldmljZSBpbmZvcm1hdGlvblxuXHQgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgb25jZSBkdXJpbmcgcGx1Z2luIGluaXRpYWxpemF0aW9uXG5cdCAqL1xuXHRzdGF0aWMgaW5pdGlhbGl6ZShkZXZpY2VJbmZvOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLmRldmljZUluZm8gPSBkZXZpY2VJbmZvO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIGEgY29uc2lzdGVudCBlbmNyeXB0aW9uIGtleSBiYXNlZCBvbiBkZXZpY2UgaW5mb1xuXHQgKiBUaGlzIGVuc3VyZXMgdGhlIHNhbWUga2V5IGlzIGdlbmVyYXRlZCBvbiB0aGUgc2FtZSBkZXZpY2Vcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIGFzeW5jIGdlbmVyYXRlS2V5KCk6IFByb21pc2U8Q3J5cHRvS2V5PiB7XG5cdFx0aWYgKHRoaXMua2V5UHJvbWlzZSAhPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIHRoaXMua2V5UHJvbWlzZTtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgYSBzdGFibGUga2V5IGZyb20gZGV2aWNlLXNwZWNpZmljIGluZm9cblx0XHQvLyBJbiBwcm9kdWN0aW9uLCB5b3UgbWlnaHQgd2FudCB0byB1c2UgYSB1c2VyLXByb3ZpZGVkIHBhc3N3b3JkXG5cdFx0Y29uc3Qga2V5TWF0ZXJpYWwgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcblx0XHRcdCdyYXcnLFxuXHRcdFx0dGhpcy5nZXRLZXlNYXRlcmlhbCgpIGFzIHVua25vd24gYXMgQXJyYXlCdWZmZXIsXG5cdFx0XHR7IG5hbWU6ICdQQktERjInIH0sXG5cdFx0XHRmYWxzZSxcblx0XHRcdFsnZGVyaXZlS2V5J11cblx0XHQpO1xuXG5cdFx0Ly8gRGVyaXZlIGFuIEFFUy1HQ00ga2V5XG5cdFx0dGhpcy5rZXlQcm9taXNlID0gY3J5cHRvLnN1YnRsZS5kZXJpdmVLZXkoXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWU6ICdQQktERjInLFxuXHRcdFx0XHRzYWx0OiB0aGlzLmdldFNhbHQoKSBhcyBCdWZmZXJTb3VyY2UsXG5cdFx0XHRcdGl0ZXJhdGlvbnM6IDEwMDAwMCxcblx0XHRcdFx0aGFzaDogJ1NIQS0yNTYnXG5cdFx0XHR9LFxuXHRcdFx0a2V5TWF0ZXJpYWwsXG5cdFx0XHR7IG5hbWU6ICdBRVMtR0NNJywgbGVuZ3RoOiAyNTYgfSxcblx0XHRcdGZhbHNlLFxuXHRcdFx0WydlbmNyeXB0JywgJ2RlY3J5cHQnXVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcy5rZXlQcm9taXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBrZXkgbWF0ZXJpYWwgZnJvbSBkZXZpY2UvcGx1Z2luIGlkZW50aWZpZXJcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIGdldEtleU1hdGVyaWFsKCk6IFVpbnQ4QXJyYXkge1xuXHRcdC8vIFVzZSBwcm92aWRlZCBkZXZpY2UgaW5mbyBvciBmYWxsYmFjayB0byBicm93c2VyIEFQSVxuXHRcdGNvbnN0IGZhbGxiYWNrSW5mbyA9IGBvYnNpZGlhbi1taW5kbWFwLXBsdWdpbi0ke25hdmlnYXRvci51c2VyQWdlbnR9LSR7bmF2aWdhdG9yLmxhbmd1YWdlfWA7XG5cdFx0Y29uc3QgaWRlbnRpZmllciA9IHRoaXMuZGV2aWNlSW5mbyB8fCBmYWxsYmFja0luZm87XG5cdFx0cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpZGVudGlmaWVyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgc2FsdCBmb3Iga2V5IGRlcml2YXRpb25cblx0ICogRml4ZWQgc2FsdCBlbnN1cmVzIGNvbnNpc3RlbnQga2V5IGdlbmVyYXRpb24gb24gc2FtZSBkZXZpY2Vcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIGdldFNhbHQoKTogVWludDhBcnJheSB7XG5cdFx0Y29uc3Qgc2FsdFN0cmluZyA9ICdtaW5kbWFwLXBsdWdpbi1zYWx0LTIwMjQnO1xuXHRcdHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc2FsdFN0cmluZyk7XG5cdH1cblxuXHQvKipcblx0ICogRW5jcnlwdCB0ZXh0IHVzaW5nIEFFUy1HQ01cblx0ICogQHBhcmFtIHRleHQgUGxhaW4gdGV4dCB0byBlbmNyeXB0XG5cdCAqIEByZXR1cm5zIEJhc2U2NCBlbmNvZGVkIGVuY3J5cHRlZCBkYXRhIChJViArIGNpcGhlcnRleHQpXG5cdCAqL1xuXHRzdGF0aWMgYXN5bmMgZW5jcnlwdCh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGlmICghdGV4dCkgcmV0dXJuICcnO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGtleSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVLZXkoKTtcblxuXHRcdFx0Ly8gR2VuZXJhdGUgYSByYW5kb20gSVYgKEluaXRpYWxpemF0aW9uIFZlY3Rvcilcblx0XHRcdGNvbnN0IGl2ID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxMikpO1xuXG5cdFx0XHQvLyBFbmNyeXB0IHRoZSBkYXRhXG5cdFx0XHRjb25zdCBlbmNvZGVkVGV4dCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0ZXh0KTtcblx0XHRcdGNvbnN0IGVuY3J5cHRlZERhdGEgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmVuY3J5cHQoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiAnQUVTLUdDTScsXG5cdFx0XHRcdFx0aXY6IGl2XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGtleSxcblx0XHRcdFx0ZW5jb2RlZFRleHRcblx0XHRcdCk7XG5cblx0XHRcdC8vIENvbWJpbmUgSVYgYW5kIGVuY3J5cHRlZCBkYXRhXG5cdFx0XHRjb25zdCBjb21iaW5lZCA9IG5ldyBVaW50OEFycmF5KGl2Lmxlbmd0aCArIGVuY3J5cHRlZERhdGEuYnl0ZUxlbmd0aCk7XG5cdFx0XHRjb21iaW5lZC5zZXQoaXYpO1xuXHRcdFx0Y29tYmluZWQuc2V0KG5ldyBVaW50OEFycmF5KGVuY3J5cHRlZERhdGEpLCBpdi5sZW5ndGgpO1xuXG5cdFx0XHQvLyBSZXR1cm4gYXMgYmFzZTY0XG5cdFx0XHRyZXR1cm4gdGhpcy5hcnJheUJ1ZmZlclRvQmFzZTY0KGNvbWJpbmVkKTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGVuY3J5cHQgZGF0YScpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWNyeXB0IGVuY3J5cHRlZCB0ZXh0XG5cdCAqIEBwYXJhbSBlbmNyeXB0ZWREYXRhIEJhc2U2NCBlbmNvZGVkIGVuY3J5cHRlZCBkYXRhIChJViArIGNpcGhlcnRleHQpXG5cdCAqIEByZXR1cm5zIERlY3J5cHRlZCBwbGFpbiB0ZXh0XG5cdCAqL1xuXHRzdGF0aWMgYXN5bmMgZGVjcnlwdChlbmNyeXB0ZWREYXRhOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGlmICghZW5jcnlwdGVkRGF0YSkgcmV0dXJuICcnO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGtleSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVLZXkoKTtcblxuXHRcdFx0Ly8gRGVjb2RlIGZyb20gYmFzZTY0XG5cdFx0XHRjb25zdCBjb21iaW5lZCA9IHRoaXMuYmFzZTY0VG9BcnJheUJ1ZmZlcihlbmNyeXB0ZWREYXRhKTtcblxuXHRcdFx0Ly8gRXh0cmFjdCBJViAoZmlyc3QgMTIgYnl0ZXMpXG5cdFx0XHRjb25zdCBpdiA9IGNvbWJpbmVkLnNsaWNlKDAsIDEyKTtcblxuXHRcdFx0Ly8gRXh0cmFjdCBlbmNyeXB0ZWQgZGF0YSAocmVtYWluaW5nIGJ5dGVzKVxuXHRcdFx0Y29uc3QgZGF0YSA9IGNvbWJpbmVkLnNsaWNlKDEyKTtcblxuXHRcdFx0Ly8gRGVjcnlwdCB0aGUgZGF0YVxuXHRcdFx0Y29uc3QgZGVjcnlwdGVkRGF0YSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGVjcnlwdChcblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hbWU6ICdBRVMtR0NNJyxcblx0XHRcdFx0XHRpdjogaXZcblx0XHRcdFx0fSxcblx0XHRcdFx0a2V5LFxuXHRcdFx0XHRkYXRhXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBEZWNvZGUgdG8gc3RyaW5nXG5cdFx0XHRyZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGRlY3J5cHRlZERhdGEpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHQvLyBEZWNyeXB0aW9uIHNob3VsZCBub3QgZmFpbCBzaWxlbnRseSAtIHRocm93IGVycm9yIHRvIGluZGljYXRlIHByb2JsZW1cblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkZWNyeXB0IEFQSSBrZXk6JywgZXJyb3IpO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZGVjcnlwdCBBUEkga2V5LiBQbGVhc2UgcmUtZW50ZXIgeW91ciBBUEkga2V5IGluIHNldHRpbmdzLicpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IEFycmF5QnVmZmVyIHRvIEJhc2U2NFxuXHQgKi9cblx0cHJpdmF0ZSBzdGF0aWMgYXJyYXlCdWZmZXJUb0Jhc2U2NChidWZmZXI6IEFycmF5QnVmZmVyIHwgVWludDhBcnJheSk6IHN0cmluZyB7XG5cdFx0Y29uc3QgYnl0ZXMgPSBidWZmZXIgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gYnVmZmVyIDogbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0XHRsZXQgYmluYXJ5ID0gJyc7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5ieXRlTGVuZ3RoOyBpKyspIHtcblx0XHRcdGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJ0b2EoYmluYXJ5KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IEJhc2U2NCB0byBBcnJheUJ1ZmZlclxuXHQgKi9cblx0cHJpdmF0ZSBzdGF0aWMgYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXNlNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuXHRcdGNvbnN0IGJpbmFyeSA9IGF0b2IoYmFzZTY0KTtcblx0XHRjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeS5sZW5ndGgpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYmluYXJ5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRieXRlc1tpXSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkpO1xuXHRcdH1cblx0XHRyZXR1cm4gYnl0ZXM7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgYSBzdHJpbmcgaXMgZW5jcnlwdGVkIChoZXVyaXN0aWMgY2hlY2spXG5cdCAqIEVuY3J5cHRlZCBkYXRhIHdpbGwgYmUgbG9uZ2VyIGFuZCBjb250YWluIGJhc2U2NCBjaGFyYWN0ZXJzXG5cdCAqL1xuXHRzdGF0aWMgaXNFbmNyeXB0ZWQodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0aWYgKCF0ZXh0KSByZXR1cm4gZmFsc2U7XG5cdFx0Ly8gQ2hlY2sgaWYgaXQgbG9va3MgbGlrZSBiYXNlNjQgKGFscGhhbnVtZXJpYyArIC8gKyA9KVxuXHRcdGNvbnN0IGJhc2U2NFBhdHRlcm4gPSAvXltBLVphLXowLTkrL10rPSokLztcblx0XHQvLyBFbmNyeXB0ZWQgZGF0YSBzaG91bGQgYmUgbG9uZ2VyIHRoYW4gdHlwaWNhbCBBUEkga2V5XG5cdFx0cmV0dXJuIHRleHQubGVuZ3RoID4gNTAgJiYgYmFzZTY0UGF0dGVybi50ZXN0KHRleHQpO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUF5TDs7O0FDQXpMLElBQUksT0FB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Q1AsZ0JBQWdCO0FBQUEsRUFDaEIsVUFBVTtBQUFBLEVBQ1YsU0FBUztBQUFBLEVBQ1QsTUFBTTtBQUFBLEVBQ04sVUFBVTtBQUFBLEVBQ1YsVUFBVTtBQUFBLEVBQ1YsZUFBZTtBQUFBLEVBQ2YsVUFBVTtBQUFBLEVBQ1YsV0FBVztBQUFBLEVBQ1gsVUFBVTtBQUFBLEVBQ1YsV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsZ0JBQWdCO0FBQUEsRUFDaEIsWUFBWTtBQUFBLEVBQ1osWUFBWTtBQUFBLEVBQ1osU0FBUztBQUFBLEVBQ1QsWUFBWTtBQUFBLEVBQ1osY0FBYztBQUFBLEVBQ2QsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsWUFBWTtBQUFBLEVBQ1osVUFBVTtBQUFBLEVBQ1YsYUFBYTtBQUFBLEVBQ2IsU0FBUztBQUFBLEVBQ1QsU0FBUztBQUFBLEVBQ1QsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsYUFBYTtBQUFBLEVBQ2IsU0FBUztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsWUFBWTtBQUFBLEVBQ1osTUFBTTtBQUFBLEVBQ04sV0FBVztBQUFBLEVBQ1gsTUFBTTtBQUFBLEVBQ04sT0FBTztBQUFBLEVBQ1AsYUFBYTtBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sVUFBVTtBQUFBLEVBQ1YsU0FBUztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsUUFBUTtBQUFBLEVBQ1IsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsVUFBVTtBQUFBLEVBQ1YsZUFBZTtBQUFBLEVBQ2YsV0FBVztBQUFBLEVBQ1gsY0FBYztBQUFBLEVBQ2QsV0FBVztBQUFBLEVBQ1gsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsc0JBQXNCO0FBQUEsRUFDdEIsV0FBVztBQUFBLEVBQ1gsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsZUFBZTtBQUFBLEVBQ2YsY0FBYztBQUFBLEVBQ2QsZ0JBQWdCO0FBQUEsRUFDaEIsZ0JBQWdCO0FBQUEsRUFDaEIsZ0JBQWdCO0FBQUEsRUFDaEIsYUFBYTtBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sV0FBVztBQUFBLEVBQ1gsT0FBTztBQUFBLEVBQ1AsU0FBUztBQUFBLEVBQ1QsUUFBUTtBQUFBLEVBQ1Isa0JBQWtCO0FBQUEsRUFDbEIsWUFBWTtBQUFBLEVBQ1osY0FBYztBQUFBLEVBQ2QsY0FBYztBQUFBLEVBQ2QsZ0JBQWdCO0FBQUEsRUFDaEIsaUJBQWlCO0FBQUEsRUFDakIsbUJBQW1CO0FBQUEsRUFDbkIsaUJBQWlCO0FBQUEsRUFDakIsaUJBQWlCO0FBQUEsRUFDakIsY0FBYztBQUFBLEVBQ2QsV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsVUFBVTtBQUFBLEVBQ1YsYUFBYTtBQUFBLEVBQ2IsTUFBTTtBQUFBLEVBQ04sU0FBUztBQUFBLEVBQ1QsT0FBTztBQUFBLEVBQ1AsV0FBVztBQUFBLEVBQ1gsUUFBUTtBQUFBLEVBQ1IsV0FBVztBQUFBLEVBQ1gsUUFBUTtBQUFBLEVBQ1IsZUFBZTtBQUFBLEVBQ2YsV0FBVztBQUFBLEVBQ1gsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2YsWUFBWTtBQUFBLEVBQ1osV0FBVztBQUFBLEVBQ1gsTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sTUFBTTtBQUFBLEVBQ04sWUFBWTtBQUFBLEVBQ1osUUFBUTtBQUFBLEVBQ1IsZUFBZTtBQUFBLEVBQ2YsS0FBSztBQUFBLEVBQ0wsV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsYUFBYTtBQUFBLEVBQ2IsUUFBUTtBQUFBLEVBQ1IsWUFBWTtBQUFBLEVBQ1osVUFBVTtBQUFBLEVBQ1YsVUFBVTtBQUFBLEVBQ1YsUUFBUTtBQUFBLEVBQ1IsUUFBUTtBQUFBLEVBQ1IsU0FBUztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsV0FBVztBQUFBLEVBQ1gsTUFBTTtBQUFBLEVBQ04sYUFBYTtBQUFBLEVBQ2IsV0FBVztBQUFBLEVBQ1gsS0FBSztBQUFBLEVBQ0wsTUFBTTtBQUFBLEVBQ04sU0FBUztBQUFBLEVBQ1QsUUFBUTtBQUFBLEVBQ1IsV0FBVztBQUFBLEVBQ1gsUUFBUTtBQUFBLEVBQ1IsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsWUFBWTtBQUFBLEVBQ1osUUFBUTtBQUFBLEVBQ1IsYUFBYTtBQUNmO0FBRUEsZUFBTyxPQUFPLE9BQU87QUFBQSxFQUNuQixLQUFLLFVBQVU7QUFDYixXQUFPLE9BQU8sT0FBTyxJQUFJLEtBQUssZUFBYSxNQUFNLFFBQVE7QUFBQSxFQUMzRDtBQUFBLEVBQ0EsY0FBYztBQUNaLFdBQU8sS0FBSyxJQUFJLEVBQUUsWUFBWTtBQUFBLEVBQ2hDO0FBQUEsRUFDQSxLQUFLO0FBQUE7QUFBQSxFQUNMLFdBQVc7QUFBQSxFQUNYLFlBQVk7QUFBQSxFQUNaLFdBQVc7QUFBQSxFQUNYLFdBQVc7QUFBQSxFQUNYLFVBQVU7QUFDWixDQUFDO0FBRUQsU0FBUyxrQkFBa0I7QUFDekIsU0FBTyxLQUFLLElBQUksRUFBRSxVQUFVO0FBQzlCO0FBRUEsU0FBUyxtQkFBbUI7QUFDMUIsU0FBTyxLQUFLLElBQUksRUFBRSxXQUFXO0FBQy9CO0FBRUEsU0FBUyxrQkFBa0I7QUFDekIsU0FBTyxXQUFXLElBQUksRUFBRSxVQUFVO0FBQ3BDO0FBRUEsU0FBUyxrQkFBa0I7QUFDekIsU0FBTyxLQUFLLElBQUksRUFBRSxVQUFVO0FBQzlCO0FBRWUsU0FBUixNQUF1QixRQUFRO0FBQ3BDLE1BQUksR0FBRztBQUNQLFlBQVUsU0FBUyxJQUFJLEtBQUssRUFBRSxZQUFZO0FBQzFDLFVBQVEsSUFBSSxNQUFNLEtBQUssTUFBTSxNQUFNLElBQUksRUFBRSxDQUFDLEVBQUUsUUFBUSxJQUFJLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLE1BQU0sSUFBSSxLQUFLLENBQUMsSUFDdEYsTUFBTSxJQUFJLElBQUksSUFBSyxLQUFLLElBQUksS0FBUSxLQUFLLElBQUksS0FBUSxLQUFLLElBQUksS0FBUSxJQUFJLE1BQVMsSUFBSSxPQUFRLElBQU0sSUFBSSxJQUFNLENBQUMsSUFDaEgsTUFBTSxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQU0sS0FBSyxLQUFLLEtBQU0sS0FBSyxJQUFJLE1BQU8sSUFBSSxPQUFRLEdBQUksSUFDL0UsTUFBTSxJQUFJLEtBQU0sS0FBSyxLQUFLLEtBQVEsS0FBSyxJQUFJLEtBQVEsS0FBSyxJQUFJLEtBQVEsS0FBSyxJQUFJLEtBQVEsS0FBSyxJQUFJLEtBQVEsSUFBSSxPQUFVLElBQUksT0FBUSxJQUFNLElBQUksTUFBUSxHQUFJLElBQ3RKLFNBQ0MsSUFBSSxhQUFhLEtBQUssTUFBTSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEtBQzVELElBQUksYUFBYSxLQUFLLE1BQU0sS0FBSyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksTUFBTSxLQUFLLEVBQUUsQ0FBQyxJQUFJLE1BQU0sS0FBSyxFQUFFLENBQUMsSUFBSSxNQUFNLEtBQUssQ0FBQyxLQUNoRyxJQUFJLGNBQWMsS0FBSyxNQUFNLEtBQUssS0FBSyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxLQUM3RCxJQUFJLGNBQWMsS0FBSyxNQUFNLEtBQUssS0FBSyxFQUFFLENBQUMsSUFBSSxNQUFNLEtBQUssRUFBRSxDQUFDLElBQUksTUFBTSxLQUFLLEVBQUUsQ0FBQyxJQUFJLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUNqRyxJQUFJLGFBQWEsS0FBSyxNQUFNLEtBQUssS0FBSyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUNyRSxJQUFJLGNBQWMsS0FBSyxNQUFNLEtBQUssS0FBSyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxLQUFLLEVBQUUs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bUIsTUFBTSwrQkFBK0I7QUFBQSxNQUNoRSxFQUFFLE1BQU0scUJBQXFCLE1BQU0sNEJBQTRCO0FBQUEsTUFDL0QsRUFBRSxNQUFNLHNCQUFzQixNQUFNLDRCQUE0QjtBQUFBLE1BQ2hFLEVBQUUsTUFBTSxrQkFBa0IsTUFBTSxpQ0FBaUM7QUFBQSxJQUNsRTtBQUVBLGVBQVcsS0FBSyxXQUFXO0FBQzFCLFlBQU0sS0FBSyxHQUFHLFNBQVMsSUFBSTtBQUMzQixTQUFHLFNBQVMsUUFBUSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUM7QUFDcEMsU0FBRyxXQUFXLE1BQU0sRUFBRSxJQUFJLEVBQUU7QUFBQSxJQUM3QjtBQUdBLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLGVBQWUsRUFDdkIsUUFBUSwwQ0FBMEMsRUFDbEQsVUFBVSxZQUFVLE9BQ25CLGNBQWMsbUJBQW1CLEVBQ2pDLFdBQVcsRUFDWCxRQUFRLFlBQVk7QUFDcEIsV0FBSyxPQUFPLFNBQVMsa0JBQWtCLGlCQUFpQjtBQUN4RCxXQUFLLE9BQU8sU0FBUyxtQkFBbUIsaUJBQWlCO0FBQ3pELFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFHL0IsV0FBSyxRQUFRO0FBQ2IsVUFBSSx3QkFBTyxLQUFLLE9BQU8sU0FBUyxRQUFRLFlBQVk7QUFBQSxJQUNyRCxDQUFDLENBQUM7QUFBQSxFQUNMO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJ0eXBlIiwgImRvY3VtZW50IiwgImRhdHVtIiwgInNlbGVjdGlvbiIsICJjcmVhdGUiLCAiY3JlYXRlIiwgInBhcnNlVHlwZW5hbWVzIiwgInR5cGUiLCAid2luZG93IiwgImRpc3BhdGNoX2RlZmF1bHQiLCAiZGlzcGF0Y2hfZGVmYXVsdCIsICJzZWxlY3RfZGVmYXVsdCIsICJzZWxlY3RBbGxfZGVmYXVsdCIsICJyb290IiwgInNlbGVjdGlvbiIsICJzZWxlY3RfZGVmYXVsdCIsICJtaW4iLCAibWF4IiwgImNvbnN0YW50X2RlZmF1bHQiLCAiY29uc3RhbnRfZGVmYXVsdCIsICJjb2xvciIsICJyZ2IiLCAic3RhcnQiLCAiaSIsICJub3ciLCAiaWQiLCAiZ2V0IiwgInNldCIsICJzdGFydCIsICJlbXB0eSIsICJpbnRlcnJ1cHRfZGVmYXVsdCIsICJpZCIsICJzZXQiLCAiZ2V0IiwgInRyYW5zaXRpb24iLCAiYXR0clJlbW92ZSIsICJhdHRyUmVtb3ZlTlMiLCAiYXR0ckNvbnN0YW50IiwgImF0dHJDb25zdGFudE5TIiwgImF0dHJGdW5jdGlvbiIsICJhdHRyRnVuY3Rpb25OUyIsICJhdHRyX2RlZmF1bHQiLCAiaWQiLCAiZ2V0IiwgImlkIiwgInNldCIsICJnZXQiLCAiaWQiLCAic2V0IiwgImdldCIsICJpZCIsICJzZXQiLCAiZmlsdGVyX2RlZmF1bHQiLCAibWVyZ2VfZGVmYXVsdCIsICJ0cmFuc2l0aW9uIiwgImlkIiwgInNldCIsICJvbl9kZWZhdWx0IiwgImdldCIsICJpZCIsICJyZW1vdmVfZGVmYXVsdCIsICJzZWxlY3RfZGVmYXVsdCIsICJpZCIsICJnZXQiLCAic2VsZWN0QWxsX2RlZmF1bHQiLCAiaWQiLCAiY2hpbGRyZW4iLCAiaW5oZXJpdCIsICJnZXQiLCAiU2VsZWN0aW9uIiwgInNlbGVjdGlvbl9kZWZhdWx0IiwgInN0eWxlUmVtb3ZlIiwgInN0eWxlQ29uc3RhbnQiLCAic3R5bGVGdW5jdGlvbiIsICJpZCIsICJyZW1vdmUiLCAic2V0IiwgInN0eWxlX2RlZmF1bHQiLCAidGV4dENvbnN0YW50IiwgInRleHRGdW5jdGlvbiIsICJ0ZXh0X2RlZmF1bHQiLCAiaW5oZXJpdCIsICJnZXQiLCAiaWQiLCAic2V0IiwgImlkIiwgInNlbGVjdF9kZWZhdWx0IiwgInNlbGVjdEFsbF9kZWZhdWx0IiwgImZpbHRlcl9kZWZhdWx0IiwgIm1lcmdlX2RlZmF1bHQiLCAic2VsZWN0aW9uX2RlZmF1bHQiLCAib25fZGVmYXVsdCIsICJhdHRyX2RlZmF1bHQiLCAic3R5bGVfZGVmYXVsdCIsICJ0ZXh0X2RlZmF1bHQiLCAicmVtb3ZlX2RlZmF1bHQiLCAiaWQiLCAidHJhbnNpdGlvbl9kZWZhdWx0IiwgImludGVycnVwdF9kZWZhdWx0IiwgInRyYW5zaXRpb25fZGVmYXVsdCIsICJjaGlsZHJlbiIsICJlYWNoX2RlZmF1bHQiLCAiY2hpbGRyZW4iLCAiY2hpbGRyZW4iLCAiY2hpbGRyZW4iLCAic29ydF9kZWZhdWx0IiwgInN0YXJ0IiwgInJvb3QiLCAiaXRlcmF0b3JfZGVmYXVsdCIsICJjaGlsZHJlbiIsICJjaGlsZHJlbiIsICJyb290IiwgIk5vZGUiLCAiZWFjaF9kZWZhdWx0IiwgInNvcnRfZGVmYXVsdCIsICJpdGVyYXRvcl9kZWZhdWx0IiwgImNoaWxkcmVuIiwgIk5vZGUiLCAicm9vdCIsICJjb25zdGFudF9kZWZhdWx0IiwgInR5cGUiLCAidHJhbnNmb3JtIiwgImRpc3BhdGNoIiwgImlkZW50aXR5IiwgIm5vcHJvcGFnYXRpb24iLCAibm9ldmVudF9kZWZhdWx0IiwgImlkZW50aXR5IiwgInRyYW5zZm9ybSIsICJ6b29tX2RlZmF1bHQiLCAiZmlsdGVyIiwgInNlbGVjdGlvbiIsICJleHRlbnQiLCAidHJhbnNpdGlvbiIsICJ0eXBlIiwgInNlbGVjdF9kZWZhdWx0IiwgIm5vZXZlbnRfZGVmYXVsdCIsICJub3Byb3BhZ2F0aW9uIiwgImV2ZW50IiwgImNvbnN0YW50X2RlZmF1bHQiLCAiY29udGVudCIsICJsaW5lcyIsICJyb290IiwgImNoaWxkcmVuIiwgInRyYW5zZm9ybSIsICJzZWxlY3RfZGVmYXVsdCIsICJzZWxlY3Rpb24iLCAic2VsZWN0X2RlZmF1bHQiLCAic3ZnTm9kZSIsICJzZWxlY3RBbGxfZGVmYXVsdCIsICJpbXBvcnRfb2JzaWRpYW4iLCAic2VsZWN0X2RlZmF1bHQiLCAic2VsZWN0aW9uIiwgImltcG9ydF9vYnNpZGlhbiIsICJzZXRDc3NQcm9wcyIsICJzZWxlY3RfZGVmYXVsdCIsICJ0eXBlIiwgImlkZW50aXR5IiwgInJvb3QiLCAic2VsZWN0X2RlZmF1bHQiLCAic3ZnTm9kZSIsICJ6b29tX2RlZmF1bHQiLCAic2VsZWN0QWxsX2RlZmF1bHQiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY2hpbGRyZW4iXQp9Cg==
